!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class e extends Error{constructor(t){super("Referenced value read before it was resolved."),this.ref=t,Object.setPrototypeOf(this,e.prototype)}}class t extends Error{constructor(e){super("Attempting to resolve an already-resolved reference."),this.ref=e,Object.setPrototypeOf(this,t.prototype)}}class n{constructor(){this._resolved=!1}get resolved(){return this.isResolved()}isResolved(){return this._resolved}get $(){if(!this.isResolved())throw new e(this);return this._$}resolve(e){if(this.isResolved())throw new t(this);this._$=e,this._resolved=!0}}class i{constructor(){this._renderer=new n}plug(e){this._renderer.resolve(e)}renderer(){return this._renderer.$}}function r(e){return!!e.plugins&&Array.isArray(e.plugins)}function o(e){return!!e.postRender&&"function"==typeof e.postRender}i.PriorityMax=1,i.PriorityFallback=0;class s{constructor(...e){this._appendPlugins=[],this._createPlugins=[],this._propPlugins=[],this._contentPlugins=[],this._postCreatePlugins=[],this._postRenderPlugins=[],this._factories=e}_buildPlugins(){return this._plugins||(this._plugins=this._factories.map((e=>e())).sort(((e,t)=>t.priority()-e.priority())),this._plugins.forEach((e=>{e.plug(this),function(e){return!!e.append&&"function"==typeof e.append}(e)&&this._appendPlugins.push(e),function(e){return!!e.setContent&&"function"==typeof e.setContent}(e)&&this._contentPlugins.push(e),function(e){return!!e.setProp&&"function"==typeof e.setProp}(e)&&this._propPlugins.push(e),function(e){return!!e.create&&"function"==typeof e.create}(e)&&this._createPlugins.push(e),function(e){return!!e.postCreate&&"function"==typeof e.postCreate}(e)&&this._postCreatePlugins.push(e),o(e)&&this._postRenderPlugins.push(e),function(e){return!!e.leaf&&"function"==typeof e.leaf}(e)&&!this._leafPlugin&&(this._leafPlugin=e),function(e){return!!e.fragment&&"function"==typeof e.fragment}(e)&&!this._fragmentPlugin&&(this._fragmentPlugin=e)}))),this}get plugins(){return this._buildPlugins()&&this._plugins}get appendPlugins(){return this._buildPlugins()&&this._appendPlugins}get contentPlugins(){return this._buildPlugins()&&this._contentPlugins}get propPlugins(){return this._buildPlugins()&&this._propPlugins}get createPlugins(){return this._buildPlugins()&&this._createPlugins}get postCreatePlugins(){return this._buildPlugins()&&this._postCreatePlugins}get postRenderPlugins(){return this._buildPlugins()&&this._postRenderPlugins}get leafPlugin(){return this._buildPlugins()&&this._leafPlugin}get fragmentPlugin(){return this._buildPlugins()&&this._fragmentPlugin}plug(...e){return this.clone(...this._factories,...e)}append(e,t){this.appendPlugins.some((n=>n.append(e,t)))||this.fallbackAppend(e,t)}setProp(e,t,n){this.propPlugins.some((i=>i.setProp(e,t,n)))||this.fallbackSetProp(e,t,n)}setContent(e,t){this.contentPlugins.some((n=>n.setContent(e,t)))||this.fallbackSetContent(e,t)}get fragment(){const e=this.fragmentPlugin;return e?e.fragment():this.fallbackFragment()}leaf(){const e=this.leafPlugin;return e?e.leaf():this.fallbackLeaf()}create(e,t,...n){let i;for(const r of this.createPlugins)if(i=r.create(e,t,...n),i)break;return i||(i=this.fallbackCreate(e,t),t&&Object.entries(t).forEach((([e,t])=>this.setProp(i,e,t))),n.forEach((e=>this.append(e,i)))),this.postCreatePlugins.forEach((e=>e.postCreate(i))),i}render(e){if("function"==typeof e)return this.render(e.apply(void 0,[this]));const t=this,n=this.postRender(e);return{after(i){t.renderAfter(e,i),n()},before(i){t.renderBefore(e,i),n()},on(i){t.renderOn(e,i),n()},target:e}}postRender(e){return()=>this.postRenderPlugins.forEach((t=>t.postRender(e)))}}class a extends i{setProp(e,t,n){return"_content"===t&&(this.renderer().setContent(e,n),!0)}priority(){return i.PriorityFallback}}class c extends i{setProp(e,t,i){return"_ref"===t&&i instanceof n&&(i.resolve(e),!0)}priority(){return i.PriorityFallback}}class l extends i{}class u extends i{constructor(...e){super(),this.processors=e}plug(e){super.plug(e),this.processors.forEach((e=>e.plug(this.renderer()))),r(e)&&e.plugins.forEach((e=>{e instanceof l&&this.processors.push(e)})),this.processors=this.processors.sort(((e,t)=>e.priority()-t.priority()))}create(e,t,...n){const i={tag:e,props:t||{},children:n};if(this.match(i)){let e={};const t=[];this.processors.forEach((n=>n.process((t=>e=Object.assign(Object.assign({},e),t)),(e=>t.push(e)),i)));const n=this.createComponent(i,e);return t.reverse().forEach((e=>e(n))),n}}}class d extends u{createComponent(e,t){return e.tag.apply(t,[e.props,this.renderer(),e.children])}match(e){return"function"==typeof e.tag}priority(){return u.PriorityFallback}}class h extends l{process(e,t){const n=this.renderer(),i=[];e({onBind:e=>i.push({bind:e}),onClear:e=>i.push({clear:e})}),t((e=>{i.forEach((t=>n.hook(e,t)))}))}priority(){return l.PriorityFallback}}function p(e,t=!1){const n=e;return e.nodeType===e.DOCUMENT_FRAGMENT_NODE?function(e,t){var n;let i=function(e){return e.lifecycleMarker}(e);if(i)return p(i,t);if(t)return i=null===(n=e.ownerDocument)||void 0===n?void 0:n.createTextNode(""),f(e,i),p(i,!0)}(e,t):n.lifecycle?n.lifecycle:t?(n.lifecycle={bound:!1},n.lifecycle):void 0}function f(e,t){e.lifecycleMarker=t,e.contains(t)||e.appendChild(t)}function m(e){const t=p(e);if(t){if(t.cleared)return;if(t.cleared=!0,t.clears){for(let e=0,n=t.clears[e];e<t.clears.length;n=t.clears[++e])n();t.clears=void 0}}const n=e.childNodes;for(let i=0,r=n.item(i);i<n.length;r=n.item(++i))m(r)}function g(e){const t=p(e);if(t){if(t.bound)return;if(t.bound=!0,t.binds)for(let e=0,n=t.binds[e];e<t.binds.length;n=t.binds[++e])n();t.binds=void 0}const n=e.childNodes;for(let i=0,r=n.item(i);i<n.length;r=n.item(++i))g(r)}function y(e){if("INPUT"===e.nodeName)return"number"===e.type?parseFloat(e.value):"checkbox"===e.type||"radio"===e.type?e.checked:e.value;if("SELECT"===e.nodeName){const t=e,n=Array.from(t.selectedOptions).map((e=>function(e){return e._value}(e)||e.value||e.text));return t.multiple?n:n[0]}return e.value}class v extends l{process(e,t){let i;e({setLifeCycleMarker:e=>i=e}),t((e=>{e.nodeType===e.DOCUMENT_FRAGMENT_NODE&&i&&f(e,i instanceof n?i.$:i)}))}priority(){return l.PriorityFallback+(l.PriorityMax-l.PriorityFallback)/100}}class _ extends Error{constructor(e){super(`Given tag is not recognized: ${e}`)}}class b extends s{constructor(e=window,...t){super(..."function"==typeof e?[e,...t]:t),this.dom=e&&"function"!=typeof e?e:window}get document(){return this.dom.document}fallbackAppend(e,t){e instanceof this.dom.Node?t.appendChild(e):Array.isArray(e)?e.forEach((e=>this.append(e,t))):t.appendChild(this.document.createTextNode(`${e}`))}fallbackSetProp(e,t,n){e instanceof this.dom.HTMLElement&&("boolean"==typeof n?n?e.setAttribute(t,""):e.removeAttribute(t):e.setAttribute(t,`${n}`))}fallbackSetContent(e,t){e instanceof this.dom.HTMLElement?e.innerHTML=`${t}`:e.textContent=`${t}`}fallbackFragment(){return this.document.createDocumentFragment()}fallbackLeaf(){return this.document.createTextNode("")}fallbackCreate(e,t){if(!(e instanceof this.dom.Node||"string"==typeof e))throw new _(e);return e instanceof this.dom.Node?e:t&&t.xmlns?this.document.createElementNS(`${t.xmlns}`,e):this.document.createElement(e)}renderOn(e,t){t.appendChild(e)}renderAfter(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}renderBefore(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)}postRender(e){const t=this.plugins.filter(o);if(e instanceof this.dom.DocumentFragment){const t=Array.from(e.childNodes);return()=>t.forEach((e=>{this.postRender(e)()}))}return()=>t.forEach((t=>t.postRender(e)))}remove(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)}clone(...e){return new b(this.dom,...e)}}class I extends b{hook(e,t){!function(e,t){const n=p(t,!0);e.bind&&(n.binds||(n.binds=[])).push(e.bind),e.clear&&(n.clears||(n.clears=[])).push(e.clear)}(t,e)}postRender(e){return e instanceof this.dom.DocumentFragment?super.postRender(e):()=>{this.document.contains(e)&&g(e),super.postRender(e)()}}plug(...e){return super.plug(...e)}clone(...e){return new I(this.dom,...e)}remove(e,t){super.remove(e),t||m(e)}}function E(e){return!!e.addClass&&"function"==typeof e.addClass}function w(e){return!!e.addClassToggle&&"function"==typeof e.addClassToggle}class C extends i{plug(e){super.plug(e),r(e)&&(this.addClassPlugins=e.plugins.filter(E),this.toggleClassPlugins=e.plugins.filter(w))}priority(){return i.PriorityFallback}setProp(e,t,n){if("class"===t){if(Array.isArray(n))return n.forEach((t=>{let n="";const i=t=>{e.classList.contains(n)&&e.classList.remove(n),e.classList.add(n=t)};this.addClassPlugins&&this.addClassPlugins.some((n=>E(n)&&n.addClass(e,t,i)))||("string"==typeof t?e.classList.add(t):this.setToggleMap(t,e))})),!0;if((null==n?void 0:n.constructor)===Object)return this.setToggleMap(n,e),!0}return!1}setToggleMap(e,t){Object.entries(e).forEach((([e,n])=>{this.toggleClassPlugins&&this.toggleClassPlugins.some((i=>w(i)&&i.addClassToggle(t,e,n,(n=>{n?t.classList.add(e):t.classList.remove(e)}))))||(n?t.classList.add(e):t.classList.remove(e))}))}}class T extends i{priority(){return i.PriorityFallback}setProp(e,t,n){if(t.startsWith("on")&&"function"==typeof n){const i=t.substr(2).toLowerCase();return e.addEventListener(i,n),!0}return!1}}class S extends i{priority(){return i.PriorityFallback}setProp(e,t,n){if("_state"===t&&("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&"function"==typeof n){const t=this.renderer();return t.hook(e,{bind(){if("INPUT"===e.nodeName&&"radio"===e.type&&e.name){const i=e;(i.form||t.document).querySelectorAll(`input[name="${i.name}"]`).forEach((e=>{e.form===i.form&&e.addEventListener("input",(()=>n(y(i))))}))}else e.addEventListener("input",(()=>n(y(e))));n(y(e))}}),!0}return!1}}class x extends i{priority(){return i.PriorityFallback}setProp(e,t,n){return"_value"===t&&"OPTION"===e.nodeName&&(function(e,t){e._value=t}(e,n),!0)}}function A(e){return!!e.setStyle&&"function"==typeof e.setStyle}class k extends i{plug(e){super.plug(e),r(e)&&(this.stylePlugins=e.plugins.filter(A))}priority(){return i.PriorityFallback}setProp(e,t,n){return"style"===t&&(null==n?void 0:n.constructor)===Object&&(Object.entries(n).forEach((([t,n])=>{this.stylePlugins&&this.stylePlugins.some((i=>A(i)&&i.setStyle(e,t,n,(n=>this.setStyle(e,t,n)))))||this.setStyle(e,t,n)})),!0)}format(e,t){const n=e.split(".");return{key:n[0],val:t,unit:n[1]||""}}setStyle(e,t,n){if("transform"===t&&"object"==typeof n)e.style.transform=Object.entries(n).map((e=>this.format(...e))).map((({key:e,val:t,unit:n})=>`${e}(${t}${n})`)).join(" ");else if("transition"===t&&"object"==typeof n)e.style.transition=Object.entries(n).map((e=>this.format(...e))).map((({key:e,val:t,unit:n})=>`${e} ${t}${n}`)).join(", ");else{const{key:i,val:r,unit:o}=this.format(t,`${n}`);e.style[i]=`${r}${o}`}}}const O=!1,N="${JSCORE_VERSION}",R=function(e,t){if(!e)throw P(t)},P=function(e){return new Error("Firebase Database ("+N+") INTERNAL ASSERT FAILED: "+e)},L=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},D={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],o=r+1<e.length,s=o?e[r+1]:0,a=r+2<e.length,c=a?e[r+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|c>>6,h=63&c;a||(h=64,o||(d=64)),i.push(n[l],n[u],n[d],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(L(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],o=r<e.length?n[e.charAt(r)]:0;++r;const s=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==o||null==s||null==a)throw new M;const c=t<<2|o>>4;if(i.push(c),64!==s){const e=o<<4&240|s>>2;if(i.push(e),64!==a){const e=s<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F=function(e){const t=L(e);return D.encodeByteArray(t,!0)},j=function(e){return F(e).replace(/\./g,"")},H=function(e){try{return D.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function U(e){return B(void 0,e)}function B(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&q(n)&&(e[n]=B(e[n],t[n]));return e}function q(e){return"__proto__"!==e}const V=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,W=()=>{try{return V()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e={}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&H(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},z=e=>{var t,n;return null===(n=null===(t=W())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},$=e=>{const t=z(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},G=()=>{var e;return null===(e=W())||void 0===e?void 0:e.config},K=e=>{var t;return null===(t=W())||void 0===t?void 0:t[`_${e}`]};class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function X(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function J(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(X())}function Q(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Z(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ee(){return!0===O}function te(){try{return"object"==typeof indexedDB}catch(e){return!1}}function ne(){return new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(error){t(error)}}))}class ie extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,re.prototype.create)}}class re{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?function(e,t){return e.replace(oe,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ie(i,s,n)}}const oe=/\{\$([^}]+)}/g;function se(e){return JSON.parse(e)}function ae(e){return JSON.stringify(e)}const ce=function(e){let t={},n={},i={},r="";try{const o=e.split(".");t=se(H(o[0])||""),n=se(H(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:i,signature:r}};function le(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ue(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function de(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function he(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function pe(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],o=t[r];if(fe(n)&&fe(o)){if(!pe(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function fe(e){return null!==e&&"object"==typeof e}function me(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ge(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function ye(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ve{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let i,r,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=c^s&(a^c),r=1518500249):(i=s^a^c,r=1859775393):u<60?(i=s&a|c&(s|a),r=2400959708):(i=s^a^c,r=3395469782);const e=(o<<5|o>>>27)+i+l+r+n[u]&4294967295;l=c,c=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<t;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}class _e{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=be),void 0===i.error&&(i.error=be),void 0===i.complete&&(i.complete=be);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function be(){}function Ie(e,t){return`${e} failed: ${t} argument `}const Ee=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t},we=1e3,Ce=2,Te=144e5,Se=.5;function xe(e,t=we,n=Ce){const i=t*Math.pow(n,e),r=Math.round(Se*i*(Math.random()-.5)*2);return Math.min(Te,i+r)}function Ae(e){return e&&e._delegate?e._delegate:e}class ke{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Oe="[DEFAULT]";class Ne{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Y;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(e=Oe){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Oe){return this.instances.has(e)}getOptions(e=Oe){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&o.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(Vv){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===Oe?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(Vv){}var i;return n||null}normalizeInstanceIdentifier(e=Oe){return this.component?this.component.multipleInstances?e:Oe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ne(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Pe;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Pe||(Pe={}));const Le={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},De=Pe.INFO,Me={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Fe=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=Me[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class je{constructor(e){this.name=e,this._logLevel=De,this._logHandler=Fe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Le[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const He=(e,t)=>t.some((t=>e instanceof t));let Ue,Be;const qe=new WeakMap,Ve=new WeakMap,We=new WeakMap,ze=new WeakMap,$e=new WeakMap;let Ge={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ve.get(e);if("objectStoreNames"===t)return e.objectStoreNames||We.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xe(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ke(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Je(this),t),Xe(qe.get(this))}:function(...t){return Xe(e.apply(Je(this),t))}:function(t,...n){const i=e.call(Je(this),t,...n);return We.set(i,t.sort?t.sort():[t]),Xe(i)}}function Ye(e){return"function"==typeof e?Ke(e):(e instanceof IDBTransaction&&function(e){if(Ve.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ve.set(e,t)}(e),He(e,Ue||(Ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ge):e)}function Xe(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{t(Xe(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&qe.set(t,e)})).catch((()=>{})),$e.set(t,e),t}(e);if(ze.has(e))return ze.get(e);const t=Ye(e);return t!==e&&(ze.set(e,t),$e.set(t,e)),t}const Je=e=>$e.get(e);const Qe=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],et=new Map;function tt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(et.get(t))return et.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Ze.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Qe.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,r?"readwrite":"readonly");let s=o.store;return i&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),r&&o.done]))[0]};return et.set(t,o),o}Ge=(e=>({...e,get:(t,n,i)=>tt(t,n)||e.get(t,n,i),has:(t,n)=>!!tt(t,n)||e.has(t,n)}))(Ge);class nt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const it="@firebase/app",rt="0.9.12",ot=new je("@firebase/app"),st="[DEFAULT]",at={[it]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ct=new Map,lt=new Map;function ut(e,t){try{e.container.addComponent(t)}catch(n){ot.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function dt(e){const t=e.name;if(lt.has(t))return ot.debug(`There were multiple attempts to register component ${t}.`),!1;lt.set(t,e);for(const n of ct.values())ut(n,e);return!0}function ht(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const pt=new re("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ft{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ke("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}const mt="9.22.2";function gt(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const i=Object.assign({name:st,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw pt.create("bad-app-name",{appName:String(r)});if(n||(n=G()),!n)throw pt.create("no-options");const o=ct.get(r);if(o){if(pe(n,o.options)&&pe(i,o.config))return o;throw pt.create("duplicate-app",{appName:r})}const s=new Re(r);for(const c of lt.values())s.addComponent(c);const a=new ft(n,i,s);return ct.set(r,a),a}function yt(e=st){const t=ct.get(e);if(!t&&e===st&&G())return gt();if(!t)throw pt.create("no-app",{appName:e});return t}function vt(e,t,n){var i;let r=null!==(i=at[e])&&void 0!==i?i:e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${r}" with version "${t}":`];return o&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ot.warn(e.join(" "))}dt(new ke(`${r}-version`,(()=>({library:r,version:t})),"VERSION"))}const _t="firebase-heartbeat-database",bt=1,It="firebase-heartbeat-store";let Et=null;function wt(){return Et||(Et=function(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(e,t),a=Xe(s);return i&&s.addEventListener("upgradeneeded",(e=>{i(Xe(s.result),e.oldVersion,e.newVersion,Xe(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(_t,bt,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(It)}}).catch((e=>{throw pt.create("idb-open",{originalErrorMessage:e.message})}))),Et}async function Ct(e,t){try{const n=(await wt()).transaction(It,"readwrite"),i=n.objectStore(It);await i.put(t,Tt(e)),await n.done}catch(n){if(n instanceof ie)ot.warn(n.message);else{const e=pt.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});ot.warn(e.message)}}}function Tt(e){return`${e.name}!${e.options.appId}`}class St{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new At(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=xt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=xt(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),kt(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),kt(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=j(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function xt(){return(new Date).toISOString().substring(0,10)}class At{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!te()&&ne().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await wt();return await t.transaction(It).objectStore(It).get(Tt(e))}catch(t){if(t instanceof ie)ot.warn(t.message);else{const e=pt.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});ot.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function kt(e){return j(JSON.stringify({version:2,heartbeats:e})).length}var Ot;Ot="",dt(new ke("platform-logger",(e=>new nt(e)),"PRIVATE")),dt(new ke("heartbeat",(e=>new St(e)),"PRIVATE")),vt(it,rt,Ot),vt(it,rt,"esm2017"),vt("fire-js","");vt("firebase","9.22.2","app");const Nt=(e,t)=>t.some((t=>e instanceof t));let Rt,Pt;const Lt=new WeakMap,Dt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,jt=new WeakMap;let Ht={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Dt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Mt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ut(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Pt||(Pt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Vt(this),t),qt(Lt.get(this))}:function(...t){return qt(e.apply(Vt(this),t))}:function(t,...n){const i=e.call(Vt(this),t,...n);return Mt.set(i,t.sort?t.sort():[t]),qt(i)}}function Bt(e){return"function"==typeof e?Ut(e):(e instanceof IDBTransaction&&function(e){if(Dt.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)}));Dt.set(e,t)}(e),Nt(e,Rt||(Rt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ht):e)}function qt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{t(qt(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Lt.set(t,e)})).catch((()=>{})),jt.set(t,e),t}(e);if(Ft.has(e))return Ft.get(e);const t=Bt(e);return t!==e&&(Ft.set(e,t),jt.set(t,e)),t}const Vt=e=>jt.get(e);const Wt=["get","getKey","getAll","getAllKeys","count"],zt=["put","add","delete","clear"],$t=new Map;function Gt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if($t.get(t))return $t.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=zt.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Wt.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,r?"readwrite":"readonly");let s=o.store;return i&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),r&&o.done]))[0]};return $t.set(t,o),o}!function(e){Ht=e(Ht)}((e=>({...e,get:(t,n,i)=>Gt(t,n)||e.get(t,n,i),has:(t,n)=>!!Gt(t,n)||e.has(t,n)})));const Kt="@firebase/installations",Yt="0.6.4",Xt=1e4,Jt=`w:${Yt}`,Qt="FIS_v2",Zt="https://firebaseinstallations.googleapis.com/v1",en=36e5,tn=new re("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nn(e){return e instanceof ie&&e.code.includes("request-failed")}function rn({projectId:e}){return`${Zt}/projects/${e}/installations`}function on(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function sn(e,t){const n=(await t.json()).error;return tn.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function an({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function cn(e,{refreshToken:t}){const n=an(e);return n.append("Authorization",function(e){return`${Qt} ${e}`}(t)),n}async function ln(e){const t=await e();return t.status>=500&&t.status<600?e():t}function un(e){return new Promise((t=>{setTimeout(t,e)}))}const dn=/^[cdef][\w-]{21}$/,hn="";function pn(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return dn.test(t)?t:hn}catch(Vv){return hn}}function fn(e){return`${e.appName}!${e.appId}`}const mn=new Map;function gn(e,t){const n=fn(e);yn(n,t),function(e,t){const n=function(){!vn&&"BroadcastChannel"in self&&(vn=new BroadcastChannel("[Firebase] FID Change"),vn.onmessage=e=>{yn(e.data.key,e.data.fid)});return vn}();n&&n.postMessage({key:e,fid:t});0===mn.size&&vn&&(vn.close(),vn=null)}(n,t)}function yn(e,t){const n=mn.get(e);if(n)for(const i of n)i(t)}let vn=null;const _n="firebase-installations-database",bn=1,In="firebase-installations-store";let En=null;function wn(){return En||(En=function(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(e,t),a=qt(s);return i&&s.addEventListener("upgradeneeded",(e=>{i(qt(s.result),e.oldVersion,e.newVersion,qt(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),r&&e.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}(_n,bn,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(In)}})),En}async function Cn(e,t){const n=fn(e),i=(await wn()).transaction(In,"readwrite"),r=i.objectStore(In),o=await r.get(n);return await r.put(t,n),await i.done,o&&o.fid===t.fid||gn(e,t.fid),t}async function Tn(e){const t=fn(e),n=(await wn()).transaction(In,"readwrite");await n.objectStore(In).delete(t),await n.done}async function Sn(e,t){const n=fn(e),i=(await wn()).transaction(In,"readwrite"),r=i.objectStore(In),o=await r.get(n),s=t(o);return void 0===s?await r.delete(n):await r.put(s,n),await i.done,!s||o&&o.fid===s.fid||gn(e,s.fid),s}async function xn(e){let t;const n=await Sn(e.appConfig,(n=>{const i=function(e){const t=e||{fid:pn(),registrationStatus:0};return On(t)}(n),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(tn.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=rn(e),r=an(e),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const s={fid:n,authVersion:Qt,appId:e.appId,sdkVersion:Jt},a={method:"POST",headers:r,body:JSON.stringify(s)},c=await ln((()=>fetch(i,a)));if(c.ok){const e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:on(e.authToken)}}throw await sn("Create Installation",c)}(e,t);return Cn(e.appConfig,n)}catch(n){throw nn(n)&&409===n.customData.serverCode?await Tn(e.appConfig):await Cn(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:An(e)}:{installationEntry:t}}(e,i);return t=r.registrationPromise,r.installationEntry}));return n.fid===hn?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function An(e){let t=await kn(e.appConfig);for(;1===t.registrationStatus;)await un(100),t=await kn(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await xn(e);return n||t}return t}function kn(e){return Sn(e,(e=>{if(!e)throw tn.create("installation-not-found");return On(e)}))}function On(e){return 1===(t=e).registrationStatus&&t.registrationTime+Xt<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Nn({appConfig:e,heartbeatServiceProvider:t},n){const i=function(e,{fid:t}){return`${rn(e)}/${t}/authTokens:generate`}(e,n),r=cn(e,n),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const s={installation:{sdkVersion:Jt,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(s)},c=await ln((()=>fetch(i,a)));if(c.ok){return on(await c.json())}throw await sn("Generate Auth Token",c)}async function Rn(e,t=!1){let n;const i=await Sn(e.appConfig,(i=>{if(!Ln(i))throw tn.create("not-registered");const r=i.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+en}(e)}(r))return i;if(1===r.requestStatus)return n=async function(e,t){let n=await Pn(e.appConfig);for(;1===n.authToken.requestStatus;)await un(100),n=await Pn(e.appConfig);const i=n.authToken;return 0===i.requestStatus?Rn(e,t):i}(e,t),i;{if(!navigator.onLine)throw tn.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(i);return n=async function(e,t){try{const n=await Nn(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await Cn(e.appConfig,i),n}catch(n){if(!nn(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Cn(e.appConfig,n)}else await Tn(e.appConfig);throw n}}(e,t),t}}));return n?await n:i.authToken}function Pn(e){return Sn(e,(e=>{if(!Ln(e))throw tn.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Xt<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Ln(e){return void 0!==e&&2===e.registrationStatus}async function Dn(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await xn(e);t&&await t}(n);return(await Rn(n,t)).token}function Mn(e){return tn.create("missing-app-config-values",{valueName:e})}const Fn="installations",jn=e=>{const t=ht(e.getProvider("app").getImmediate(),Fn).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:i}=await xn(t);return i?i.catch(console.error):Rn(t).catch(console.error),n.fid}(t),getToken:e=>Dn(t,e)}};dt(new ke(Fn,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Mn("App Configuration");if(!e.name)throw Mn("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Mn(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ht(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),dt(new ke("installations-internal",jn,"PRIVATE")),vt(Kt,Yt),vt(Kt,Yt,"esm2017");const Hn="analytics",Un="firebase_id",Bn="origin",qn=6e4,Vn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wn="https://www.googletagmanager.com/gtag/js",zn=new je("@firebase/analytics"),$n=new re("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Gn(e){if(!e.startsWith(Wn)){const t=$n.create("invalid-gtag-resource",{gtagURL:e});return zn.warn(t.message),""}return e}function Kn(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Yn(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Gn}),i=document.createElement("script"),r=`${Wn}?l=${e}&id=${t}`;i.src=n?null==n?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function Xn(e,t,n,i){return async function(r,...o){try{if("event"===r){const[i,r]=o;await async function(e,t,n,i,r){try{let o=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);const i=await Kn(n);for(const n of e){const e=i.find((e=>e.measurementId===n)),r=e&&t[e.appId];if(!r){o=[];break}o.push(r)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",i,r||{})}catch(o){zn.error(o)}}(e,t,n,i,r)}else if("config"===r){const[r,s]=o;await async function(e,t,n,i,r,o){const s=i[r];try{if(s)await t[s];else{const e=(await Kn(n)).find((e=>e.measurementId===r));e&&await t[e.appId]}}catch(a){zn.error(a)}e("config",r,o)}(e,t,n,i,r,s)}else if("consent"===r){const[t]=o;e("consent","update",t)}else if("get"===r){const[t,n,i]=o;e("get",t,n,i)}else if("set"===r){const[t]=o;e("set",t)}else e(r,...o)}catch(s){zn.error(s)}}}const Jn=30;const Qn=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Zn(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ei(e,t=Qn,n){const{appId:i,apiKey:r,measurementId:o}=e.options;if(!i)throw $n.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw $n.create("no-api-key")}const s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ni;return setTimeout((async()=>{a.abort()}),void 0!==n?n:qn),ti({appId:i,apiKey:r,measurementId:o},s,a,t)}async function ti(e,{throttleEndTimeMillis:t,backoffCount:n},i,r=Qn){var o;const{appId:s,measurementId:a}=e;try{await function(e,t){return new Promise(((n,i)=>{const r=Math.max(t-Date.now(),0),o=setTimeout(n,r);e.addEventListener((()=>{clearTimeout(o),i($n.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(i,t)}catch(c){if(a)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:s,measurementId:a};throw c}try{const t=await async function(e){var t;const{appId:n,apiKey:i}=e,r={method:"GET",headers:Zn(i)},o=Vn.replace("{app-id}",n),s=await fetch(o,r);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw $n.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return r.deleteThrottleMetadata(s),t}catch(c){const t=c;if(!function(e){if(!(e instanceof ie&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(r.deleteThrottleMetadata(s),a)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:s,measurementId:a};throw c}const l=503===Number(null===(o=null==t?void 0:t.customData)||void 0===o?void 0:o.httpStatus)?xe(n,r.intervalMillis,Jn):xe(n,r.intervalMillis),u={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return r.setThrottleMetadata(s,u),zn.debug(`Calling attemptFetch again in ${l} millis`),ti(e,u,i,r)}}class ni{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}async function ii(e,t,n,i,r,o,s){var a;const c=ei(e);c.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>zn.error(e))),t.push(c);const l=async function(){if(!te())return zn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await ne()}catch(e){return zn.warn($n.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?i.getId():void 0)),[u,d]=await Promise.all([c,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Wn)&&n.src.includes(e))return n;return null})(o)||Yn(o,u.measurementId),r("js",new Date);const h=null!==(a=null==s?void 0:s.config)&&void 0!==a?a:{};return h[Bn]="firebase",h.update=!0,null!=d&&(h[Un]=d),r("config",u.measurementId,h),u.measurementId}class ri{constructor(e){this.app=e}_delete(){return delete oi[this.app.options.appId],Promise.resolve()}}let oi={},si=[];const ai={};let ci,li,ui="dataLayer",di="gtag",hi=!1;function pi(){const e=[];if(Q()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=$n.create("invalid-analytics-context",{errorInfo:t});zn.warn(n.message)}}function fi(e,t,n){pi();const i=e.options.appId;if(!i)throw $n.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw $n.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oi[i])throw $n.create("already-exists",{id:i});if(!hi){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ui);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,i,r){let o=function(...e){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=Xn(o,e,t,n),{gtagCore:o,wrappedGtag:window[r]}}(oi,si,ai,ui,di);li=e,ci=t,hi=!0}oi[i]=ii(e,si,ai,t,ci,ui,n);return new ri(e)}function mi(e=yt()){const t=ht(e=Ae(e),Hn);return t.isInitialized()?t.getImmediate():function(e,t={}){const n=ht(e,Hn);if(n.isInitialized()){const e=n.getImmediate();if(pe(t,n.getOptions()))return e;throw $n.create("already-initialized")}const i=n.initialize({options:t});return i}(e)}function gi(e,t,n,i){e=Ae(e),async function(e,t,n,i,r){if(r&&r.global)e("event",n,i);else{const r=await t;e("event",n,Object.assign(Object.assign({},i),{send_to:r}))}}(li,oi[e.app.options.appId],t,n,i).catch((e=>zn.error(e)))}const yi="@firebase/analytics",vi="0.10.0";dt(new ke(Hn,((e,{options:t})=>fi(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),dt(new ke("analytics-internal",(function(e){try{const t=e.getProvider(Hn).getImmediate();return{logEvent:(e,n,i)=>gi(t,e,n,i)}}catch(t){throw $n.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),vt(yi,vi),vt(yi,vi,"esm2017");const _i="@firebase/database",bi="0.14.4";let Ii="";function Ei(e){Ii=e}class wi{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ae(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:se(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Ci{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return le(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Ti=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new wi(t)}}catch(t){}return new Ci},Si=Ti("localStorage"),xi=Ti("sessionStorage"),Ai=new je("@firebase/database"),ki=function(){let e=1;return function(){return e++}}(),Oi=function(e){const t=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const t=r-55296;i++,R(i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t}(e),n=new ve;n.update(t);const i=n.digest();return D.encodeByteArray(i)},Ni=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Ni.apply(null,i):t+="object"==typeof i?ae(i):i,t+=" "}return t};let Ri=null,Pi=!0;const Li=function(e,t){R(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ai.logLevel=Pe.VERBOSE,Ri=Ai.log.bind(Ai),t&&xi.set("logging_enabled",!0)):"function"==typeof e?Ri=e:(Ri=null,xi.remove("logging_enabled"))},Di=function(...e){if(!0===Pi&&(Pi=!1,null===Ri&&!0===xi.get("logging_enabled")&&Li(!0)),Ri){const t=Ni.apply(null,e);Ri(t)}},Mi=function(e){return function(...t){Di(e,...t)}},Fi=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ni(...e);Ai.error(t)},ji=function(...e){const t=`FIREBASE FATAL ERROR: ${Ni(...e)}`;throw Ai.error(t),new Error(t)},Hi=function(...e){const t="FIREBASE WARNING: "+Ni(...e);Ai.warn(t)},Ui=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Bi="[MIN_NAME]",qi="[MAX_NAME]",Vi=function(e,t){if(e===t)return 0;if(e===Bi||t===qi)return-1;if(t===Bi||e===qi)return 1;{const n=Ji(e),i=Ji(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},Wi=function(e,t){return e===t?0:e<t?-1:1},zi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ae(t))},$i=function(e){if("object"!=typeof e||null===e)return ae(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=ae(t[i]),n+=":",n+=$i(e[t[i]]);return n+="}",n},Gi=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Ki(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Yi=function(e){R(!Ui(e),"Invalid JSON number");const t=1023;let n,i,r,o,s;0===e?(i=0,r=0,n=1/e==-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),i=o+t,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(i=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);a.push(n?1:0),a.reverse();const c=a.join("");let l="";for(s=0;s<64;s+=8){let e=parseInt(c.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()};const Xi=new RegExp("^-?(0*)\\d{1,10}$"),Ji=function(e){if(Xi.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Qi=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw Hi("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Zi=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class er{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Hi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class tr{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Di("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hi(e)}}class nr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}nr.OWNER="owner";const ir=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rr="ac",or="websocket",sr="long_polling";class ar{constructor(e,t,n,i,r=!1,o="",s=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Si.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Si.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function cr(e,t,n){let i;if(R("string"==typeof t,"typeof type must == string"),R("object"==typeof n,"typeof params must == object"),t===or)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==sr)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const r=[];return Ki(n,((e,t)=>{r.push(e+"="+t)})),i+r.join("&")}class lr{constructor(){this.counters_={}}incrementCounter(e,t=1){le(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return U(this.counters_)}}const ur={},dr={};function hr(e){const t=e.toString();return ur[t]||(ur[t]=new lr),ur[t]}class pr{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Qi((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const fr="start";class mr{constructor(e,t,n,i,r,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mi(e),this.stats_=hr(t),this.urlFn=e=>(this.appCheckToken&&(e[rr]=this.appCheckToken),cr(t,sr,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new pr(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new gr(((...e)=>{const[t,n,i,r,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===fr)this.id=n,this.password=i;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[fr]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[rr]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&ir.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mr.forceAllow_=!0}static forceDisallow(){mr.forceDisallow_=!0}static isAvailable(){return!!mr.forceAllow_||!(mr.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ae(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=F(t),i=Gi(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ae(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class gr{constructor(e,t,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ki(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=gr.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){Di("frame writing exception"),r.stack&&Di(r.stack),Di(r)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Di("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(i),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Di("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let yr=null;"undefined"!=typeof MozWebSocket?yr=MozWebSocket:"undefined"!=typeof WebSocket&&(yr=WebSocket);class vr{constructor(e,t,n,i,r,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mi(this.connId),this.stats_=hr(t),this.connURL=vr.connectionURL_(t,o,s,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&ir.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),i&&(o[rr]=i),r&&(o.p=r),cr(e,or,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Si.set("previous_websocket_failure",!0);try{let e;ee(),this.mySock=new yr(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){vr.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==yr&&!vr.forceDisallow_}static previouslyFailed(){return Si.isInMemoryStorage||!0===Si.get("previous_websocket_failure")}markConnectionHealthy(){Si.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=se(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(R(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=ae(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Gi(t,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}vr.responsesRequiredToBeHealthy=2,vr.healthyTimeout=3e4;class _r{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[mr,vr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=vr&&vr.isAvailable();let n=t&&!vr.previouslyFailed();if(e.webSocketOnly&&(t||Hi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[vr];else{const e=this.transports_=[];for(const t of _r.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);_r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_r.globalTransportInitialized_=!1;class br{constructor(e,t,n,i,r,o,s,a,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mi("c:"+this.id+":"),this.transportManager_=new _r(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Zi((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=zi("t",e),n=zi("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=zi("t",e),n=zi("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=zi("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Fi("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fi("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Hi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Zi((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zi((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Si.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ir{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Er{constructor(e){this.allowedEvents_=e,this.listeners_={},R(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(e){R(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class wr extends Er{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||J()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new wr}getInitialEvent(e){return R("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Cr=32,Tr=768;class Sr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function xr(){return new Sr("")}function Ar(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function kr(e){return e.pieces_.length-e.pieceNum_}function Or(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Sr(e.pieces_,t)}function Nr(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Rr(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Pr(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Sr(t,0)}function Lr(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof Sr)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Sr(n,0)}function Dr(e){return e.pieceNum_>=e.pieces_.length}function Mr(e,t){const n=Ar(e),i=Ar(t);if(null===n)return t;if(n===i)return Mr(Or(e),Or(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Fr(e,t){const n=Rr(e,0),i=Rr(t,0);for(let r=0;r<n.length&&r<i.length;r++){const e=Vi(n[r],i[r]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function jr(e,t){if(kr(e)!==kr(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Hr(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(kr(e)>kr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Ur{constructor(e,t){this.errorPrefix_=t,this.parts_=Rr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Ee(this.parts_[n]);Br(this)}}function Br(e){if(e.byteLength_>Tr)throw new Error(e.errorPrefix_+"has a key path longer than "+Tr+" bytes ("+e.byteLength_+").");if(e.parts_.length>Cr)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Cr+") or object contains a cycle "+qr(e))}function qr(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Vr extends Er{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Vr}getInitialEvent(e){return R("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Wr=1e3;class zr extends Ir{constructor(e,t,n,i,r,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=zr.nextPersistentConnectionId_++,this.log_=Mi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!ee())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vr.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&wr.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(ae(r)),R(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new Y,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),R(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const s={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(o).set(r,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,(r=>{const o=r.d,s=r.s;zr.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",r),"ok"!==s&&this.removeListen_(n,i),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&le(e,"w")){const n=ue(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Hi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=ce(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=ce(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,(e=>{i&&setTimeout((()=>{i(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const o={p:t,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ae(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Fi("Unrecognized action received from server: "+ae(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){R(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Wr),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+zr.nextConnectionId_++,r=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},c=function(e){R(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:c};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);o?Di("getToken() completed but was canceled"):(Di("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=c&&c.token,s=new br(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Hi(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),r))}catch(error){this.log_("Failed to get token: "+error),o||(this.repoInfo_.nodeAdmin&&Hi(error),a())}}}interrupt(e){Di("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Di("Resuming connection for reason: "+e),delete this.interruptReasons_[e],de(this.interruptReasons_)&&(this.reconnectDelay_=Wr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>$i(e))).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new Sr(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){Di("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Di("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};e["sdk.js."+Ii.replace(/\./g,"-")]=1,J()?e["framework.cordova"]=1:Z()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wr.getInstance().currentlyOnline();return de(this.interruptReasons_)&&e}}zr.nextPersistentConnectionId_=0,zr.nextConnectionId_=0;class $r{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new $r(e,t)}}class Gr{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new $r(Bi,e),i=new $r(Bi,t);return 0!==this.compare(n,i)}minPost(){return $r.MIN}}let Kr;class Yr extends Gr{static get __EMPTY_NODE(){return Kr}static set __EMPTY_NODE(e){Kr=e}compare(e,t){return Vi(e.name,t.name)}isDefinedOn(e){throw P("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return $r.MIN}maxPost(){return new $r(qi,Kr)}makePost(e,t){return R("string"==typeof e,"KeyIndex indexValue must always be a string."),new $r(e,Kr)}toString(){return".key"}}const Xr=new Yr;class Jr{constructor(e,t,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qr{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Qr.RED,this.left=null!=i?i:Zr.EMPTY_NODE,this.right=null!=r?r:Zr.EMPTY_NODE}copy(e,t,n,i,r){return new Qr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zr.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Zr.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qr.RED=!0,Qr.BLACK=!1;class Zr{constructor(e,t=Zr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Zr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Qr.BLACK,null,null))}remove(e){return new Zr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qr.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Jr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Jr(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Jr(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Jr(this.root_,null,this.comparator_,!0,e)}}function eo(e,t){return Vi(e.name,t.name)}function to(e,t){return Vi(e,t)}let no;Zr.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new Qr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const io=function(e){return"number"==typeof e?"number:"+Yi(e):"string:"+e},ro=function(e){if(e.isLeafNode()){const t=e.val();R("string"==typeof t||"number"==typeof t||"object"==typeof t&&le(t,".sv"),"Priority must be a string or number.")}else R(e===no||e.isEmpty(),"priority of unexpected type.");R(e===no||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let oo,so,ao;class co{constructor(e,t=co.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,R(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ro(this.priorityNode_)}static set __childrenNodeConstructor(e){oo=e}static get __childrenNodeConstructor(){return oo}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new co(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:co.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Dr(e)?this:".priority"===Ar(e)?this.priorityNode_:co.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:co.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Ar(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(R(".priority"!==n||1===kr(e),".priority must be the last token in a path"),this.updateImmediateChild(n,co.__childrenNodeConstructor.EMPTY_NODE.updateChild(Or(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+io(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Yi(this.value_):this.value_,this.lazyHash_=Oi(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===co.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof co.__childrenNodeConstructor?-1:(R(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=co.VALUE_TYPE_ORDER.indexOf(t),r=co.VALUE_TYPE_ORDER.indexOf(n);return R(i>=0,"Unknown leaf type: "+t),R(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}co.VALUE_TYPE_ORDER=["object","boolean","number","string"];const lo=new class extends Gr{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?Vi(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return $r.MIN}maxPost(){return new $r(qi,new co("[PRIORITY-POST]",ao))}makePost(e,t){const n=so(e);return new $r(t,new co("[PRIORITY-POST]",n))}toString(){return".priority"}},uo=Math.log(2);class ho{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/uo,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const po=function(e,t,n,i){e.sort(t);const r=function(t,i){const o=i-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Qr(a,s.node,Qr.BLACK,null,null);{const c=parseInt(o/2,10)+t,l=r(t,c),u=r(c+1,i);return s=e[c],a=n?n(s):s,new Qr(a,s.node,Qr.BLACK,l,u)}},o=function(t){let i=null,o=null,s=e.length;const a=function(t,i){const o=s-t,a=s;s-=t;const l=r(o+1,a),u=e[o],d=n?n(u):u;c(new Qr(d,u.node,i,null,l))},c=function(e){i?(i.left=e,i=e):(o=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,Qr.BLACK):(a(i,Qr.BLACK),a(i,Qr.RED))}return o}(new ho(e.length));return new Zr(i||t,o)};let fo;const mo={};class go{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return R(mo&&lo,"ChildrenNode.ts has not been loaded"),fo=fo||new go({".priority":mo},{".priority":lo}),fo}get(e){const t=ue(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Zr?t:null}hasIndex(e){return le(this.indexSet_,e.toString())}addIndex(e,t){R(e!==Xr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator($r.Wrap);let o,s=r.getNext();for(;s;)i=i||e.isDefinedOn(s.node),n.push(s),s=r.getNext();o=i?po(n,e.getCompare()):mo;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const l=Object.assign({},this.indexes_);return l[a]=o,new go(l,c)}addToIndexes(e,t){const n=he(this.indexes_,((n,i)=>{const r=ue(this.indexSet_,i);if(R(r,"Missing index implementation for "+i),n===mo){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator($r.Wrap);let o=i.getNext();for(;o;)o.name!==e.name&&n.push(o),o=i.getNext();return n.push(e),po(n,r.getCompare())}return mo}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new $r(e.name,i))),r.insert(e,e.node)}}));return new go(n,this.indexSet_)}removeFromIndexes(e,t){const n=he(this.indexes_,(n=>{if(n===mo)return n;{const i=t.get(e.name);return i?n.remove(new $r(e.name,i)):n}}));return new go(n,this.indexSet_)}}let yo;class vo{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ro(this.priorityNode_),this.children_.isEmpty()&&R(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yo||(yo=new vo(new Zr(to),null,go.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yo}updatePriority(e){return this.children_.isEmpty()?this:new vo(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?yo:t}}getChild(e){const t=Ar(e);return null===t?this:this.getImmediateChild(t).getChild(Or(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(R(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new $r(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const o=i.isEmpty()?yo:this.priorityNode_;return new vo(i,o,r)}}updateChild(e,t){const n=Ar(e);if(null===n)return t;{R(".priority"!==Ar(e)||1===kr(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(Or(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,r=!0;if(this.forEachChild(lo,((o,s)=>{t[o]=s.val(e),n++,r&&vo.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1})),!e&&r&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+io(this.getPriority().val())+":"),this.forEachChild(lo,((t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)})),this.lazyHash_=""===e?"":Oi(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new $r(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new $r(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new $r(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,$r.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,$r.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_o?-1:0}withIndex(e){if(e===Xr||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new vo(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Xr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(lo),n=t.getIterator(lo);let i=e.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===Xr?null:this.indexMap_.get(e.toString())}}vo.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const _o=new class extends vo{constructor(){super(new Zr(to),vo.EMPTY_NODE,go.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return vo.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties($r,{MIN:{value:new $r(Bi,vo.EMPTY_NODE)},MAX:{value:new $r(qi,_o)}}),Yr.__EMPTY_NODE=vo.EMPTY_NODE,co.__childrenNodeConstructor=vo,no=_o,function(e){ao=e}(_o);const bo=!0;function Io(e,t=null){if(null===e)return vo.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),R(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new co(e,Io(t))}if(e instanceof Array||!bo){let n=vo.EMPTY_NODE;return Ki(e,((t,i)=>{if(le(e,t)&&"."!==t.substring(0,1)){const e=Io(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Io(t))}{const n=[];let i=!1;if(Ki(e,((e,t)=>{if("."!==e.substring(0,1)){const r=Io(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new $r(e,r)))}})),0===n.length)return vo.EMPTY_NODE;const r=po(n,eo,(e=>e.name),to);if(i){const e=po(n,lo.getCompare());return new vo(r,Io(t),new go({".priority":e},{".priority":lo}))}return new vo(r,Io(t),go.Default)}}!function(e){so=e}(Io);class Eo extends Gr{constructor(e){super(),this.indexPath_=e,R(!Dr(e)&&".priority"!==Ar(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?Vi(e.name,t.name):r}makePost(e,t){const n=Io(e),i=vo.EMPTY_NODE.updateChild(this.indexPath_,n);return new $r(t,i)}maxPost(){const e=vo.EMPTY_NODE.updateChild(this.indexPath_,_o);return new $r(qi,e)}toString(){return Rr(this.indexPath_,0).join("/")}}const wo=new class extends Gr{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Vi(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return $r.MIN}maxPost(){return $r.MAX}makePost(e,t){const n=Io(e);return new $r(t,n)}toString(){return".value"}};function Co(e){return{type:"value",snapshotNode:e}}function To(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function So(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function xo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Ao{constructor(e){this.index_=e}updateChild(e,t,n,i,r,o){R(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(So(t,s)):R(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(To(t,n)):o.trackChildChange(xo(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(lo,((e,i)=>{t.hasChild(e)||n.trackChildChange(So(e,i))})),t.isLeafNode()||t.forEachChild(lo,((t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(xo(t,i,r))}else n.trackChildChange(To(t,i))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?vo.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ko{constructor(e){this.indexedFilter_=new Ao(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ko.getStartPost_(e),this.endPost_=ko.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,r,o){return this.matches(new $r(t,n))||(n=vo.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=vo.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(vo.EMPTY_NODE);const r=this;return t.forEachChild(lo,((e,t)=>{r.matches(new $r(e,t))||(i=i.updateImmediateChild(e,vo.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Oo{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new ko(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,o){return this.rangedFilter_.matches(new $r(t,n))||(n=vo.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,o):this.fullLimitUpdateChild_(e,t,n,r,o)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=vo.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=vo.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(vo.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,vo.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;R(s.numChildren()===this.limit_,"");const a=new $r(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=i.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(l&&!n.isEmpty()&&d>=0)return null!=r&&r.trackChildChange(xo(t,n,e)),s.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(So(t,e));const n=s.updateImmediateChild(t,vo.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=r&&r.trackChildChange(To(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:l&&o(c,a)>=0?(null!=r&&(r.trackChildChange(So(c.name,c.node)),r.trackChildChange(To(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,vo.EMPTY_NODE)):e}}class No{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lo}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return R(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return R(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bi}hasEnd(){return this.endSet_}getIndexEndValue(){return R(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return R(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return R(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===lo}copy(){const e=new No;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ro(e,t,n){const i=e.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Po(e,t,n){const i=e.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Lo(e,t){const n=e.copy();return n.index_=t,n}function Do(e){const t={};if(e.isDefault())return t;let n;if(e.index_===lo?n="$priority":e.index_===wo?n="$value":e.index_===Xr?n="$key":(R(e.index_ instanceof Eo,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ae(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=ae(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+ae(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=ae(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+ae(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Mo(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==lo&&(t.i=e.index_.toString()),t}class Fo extends Ir{constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=Mi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(R(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Fo.getListenId_(e,n),s={};this.listens_[o]=s;const a=Do(e._queryParams);this.restRequest_(r+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(r,a,!1,n),ue(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}}))}unlisten(e,t){const n=Fo.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Do(e._queryParams),n=e._path.toString(),i=new Y;return this.restRequest_(n+".json",t,((e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))})),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([i,r])=>{i&&i.accessToken&&(t.auth=i.accessToken),r&&r.token&&(t.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+me(t);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let t=null;if(s.status>=200&&s.status<300){try{t=se(s.responseText)}catch(e){Hi("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&Hi("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()}))}}class jo{constructor(){this.rootNode_=vo.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Ho(){return{value:null,children:new Map}}function Uo(e,t,n){if(Dr(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=Ar(t);e.children.has(i)||e.children.set(i,Ho());Uo(e.children.get(i),t=Or(t),n)}}function Bo(e,t){if(Dr(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(lo,((t,n)=>{Uo(e,new Sr(t),n)})),Bo(e,t)}}if(e.children.size>0){const n=Ar(t);if(t=Or(t),e.children.has(n)){Bo(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function qo(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,i)=>{qo(i,new Sr(t.toString()+"/"+e),n)}))}class Vo{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ki(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Wo{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Vo(e);const n=1e4+2e4*Math.random();Zi(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Ki(e,((e,i)=>{i>0&&le(this.statsToReport_,e)&&(t[e]=i,n=!0)})),n&&this.server_.reportStats(t),Zi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var zo;function $o(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(zo||(zo={}));class Go{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=zo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Dr(this.path)){if(null!=this.affectedTree.value)return R(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Sr(e));return new Go(xr(),t,this.revert)}}return R(Ar(this.path)===e,"operationForChild called for unrelated child."),new Go(Or(this.path),this.affectedTree,this.revert)}}class Ko{constructor(e,t){this.source=e,this.path=t,this.type=zo.LISTEN_COMPLETE}operationForChild(e){return Dr(this.path)?new Ko(this.source,xr()):new Ko(this.source,Or(this.path))}}class Yo{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=zo.OVERWRITE}operationForChild(e){return Dr(this.path)?new Yo(this.source,xr(),this.snap.getImmediateChild(e)):new Yo(this.source,Or(this.path),this.snap)}}class Xo{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=zo.MERGE}operationForChild(e){if(Dr(this.path)){const t=this.children.subtree(new Sr(e));return t.isEmpty()?null:t.value?new Yo(this.source,xr(),t.value):new Xo(this.source,xr(),t)}return R(Ar(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Xo(this.source,Or(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jo{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Dr(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ar(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Qo{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Zo(e,t,n,i,r,o){const s=i.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw P("Should only compare child_ events.");const i=new $r(t.childName,t.snapshotNode),r=new $r(n.childName,n.snapshotNode);return e.index_.compare(i,r)}(e,t,n))),s.forEach((n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);r.forEach((r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))}))}))}function es(e,t){return{eventCache:e,serverCache:t}}function ts(e,t,n,i){return es(new Jo(t,n,i),e.serverCache)}function ns(e,t,n,i){return es(e.eventCache,new Jo(t,n,i))}function is(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function rs(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let os;class ss{constructor(e,t=(()=>(os||(os=new Zr(Wi)),os))()){this.value=e,this.children=t}static fromObject(e){let t=new ss(null);return Ki(e,((e,n)=>{t=t.set(new Sr(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:xr(),value:this.value};if(Dr(e))return null;{const n=Ar(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(Or(e),t);if(null!=r){return{path:Lr(new Sr(n),r.path),value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Dr(e))return this;{const t=Ar(e),n=this.children.get(t);return null!==n?n.subtree(Or(e)):new ss(null)}}set(e,t){if(Dr(e))return new ss(t,this.children);{const n=Ar(e),i=(this.children.get(n)||new ss(null)).set(Or(e),t),r=this.children.insert(n,i);return new ss(this.value,r)}}remove(e){if(Dr(e))return this.children.isEmpty()?new ss(null):new ss(null,this.children);{const t=Ar(e),n=this.children.get(t);if(n){const i=n.remove(Or(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new ss(null):new ss(this.value,r)}return this}}get(e){if(Dr(e))return this.value;{const t=Ar(e),n=this.children.get(t);return n?n.get(Or(e)):null}}setTree(e,t){if(Dr(e))return t;{const n=Ar(e),i=(this.children.get(n)||new ss(null)).setTree(Or(e),t);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new ss(this.value,r)}}fold(e){return this.fold_(xr(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((i,r)=>{n[i]=r.fold_(Lr(e,i),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,xr(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(Dr(e))return null;{const i=Ar(e),r=this.children.get(i);return r?r.findOnPath_(Or(e),Lr(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,xr(),t)}foreachOnPath_(e,t,n){if(Dr(e))return this;{this.value&&n(t,this.value);const i=Ar(e),r=this.children.get(i);return r?r.foreachOnPath_(Or(e),Lr(t,i),n):new ss(null)}}foreach(e){this.foreach_(xr(),e)}foreach_(e,t){this.children.inorderTraversal(((n,i)=>{i.foreach_(Lr(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class as{constructor(e){this.writeTree_=e}static empty(){return new as(new ss(null))}}function cs(e,t,n){if(Dr(t))return new as(new ss(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=Mr(r,t);return o=o.updateChild(s,n),new as(e.writeTree_.set(r,o))}{const i=new ss(n),r=e.writeTree_.setTree(t,i);return new as(r)}}}function ls(e,t,n){let i=e;return Ki(n,((e,n)=>{i=cs(i,Lr(t,e),n)})),i}function us(e,t){if(Dr(t))return as.empty();{const n=e.writeTree_.setTree(t,new ss(null));return new as(n)}}function ds(e,t){return null!=hs(e,t)}function hs(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Mr(n.path,t)):null}function ps(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(lo,((e,n)=>{t.push(new $r(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new $r(e,n.value))})),t}function fs(e,t){if(Dr(t))return e;{const n=hs(e,t);return new as(null!=n?new ss(n):e.writeTree_.subtree(t))}}function ms(e){return e.writeTree_.isEmpty()}function gs(e,t){return ys(xr(),e.writeTree_,t)}function ys(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal(((t,r)=>{".priority"===t?(R(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=ys(Lr(e,t),r,n)})),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(Lr(e,".priority"),i)),n}}function vs(e,t){return Ns(t,e)}function _s(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));R(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&bs(t,i.path)?r=!1:Hr(i.path,t.path)&&(o=!0)),s--}if(r){if(o)return function(e){e.visibleWrites=Es(e.allWrites,Is,xr()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(i.snap)e.visibleWrites=us(e.visibleWrites,i.path);else{Ki(i.children,(t=>{e.visibleWrites=us(e.visibleWrites,Lr(i.path,t))}))}return!0}return!1}function bs(e,t){if(e.snap)return Hr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Hr(Lr(e.path,n),t))return!0;return!1}function Is(e){return e.visible}function Es(e,t,n){let i=as.empty();for(let r=0;r<e.length;++r){const o=e[r];if(t(o)){const e=o.path;let t;if(o.snap)Hr(n,e)?(t=Mr(n,e),i=cs(i,t,o.snap)):Hr(e,n)&&(t=Mr(e,n),i=cs(i,xr(),o.snap.getChild(t)));else{if(!o.children)throw P("WriteRecord should have .snap or .children");if(Hr(n,e))t=Mr(n,e),i=ls(i,t,o.children);else if(Hr(e,n))if(t=Mr(e,n),Dr(t))i=ls(i,xr(),o.children);else{const e=ue(o.children,Ar(t));if(e){const n=e.getChild(Or(t));i=cs(i,xr(),n)}}}}}return i}function ws(e,t,n,i,r){if(i||r){const o=fs(e.visibleWrites,t);if(!r&&ms(o))return n;if(r||null!=n||ds(o,xr())){const o=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(Hr(e.path,t)||Hr(t,e.path))};return gs(Es(e.allWrites,o,t),n||vo.EMPTY_NODE)}return null}{const i=hs(e.visibleWrites,t);if(null!=i)return i;{const i=fs(e.visibleWrites,t);if(ms(i))return n;if(null!=n||ds(i,xr())){return gs(i,n||vo.EMPTY_NODE)}return null}}}function Cs(e,t,n,i){return ws(e.writeTree,e.treePath,t,n,i)}function Ts(e,t){return function(e,t,n){let i=vo.EMPTY_NODE;const r=hs(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(lo,((e,t)=>{i=i.updateImmediateChild(e,t)})),i;if(n){const r=fs(e.visibleWrites,t);return n.forEachChild(lo,((e,t)=>{const n=gs(fs(r,new Sr(e)),t);i=i.updateImmediateChild(e,n)})),ps(r).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}return ps(fs(e.visibleWrites,t)).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}(e.writeTree,e.treePath,t)}function Ss(e,t,n,i){return function(e,t,n,i,r){R(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Lr(t,n);if(ds(e.visibleWrites,o))return null;{const t=fs(e.visibleWrites,o);return ms(t)?r.getChild(n):gs(t,r.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function xs(e,t){return function(e,t){return hs(e.visibleWrites,t)}(e.writeTree,Lr(e.treePath,t))}function As(e,t,n,i,r,o){return function(e,t,n,i,r,o,s){let a;const c=fs(e.visibleWrites,t),l=hs(c,xr());if(null!=l)a=l;else{if(null==n)return[];a=gs(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let c=n.getNext();for(;c&&e.length<r;)0!==t(c,i)&&e.push(c),c=n.getNext();return e}}(e.writeTree,e.treePath,t,n,i,r,o)}function ks(e,t,n){return function(e,t,n,i){const r=Lr(t,n),o=hs(e.visibleWrites,r);if(null!=o)return o;if(i.isCompleteForChild(n))return gs(fs(e.visibleWrites,r),i.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Os(e,t){return Ns(Lr(e.treePath,t),e.writeTree)}function Ns(e,t){return{treePath:e,writeTree:t}}class Rs{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;R("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),R(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,xo(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,So(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,To(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw P("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,xo(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Ps=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Ls{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Jo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ks(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:rs(this.viewCache_),r=As(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}function Ds(e,t,n,i,r){const o=new Rs;let s,a;if(n.type===zo.OVERWRITE){const c=n;c.source.fromUser?s=js(e,t,c.path,c.snap,i,r,o):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Dr(c.path),s=Fs(e,t,c.path,c.snap,i,r,a,o))}else if(n.type===zo.MERGE){const c=n;c.source.fromUser?s=function(e,t,n,i,r,o,s){let a=t;return i.foreach(((i,c)=>{const l=Lr(n,i);Hs(t,Ar(l))&&(a=js(e,a,l,c,r,o,s))})),i.foreach(((i,c)=>{const l=Lr(n,i);Hs(t,Ar(l))||(a=js(e,a,l,c,r,o,s))})),a}(e,t,c.path,c.children,i,r,o):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=Bs(e,t,c.path,c.children,i,r,a,o))}else if(n.type===zo.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,i,r,o){let s;if(null!=xs(i,n))return t;{const a=new Ls(i,t,r),c=t.eventCache.getNode();let l;if(Dr(n)||".priority"===Ar(n)){let n;if(t.serverCache.isFullyInitialized())n=Cs(i,rs(t));else{const e=t.serverCache.getNode();R(e instanceof vo,"serverChildren would be complete if leaf node"),n=Ts(i,e)}l=e.filter.updateFullNode(c,n,o)}else{const r=Ar(n);let u=ks(i,r,t.serverCache);null==u&&t.serverCache.isCompleteForChild(r)&&(u=c.getImmediateChild(r)),l=null!=u?e.filter.updateChild(c,r,u,Or(n),a,o):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(c,r,vo.EMPTY_NODE,Or(n),a,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Cs(i,rs(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=xs(i,xr()),ts(t,l,s,e.filter.filtersNodes())}}(e,t,a.path,i,r,o):function(e,t,n,i,r,o,s){if(null!=xs(r,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=i.value){if(Dr(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Fs(e,t,n,c.getNode().getChild(n),r,o,a,s);if(Dr(n)){let i=new ss(null);return c.getNode().forEachChild(Xr,((e,t)=>{i=i.set(new Sr(e),t)})),Bs(e,t,n,i,r,o,a,s)}return t}{let l=new ss(null);return i.foreach(((e,t)=>{const i=Lr(n,e);c.isCompleteForPath(i)&&(l=l.set(e,c.getNode().getChild(i)))})),Bs(e,t,n,l,r,o,a,s)}}(e,t,a.path,a.affectedTree,i,r,o)}else{if(n.type!==zo.LISTEN_COMPLETE)throw P("Unknown operation type: "+n.type);s=function(e,t,n,i,r){const o=t.serverCache,s=ns(t,o.getNode(),o.isFullyInitialized()||Dr(n),o.isFiltered());return Ms(e,s,n,i,Ps,r)}(e,t,n.path,i,o)}const c=o.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=is(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(Co(is(t)))}}(t,s,c),{viewCache:s,changes:c}}function Ms(e,t,n,i,r,o){const s=t.eventCache;if(null!=xs(i,n))return t;{let a,c;if(Dr(n))if(R(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=rs(t),r=Ts(i,n instanceof vo?n:vo.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),r,o)}else{const n=Cs(i,rs(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const l=Ar(n);if(".priority"===l){R(1===kr(n),"Can't have a priority with additional path components");const r=s.getNode();c=t.serverCache.getNode();const o=Ss(i,n,r,c);a=null!=o?e.filter.updatePriority(r,o):s.getNode()}else{const u=Or(n);let d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const e=Ss(i,n,s.getNode(),c);d=null!=e?s.getNode().getImmediateChild(l).updateChild(u,e):s.getNode().getImmediateChild(l)}else d=ks(i,l,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),l,d,u,r,o):s.getNode()}}return ts(t,a,s.isFullyInitialized()||Dr(n),e.filter.filtersNodes())}}function Fs(e,t,n,i,r,o,s,a){const c=t.serverCache;let l;const u=s?e.filter:e.filter.getIndexedFilter();if(Dr(n))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,i);l=u.updateFullNode(c.getNode(),e,null)}else{const e=Ar(n);if(!c.isCompleteForPath(n)&&kr(n)>1)return t;const r=Or(n),o=c.getNode().getImmediateChild(e).updateChild(r,i);l=".priority"===e?u.updatePriority(c.getNode(),o):u.updateChild(c.getNode(),e,o,r,Ps,null)}const d=ns(t,l,c.isFullyInitialized()||Dr(n),u.filtersNodes());return Ms(e,d,n,r,new Ls(r,d,o),a)}function js(e,t,n,i,r,o,s){const a=t.eventCache;let c,l;const u=new Ls(r,t,o);if(Dr(n))l=e.filter.updateFullNode(t.eventCache.getNode(),i,s),c=ts(t,l,!0,e.filter.filtersNodes());else{const r=Ar(n);if(".priority"===r)l=e.filter.updatePriority(t.eventCache.getNode(),i),c=ts(t,l,a.isFullyInitialized(),a.isFiltered());else{const o=Or(n),l=a.getNode().getImmediateChild(r);let d;if(Dr(o))d=i;else{const e=u.getCompleteChild(r);d=null!=e?".priority"===Nr(o)&&e.getChild(Pr(o)).isEmpty()?e:e.updateChild(o,i):vo.EMPTY_NODE}if(l.equals(d))c=t;else{c=ts(t,e.filter.updateChild(a.getNode(),r,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function Hs(e,t){return e.eventCache.isCompleteForChild(t)}function Us(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Bs(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=Dr(n)?i:new ss(null).setTree(n,i);const u=t.serverCache.getNode();return c.children.inorderTraversal(((n,i)=>{if(u.hasChild(n)){const c=Us(0,t.serverCache.getNode().getImmediateChild(n),i);l=Fs(e,l,new Sr(n),c,r,o,s,a)}})),c.children.inorderTraversal(((n,i)=>{const c=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!u.hasChild(n)&&!c){const c=Us(0,t.serverCache.getNode().getImmediateChild(n),i);l=Fs(e,l,new Sr(n),c,r,o,s,a)}})),l}class qs{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new Ao(n.getIndex()),r=(o=n).loadsAllData()?new Ao(o.getIndex()):o.hasLimit()?new Oo(o):new ko(o);var o;this.processor_=function(e){return{filter:e}}(r);const s=t.serverCache,a=t.eventCache,c=i.updateFullNode(vo.EMPTY_NODE,s.getNode(),null),l=r.updateFullNode(vo.EMPTY_NODE,a.getNode(),null),u=new Jo(c,s.isFullyInitialized(),i.filtersNodes()),d=new Jo(l,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=es(d,u),this.eventGenerator_=new Qo(this.query_)}get query(){return this.query_}}function Vs(e,t){const n=rs(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Dr(t)&&!n.getImmediateChild(Ar(t)).isEmpty())?n.getChild(t):null}function Ws(e){return 0===e.eventRegistrations_.length}function zs(e,t,n){const i=[];if(n){R(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)}))}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function $s(e,t,n,i){t.type===zo.MERGE&&null!==t.source.queryId&&(R(rs(e.viewCache_),"We should always have a full cache before handling merges"),R(is(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,o=Ds(e.processor_,r,t,n,i);var s,a;return s=e.processor_,a=o.viewCache,R(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),R(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),R(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Gs(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Gs(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return function(e,t,n,i){const r=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Zo(e,r,"child_removed",t,i,n),Zo(e,r,"child_added",t,i,n),Zo(e,r,"child_moved",o,i,n),Zo(e,r,"child_changed",t,i,n),Zo(e,r,"value",t,i,n),r}(e.eventGenerator_,t,n,r)}let Ks,Ys;class Xs{constructor(){this.views=new Map}}function Js(e,t,n,i){const r=t.source.queryId;if(null!==r){const o=e.views.get(r);return R(null!=o,"SyncTree gave us an op for an invalid query."),$s(o,t,n,i)}{let r=[];for(const o of e.views.values())r=r.concat($s(o,t,n,i));return r}}function Qs(e,t,n,i,r){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Cs(n,r?i:null),o=!1;e?o=!0:i instanceof vo?(e=Ts(n,i),o=!1):(e=vo.EMPTY_NODE,o=!1);const s=es(new Jo(e,o,!1),new Jo(i,r,!1));return new qs(t,s)}return s}function Zs(e,t,n,i,r,o){const s=Qs(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,i=[];n.getNode().isLeafNode()||n.getNode().forEachChild(lo,((e,t)=>{i.push(To(e,t))}));return n.isFullyInitialized()&&i.push(Co(n.getNode())),Gs(e,i,n.getNode(),t)}(s,n)}function ea(e,t,n,i){const r=t._queryIdentifier,o=[];let s=[];const a=oa(e);if("default"===r)for(const[c,l]of e.views.entries())s=s.concat(zs(l,n,i)),Ws(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const t=e.views.get(r);t&&(s=s.concat(zs(t,n,i)),Ws(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!oa(e)&&o.push(new(R(Ks,"Reference.ts has not been loaded"),Ks)(t._repo,t._path)),{removed:o,events:s}}function ta(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function na(e,t){let n=null;for(const i of e.views.values())n=n||Vs(i,t);return n}function ia(e,t){if(t._queryParams.loadsAllData())return sa(e);{const n=t._queryIdentifier;return e.views.get(n)}}function ra(e,t){return null!=ia(e,t)}function oa(e){return null!=sa(e)}function sa(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let aa=1;class ca{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ss(null),this.pendingWriteTree_={visibleWrites:as.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function la(e,t,n,i,r){return function(e,t,n,i,r){R(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=cs(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,r),r?va(e,new Yo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ua(e,t,n,i){!function(e,t,n,i){R(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=ls(e.visibleWrites,t,n),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i);const r=ss.fromObject(n);return va(e,new Xo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}function da(e,t,n=!1){const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(_s(e.pendingWriteTree_,t)){let t=new ss(null);return null!=i.snap?t=t.set(xr(),!0):Ki(i.children,(e=>{t=t.set(new Sr(e),!0)})),va(e,new Go(i.path,t,n))}return[]}function ha(e,t,n){return va(e,new Yo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function pa(e,t,n,i,r=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||ra(s,t))){const c=ea(s,t,n,i);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!r){const n=-1!==l.findIndex((e=>e._queryParams.loadsAllData())),r=e.syncPointTree_.findOnPath(o,((e,t)=>oa(t)));if(n&&!r){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&oa(t)){return[sa(t)]}{let e=[];return t&&(e=ta(t)),Ki(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,o=Ia(e,i);e.listenProvider_.startListening(xa(r),Ea(e,r),o.hashFn,o.onComplete)}}}if(!r&&l.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(xa(t),n)}else l.forEach((t=>{const n=e.queryToTagMap.get(wa(t));e.listenProvider_.stopListening(xa(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=wa(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return a}function fa(e,t,n,i){const r=Ca(e,i);if(null!=r){const i=Ta(r),o=i.path,s=i.queryId,a=Mr(o,t);return Sa(e,o,new Yo($o(s),a,n))}return[]}function ma(e,t,n,i=!1){const r=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(r,((e,t)=>{const n=Mr(e,r);o=o||na(t,n),s=s||oa(t)}));let a,c=e.syncPointTree_.get(r);if(c?(s=s||oa(c),o=o||na(c,xr())):(c=new Xs,e.syncPointTree_=e.syncPointTree_.set(r,c)),null!=o)a=!0;else{a=!1,o=vo.EMPTY_NODE;e.syncPointTree_.subtree(r).foreachChild(((e,t)=>{const n=na(t,xr());n&&(o=o.updateImmediateChild(e,n))}))}const l=ra(c,t);if(!l&&!t._queryParams.loadsAllData()){const n=wa(t);R(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=aa++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let u=Zs(c,t,n,vs(e.pendingWriteTree_,r),o,a);if(!l&&!s&&!i){const n=ia(c,t);u=u.concat(function(e,t,n){const i=t._path,r=Ea(e,t),o=Ia(e,n),s=e.listenProvider_.startListening(xa(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)R(!oa(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!Dr(e)&&t&&oa(t))return[sa(t).query];{let e=[];return t&&(e=e.concat(ta(t).map((e=>e.query)))),Ki(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(xa(i),Ea(e,i))}}return s}(e,t,n))}return u}function ga(e,t,n){const i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,((e,n)=>{const i=na(n,Mr(e,t));if(i)return i}));return ws(i,t,r,n,!0)}function ya(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const r=Mr(e,n);i=i||na(t,r)}));let r=e.syncPointTree_.get(n);r?i=i||na(r,xr()):(r=new Xs,e.syncPointTree_=e.syncPointTree_.set(n,r));const o=null!=i,s=o?new Jo(i,!0,!1):null;return function(e){return is(e.viewCache_)}(Qs(r,t,vs(e.pendingWriteTree_,t._path),o?s.getNode():vo.EMPTY_NODE,o))}function va(e,t){return _a(t,e.syncPointTree_,null,vs(e.pendingWriteTree_,xr()))}function _a(e,t,n,i){if(Dr(e.path))return ba(e,t,n,i);{const r=t.get(xr());null==n&&null!=r&&(n=na(r,xr()));let o=[];const s=Ar(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const e=n?n.getImmediateChild(s):null,t=Os(i,s);o=o.concat(_a(a,c,e,t))}return r&&(o=o.concat(Js(r,e,i,n))),o}}function ba(e,t,n,i){const r=t.get(xr());null==n&&null!=r&&(n=na(r,xr()));let o=[];return t.children.inorderTraversal(((t,r)=>{const s=n?n.getImmediateChild(t):null,a=Os(i,t),c=e.operationForChild(t);c&&(o=o.concat(ba(c,r,s,a)))})),r&&(o=o.concat(Js(r,e,i,n))),o}function Ia(e,t){const n=t.query,i=Ea(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||vo.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return i?function(e,t,n){const i=Ca(e,n);if(i){const n=Ta(i),r=n.path,o=n.queryId,s=Mr(r,t);return Sa(e,r,new Ko($o(o),s))}return[]}(e,n._path,i):function(e,t){return va(e,new Ko({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return pa(e,n,null,i)}}}}function Ea(e,t){const n=wa(t);return e.queryToTagMap.get(n)}function wa(e){return e._path.toString()+"$"+e._queryIdentifier}function Ca(e,t){return e.tagToQueryMap.get(t)}function Ta(e){const t=e.indexOf("$");return R(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Sr(e.substr(0,t))}}function Sa(e,t,n){const i=e.syncPointTree_.get(t);R(i,"Missing sync point for query tag that we're tracking");return Js(i,n,vs(e.pendingWriteTree_,t),null)}function xa(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(R(Ys,"Reference.ts has not been loaded"),Ys)(e._repo,e._path):e}class Aa{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Aa(t)}node(){return this.node_}}class ka{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Lr(this.path_,e);return new ka(this.syncTree_,t)}node(){return ga(this.syncTree_,this.path_)}}const Oa=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Na=function(e,t,n){return e&&"object"==typeof e?(R(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Ra(e[".sv"],t,n):"object"==typeof e[".sv"]?Pa(e[".sv"],t):void R(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ra=function(e,t,n){if("timestamp"===e)return n.timestamp;R(!1,"Unexpected server value: "+e)},Pa=function(e,t,n){e.hasOwnProperty("increment")||R(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&R(!1,"Unexpected increment value: "+i);const r=t.node();if(R(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},La=function(e,t,n,i){return Ma(t,new ka(n,e),i)},Da=function(e,t,n){return Ma(e,new Aa(t),n)};function Ma(e,t,n){const i=e.getPriority().val(),r=Na(i,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const i=e,o=Na(i.getValue(),t,n);return o!==i.getValue()||r!==i.getPriority().val()?new co(o,Io(r)):e}{const i=e;return o=i,r!==i.getPriority().val()&&(o=o.updatePriority(new co(r))),i.forEachChild(lo,((e,i)=>{const r=Ma(i,t.getImmediateChild(e),n);r!==i&&(o=o.updateImmediateChild(e,r))})),o}}class Fa{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function ja(e,t){let n=t instanceof Sr?t:new Sr(t),i=e,r=Ar(n);for(;null!==r;){const e=ue(i.node.children,r)||{children:{},childCount:0};i=new Fa(r,i,e),n=Or(n),r=Ar(n)}return i}function Ha(e){return e.node.value}function Ua(e,t){e.node.value=t,za(e)}function Ba(e){return e.node.childCount>0}function qa(e,t){Ki(e.node.children,((n,i)=>{t(new Fa(n,e,i))}))}function Va(e,t,n,i){n&&!i&&t(e),qa(e,(e=>{Va(e,t,!0,i)})),n&&i&&t(e)}function Wa(e){return new Sr(null===e.parent?e.name:Wa(e.parent)+"/"+e.name)}function za(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===Ha(e)&&!Ba(e)}(n),r=le(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,za(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,za(e))}(e.parent,e.name,e)}const $a=/[\[\].#$\/\u0000-\u001F\u007F]/,Ga=/[\[\].#$\u0000-\u001F\u007F]/,Ka=10485760,Ya=function(e){return"string"==typeof e&&0!==e.length&&!$a.test(e)},Xa=function(e){return"string"==typeof e&&0!==e.length&&!Ga.test(e)},Ja=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Ui(e)||e&&"object"==typeof e&&le(e,".sv")},Qa=function(e,t,n,i){i&&void 0===t||Za(Ie(e,"value"),t,n)},Za=function(e,t,n){const i=n instanceof Sr?new Ur(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+qr(i));if("function"==typeof t)throw new Error(e+"contains a function "+qr(i)+" with contents = "+t.toString());if(Ui(t))throw new Error(e+"contains "+t.toString()+" "+qr(i));if("string"==typeof t&&t.length>Ka/3&&Ee(t)>Ka)throw new Error(e+"contains a string greater than "+Ka+" utf8 bytes "+qr(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,r=!1;if(Ki(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!Ya(t)))throw new Error(e+" contains an invalid key ("+t+") "+qr(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ee(t),Br(e)}(i,t),Za(e,o,i),function(e){const t=e.parts_.pop();e.byteLength_-=Ee(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),n&&r)throw new Error(e+' contains ".value" child '+qr(i)+" in addition to actual children.")}},ec=function(e,t,n,i){if(i&&void 0===t)return;const r=Ie(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Ki(t,((e,t)=>{const i=new Sr(e);if(Za(r,t,Lr(n,i)),".priority"===Nr(i)&&!Ja(t))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(i)})),function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const r=Rr(i);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!Ya(r[t]))throw new Error(e+"contains an invalid key ("+r[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Fr);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&Hr(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},tc=function(e,t,n){if(!n||void 0!==t){if(Ui(t))throw new Error(Ie(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ja(t))throw new Error(Ie(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},nc=function(e,t,n,i){if(!(i&&void 0===n||Ya(n)))throw new Error(Ie(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ic=function(e,t,n,i){if(!(i&&void 0===n||Xa(n)))throw new Error(Ie(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},rc=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ic(e,t,n,i)},oc=function(e,t){if(".info"===Ar(t))throw new Error(e+" failed = Can't modify data under /.info/")},sc=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ya(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Xa(e)}(n))throw new Error(Ie(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ac{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cc(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null===n||jr(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function lc(e,t,n){cc(e,n),dc(e,(e=>jr(e,t)))}function uc(e,t,n){cc(e,n),dc(e,(e=>Hr(e,t)||Hr(t,e)))}function dc(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){t(r.path)?(hc(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function hc(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();Ri&&Di("event: "+n.toString()),Qi(i)}}}const pc="repo_interrupt",fc=25;class mc{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ac,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ho(),this.transactionQueueTree_=new Fa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gc(e,t,n){if(e.stats_=hr(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Fo(e.repoInfo_,((t,n,i,r)=>{_c(e,t,n,i,r)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>bc(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ae(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new zr(e.repoInfo_,t,((t,n,i,r)=>{_c(e,t,n,i,r)}),(t=>{bc(e,t)}),(t=>{!function(e,t){Ki(t,((t,n)=>{Ic(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return dr[n]||(dr[n]=t()),dr[n]}(e.repoInfo_,(()=>new Wo(e.stats_,e.server_))),e.infoData_=new jo,e.infoSyncTree_=new ca({startListening:(t,n,i,r)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=ha(e.infoSyncTree_,t._path,s),setTimeout((()=>{r("ok")}),0)),o},stopListening:()=>{}}),Ic(e,"connected",!1),e.serverSyncTree_=new ca({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,((n,i)=>{const o=r(n,i);uc(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function yc(e){const t=e.infoData_.getNode(new Sr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function vc(e){return Oa({timestamp:yc(e)})}function _c(e,t,n,i,r){e.dataUpdateCount++;const o=new Sr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){const t=he(n,(e=>Io(e)));s=function(e,t,n,i){const r=Ca(e,i);if(r){const i=Ta(r),o=i.path,s=i.queryId,a=Mr(o,t),c=ss.fromObject(n);return Sa(e,o,new Xo($o(s),a,c))}return[]}(e.serverSyncTree_,o,t,r)}else{const t=Io(n);s=fa(e.serverSyncTree_,o,t,r)}else if(i){const t=he(n,(e=>Io(e)));s=function(e,t,n){const i=ss.fromObject(n);return va(e,new Xo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,o,t)}else{const t=Io(n);s=ha(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=Rc(e,o)),uc(e.eventQueue_,a,s)}function bc(e,t){Ic(e,"connected",t),!1===t&&function(e){Ac(e,"onDisconnectEvents");const t=vc(e),n=Ho();qo(e.onDisconnect_,xr(),((i,r)=>{const o=La(i,r,e.serverSyncTree_,t);Uo(n,i,o)}));let i=[];qo(n,xr(),((t,n)=>{i=i.concat(ha(e.serverSyncTree_,t,n));const r=Fc(e,t);Rc(e,r)})),e.onDisconnect_=Ho(),uc(e.eventQueue_,xr(),i)}(e)}function Ic(e,t,n){const i=new Sr("/.info/"+t),r=Io(n);e.infoData_.updateSnapshot(i,r);const o=ha(e.infoSyncTree_,i,r);uc(e.eventQueue_,i,o)}function Ec(e){return e.nextWriteId_++}function wc(e,t,n,i,r){Ac(e,"set",{path:t.toString(),value:n,priority:i});const o=vc(e),s=Io(n,i),a=ga(e.serverSyncTree_,t),c=Da(s,a,o),l=Ec(e),u=la(e.serverSyncTree_,t,c,l,!0);cc(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,i)=>{const o="ok"===n;o||Hi("set at "+t+" failed: "+n);const s=da(e.serverSyncTree_,l,!o);uc(e.eventQueue_,t,s),kc(e,r,n,i)}));const d=Fc(e,t);Rc(e,d),uc(e.eventQueue_,d,[])}function Cc(e,t,n){e.server_.onDisconnectCancel(t.toString(),((i,r)=>{"ok"===i&&Bo(e.onDisconnect_,t),kc(e,n,i,r)}))}function Tc(e,t,n,i){const r=Io(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),((n,o)=>{"ok"===n&&Uo(e.onDisconnect_,t,r),kc(e,i,n,o)}))}function Sc(e,t,n){let i;i=".info"===Ar(t._path)?pa(e.infoSyncTree_,t,n):pa(e.serverSyncTree_,t,n),lc(e.eventQueue_,t._path,i)}function xc(e){e.persistentConnection_&&e.persistentConnection_.interrupt(pc)}function Ac(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Di(n,...t)}function kc(e,t,n,i){t&&Qi((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let r=e;i&&(r+=": "+i);const o=new Error(r);o.code=e,t(o)}}))}function Oc(e,t,n){return ga(e.serverSyncTree_,t,n)||vo.EMPTY_NODE}function Nc(e,t=e.transactionQueueTree_){if(t||Mc(e,t),Ha(t)){const n=Lc(e,t);R(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const i=n.map((e=>e.currentWriteId)),r=Oc(e,t,i);let o=r;const s=r.hash();for(let l=0;l<n.length;l++){const e=n[l];R(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=Mr(t,e.path);o=o.updateChild(i,e.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,(i=>{Ac(e,"transaction put response",{path:c.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(da(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Mc(e,ja(e.transactionQueueTree_,t)),Nc(e,e.transactionQueueTree_),uc(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)Qi(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Hi("transaction at "+c.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}Rc(e,t)}}),s)}(e,Wa(t),n)}else Ba(t)&&qa(t,(t=>{Nc(e,t)}))}function Rc(e,t){const n=Pc(e,t),i=Wa(n);return function(e,t,n){if(0===t.length)return;const i=[];let r=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let c=0;c<t.length;c++){const o=t[c],l=Mr(n,o.path);let u,d=!1;if(R(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,u=o.abortReason,r=r.concat(da(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=fc)d=!0,u="maxretry",r=r.concat(da(e.serverSyncTree_,o.currentWriteId,!0));else{const n=Oc(e,o.path,s);o.currentInputSnapshot=n;const i=t[c].update(n.val());if(void 0!==i){Za("transaction failed: Data returned ",i,o.path);let t=Io(i);"object"==typeof i&&null!=i&&le(i,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,c=vc(e),l=Da(t,n,c);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=l,o.currentWriteId=Ec(e),s.splice(s.indexOf(a),1),r=r.concat(la(e.serverSyncTree_,o.path,l,o.currentWriteId,o.applyLocally)),r=r.concat(da(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",r=r.concat(da(e.serverSyncTree_,o.currentWriteId,!0))}uc(e.eventQueue_,n,r),r=[],d&&(t[c].status=2,a=t[c].unwatcher,setTimeout(a,Math.floor(0)),t[c].onComplete&&("nodata"===u?i.push((()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot))):i.push((()=>t[c].onComplete(new Error(u),!1,null)))))}var a;Mc(e,e.transactionQueueTree_);for(let c=0;c<i.length;c++)Qi(i[c]);Nc(e,e.transactionQueueTree_)}(e,Lc(e,n),i),i}function Pc(e,t){let n,i=e.transactionQueueTree_;for(n=Ar(t);null!==n&&void 0===Ha(i);)i=ja(i,n),n=Ar(t=Or(t));return i}function Lc(e,t){const n=[];return Dc(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Dc(e,t,n){const i=Ha(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);qa(t,(t=>{Dc(e,t,n)}))}function Mc(e,t){const n=Ha(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ua(t,n.length>0?n:void 0)}qa(t,(t=>{Mc(e,t)}))}function Fc(e,t){const n=Wa(Pc(e,t)),i=ja(e.transactionQueueTree_,t);return function(e,t,n){let i=n?e:e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,(t=>{jc(e,t)})),jc(e,i),Va(i,(t=>{jc(e,t)})),n}function jc(e,t){const n=Ha(t);if(n){const i=[];let r=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(R(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(R(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(da(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Ua(t,void 0):n.length=o+1,uc(e.eventQueue_,Wa(t),r);for(let e=0;e<i.length;e++)Qi(i[e])}}const Hc=function(e,t){const n=Uc(e),i=n.namespace;"firebase.com"===n.domain&&ji(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||ji("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Hi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ar(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new Sr(n.pathString)}},Uc=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",c=443;if("string"==typeof e){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(i){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Hi(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=i}"ns"in h&&(o=h.ns)}return{host:t,port:c,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},Bc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qc=function(){let e=0;const t=[];return function(n){const i=n===e;let r;e=n;const o=new Array(8);for(r=7;r>=0;r--)o[r]=Bc.charAt(n%64),n=Math.floor(n/64);R(0===n,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=Bc.charAt(t[r]);return R(20===s.length,"nextPushId: Length should be 20."),s}}();class Vc{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ae(this.snapshot.exportVal())}}class Wc{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class zc{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return R(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class $c{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Y;return Cc(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){oc("OnDisconnect.remove",this._path);const e=new Y;return Tc(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){oc("OnDisconnect.set",this._path),Qa("OnDisconnect.set",e,this._path,!1);const t=new Y;return Tc(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){oc("OnDisconnect.setWithPriority",this._path),Qa("OnDisconnect.setWithPriority",e,this._path,!1),tc("OnDisconnect.setWithPriority",t,!1);const n=new Y;return function(e,t,n,i,r){const o=Io(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,i)=>{"ok"===n&&Uo(e.onDisconnect_,t,o),kc(0,r,n,i)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){oc("OnDisconnect.update",this._path),ec("OnDisconnect.update",e,this._path,!1);const t=new Y;return function(e,t,n,i){if(de(n))return Di("onDisconnect().update() called with empty data.  Don't do anything."),void kc(0,i,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((r,o)=>{"ok"===r&&Ki(n,((n,i)=>{const r=Io(i);Uo(e.onDisconnect_,Lr(t,n),r)})),kc(0,i,r,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class Gc{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return Dr(this._path)?null:Nr(this._path)}get ref(){return new Jc(this._repo,this._path)}get _queryIdentifier(){const e=Mo(this._queryParams),t=$i(e);return"{}"===t?"default":t}get _queryObject(){return Mo(this._queryParams)}isEqual(e){if(!((e=Ae(e))instanceof Gc))return!1;const t=this._repo===e._repo,n=jr(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Kc(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Yc(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Xr){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Bi)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==qi)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(e.getIndex()===lo){if(null!=t&&!Ja(t)||null!=n&&!Ja(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(R(e.getIndex()instanceof Eo||e.getIndex()===wo,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xc(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Jc extends Gc{constructor(e,t){super(e,t,new No,!1)}get parent(){const e=Pr(this._path);return null===e?null:new Jc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Qc{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Sr(e),n=el(this.ref,e);return new Qc(this._node.getChild(t),n,lo)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Qc(n,el(this.ref,t),lo))))}hasChild(e){const t=new Sr(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Zc(e,t){return(e=Ae(e))._checkNotDeleted("ref"),void 0!==t?el(e._root,t):e._root}function el(e,t){return null===Ar((e=Ae(e))._path)?rc("child","path",t,!1):ic("child","path",t,!1),new Jc(e._repo,Lr(e._path,t))}function tl(e,t){e=Ae(e),oc("set",e._path),Qa("set",t,e._path,!1);const n=new Y;return wc(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function nl(e){e=Ae(e);const t=new zc((()=>{})),n=new il(t);return function(e,t,n){const i=ya(e.serverSyncTree_,t);return null!=i?Promise.resolve(i):e.server_.get(t).then((i=>{const r=Io(i).withIndex(t._queryParams.getIndex());let o;if(ma(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=ha(e.serverSyncTree_,t._path,r);else{const n=Ea(e.serverSyncTree_,t);o=fa(e.serverSyncTree_,t._path,r,n)}return uc(e.eventQueue_,t._path,o),pa(e.serverSyncTree_,t,n,null,!0),r}),(n=>(Ac(e,"get for query "+ae(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new Qc(t,new Jc(e._repo,e._path),e._queryParams.getIndex())))}class il{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Vc("value",this,new Qc(e.snapshotNode,new Jc(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Wc(this,e,t):null}matches(e){return e instanceof il&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class rl{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Wc(this,e,t):null}createEvent(e,t){R(null!=e.childName,"Child events should have a childName.");const n=el(new Jc(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new Vc(e.type,this,new Qc(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof rl&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function ol(e,t,n,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const t=n,i=(n,i)=>{Sc(e._repo,e,a),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const s=new zc(n,o||void 0),a="value"===t?new il(s):new rl(t,s);return function(e,t,n){let i;i=".info"===Ar(t._path)?ma(e.infoSyncTree_,t,n):ma(e.serverSyncTree_,t,n),lc(e.eventQueue_,t._path,i)}(e._repo,e,a),()=>Sc(e._repo,e,a)}function sl(e,t,n,i){return ol(e,"value",t,n,i)}class al{}class cl extends al{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Qa("endAt",this._value,e._path,!0);const t=Po(e._queryParams,this._value,this._key);if(Xc(t),Yc(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gc(e._repo,e._path,t,e._orderByCalled)}}class ll extends al{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Qa("endBefore",this._value,e._path,!1);const t=function(e,t,n){let i;return i=e.index_===Xr||n?Po(e,t,n):Po(e,t,Bi),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(Xc(t),Yc(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gc(e._repo,e._path,t,e._orderByCalled)}}class ul extends al{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Qa("startAt",this._value,e._path,!0);const t=Ro(e._queryParams,this._value,this._key);if(Xc(t),Yc(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Gc(e._repo,e._path,t,e._orderByCalled)}}class dl extends al{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Qa("startAfter",this._value,e._path,!1);const t=function(e,t,n){let i;return i=e.index_===Xr||n?Ro(e,t,n):Ro(e,t,qi),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(Xc(t),Yc(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Gc(e._repo,e._path,t,e._orderByCalled)}}class hl extends al{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gc(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class pl extends al{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gc(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class fl extends al{constructor(e){super(),this._path=e}_apply(e){Kc(e,"orderByChild");const t=new Sr(this._path);if(Dr(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new Eo(t),i=Lo(e._queryParams,n);return Yc(i),new Gc(e._repo,e._path,i,!0)}}class ml extends al{_apply(e){Kc(e,"orderByKey");const t=Lo(e._queryParams,Xr);return Yc(t),new Gc(e._repo,e._path,t,!0)}}class gl extends al{_apply(e){Kc(e,"orderByPriority");const t=Lo(e._queryParams,lo);return Yc(t),new Gc(e._repo,e._path,t,!0)}}class yl extends al{_apply(e){Kc(e,"orderByValue");const t=Lo(e._queryParams,wo);return Yc(t),new Gc(e._repo,e._path,t,!0)}}class vl extends al{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Qa("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new cl(this._value,this._key)._apply(new ul(this._value,this._key)._apply(e))}}!function(e){R(!Ks,"__referenceConstructor has already been defined"),Ks=e}(Jc),function(e){R(!Ys,"__referenceConstructor has already been defined"),Ys=e}(Jc);const _l="FIREBASE_DATABASE_EMULATOR_HOST",bl={};let Il=!1;function El(e,t,n,i,r){let o=i||e.options.databaseURL;void 0===o&&(e.options.projectId||ji("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Di("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,c=Hc(o,r),l=c.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env[_l]),a?(s=!0,o=`http://${a}?ns=${l.namespace}`,c=Hc(o,r),l=c.repoInfo):s=!c.repoInfo.secure;const u=r&&s?new nr(nr.OWNER):new tr(e.name,e.options,t);sc("Invalid Firebase Database URL",c),Dr(c.path)||ji("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,i){let r=bl[t.name];r||(r={},bl[t.name]=r);let o=r[e.toURLString()];o&&ji("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new mc(e,Il,n,i),r[e.toURLString()]=o,o}(l,e,u,new er(e.name,n));return new wl(d,e)}class wl{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gc(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jc(this._repo,xr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=bl[t];n&&n[e.key]===e||ji(`Database ${t}(${e.repoInfo_}) has already been deleted.`),xc(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ji("Cannot call "+e+" on a deleted database.")}}function Cl(){_r.IS_TRANSPORT_INITIALIZED&&Hi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Tl(e=yt(),t){const n=ht(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=$("database");e&&Sl(n,...e)}return n}function Sl(e,t,n,i={}){(e=Ae(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&ji("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ji('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new nr(nr.OWNER);else if(i.mockUserToken){const t="string"==typeof i.mockUserToken?i.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[j(JSON.stringify({alg:"none",type:"JWT"})),j(JSON.stringify(o)),""].join(".")}(i.mockUserToken,e.app.options.projectId);o=new nr(t)}!function(e,t,n,i){e.repoInfo_=new ar(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}(r,t,n,o)}const xl={".sv":"timestamp"};class Al{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}zr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},zr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Ei(mt),dt(new ke("database",((e,{instanceIdentifier:t})=>El(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),vt(_i,bi,e),vt(_i,bi,"esm2017")}();const kl=Object.freeze(Object.defineProperty({__proto__:null,DataSnapshot:Qc,Database:wl,OnDisconnect:$c,QueryConstraint:al,TransactionResult:Al,_QueryImpl:Gc,_QueryParams:No,_ReferenceImpl:Jc,_TEST_ACCESS_forceRestClient:function(e){!function(e){Il=e}(e)},_TEST_ACCESS_hijackHash:function(e){const t=zr.prototype.put;return zr.prototype.put=function(n,i,r,o){void 0!==o&&(o=e()),t.call(this,n,i,r,o)},function(){zr.prototype.put=t}},_repoManagerDatabaseFromApp:El,_setSDKVersion:Ei,_validatePathString:ic,_validateWritablePath:oc,child:el,connectDatabaseEmulator:Sl,enableLogging:function(e,t){Li(e,t)},endAt:function(e,t){return nc("endAt","key",t,!0),new cl(e,t)},endBefore:function(e,t){return nc("endBefore","key",t,!0),new ll(e,t)},equalTo:function(e,t){return nc("equalTo","key",t,!0),new vl(e,t)},forceLongPolling:function(){Cl(),vr.forceDisallow(),mr.forceAllow()},forceWebSockets:function(){Cl(),mr.forceDisallow()},get:nl,getDatabase:Tl,goOffline:function(e){(e=Ae(e))._checkNotDeleted("goOffline"),xc(e._repo)},goOnline:function(e){var t;(e=Ae(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(pc)},increment:function(e){return{".sv":{increment:e}}},limitToFirst:function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new hl(e)},limitToLast:function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pl(e)},off:function(e,t,n){let i=null;const r=n?new zc(n):null;"value"===t?i=new il(r):t&&(i=new rl(t,r)),Sc(e._repo,e,i)},onChildAdded:function(e,t,n,i){return ol(e,"child_added",t,n,i)},onChildChanged:function(e,t,n,i){return ol(e,"child_changed",t,n,i)},onChildMoved:function(e,t,n,i){return ol(e,"child_moved",t,n,i)},onChildRemoved:function(e,t,n,i){return ol(e,"child_removed",t,n,i)},onDisconnect:function(e){return e=Ae(e),new $c(e._repo,e._path)},onValue:sl,orderByChild:function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ic("orderByChild","path",e,!1),new fl(e)},orderByKey:function(){return new ml},orderByPriority:function(){return new gl},orderByValue:function(){return new yl},push:function(e,t){e=Ae(e),oc("push",e._path),Qa("push",t,e._path,!0);const n=yc(e._repo),i=qc(n),r=el(e,i),o=el(e,i);let s;return s=null!=t?tl(o,t).then((()=>o)):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r},query:function(e,...t){let n=Ae(e);for(const i of t)n=i._apply(n);return n},ref:Zc,refFromURL:function(e,t){(e=Ae(e))._checkNotDeleted("refFromURL");const n=Hc(t,e._repo.repoInfo_.nodeAdmin);sc("refFromURL",n);const i=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||i.host===e._repo.repoInfo_.host||ji("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),Zc(e,n.path.toString())},remove:function(e){return oc("remove",e._path),tl(e,null)},runTransaction:function(e,t,n){var i;if(e=Ae(e),oc("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i,o=new Y,s=sl(e,(()=>{}));return function(e,t,n,i,r,o){Ac(e,"transaction on "+t);const s={path:t,update:n,onComplete:i,status:null,order:ki(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Oc(e,t,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Za("transaction failed: Data returned ",c,s.path),s.status=0;const n=ja(e.transactionQueueTree_,t),i=Ha(n)||[];let r;i.push(s),Ua(n,i),"object"==typeof c&&null!==c&&le(c,".priority")?(r=ue(c,".priority"),R(Ja(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):r=(ga(e.serverSyncTree_,t)||vo.EMPTY_NODE).getPriority().val();const o=vc(e),l=Io(c,r),u=Da(l,a,o);s.currentOutputSnapshotRaw=l,s.currentOutputSnapshotResolved=u,s.currentWriteId=Ec(e);const d=la(e.serverSyncTree_,t,u,s.currentWriteId,s.applyLocally);uc(e.eventQueue_,t,d),Nc(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,i)=>{let r=null;t?o.reject(t):(r=new Qc(i,new Jc(e._repo,e._path),lo),o.resolve(new Al(n,r)))}),s,r),o.promise},serverTimestamp:function(){return xl},set:tl,setPriority:function(e,t){e=Ae(e),oc("setPriority",e._path),tc("setPriority",t,!1);const n=new Y;return wc(e._repo,Lr(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise},setWithPriority:function(e,t,n){if(oc("setWithPriority",e._path),Qa("setWithPriority",t,e._path,!1),tc("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new Y;return wc(e._repo,e._path,t,n,i.wrapCallback((()=>{}))),i.promise},startAfter:function(e,t){return nc("startAfter","key",t,!0),new dl(e,t)},startAt:function(e=null,t){return nc("startAt","key",t,!0),new ul(e,t)},update:function(e,t){ec("update",t,e._path,!1);const n=new Y;return function(e,t,n,i){Ac(e,"update",{path:t.toString(),value:n});let r=!0;const o=vc(e),s={};if(Ki(n,((n,i)=>{r=!1,s[n]=La(Lr(t,n),Io(i),e.serverSyncTree_,o)})),r)Di("update() called with empty data.  Don't do anything."),kc(0,i,"ok",void 0);else{const r=Ec(e),o=ua(e.serverSyncTree_,t,s,r);cc(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const s="ok"===n;s||Hi("update at "+t+" failed: "+n);const a=da(e.serverSyncTree_,r,!s),c=a.length>0?Rc(e,t):t;uc(e.eventQueue_,c,a),kc(0,i,n,o)})),Ki(n,(n=>{const i=Fc(e,Lr(t,n));Rc(e,i)})),uc(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}},Symbol.toStringTag,{value:"Module"}));var Ol=function(e,t){return Ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ol(e,t)};function Nl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ol(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Rl=function(){return Rl=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Rl.apply(this,arguments)};function Pl(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function Ll(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dl(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(error){r={error:error}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function Ml(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Fl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jl=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Hl=Fl,Ul=new re("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Bl=new je("@firebase/auth");function ql(e,...t){Bl.logLevel<=Pe.ERROR&&Bl.error(`Auth (${mt}): ${e}`,...t)}function Vl(e,...t){throw Gl(e,...t)}function Wl(e,...t){return Gl(e,...t)}function zl(e,t,n){const i=Object.assign(Object.assign({},Hl()),{[t]:n});return new re("auth","Firebase",i).create(t,{appName:e.name})}function $l(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Vl(e,"argument-error"),zl(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gl(e,...t){if("string"!=typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return Ul.create(e,...t)}function Kl(e,t,...n){if(!e)throw Gl(t,...n)}function Yl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ql(t),new Error(t)}function Xl(e,t){e||Yl(t)}function Jl(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ql(){return"http:"===Zl()||"https:"===Zl()}function Zl(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xl(t>e,"Short delay should be less than long delay!"),this.isMobile=J()||Z()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ql()||Q()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tu(e,t){Xl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class nu{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Yl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Yl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Yl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ru=new eu(3e4,6e4);function ou(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function su(e,t,n,i,r={}){return au(e,r,(async()=>{let r={},o={};i&&("GET"===t?o=i:r={body:JSON.stringify(i)});const s=me(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),nu.fetch()(lu(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},r))}))}async function au(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},iu),t);try{const t=new uu(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw du(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const t=r.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw du(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw du(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw du(e,"user-disabled",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw zl(e,a,s);Vl(e,a)}}catch(r){if(r instanceof ie)throw r;Vl(e,"network-request-failed",{message:String(r)})}}async function cu(e,t,n,i,r={}){const o=await su(e,t,n,i,r);return"mfaPendingCredential"in o&&Vl(e,"multi-factor-auth-required",{_serverResponse:o}),o}function lu(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?tu(e.config,r):`${e.config.apiScheme}://${r}`}class uu{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Wl(this.auth,"network-request-failed"))),ru.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function du(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Wl(e,t,i);return r.customData._tokenResponse=n,r}function hu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}async function pu(e,t=!1){const n=Ae(e),i=await n.getIdToken(t),r=mu(i);Kl(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:hu(fu(r.auth_time)),issuedAtTime:hu(fu(r.iat)),expirationTime:hu(fu(r.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}function fu(e){return 1e3*Number(e)}function mu(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return ql("JWT malformed, contained fewer than 3 sections"),null;try{const e=H(n);return e?JSON.parse(e):(ql("Failed to decode base64 JWT payload"),null)}catch(r){return ql("Caught error parsing JWT payload as JSON",null==r?void 0:r.toString()),null}}async function gu(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ie&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}class yu{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class vu{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _u(e){var t;const n=e.auth,i=await e.getIdToken(),r=await gu(e,async function(e,t){return su(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));Kl(null==r?void 0:r.users.length,n,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Pl(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),h=!!u&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,p)}async function bu(e){const t=Ae(e);await _u(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}class Iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Kl(e.idToken,"internal-error"),Kl(void 0!==e.idToken,"internal-error"),Kl(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=mu(e);return Kl(t,"internal-error"),Kl(void 0!==t.exp,"internal-error"),Kl(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Kl(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await au(e,{},(async()=>{const n=me({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=lu(e,i,"/v1/token",`key=${r}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",nu.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,o=new Iu;return n&&(Kl("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),i&&(Kl("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),r&&(Kl("number"==typeof r,"internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Iu,this.toJSON())}_performRefresh(){return Yl("not implemented")}}function Eu(e,t){Kl("string"==typeof e||void 0===e,"internal-error",{appName:t})}class wu{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=Pl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new vu(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await gu(this,this.stsTokenManager.getToken(this.auth,e));return Kl(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pu(this,e)}reload(){return bu(this)}_assign(e){this!==e&&(Kl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Kl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await _u(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await gu(this,async function(e,t){return su(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:_,isAnonymous:b,providerData:I,stsTokenManager:E}=t;Kl(v&&E,e,"internal-error");const w=Iu.fromJSON(this.name,E);Kl("string"==typeof v,e,"internal-error"),Eu(u,e.name),Eu(d,e.name),Kl("boolean"==typeof _,e,"internal-error"),Kl("boolean"==typeof b,e,"internal-error"),Eu(h,e.name),Eu(p,e.name),Eu(f,e.name),Eu(m,e.name),Eu(g,e.name),Eu(y,e.name);const C=new wu({uid:v,auth:e,email:d,emailVerified:_,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:w,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(C.providerData=I.map((e=>Object.assign({},e)))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t,n=!1){const i=new Iu;i.updateFromServerResponse(t);const r=new wu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await _u(r),r}}const Cu=new Map;function Tu(e){Xl(e instanceof Function,"Expected a class definition");let t=Cu.get(e);return t?(Xl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Cu.set(e,t),t)}class Su{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Su.type="NONE";const xu=Su;function Au(e,t,n){return`firebase:${e}:${t}:${n}`}class ku{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Au(this.userKey,i.apiKey,r),this.fullPersistenceKey=Au("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ku(Tu(xu),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||Tu(xu);const o=Au(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=wu._fromJSON(e,t);c!==r&&(s=n),r=c;break}}catch(Vv){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],s&&await r._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(o)}catch(Vv){}}))),new ku(r,e,n)):new ku(r,e,n)}}function Ou(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Lu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mu(t))return"Blackberry";if(Fu(t))return"Webos";if(Ru(t))return"Safari";if((t.includes("chrome/")||Pu(t))&&!t.includes("edge/"))return"Chrome";if(Du(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Nu(e=X()){return/firefox\//i.test(e)}function Ru(e=X()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Pu(e=X()){return/crios\//i.test(e)}function Lu(e=X()){return/iemobile/i.test(e)}function Du(e=X()){return/android/i.test(e)}function Mu(e=X()){return/blackberry/i.test(e)}function Fu(e=X()){return/webos/i.test(e)}function ju(e=X()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Hu(){return function(){const e=X();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Uu(e=X()){return ju(e)||Du(e)||Fu(e)||Mu(e)||/windows phone/i.test(e)||Lu(e)}function Bu(e,t=[]){let n;switch(e){case"Browser":n=Ou(X());break;case"Worker":n=`${Ou(X())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${mt}/${i}`}async function qu(e,t){return su(e,"GET","/v2/recaptchaConfig",ou(e,t))}function Vu(e){return void 0!==e&&void 0!==e.getResponse}function Wu(e){return void 0!==e&&void 0!==e.enterprise}class zu{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function $u(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=Wl("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}))}function Gu(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ku{constructor(e){this.type="recaptcha-enterprise",this.auth=Qu(e)}async verify(e="verify",t=!1){function n(t,n,i){const r=window.grecaptcha;Wu(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{qu(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new zu(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&Wu(window.grecaptcha))n(r,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));$u("https://www.google.com/recaptcha/enterprise.js?render="+r).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function Yu(e,t,n,i=!1){const r=new Ku(e);let o;try{o=await r.verify(n)}catch(error){o=await r.verify(n,!0)}const s=Object.assign({},t);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class Xu{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(r){i(r)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==n?void 0:n.message})}}}class Ju{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zu(this),this.idTokenSubscription=new Zu(this),this.beforeStateQueue=new Xu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ul,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Tu(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ku.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(i=s.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Kl(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _u(e)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ae(e):null;return t&&Kl(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Kl(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Tu(e))}))}async initializeRecaptchaConfig(){const e=await qu(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new zu(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Ku(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new re("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Tu(e)||this._popupRedirectResolver;Kl(t,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[Tu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Kl(o,this,"internal-error"),o.then((()=>r(this.currentUser))),"function"==typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Kl(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Bl.logLevel<=Pe.WARN&&Bl.warn(`Auth (${mt}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Qu(e){return Ae(e)}class Zu{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new _e(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Kl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ed(e,t){const n=ht(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(pe(n.getOptions(),null!=t?t:{}))return e;Vl(e,"already-initialized")}return n.initialize({options:t})}function td(e,t,n){const i=Qu(e);Kl(i._canInitEmulator,i,"emulator-config-failed"),Kl(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),o=nd(t),{host:s,port:a}=function(e){const t=nd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:id(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:id(t)}}}(t),c=null===a?"":`:${a}`;i.config.emulator={url:`${o}//${s}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function nd(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function id(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class rd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yl("not implemented")}_getIdTokenResponse(e){return Yl("not implemented")}_linkToIdToken(e,t){return Yl("not implemented")}_getReauthenticationResolver(e){return Yl("not implemented")}}async function od(e,t){return su(e,"POST","/v1/accounts:resetPassword",ou(e,t))}async function sd(e,t){return su(e,"POST","/v1/accounts:update",t)}async function ad(e,t){return cu(e,"POST","/v1/accounts:signInWithPassword",ou(e,t))}async function cd(e,t){return su(e,"POST","/v1/accounts:sendOobCode",ou(e,t))}async function ld(e,t){return cd(e,t)}async function ud(e,t){return cd(e,t)}class dd extends rd{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new dd(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new dd(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Yu(e,n,"signInWithPassword");return ad(e,t)}return ad(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Yu(e,n,"signInWithPassword");return ad(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return cu(e,"POST","/v1/accounts:signInWithEmailLink",ou(e,t))}(e,{email:this._email,oobCode:this._password});default:Vl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return sd(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return cu(e,"POST","/v1/accounts:signInWithEmailLink",ou(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Vl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hd(e,t){return cu(e,"POST","/v1/accounts:signInWithIdp",ou(e,t))}class pd extends rd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new pd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=Pl(t,["providerId","signInMethod"]);if(!n||!i)return null;const o=new pd(n,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){return hd(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,hd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hd(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=me(t)}return e}}const fd={USER_NOT_FOUND:"user-not-found"};class md extends rd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new md({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new md({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return cu(e,"POST","/v1/accounts:signInWithPhoneNumber",ou(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await cu(e,"POST","/v1/accounts:signInWithPhoneNumber",ou(e,t));if(n.temporaryProof)throw du(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return cu(e,"POST","/v1/accounts:signInWithPhoneNumber",ou(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),fd)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new md({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class gd{constructor(e){var t,n,i,r,o,s;const a=ge(ye(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);Kl(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=ge(ye(e)).link,n=t?ge(ye(t)).deep_link_id:null,i=ge(ye(e)).deep_link_id;return(i?ge(ye(i)).link:null)||i||n||t||e}(e);try{return new gd(t)}catch(Vv){return null}}}class yd{constructor(){this.providerId=yd.PROVIDER_ID}static credential(e,t){return dd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=gd.parseLink(t);return Kl(n,"argument-error"),dd._fromEmailAndCode(e,n.code,n.tenantId)}}yd.PROVIDER_ID="password",yd.EMAIL_PASSWORD_SIGN_IN_METHOD="password",yd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _d extends vd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bd extends _d{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Kl("providerId"in t&&"signInMethod"in t,"argument-error"),pd._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Kl(e.idToken||e.accessToken,"argument-error"),pd._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return bd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return bd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:r,nonce:o,providerId:s}=e;if(!(n||i||t||r))return null;if(!s)return null;try{return new bd(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:r})}catch(a){return null}}}class Id extends _d{constructor(){super("facebook.com")}static credential(e){return pd._fromParams({providerId:Id.PROVIDER_ID,signInMethod:Id.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Id.credentialFromTaggedObject(e)}static credentialFromError(e){return Id.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Id.credential(e.oauthAccessToken)}catch(Vv){return null}}}Id.FACEBOOK_SIGN_IN_METHOD="facebook.com",Id.PROVIDER_ID="facebook.com";class Ed extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return pd._fromParams({providerId:Ed.PROVIDER_ID,signInMethod:Ed.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ed.credentialFromTaggedObject(e)}static credentialFromError(e){return Ed.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ed.credential(t,n)}catch(Vv){return null}}}Ed.GOOGLE_SIGN_IN_METHOD="google.com",Ed.PROVIDER_ID="google.com";class wd extends _d{constructor(){super("github.com")}static credential(e){return pd._fromParams({providerId:wd.PROVIDER_ID,signInMethod:wd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wd.credentialFromTaggedObject(e)}static credentialFromError(e){return wd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return wd.credential(e.oauthAccessToken)}catch(Vv){return null}}}wd.GITHUB_SIGN_IN_METHOD="github.com",wd.PROVIDER_ID="github.com";class Cd extends rd{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return hd(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,hd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hd(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new Cd(n,r):null}static _create(e,t){return new Cd(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Td extends vd{constructor(e){Kl(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Td.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Td.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Cd.fromJSON(e);return Kl(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Cd._create(n,t)}catch(i){return null}}}class Sd extends _d{constructor(){super("twitter.com")}static credential(e,t){return pd._fromParams({providerId:Sd.PROVIDER_ID,signInMethod:Sd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Sd.credentialFromTaggedObject(e)}static credentialFromError(e){return Sd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Sd.credential(t,n)}catch(Vv){return null}}}async function xd(e,t){return cu(e,"POST","/v1/accounts:signUp",ou(e,t))}Sd.TWITTER_SIGN_IN_METHOD="twitter.com",Sd.PROVIDER_ID="twitter.com";class Ad{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await wu._fromIdTokenResponse(e,n,i),o=kd(n);return new Ad({user:r,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=kd(n);return new Ad({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function kd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Od extends ie{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Od.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Od(e,t,n,i)}}function Nd(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Od._fromErrorAndOperation(e,n,t,i);throw n}))}function Rd(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function Pd(e,t,n=!1){const i=await gu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ad._forOperation(e,"link",i)}async function Ld(e,t,n){await _u(t);const i=!1===e?"provider-already-linked":"no-such-provider";Kl(Rd(t.providerData).has(n)===e,t.auth,i)}async function Dd(e,t,n=!1){const{auth:i}=e,r="reauthenticate";try{const o=await gu(e,Nd(i,r,t,e),n);Kl(o.idToken,i,"internal-error");const s=mu(o.idToken);Kl(s,i,"internal-error");const{sub:a}=s;return Kl(e.uid===a,i,"user-mismatch"),Ad._forOperation(e,r,o)}catch(o){throw"auth/user-not-found"===(null==o?void 0:o.code)&&Vl(i,"user-mismatch"),o}}async function Md(e,t,n=!1){const i="signIn",r=await Nd(e,i,t),o=await Ad._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(o.user),o}async function Fd(e,t){return Md(Qu(e),t)}async function jd(e,t){const n=Ae(e);return await Ld(!1,n,t.providerId),Pd(n,t)}async function Hd(e,t){return Dd(Ae(e),t)}class Ud{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Bd._fromServerResponse(e,t):"totpInfo"in t?qd._fromServerResponse(e,t):Vl(e,"internal-error")}}class Bd extends Ud{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Bd(t)}}class qd extends Ud{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new qd(t)}}function Vd(e,t,n){var i;Kl((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),Kl(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Kl(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Kl(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Wd(e,t,n){var i;const r=Qu(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Yu(r,o,"getOobCode",!0);n&&Vd(r,e,n),await ld(r,e)}else n&&Vd(r,o,n),await ld(r,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Yu(r,o,"getOobCode",!0);n&&Vd(r,e,n),await ld(r,e)}}))}async function zd(e,t){const n=Ae(e),i=await od(n,{oobCode:t}),r=i.requestType;switch(Kl(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Kl(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Kl(i.mfaInfo,n,"internal-error");default:Kl(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=Ud._fromServerResponse(Qu(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}}async function $d(e,t,n){var i;const r=Qu(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Yu(r,o,"signUpPassword");s=xd(r,e)}else s=xd(r,o).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Yu(r,o,"signUpPassword");return xd(r,e)}return Promise.reject(e)}));const a=await s.catch((e=>Promise.reject(e))),c=await Ad._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function Gd(e,t,n){return Fd(Ae(e),yd.credential(t,n))}async function Kd(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=Ae(e),r={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await gu(i,async function(e,t){return su(e,"POST","/v1/accounts:update",t)}(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const s=i.providerData.find((({providerId:e})=>"password"===e));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function Yd(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const o=await gu(e,sd(i,r));await e._updateTokensIfNecessary(o,!0)}class Xd{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Jd extends Xd{constructor(e,t,n,i){super(e,t,n),this.username=i}}class Qd extends Xd{constructor(e,t){super(e,"facebook.com",t)}}class Zd extends Jd{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class eh extends Xd{constructor(e,t){super(e,"google.com",t)}}class th extends Jd{constructor(e,t,n){super(e,"twitter.com",t,n)}}function nh(e,t,n,i){return Ae(e).onIdTokenChanged(t,n,i)}function ih(e,t,n){return Ae(e).beforeAuthStateChanged(t,n)}function rh(e){return Ae(e).signOut()}class oh{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new oh("enroll",e,t)}static _fromMfaPendingCredential(e){return new oh("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return oh._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return oh._fromIdtoken(e.multiFactorSession.idToken)}return null}}class sh{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Qu(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map((e=>Ud._fromServerResponse(n,e)));Kl(i.mfaPendingCredential,n,"internal-error");const o=oh._fromMfaPendingCredential(i.mfaPendingCredential);return new sh(o,r,(async e=>{const r=await e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await Ad._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Kl(t.user,n,"internal-error"),Ad._forOperation(t.user,t.operationType,s);default:Vl(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ah{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Ud._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ah(e)}async getSession(){return oh._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,i=await this.getSession(),r=await gu(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await gu(this.user,(i=this.user.auth,r={idToken:n,mfaEnrollmentId:t},su(i,"POST","/v2/accounts/mfaEnrollment:withdraw",ou(i,r))));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var i,r}}const ch=new WeakMap;const lh="__sak";class uh{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch(Vv){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class dh extends uh{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=X();return Ru(e)||ju(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Uu(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Hu()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dh.type="LOCAL";const hh=dh;class ph extends uh{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ph.type="SESSION";const fh=ph;class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new mh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,o=this.handlersMap[i];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function gh(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}mh.receivers=[];class yh{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise(((s,a)=>{const c=gh("",20);i.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),s(t.data.response);break;default:clearTimeout(l),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function vh(){return window}function _h(){return void 0!==vh().WorkerGlobalScope&&"function"==typeof vh().importScripts}const bh="firebaseLocalStorageDb",Ih="firebaseLocalStorage",Eh="fbase_key";class wh{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ch(e,t){return e.transaction([Ih],t?"readwrite":"readonly").objectStore(Ih)}function Th(){const e=indexedDB.open(bh,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ih,{keyPath:Eh})}catch(i){n(i)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ih)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(bh);return new wh(e).toPromise()}(),t(await Th()))}))}))}async function Sh(e,t,n){const i=Ch(e,!0).put({[Eh]:t,value:n});return new wh(i).toPromise()}function xh(e,t){const n=Ch(e,!0).delete(t);return new wh(n).toPromise()}class Ah{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Th()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _h()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(_h()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new yh(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(Vv){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Th();return await Sh(e,lh,"1"),await xh(e,lh),!0}catch(Vv){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Sh(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ch(e,!1).get(t),i=await new wh(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>xh(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ch(e,!1).getAll();return new wh(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ah.type="LOCAL";const kh=Ah;const Oh=1e12;class Nh{constructor(e){this.auth=e,this.counter=Oh,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Rh(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Oh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Oh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Oh;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Rh{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;Kl(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ph=Gu("rcb"),Lh=new eu(3e4,6e4);class Dh{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=vh().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return Kl(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Vu(vh().grecaptcha)?Promise.resolve(vh().grecaptcha):new Promise(((n,i)=>{const r=vh().setTimeout((()=>{i(Wl(e,"network-request-failed"))}),Lh.get());vh()[Ph]=()=>{vh().clearTimeout(r),delete vh()[Ph];const o=vh().grecaptcha;if(!o||!Vu(o))return void i(Wl(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};$u(`https://www.google.com/recaptcha/api.js??${me({onload:Ph,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(r),i(Wl(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=vh().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mh{async load(e){return new Nh(e)}clearedOneInstance(){}}const Fh="recaptcha",jh={theme:"light",type:"image"};class Hh{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=md._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Uh(e,t,n){var i;const r=await n.verify();try{let o;if(Kl("string"==typeof r,e,"argument-error"),Kl(n.type===Fh,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Kl("enroll"===t.type,e,"internal-error");const n=await function(e,t){return su(e,"POST","/v2/accounts/mfaEnrollment:start",ou(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{Kl("signin"===t.type,e,"internal-error");const n=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid;Kl(n,e,"missing-multi-factor-info");const s=await function(e,t){return su(e,"POST","/v2/accounts/mfaSignIn:start",ou(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return su(e,"POST","/v1/accounts:sendVerificationCode",ou(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class Bh{constructor(e){this.providerId=Bh.PROVIDER_ID,this.auth=Qu(e)}verifyPhoneNumber(e,t){return Uh(this.auth,e,Ae(t))}static credential(e,t){return md._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Bh.credentialFromTaggedObject(t)}static credentialFromError(e){return Bh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?md._fromTokenResponse(t,n):null}}function qh(e,t){return t?Tu(t):(Kl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bh.PROVIDER_ID="phone",Bh.PHONE_SIGN_IN_METHOD="phone";class Vh extends rd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Wh(e){return Md(e.auth,new Vh(e),e.bypassAuthState)}function zh(e){const{auth:t,user:n}=e;return Kl(n,t,"internal-error"),Dd(n,new Vh(e),e.bypassAuthState)}async function $h(e){const{auth:t,user:n}=e;return Kl(n,t,"internal-error"),Pd(n,new Vh(e),e.bypassAuthState)}class Gh{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wh;case"linkViaPopup":case"linkViaRedirect":return $h;case"reauthViaPopup":case"reauthViaRedirect":return zh;default:Vl(this.auth,"internal-error")}}resolve(e){Xl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kh=new eu(2e3,1e4);async function Yh(e,t,n){const i=Qu(e);$l(e,t,vd);const r=qh(i,n);return new Xh(i,"signInViaPopup",t,r).executeNotNull()}class Xh extends Gh{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Xh.currentPopupAction&&Xh.currentPopupAction.cancel(),Xh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Kl(e,this.auth,"internal-error"),e}async onExecution(){Xl(1===this.filter.length,"Popup operations only handle one event");const e=gh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Wl(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Wl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Wl(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Kh.get())};e()}}Xh.currentPopupAction=null;const Jh="pendingRedirect",Qh=new Map;class Zh extends Gh{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Qh.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ip(t),i=np(e);if(!(await i._isAvailable()))return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Qh.set(this.auth._key(),e)}return this.bypassAuthState||Qh.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function ep(e,t){return np(e)._set(ip(t),"true")}function tp(e,t){Qh.set(e._key(),t)}function np(e){return Tu(e._redirectPersistence)}function ip(e){return Au(Jh,e.config.apiKey,e.name)}async function rp(e,t,n=!1){const i=Qu(e),r=qh(i,t),o=new Zh(i,r,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}async function op(e){const t=gh(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class sp{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!cp(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Wl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ap(e))}saveEventToCache(e){this.cachedEventUids.add(ap(e)),this.lastProcessedEventTime=Date.now()}}function ap(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function cp({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const lp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,up=/^https?/;async function dp(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return su(e,"GET","/v1/projects",t)}(e);for(const n of t)try{if(hp(n))return}catch(Vv){}Vl(e,"unauthorized-domain")}function hp(e){const t=Jl(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!up.test(n))return!1;if(lp.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const pp=new eu(3e4,6e4);function fp(){const e=vh().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let mp=null;function gp(e){return mp=mp||function(e){return new Promise(((t,n)=>{var i,r,o;function s(){fp(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fp(),n(Wl(e,"network-request-failed"))},timeout:pp.get()})}if(null===(r=null===(i=vh().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=vh().gapi)||void 0===o?void 0:o.load)){const t=Gu("iframefcb");return vh()[t]=()=>{gapi.load?s():n(Wl(e,"network-request-failed"))},$u(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw mp=null,e}))}(e),mp}const yp=new eu(5e3,15e3),vp="__/auth/iframe",_p="emulator/auth/iframe",bp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ip=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ep(e){const t=e.config;Kl(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?tu(t,_p):`https://${e.config.authDomain}/${vp}`,i={apiKey:t.apiKey,appName:e.name,v:mt},r=Ip.get(e.config.apiHost);r&&(i.eid=r);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${me(i).slice(1)}`}const wp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Tp(e,t,n,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const c=Object.assign(Object.assign({},wp),{width:i.toString(),height:r.toString(),top:o,left:s}),l=X().toLowerCase();n&&(a=Pu(l)?"_blank":n),Nu(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=X()){var t;return ju(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",a),new Cp(null);const d=window.open(t||"",a,u);Kl(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Cp(d)}const Sp="__/auth/handler",xp="emulator/auth/handler",Ap=encodeURIComponent("fac");async function kp(e,t,n,i,r,o){Kl(e.config.authDomain,e,"auth-domain-config-required"),Kl(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:mt,eventId:r};if(t instanceof vd){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",de(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof _d){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?`#${Ap}=${encodeURIComponent(c)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Sp}`;return tu(e,xp)}(e)}?${me(a).slice(1)}${l}`}const Op="webStorageSupport";const Np=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fh,this._completeRedirectFn=rp,this._overrideRedirectResult=tp}async _openPopup(e,t,n,i){var r;Xl(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Tp(e,await kp(e,t,n,Jl(),i),gh())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){vh().location.href=e}(await kp(e,t,n,Jl(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Xl(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await gp(e),n=vh().gapi;return Kl(n,e,"internal-error"),t.open({where:document.body,url:Ep(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bp,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=Wl(e,"network-request-failed"),o=vh().setTimeout((()=>{i(r)}),yp.get());function s(){vh().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{i(r)}))}))))}(e),n=new sp(e);return t.register("authEvent",(t=>{Kl(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Op,{type:Op},(n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i[Op];void 0!==r&&t(!!r),Vl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dp(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Uu()||Ru()||ju()}};class Rp{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Yl("unexpected MultiFactorSessionType")}}}class Pp extends Rp{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Pp(e)}_finalizeEnroll(e,t,n){return function(e,t){return su(e,"POST","/v2/accounts/mfaEnrollment:finalize",ou(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return su(e,"POST","/v2/accounts/mfaSignIn:finalize",ou(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Lp{constructor(){}static assertion(e){return Pp._fromCredential(e)}}Lp.FACTOR_ID="phone";class Dp{static assertionForEnrollment(e,t){return Mp._fromSecret(e,t)}static assertionForSignIn(e,t){return Mp._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;Kl(void 0!==t.auth,"internal-error");const n=await(i=t.auth,r={idToken:t.credential,totpEnrollmentInfo:{}},su(i,"POST","/v2/accounts/mfaEnrollment:start",ou(i,r)));var i,r;return Fp._fromStartTotpMfaEnrollmentResponse(n,t.auth)}}Dp.FACTOR_ID="totp";class Mp extends Rp{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new Mp(t,void 0,e)}static _fromEnrollmentId(e,t){return new Mp(t,e)}async _finalizeEnroll(e,t,n){return Kl(void 0!==this.secret,e,"argument-error"),function(e,t){return su(e,"POST","/v2/accounts/mfaEnrollment:finalize",ou(e,t))}(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){Kl(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");const n={verificationCode:this.otp};return function(e,t){return su(e,"POST","/v2/accounts/mfaSignIn:finalize",ou(e,t))}(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class Fp{constructor(e,t,n,i,r,o,s){this.sessionInfo=o,this.auth=s,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=r}static _fromStartTotpMfaEnrollmentResponse(e,t){return new Fp(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let i=!1;return(jp(e)||jp(t))&&(i=!0),i&&(jp(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),jp(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function jp(e){return void 0===e||0===(null==e?void 0:e.length)}var Hp="@firebase/auth",Up="0.23.2";class Bp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Kl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qp=K("authIdTokenMaxAge")||300;let Vp=null;const Wp=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qp)return;const r=null==n?void 0:n.token;Vp!==r&&(Vp=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function zp(e=yt()){const t=ht(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ed(e,{popupRedirectResolver:Np,persistence:[kh,hh,fh]}),i=K("authTokenSyncURL");if(i){const e=Wp(i);ih(n,e,(()=>e(n.currentUser))),nh(n,(t=>e(t)))}const r=z("auth");return r&&td(n,`http://${r}`),n}var $p;$p="Browser",dt(new ke("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Kl(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:s,clientPlatform:$p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bu($p)},c=new Ju(n,i,r,a);return function(e,t){const n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Tu);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(c,t),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),dt(new ke("auth-internal",(e=>(e=>new Bp(e))(Qu(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),vt(Hp,Up,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}($p)),vt(Hp,Up,"esm2017");const Gp=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"},ActionCodeURL:gd,AuthCredential:rd,AuthErrorCodes:{ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"},EmailAuthCredential:dd,EmailAuthProvider:yd,FacebookAuthProvider:Id,FactorId:{PHONE:"phone",TOTP:"totp"},GithubAuthProvider:wd,GoogleAuthProvider:Ed,OAuthCredential:pd,OAuthProvider:bd,OperationType:{LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},PhoneAuthCredential:md,PhoneAuthProvider:Bh,PhoneMultiFactorGenerator:Lp,ProviderId:{FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},RecaptchaVerifier:class{constructor(e,t=Object.assign({},jh),n){this.parameters=t,this.type=Fh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qu(n),this.isInvisible="invisible"===this.parameters.size,Kl("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;Kl(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mh:new Dh,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Kl(!this.parameters.sitekey,this.auth,"argument-error"),Kl(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Kl("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=vh()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){Kl(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Kl(Ql()&&!_h(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await su(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Kl(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Kl(this.recaptcha,this.auth,"internal-error"),this.recaptcha}},SAMLAuthProvider:Td,SignInMethod:{EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},TotpMultiFactorGenerator:Dp,TotpSecret:Fp,TwitterAuthProvider:Sd,applyActionCode:async function(e,t){await async function(e,t){return su(e,"POST","/v1/accounts:update",ou(e,t))}(Ae(e),{oobCode:t})},beforeAuthStateChanged:ih,browserLocalPersistence:hh,browserPopupRedirectResolver:Np,browserSessionPersistence:fh,checkActionCode:zd,confirmPasswordReset:async function(e,t,n){await od(Ae(e),{oobCode:t,newPassword:n})},connectAuthEmulator:td,createUserWithEmailAndPassword:$d,debugErrorMap:jl,deleteUser:async function(e){return Ae(e).delete()},fetchSignInMethodsForEmail:async function(e,t){const n={identifier:t,continueUri:Ql()?Jl():"http://localhost"},{signinMethods:i}=await async function(e,t){return su(e,"POST","/v1/accounts:createAuthUri",ou(e,t))}(Ae(e),n);return i||[]},getAdditionalUserInfo:function(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null==e?void 0:e.idToken)){const i=null===(n=null===(t=mu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new Xd(o,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new Qd(o,r);case"github.com":return new Zd(o,r);case"google.com":return new eh(o,r);case"twitter.com":return new th(o,r,e.screenName||null);case"custom":case"anonymous":return new Xd(o,null);default:return new Xd(o,i,r)}}(n)},getAuth:zp,getIdToken:function(e,t=!1){return Ae(e).getIdToken(t)},getIdTokenResult:pu,getMultiFactorResolver:function(e,t){var n;const i=Ae(e),r=t;return Kl(t.customData.operationType,i,"argument-error"),Kl(null===(n=r.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),sh._fromError(i,r)},getRedirectResult:async function(e,t){return await Qu(e)._initializationPromise,rp(e,t,!1)},inMemoryPersistence:xu,indexedDBLocalPersistence:kh,initializeAuth:ed,initializeRecaptchaConfig:function(e){return Qu(e).initializeRecaptchaConfig()},isSignInWithEmailLink:function(e,t){const n=gd.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)},linkWithCredential:jd,linkWithPhoneNumber:async function(e,t,n){const i=Ae(e);await Ld(!1,i,"phone");const r=await Uh(i.auth,t,Ae(n));return new Hh(r,(e=>jd(i,e)))},linkWithPopup:async function(e,t,n){const i=Ae(e);$l(i.auth,t,vd);const r=qh(i.auth,n);return new Xh(i.auth,"linkViaPopup",t,r,i).executeNotNull()},linkWithRedirect:function(e,t,n){return async function(e,t,n){const i=Ae(e);$l(i.auth,t,vd),await i.auth._initializationPromise;const r=qh(i.auth,n);await Ld(!1,i,t.providerId),await ep(r,i.auth);const o=await op(i);return r._openRedirect(i.auth,t,"linkViaRedirect",o)}(e,t,n)},multiFactor:function(e){const t=Ae(e);return ch.has(t)||ch.set(t,ah._fromUser(t)),ch.get(t)},onAuthStateChanged:function(e,t,n,i){return Ae(e).onAuthStateChanged(t,n,i)},onIdTokenChanged:nh,parseActionCodeURL:function(e){return gd.parseLink(e)},prodErrorMap:Hl,reauthenticateWithCredential:Hd,reauthenticateWithPhoneNumber:async function(e,t,n){const i=Ae(e),r=await Uh(i.auth,t,Ae(n));return new Hh(r,(e=>Hd(i,e)))},reauthenticateWithPopup:async function(e,t,n){const i=Ae(e);$l(i.auth,t,vd);const r=qh(i.auth,n);return new Xh(i.auth,"reauthViaPopup",t,r,i).executeNotNull()},reauthenticateWithRedirect:function(e,t,n){return async function(e,t,n){const i=Ae(e);$l(i.auth,t,vd),await i.auth._initializationPromise;const r=qh(i.auth,n);await ep(r,i.auth);const o=await op(i);return r._openRedirect(i.auth,t,"reauthViaRedirect",o)}(e,t,n)},reload:bu,sendEmailVerification:async function(e,t){const n=Ae(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Vd(n.auth,i,t);const{email:r}=await async function(e,t){return cd(e,t)}(n.auth,i);r!==e.email&&await e.reload()},sendPasswordResetEmail:Wd,sendSignInLinkToEmail:async function(e,t,n){var i;const r=Qu(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(e,t){Kl(t.handleCodeInApp,r,"argument-error"),t&&Vd(r,e,t)}if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Yu(r,o,"getOobCode",!0);s(e,n),await ud(r,e)}else s(o,n),await ud(r,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Yu(r,o,"getOobCode",!0);s(e,n),await ud(r,e)}}))},setPersistence:function(e,t){return Ae(e).setPersistence(t)},signInAnonymously:async function(e){var t;const n=Qu(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ad({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await xd(n,{returnSecureToken:!0}),r=await Ad._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r},signInWithCredential:Fd,signInWithCustomToken:async function(e,t){const n=Qu(e),i=await async function(e,t){return cu(e,"POST","/v1/accounts:signInWithCustomToken",ou(e,t))}(n,{token:t,returnSecureToken:!0}),r=await Ad._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r},signInWithEmailAndPassword:Gd,signInWithEmailLink:async function(e,t,n){const i=Ae(e),r=yd.credentialWithLink(t,n||Jl());return Kl(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Fd(i,r)},signInWithPhoneNumber:async function(e,t,n){const i=Qu(e),r=await Uh(i,t,Ae(n));return new Hh(r,(e=>Fd(i,e)))},signInWithPopup:Yh,signInWithRedirect:function(e,t,n){return async function(e,t,n){const i=Qu(e);$l(e,t,vd),await i._initializationPromise;const r=qh(i,n);return await ep(r,i),r._openRedirect(i,t,"signInViaRedirect")}(e,t,n)},signOut:rh,unlink:async function(e,t){const n=Ae(e);await Ld(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return su(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),r=Rd(i||[]);return n.providerData=n.providerData.filter((e=>r.has(e.providerId))),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n},updateCurrentUser:function(e,t){return Ae(e).updateCurrentUser(t)},updateEmail:function(e,t){return Yd(Ae(e),t,null)},updatePassword:function(e,t){return Yd(Ae(e),null,t)},updatePhoneNumber:async function(e,t){await Pd(Ae(e),t)},updateProfile:Kd,useDeviceLanguage:function(e){Ae(e).useDeviceLanguage()},verifyBeforeUpdateEmail:async function(e,t,n){const i=Ae(e),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Vd(i.auth,r,n);const{email:o}=await async function(e,t){return cd(e,t)}(i.auth,r);o!==e.email&&await e.reload()},verifyPasswordResetCode:async function(e,t){const{data:n}=await zd(Ae(e),t);return n.email}},Symbol.toStringTag,{value:"Module"})),Kp={apiKey:"AIzaSyASnaeaC-FLvGoHKneasPInl12JC9jX27Q",authDomain:"mytsbc-a2d97.firebaseapp.com",projectId:"mytsbc-a2d97",storageBucket:"mytsbc-a2d97.appspot.com",messagingSenderId:"267158378243",appId:"1:267158378243:web:31d94cda2ae697a0be7b36",measurementId:"G-2RQNS9T3W0",databaseURL:"https://mytsbc-a2d97-default-rtdb.asia-southeast1.firebasedatabase.app/"};function Yp(e,t,n){const i=gt(Kp);mi(i);const r=zp();return Tl(i),r.setPersistence(hh),document.addEventListener("alpine:init",(()=>{let e=window.Alpine;e.store("auth",{authGet:()=>{let e=zp();return e.setPersistence(hh),e},fbaseauth:Gp,authenticating:!0,user:{loggedIn:!1,email:"",password:"",displayName:"",idToken:"",uid:"",firebaseuser:null}}),e.store("firedb",{databaseGet:()=>Tl(i),fbasedb:kl}),console.log("STORE SET2")})),window.modularcomponents={},document.addEventListener("alpine:init",(()=>{let e=window.Alpine;e.store("appData",{dark:!1,primarycolor:"#fff",modify(e){e(this)},fontsize:20}),e.store("uiData",{navbars:{main:"series"},page:"series",modify(e){e(this)}}),console.log("TRIP"),e.store("colors",window.colors)})),t.create(t.fragment,null)}function Xp(e){return`${(()=>{let t="";return Object.keys(e).forEach((e=>{t+=`'${e}': $store.colors['${e}'],`})),t})()}`}function Jp(e,t,n){return t.create("div",{"x-data":!0,"x-bind:style":`{${Xp(e.colors)}}`},t.create("div",{style:e.style},n))}var Qp;var Zp=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),ef=function(){function e(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.root=e,this.initialize.apply(this,Ml([],Dl(n))),this.foundation=void 0===t?this.getDefaultFoundation():t,this.foundation.init(),this.initialSyncWithDOM()}return e.attachTo=function(t){return new e(t,new Zp({}))},e.prototype.initialize=function(){},e.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},e.prototype.initialSyncWithDOM=function(){},e.prototype.destroy=function(){this.foundation.destroy()},e.prototype.listen=function(e,t,n){this.root.addEventListener(e,t,n)},e.prototype.unlisten=function(e,t,n){this.root.removeEventListener(e,t,n)},e.prototype.emit=function(e,t,n){var i;void 0===n&&(n=!1),"function"==typeof CustomEvent?i=new CustomEvent(e,{bubbles:n,detail:t}):(i=document.createEvent("CustomEvent")).initCustomEvent(e,n,!1,t),this.root.dispatchEvent(i)},e}();function tf(e){return void 0===e&&(e=window),!!function(e){void 0===e&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},i=function(){};e.document.addEventListener("test",i,n),e.document.removeEventListener("test",i,n)}catch(r){t=!1}return t}(e)&&{passive:!0}}function nf(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if(rf(n,t))return n;n=n.parentElement}return null}function rf(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)}var of={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},sf={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},af={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},cf=["touchstart","pointerdown","mousedown","keydown"],lf=["touchend","pointerup","mouseup","contextmenu"],uf=[],df=function(e){function t(n){var i=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return i.activationAnimationHasEnded=!1,i.activationTimer=0,i.fgDeactivationRemovalTimer=0,i.fgScale="0",i.frame={width:0,height:0},i.initialSize=0,i.layoutFrame=0,i.maxRadius=0,i.unboundedCoords={left:0,top:0},i.activationState=i.defaultActivationState(),i.activationTimerCallback=function(){i.activationAnimationHasEnded=!0,i.runDeactivationUXLogicIfReady()},i.activateHandler=function(e){i.activateImpl(e)},i.deactivateHandler=function(){i.deactivateImpl()},i.focusHandler=function(){i.handleFocus()},i.blurHandler=function(){i.handleBlur()},i.resizeHandler=function(){i.layout()},i}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return of},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return sf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return af},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this,n=this.supportsPressRipple();if(this.registerRootHandlers(n),n){var i=t.cssClasses,r=i.ROOT,o=i.UNBOUNDED;requestAnimationFrame((function(){e.adapter.addClass(r),e.adapter.isUnbounded()&&(e.adapter.addClass(o),e.layoutInternal())}))}},t.prototype.destroy=function(){var e=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var n=t.cssClasses,i=n.ROOT,r=n.UNBOUNDED;requestAnimationFrame((function(){e.adapter.removeClass(i),e.adapter.removeClass(r),e.removeCssVars()}))}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(e){this.activateImpl(e)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var e=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame((function(){e.layoutInternal(),e.layoutFrame=0}))},t.prototype.setUnbounded=function(e){var n=t.cssClasses.UNBOUNDED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleFocus=function(){var e=this;requestAnimationFrame((function(){return e.adapter.addClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.handleBlur=function(){var e=this;requestAnimationFrame((function(){return e.adapter.removeClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(e){var t,n;if(e){try{for(var i=Ll(cf),r=i.next();!r.done;r=i.next()){var o=r.value;this.adapter.registerInteractionHandler(o,this.activateHandler)}}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(e){var t,n;if("keydown"===e.type)this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var i=Ll(lf),r=i.next();!r.done;r=i.next()){var o=r.value;this.adapter.registerDocumentInteractionHandler(o,this.deactivateHandler)}}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},t.prototype.deregisterRootHandlers=function(){var e,t;try{for(var n=Ll(cf),i=n.next();!i.done;i=n.next()){var r=i.value;this.adapter.deregisterInteractionHandler(r,this.activateHandler)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var e,t;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var n=Ll(lf),i=n.next();!i.done;i=n.next()){var r=i.value;this.adapter.deregisterDocumentInteractionHandler(r,this.deactivateHandler)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.removeCssVars=function(){var e=this,n=t.strings;Object.keys(n).forEach((function(t){0===t.indexOf("VAR_")&&e.adapter.updateCssVariable(n[t],null)}))},t.prototype.activateImpl=function(e){var t=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState;if(!n.isActivated){var i=this.previousActivationEvent;if(!(i&&void 0!==e&&i.type!==e.type))n.isActivated=!0,n.isProgrammatic=void 0===e,n.activationEvent=e,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==e&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type)),void 0!==e&&uf.length>0&&uf.some((function(e){return t.adapter.containsEventTarget(e)}))?this.resetActivationState():(void 0!==e&&(uf.push(e.target),this.registerDeactivationHandlers(e)),n.wasElementMadeActive=this.checkElementMadeActive(e),n.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame((function(){uf=[],n.wasElementMadeActive||void 0===e||" "!==e.key&&32!==e.keyCode||(n.wasElementMadeActive=t.checkElementMadeActive(e),n.wasElementMadeActive&&t.animateActivation()),n.wasElementMadeActive||(t.activationState=t.defaultActivationState())})))}}},t.prototype.checkElementMadeActive=function(e){return void 0===e||"keydown"!==e.type||this.adapter.isSurfaceActive()},t.prototype.animateActivation=function(){var e=this,n=t.strings,i=n.VAR_FG_TRANSLATE_START,r=n.VAR_FG_TRANSLATE_END,o=t.cssClasses,s=o.FG_DEACTIVATION,a=o.FG_ACTIVATION,c=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var l="",u="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates(),h=d.startPoint,p=d.endPoint;l=h.x+"px, "+h.y+"px",u=p.x+"px, "+p.y+"px"}this.adapter.updateCssVariable(i,l),this.adapter.updateCssVariable(r,u),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(s),this.adapter.computeBoundingRect(),this.adapter.addClass(a),this.activationTimer=setTimeout((function(){e.activationTimerCallback()}),c)},t.prototype.getFgTranslationCoordinates=function(){var e,t=this.activationState,n=t.activationEvent;return{startPoint:e={x:(e=t.wasActivatedByPointer?function(e,t,n){if(!e)return{x:0,y:0};var i,r,o=t.x,s=t.y,a=o+n.left,c=s+n.top;if("touchstart"===e.type){var l=e;i=l.changedTouches[0].pageX-a,r=l.changedTouches[0].pageY-c}else{var u=e;i=u.pageX-a,r=u.pageY-c}return{x:i,y:r}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame.width/2,y:this.frame.height/2}).x-this.initialSize/2,y:e.y-this.initialSize/2},endPoint:{x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2}}},t.prototype.runDeactivationUXLogicIfReady=function(){var e=this,n=t.cssClasses.FG_DEACTIVATION,i=this.activationState,r=i.hasDeactivationUXRun,o=i.isActivated;(r||!o)&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer=setTimeout((function(){e.adapter.removeClass(n)}),af.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var e=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(e),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var e=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout((function(){return e.previousActivationEvent=void 0}),t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var e=this,t=this.activationState;if(t.isActivated){var n=Rl({},t);t.isProgrammatic?(requestAnimationFrame((function(){e.animateDeactivation(n)})),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame((function(){e.activationState.hasDeactivationUXRun=!0,e.animateDeactivation(n),e.resetActivationState()})))}},t.prototype.animateDeactivation=function(e){var t=e.wasActivatedByPointer,n=e.wasElementMadeActive;(t||n)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var e=this;this.frame=this.adapter.computeBoundingRect();var n=Math.max(this.frame.height,this.frame.width);this.maxRadius=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(e.frame.width,2)+Math.pow(e.frame.height,2))+t.numbers.PADDING;var i=Math.floor(n*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&i%2!=0?this.initialSize=i-1:this.initialSize=i,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var e=t.strings,n=e.VAR_FG_SIZE,i=e.VAR_LEFT,r=e.VAR_TOP,o=e.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(i,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(r,this.unboundedCoords.top+"px"))},t}(Zp),hf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disabled=!1,t}return Nl(t,e),t.attachTo=function(e,n){void 0===n&&(n={isUnbounded:void 0});var i=new t(e);return void 0!==n.isUnbounded&&(i.unbounded=n.isUnbounded),i},t.createAdapter=function(e){return{addClass:function(t){return e.root.classList.add(t)},browserSupportsCssVars:function(){return function(e,t){void 0===t&&(t=!1);var n,i=e.CSS;if("boolean"==typeof Qp&&!t)return Qp;if(!i||"function"!=typeof i.supports)return!1;var r=i.supports("--css-vars","yes"),o=i.supports("(--css-vars: yes)")&&i.supports("color","#00000000");return n=r||o,t||(Qp=n),n}(window)},computeBoundingRect:function(){return e.root.getBoundingClientRect()},containsEventTarget:function(t){return e.root.contains(t)},deregisterDocumentInteractionHandler:function(e,t){return document.documentElement.removeEventListener(e,t,tf())},deregisterInteractionHandler:function(t,n){return e.root.removeEventListener(t,n,tf())},deregisterResizeHandler:function(e){return window.removeEventListener("resize",e)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return rf(e.root,":active")},isSurfaceDisabled:function(){return Boolean(e.disabled)},isUnbounded:function(){return Boolean(e.unbounded)},registerDocumentInteractionHandler:function(e,t){return document.documentElement.addEventListener(e,t,tf())},registerInteractionHandler:function(t,n){return e.root.addEventListener(t,n,tf())},registerResizeHandler:function(e){return window.addEventListener("resize",e)},removeClass:function(t){return e.root.classList.remove(t)},updateCssVariable:function(t,n){return e.root.style.setProperty(t,n)}}},Object.defineProperty(t.prototype,"unbounded",{get:function(){return Boolean(this.isUnbounded)},set:function(e){this.isUnbounded=Boolean(e),this.setUnbounded()},enumerable:!1,configurable:!0}),t.prototype.activate=function(){this.foundation.activate()},t.prototype.deactivate=function(){this.foundation.deactivate()},t.prototype.layout=function(){this.foundation.layout()},t.prototype.getDefaultFoundation=function(){return new df(t.createAdapter(this))},t.prototype.initialSyncWithDOM=function(){var e=this.root;this.isUnbounded="mdcRippleIsUnbounded"in e.dataset},t.prototype.setUnbounded=function(){this.foundation.setUnbounded(Boolean(this.isUnbounded))},t}(ef);function pf(e,t,n){return t.create("div",{style:"\r\n      position: absolute;\r\n      bottom: 0;\r\n      width: 100%;\r\n      height: 85px;\r\n      background-color: var(--navbar);\r\n      overflow-x: scroll;\r\n      "},t.create(mf,{navbarname:"main"},t.create(ff,{selfid:"home",buttonlabel:"Home",icon:"home"}),t.create(ff,{selfid:"series",buttonlabel:"Series",icon:"movie"}),t.create(ff,{selfid:"watch",buttonlabel:"Watch",icon:"movie"}),t.create(ff,{selfid:"settings",buttonlabel:"Settings",icon:"settings"}),t.create("div",{"x-show":"auth.loggedIn && (auth.email == 'tengames.dev.id@gmail.com' || auth.email == 'muhammadfadhlan4@gmail.com')"},t.create(ff,{selfid:"thatnerdlabs",buttonlabel:"Labs",icon:"science"}))))}function ff(e,t,n){let i=t.create("div",{style:"\r\n                                border: 0px solid rgba(var(--mdc-theme-primary-rgb),1);\r\n                                \r\n                                border-radius: 16px;\r\n                                min-width: 46px;\r\n                                display: flex;\r\n                                justify-content: center;\r\n\r\n                            ",class:"mdc-ripple-surface mdc-ripple-surface--accent","x-bind:style":`{'background-color': current == '${e.selfid}' ? 'rgba(var(--mdc-theme-primary-rgb), 0.3)' : 'rgba(var(--mdc-theme-primary-rgb), 0)'}`,"x-transition":!0},e.icon);return hf.attachTo(i),t.create("div",null,t.create("style",null,"\n          #parent{}\n        .child {}\n        "),t.create("div",{id:"parent",style:"\r\n                    padding:10px;\r\n                    margin-left:10px;\r\n                    margin-right:10px;\r\n                    margin-top:5px;\r\n                ","x-on:click":`() => {\n          $store.uiData.page = '${e.selfid}'\n          current = '${e.selfid}'\n        }`},t.create("div",{class:"child"},t.create("span",{class:"material-icons",style:"\r\n                            width: 100%;\r\n                            height: 100%;\r\n                            \r\n                        "},t.create("div",{style:"\r\n                                text-align: center;\r\n                                display: flex;\r\n                                justify-content: center;\r\n                                width: 100%;\r\n                            "},t.create("div",null,i)))),t.create("div",{class:"child",style:"\r\n                        width: 100%;\r\n                        text-align: center;\r\n                    "},e.buttonlabel)))}function mf(e,t,n){return t.create("div",{"x-data":`{\n        navbarname: '${e.navbarname}',\n        current: $store.uiData.navbars['${e.navbarname}'],\n        setCurrent: (newState) => { this.current = newState },\n      }`,"x-init":`$watch('current', v => $store.uiData.navbars['${e.navbarname}'] = v); $watch('$store.uiData.navbars[\\'${e.navbarname}\\']', v => current = v);`,style:'\n        display:flex;\n        width: 100%;\n        justify-content: center;\n        .row:after {\n        content: "";\n        display: table;\n        clear: both;\n        }\n      ',class:"row"},t.create("style",null,'\n        .column {\n        float: left;\n        width: 50%;\n        }\n\n        /* Clear floats after the columns */\n        .row:after {\n        content: "";\n        display: table;\n        clear: both;\n        }\n      '),n)}function gf(e,t,n){let i=t.create("div",{"x-show":`$store.uiData.page == '${e.page}'`},n);return i.setAttribute("x-transition.duration.500ms",""),t.create(t.fragment,null,t.create("style",null,"\n           .container_row   {\n             display: grid;\n            }\n        \n            .layerX, .layer2{\n            grid-column: 1;\n            grid-row: 1;\n            }\n           "),i)}function yf(e,t,n){return t.create("div",{class:"container_row"},n)}function vf(e,t,n){for(let i of n)e.func(i);return n}function _f(e,t,n){let i=[];for(let r of n)i.push(e.pureFunc(r));return i}function bf(e,t,n){return t.create("div",{style:"\r\n        width: fit-content;\r\n    "},t.create(vf,{func:e=>{hf.attachTo(e)}},t.create("button",{class:`${""==e.type?"":"mdc-button"} mdc-button${e.type||""}`},t.create("div",{class:"mdc-button__ripple"}),t.create("span",{class:"mdc-button__label"},e.label))))}function If(e,t,n){return t.create("div",{_content:`\n            <center>\n                ${t.create(_f,{pureFunc:e=>e.outerHTML},...n)}\n            </center>\n        `})}function Ef(e){for(var t=0,n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}function wf(e){let t=Ef(e.toString());return null==window.LinkedFunctions&&(window.LinkedFunctions={}),window.LinkedFunctions[t]=e,`window['LinkedFunctions']['${t}'].bind(scope).bind(this)()`}function Cf(e){let t=Ef(e.toString());return null==window.LinkedFunctions&&(window.LinkedFunctions={}),window.LinkedFunctions[t]=e,`window['LinkedFunctions']['${t}'].bind(scope).bind(this)().outerHTML`}function Tf(e,t,n){return t.create("div",{style:"\n      overflow-y: scroll;\n      height: calc(calc(var(--vh, 1vh) * 100) - 90px);\n    "},t.create("h2",{style:"\n         padding: 10px\n        "},"Featured Programme"),t.create("div",{style:"\n          height: 10px;\n          width: calc(100% - 20px);\n          background-color: var(--mdc-theme-secondary);\n          margin-left: 10px;\n          margin-right: 10px;\n          border-radius: 2.5px;\n        "}),t.create("div",{_content:`\n      <template x-for="item in programmes.data">\n          ${t.create("div",{style:"\n          width: calc(100% - 20px);\n          margin-left: 10px;\n          margin-right: 10px;\n          justify-content: center;\n        ","x-show":"item.featured"},t.create(If,null,t.create("img",{style:"\n\n            height: 200px;\n            margin-top: 10px;\n          ","x-bind:src":"item.imageurl"})),t.create(If,null,t.create("div",{style:"\n            font-family: BlinkMacSystemFont,-apple-system,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',Helvetica,Arial,sans-serif;\n            font-size: 2em;\n            margin-bottom: 5px;\n            ","x-text":"item.title"},"Featured programme")),t.create(If,null,t.create("div",{"x-on:click":wf((function(){this.currentprogram=this.item,this.$store.uiData.navbars.main="series",this.$store.uiData.page="series"}))},t.create(bf,{label:"watch now",type:"--raised"})))).outerHTML}\n        </template>\n        `}),t.create("div",{style:"\n          height: 10px;\n          width: calc(100% - 20px);\n          background-color: var(--mdc-theme-secondary);\n          margin-top: 10px;\n          margin-left: 10px;\n          margin-right: 10px;\n          border-radius: 2.5px;\n\n        "}),t.create("div",{_content:`\n      <template x-for="item in programmes.data">\n          ${t.create("div",{style:"\n          width: calc(100% - 20px);\n          margin-left: 10px;\n          margin-right: 10px;\n          justify-content: center;\n        ","x-show":"!item.featured"},t.create("div",{style:"\n                            display:flex\n                            "},t.create("img",{style:"\n                          width: 150px;\n                          height: 150px;\n                          margin-top: 10px;\n                        ","x-bind:src":"item.imageurl"}),t.create("div",{style:"\n                                height: 100%;\n                                display: block;\n                              "},t.create("div",{style:"\n                          font-family: BlinkMacSystemFont,-apple-system,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',Helvetica,Arial,sans-serif;\n                          font-size: 2em;\n                          margin-left: 10px;\n                          margin-bottom: 5px;\n                          ","x-text":"item.title"},"Southeast Gear"),t.create("div",{style:"\n                                  margin-left: 10px;\n                                  float: bottom;\n                                "},t.create(bf,{label:"Watch now",type:"--raised"}))))).outerHTML}\n        </template>\n        `}))}function Sf(e,t,n){for(let i in n){let t=n[i];for(let n of Object.keys(e.attributes))t.length>=0?Sf(e,null,t):t.setAttribute(n,e.attributes[n])}return n}var xf={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}},Af={animationend:{cssProperty:"animation",prefixed:"webkitAnimationEnd",standard:"animationend"},animationiteration:{cssProperty:"animation",prefixed:"webkitAnimationIteration",standard:"animationiteration"},animationstart:{cssProperty:"animation",prefixed:"webkitAnimationStart",standard:"animationstart"},transitionend:{cssProperty:"transition",prefixed:"webkitTransitionEnd",standard:"transitionend"}};function kf(e){return Boolean(e.document)&&"function"==typeof e.document.createElement}function Of(e,t){if(kf(e)&&t in xf){var n=e.document.createElement("div"),i=xf[t],r=i.standard,o=i.prefixed;return r in n.style?r:o}return t}function Nf(e,t){if(kf(e)&&t in Af){var n=e.document.createElement("div"),i=Af[t],r=i.standard,o=i.prefixed;return i.cssProperty in n.style?r:o}return t}var Rf={CLOSED_CLASS:"mdc-linear-progress--closed",CLOSED_ANIMATION_OFF_CLASS:"mdc-linear-progress--closed-animation-off",INDETERMINATE_CLASS:"mdc-linear-progress--indeterminate",REVERSED_CLASS:"mdc-linear-progress--reversed",ANIMATION_READY_CLASS:"mdc-linear-progress--animation-ready"},Pf={ARIA_HIDDEN:"aria-hidden",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",BUFFER_BAR_SELECTOR:".mdc-linear-progress__buffer-bar",FLEX_BASIS:"flex-basis",PRIMARY_BAR_SELECTOR:".mdc-linear-progress__primary-bar"},Lf=.8367142,Df=2.00611057,Mf=.37651913,Ff=.84386165,jf=1.60277782,Hf=function(e){function t(n){var i=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return i.observer=null,i}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Rf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Pf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},attachResizeObserver:function(){return null},forceLayout:function(){},getWidth:function(){return 0},hasClass:function(){return!1},setBufferBarStyle:function(){return null},setPrimaryBarStyle:function(){return null},setStyle:function(){},removeAttribute:function(){},removeClass:function(){},setAttribute:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this;this.determinate=!this.adapter.hasClass(Rf.INDETERMINATE_CLASS),this.adapter.addClass(Rf.ANIMATION_READY_CLASS),this.progress=0,this.buffer=1,this.observer=this.adapter.attachResizeObserver((function(t){var n,i;if(!e.determinate)try{for(var r=Ll(t),o=r.next();!o.done;o=r.next()){var s=o.value;s.contentRect&&e.calculateAndSetDimensions(s.contentRect.width)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}})),!this.determinate&&this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth())},t.prototype.setDeterminate=function(e){if(this.determinate=e,this.determinate)return this.adapter.removeClass(Rf.INDETERMINATE_CLASS),this.adapter.setAttribute(Pf.ARIA_VALUENOW,this.progress.toString()),this.adapter.setAttribute(Pf.ARIA_VALUEMAX,"1"),this.adapter.setAttribute(Pf.ARIA_VALUEMIN,"0"),this.setPrimaryBarProgress(this.progress),void this.setBufferBarProgress(this.buffer);this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth()),this.adapter.addClass(Rf.INDETERMINATE_CLASS),this.adapter.removeAttribute(Pf.ARIA_VALUENOW),this.adapter.removeAttribute(Pf.ARIA_VALUEMAX),this.adapter.removeAttribute(Pf.ARIA_VALUEMIN),this.setPrimaryBarProgress(1),this.setBufferBarProgress(1)},t.prototype.isDeterminate=function(){return this.determinate},t.prototype.setProgress=function(e){this.progress=e,this.determinate&&(this.setPrimaryBarProgress(e),this.adapter.setAttribute(Pf.ARIA_VALUENOW,e.toString()))},t.prototype.getProgress=function(){return this.progress},t.prototype.setBuffer=function(e){this.buffer=e,this.determinate&&this.setBufferBarProgress(e)},t.prototype.getBuffer=function(){return this.buffer},t.prototype.open=function(){this.adapter.removeClass(Rf.CLOSED_CLASS),this.adapter.removeClass(Rf.CLOSED_ANIMATION_OFF_CLASS),this.adapter.removeAttribute(Pf.ARIA_HIDDEN)},t.prototype.close=function(){this.adapter.addClass(Rf.CLOSED_CLASS),this.adapter.setAttribute(Pf.ARIA_HIDDEN,"true")},t.prototype.isClosed=function(){return this.adapter.hasClass(Rf.CLOSED_CLASS)},t.prototype.handleTransitionEnd=function(){this.adapter.hasClass(Rf.CLOSED_CLASS)&&this.adapter.addClass(Rf.CLOSED_ANIMATION_OFF_CLASS)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.observer&&this.observer.disconnect()},t.prototype.restartAnimation=function(){this.adapter.removeClass(Rf.ANIMATION_READY_CLASS),this.adapter.forceLayout(),this.adapter.addClass(Rf.ANIMATION_READY_CLASS)},t.prototype.setPrimaryBarProgress=function(e){var t="scaleX("+e+")",n="undefined"!=typeof window?Of(window,"transform"):"transform";this.adapter.setPrimaryBarStyle(n,t)},t.prototype.setBufferBarProgress=function(e){var t=100*e+"%";this.adapter.setBufferBarStyle(Pf.FLEX_BASIS,t)},t.prototype.calculateAndSetDimensions=function(e){var t=e*Lf,n=e*Df,i=e*Mf,r=e*Ff,o=e*jf;this.adapter.setStyle("--mdc-linear-progress-primary-half",t+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-half-neg",-t+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full",n+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full-neg",-n+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter",i+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter-neg",-i+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half",r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half-neg",-r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full",o+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full-neg",-o+"px"),this.restartAnimation()},t}(Zp),Uf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"determinate",{set:function(e){this.foundation.setDeterminate(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{set:function(e){this.foundation.setProgress(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffer",{set:function(e){this.foundation.setBuffer(e)},enumerable:!1,configurable:!0}),t.prototype.open=function(){this.foundation.open()},t.prototype.close=function(){this.foundation.close()},t.prototype.initialSyncWithDOM=function(){var e=this;this.root.addEventListener("transitionend",(function(){e.foundation.handleTransitionEnd()}))},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){e.root.classList.add(t)},forceLayout:function(){e.root.getBoundingClientRect()},setBufferBarStyle:function(t,n){var i=e.root.querySelector(Hf.strings.BUFFER_BAR_SELECTOR);i&&i.style.setProperty(t,n)},setPrimaryBarStyle:function(t,n){var i=e.root.querySelector(Hf.strings.PRIMARY_BAR_SELECTOR);i&&i.style.setProperty(t,n)},hasClass:function(t){return e.root.classList.contains(t)},removeAttribute:function(t){e.root.removeAttribute(t)},removeClass:function(t){e.root.classList.remove(t)},setAttribute:function(t,n){e.root.setAttribute(t,n)},setStyle:function(t,n){e.root.style.setProperty(t,n)},attachResizeObserver:function(t){var n=window.ResizeObserver;if(n){var i=new n(t);return i.observe(e.root),i}return null},getWidth:function(){return e.root.offsetWidth}};return new Hf(t)},t}(ef);function Bf(e,t,n){return t.create(vf,{func:e=>{new Uf(e).determinate=!1}},t.create("div",{class:"mdc-linear-progress mdc-linear-progress--indeterminate","aria-label":"Example Progress Bar","aria-valuemin":"0","aria-valuemax":"1","aria-valuenow":"0.3"},t.create("div",{class:"mdc-linear-progress__buffer"},t.create("div",{class:"mdc-linear-progress__buffer-bar"}),t.create("div",{class:"mdc-linear-progress__buffer-dots"})),t.create("div",{class:"mdc-linear-progress__bar mdc-linear-progress__primary-bar"},t.create("span",{class:"mdc-linear-progress__bar-inner"})),t.create("div",{class:"mdc-linear-progress__bar mdc-linear-progress__secondary-bar"},t.create("span",{class:"mdc-linear-progress__bar-inner"}))))}var qf={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"},Vf=function(e){function t(n){var i=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return i.shakeAnimationEndHandler=function(){i.handleShakeAnimationEnd()},i}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return qf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(e){var n=t.cssClasses.LABEL_SHAKE;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.float=function(e){var n=t.cssClasses,i=n.LABEL_FLOAT_ABOVE,r=n.LABEL_SHAKE;e?this.adapter.addClass(i):(this.adapter.removeClass(i),this.adapter.removeClass(r))},t.prototype.setRequired=function(e){var n=t.cssClasses.LABEL_REQUIRED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleShakeAnimationEnd=function(){var e=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(e)},t}(Zp),Wf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.attachTo=function(e){return new t(e)},t.prototype.shake=function(e){this.foundation.shake(e)},t.prototype.float=function(e){this.foundation.float(e)},t.prototype.setRequired=function(e){this.foundation.setRequired(e)},t.prototype.getWidth=function(){return this.foundation.getWidth()},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},getWidth:function(){return function(e){var t=e;if(null!==t.offsetParent)return t.scrollWidth;var n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var i=n.scrollWidth;return document.documentElement.removeChild(n),i}(e.root)},registerInteractionHandler:function(t,n){return e.listen(t,n)},deregisterInteractionHandler:function(t,n){return e.unlisten(t,n)}};return new Vf(t)},t}(ef),zf={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"},$f=function(e){function t(n){var i=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return i.transitionEndHandler=function(e){i.handleTransitionEnd(e)},i}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return zf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},t.prototype.activate=function(){this.adapter.removeClass(zf.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(zf.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(e){this.adapter.setStyle("transform-origin",e+"px center")},t.prototype.deactivate=function(){this.adapter.addClass(zf.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(e){var t=this.adapter.hasClass(zf.LINE_RIPPLE_DEACTIVATING);"opacity"===e.propertyName&&t&&(this.adapter.removeClass(zf.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(zf.LINE_RIPPLE_DEACTIVATING))},t}(Zp),Gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.attachTo=function(e){return new t(e)},t.prototype.activate=function(){this.foundation.activate()},t.prototype.deactivate=function(){this.foundation.deactivate()},t.prototype.setRippleCenter=function(e){this.foundation.setRippleCenter(e)},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},hasClass:function(t){return e.root.classList.contains(t)},setStyle:function(t,n){return e.root.style.setProperty(t,n)},registerEventHandler:function(t,n){return e.listen(t,n)},deregisterEventHandler:function(t,n){return e.unlisten(t,n)}};return new $f(t)},t}(ef),Kf={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},Yf={NOTCH_ELEMENT_PADDING:8},Xf={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"},Jf=function(e){function t(n){return e.call(this,Rl(Rl({},t.defaultAdapter),n))||this}return Nl(t,e),Object.defineProperty(t,"strings",{get:function(){return Kf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Xf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Yf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.notch=function(e){var n=t.cssClasses.OUTLINE_NOTCHED;e>0&&(e+=Yf.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(e),this.adapter.addClass(n)},t.prototype.closeNotch=function(){var e=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(e),this.adapter.removeNotchWidthProperty()},t}(Zp),Qf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){this.notchElement=this.root.querySelector(Kf.NOTCH_ELEMENT_SELECTOR);var e=this.root.querySelector("."+Vf.cssClasses.ROOT);e?(e.style.transitionDuration="0s",this.root.classList.add(Xf.OUTLINE_UPGRADED),requestAnimationFrame((function(){e.style.transitionDuration=""}))):this.root.classList.add(Xf.NO_LABEL)},t.prototype.notch=function(e){this.foundation.notch(e)},t.prototype.closeNotch=function(){this.foundation.closeNotch()},t.prototype.getDefaultFoundation=function(){var e=this;return new Jf({addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},setNotchWidthProperty:function(t){e.notchElement.style.setProperty("width",t+"px")},removeNotchWidthProperty:function(){e.notchElement.style.removeProperty("width")}})},t}(ef),Zf={ROOT:"mdc-text-field-character-counter"},em={ROOT_SELECTOR:"."+Zf.ROOT},tm=function(e){function t(n){return e.call(this,Rl(Rl({},t.defaultAdapter),n))||this}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Zf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return em},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.setCounterValue=function(e,t){e=Math.min(e,t),this.adapter.setContent(e+" / "+t)},t}(Zp),nm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this;return new tm({setContent:function(t){e.root.textContent=t}})},t}(ef),im={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},rm={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},om={LABEL_SCALE:.75},sm=["pattern","min","max","required","step","minlength","maxlength"],am=["color","date","datetime-local","month","range","time","week"],cm=["mousedown","touchstart"],lm=["click","keydown"],um=function(e){function t(n,i){void 0===i&&(i={});var r=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return r.isFocused=!1,r.receivedUserInput=!1,r.valid=!0,r.useNativeValidation=!0,r.validateOnValueChange=!0,r.helperText=i.helperText,r.characterCounter=i.characterCounter,r.leadingIcon=i.leadingIcon,r.trailingIcon=i.trailingIcon,r.inputFocusHandler=function(){r.activateFocus()},r.inputBlurHandler=function(){r.deactivateFocus()},r.inputInputHandler=function(){r.handleInput()},r.setPointerXOffset=function(e){r.setTransformOrigin(e)},r.textFieldInteractionHandler=function(){r.handleTextFieldInteraction()},r.validationAttributeChangeHandler=function(e){r.handleValidationAttributeChange(e)},r}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return rm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return im},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return om},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat",{get:function(){var e=this.getNativeInput().type;return am.indexOf(e)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver((function(){}))},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e,t,n,i;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var r=Ll(cm),o=r.next();!o.done;o=r.next()){var s=o.value;this.adapter.registerInputInteractionHandler(s,this.setPointerXOffset)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}try{for(var a=Ll(lm),c=a.next();!c.done;c=a.next()){s=c.value;this.adapter.registerTextFieldInteractionHandler(s,this.textFieldInteractionHandler)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},t.prototype.destroy=function(){var e,t,n,i;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var r=Ll(cm),o=r.next();!o.done;o=r.next()){var s=o.value;this.adapter.deregisterInputInteractionHandler(s,this.setPointerXOffset)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}try{for(var a=Ll(lm),c=a.next();!c.done;c=a.next()){s=c.value;this.adapter.deregisterTextFieldInteractionHandler(s,this.textFieldInteractionHandler)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},t.prototype.handleTextFieldInteraction=function(){var e=this.adapter.getNativeInput();e&&e.disabled||(this.receivedUserInput=!0)},t.prototype.handleValidationAttributeChange=function(e){var t=this;e.some((function(e){return sm.indexOf(e)>-1&&(t.styleValidity(!0),t.adapter.setLabelRequired(t.getNativeInput().required),!0)})),e.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},t.prototype.notchOutline=function(e){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(e){var t=this.adapter.getLabelWidth()*om.LABEL_SCALE;this.adapter.notchOutline(t)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText||!this.helperText.isPersistent()&&this.helperText.isValidation()&&this.valid||this.helperText.showToScreenReader()},t.prototype.setTransformOrigin=function(e){if(!this.isDisabled()&&!this.adapter.hasOutline()){var t=e.touches,n=t?t[0]:e,i=n.target.getBoundingClientRect(),r=n.clientX-i.left;this.adapter.setLineRippleTransformOrigin(r)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var e=this.isValid();this.styleValidity(e),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},t.prototype.getValue=function(){return this.getNativeInput().value},t.prototype.setValue=function(e){if(this.getValue()!==e&&(this.getNativeInput().value=e),this.setcharacterCounter(e.length),this.validateOnValueChange){var t=this.isValid();this.styleValidity(t)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},t.prototype.setValid=function(e){this.valid=e,this.styleValidity(e);var t=!e&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(t)},t.prototype.setValidateOnValueChange=function(e){this.validateOnValueChange=e},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},t.prototype.setUseNativeValidation=function(e){this.useNativeValidation=e},t.prototype.isDisabled=function(){return this.getNativeInput().disabled},t.prototype.setDisabled=function(e){this.getNativeInput().disabled=e,this.styleDisabled(e)},t.prototype.setHelperTextContent=function(e){this.helperText&&this.helperText.setContent(e)},t.prototype.setLeadingIconAriaLabel=function(e){this.leadingIcon&&this.leadingIcon.setAriaLabel(e)},t.prototype.setLeadingIconContent=function(e){this.leadingIcon&&this.leadingIcon.setContent(e)},t.prototype.setTrailingIconAriaLabel=function(e){this.trailingIcon&&this.trailingIcon.setAriaLabel(e)},t.prototype.setTrailingIconContent=function(e){this.trailingIcon&&this.trailingIcon.setContent(e)},t.prototype.setcharacterCounter=function(e){if(this.characterCounter){var t=this.getNativeInput().maxLength;if(-1===t)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(e,t)}},t.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},t.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},t.prototype.styleValidity=function(e){var n=t.cssClasses.INVALID;if(e?this.adapter.removeClass(n):this.adapter.addClass(n),this.helperText){if(this.helperText.setValidity(e),!this.helperText.isValidation())return;var i=this.helperText.isVisible(),r=this.helperText.getId();i&&r?this.adapter.setInputAttr(im.ARIA_DESCRIBEDBY,r):this.adapter.removeInputAttr(im.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused=function(e){var n=t.cssClasses.FOCUSED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.styleDisabled=function(e){var n=t.cssClasses,i=n.DISABLED,r=n.INVALID;e?(this.adapter.addClass(i),this.adapter.removeClass(r)):this.adapter.removeClass(i),this.leadingIcon&&this.leadingIcon.setDisabled(e),this.trailingIcon&&this.trailingIcon.setDisabled(e)},t.prototype.styleFloating=function(e){var n=t.cssClasses.LABEL_FLOATING;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.getNativeInput=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(Zp),dm={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},hm={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+dm.ROOT},pm=function(e){function t(n){return e.call(this,Rl(Rl({},t.defaultAdapter),n))||this}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return dm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return hm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.adapter.getAttr("id")},t.prototype.isVisible=function(){return"true"!==this.adapter.getAttr(hm.ARIA_HIDDEN)},t.prototype.setContent=function(e){this.adapter.setContent(e)},t.prototype.isPersistent=function(){return this.adapter.hasClass(dm.HELPER_TEXT_PERSISTENT)},t.prototype.setPersistent=function(e){e?this.adapter.addClass(dm.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(dm.HELPER_TEXT_PERSISTENT)},t.prototype.isValidation=function(){return this.adapter.hasClass(dm.HELPER_TEXT_VALIDATION_MSG)},t.prototype.setValidation=function(e){e?this.adapter.addClass(dm.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(dm.HELPER_TEXT_VALIDATION_MSG)},t.prototype.showToScreenReader=function(){this.adapter.removeAttr(hm.ARIA_HIDDEN)},t.prototype.setValidity=function(e){var t=this.adapter.hasClass(dm.HELPER_TEXT_PERSISTENT),n=this.adapter.hasClass(dm.HELPER_TEXT_VALIDATION_MSG)&&!e;n?(this.showToScreenReader(),"alert"===this.adapter.getAttr(hm.ROLE)?this.refreshAlertRole():this.adapter.setAttr(hm.ROLE,"alert")):this.adapter.removeAttr(hm.ROLE),t||n||this.hide()},t.prototype.hide=function(){this.adapter.setAttr(hm.ARIA_HIDDEN,"true")},t.prototype.refreshAlertRole=function(){var e=this;this.adapter.removeAttr(hm.ROLE),requestAnimationFrame((function(){e.adapter.setAttr(hm.ROLE,"alert")}))},t}(Zp),fm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this;return new pm({addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},hasClass:function(t){return e.root.classList.contains(t)},getAttr:function(t){return e.root.getAttribute(t)},setAttr:function(t,n){return e.root.setAttribute(t,n)},removeAttr:function(t){return e.root.removeAttribute(t)},setContent:function(t){e.root.textContent=t}})},t}(ef),mm={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},gm={ROOT:"mdc-text-field__icon"},ym=["click","keydown"],vm=function(e){function t(n){var i=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return i.savedTabIndex=null,i.interactionHandler=function(e){i.handleInteraction(e)},i}return Nl(t,e),Object.defineProperty(t,"strings",{get:function(){return mm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return gm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e,t;this.savedTabIndex=this.adapter.getAttr("tabindex");try{for(var n=Ll(ym),i=n.next();!i.done;i=n.next()){var r=i.value;this.adapter.registerInteractionHandler(r,this.interactionHandler)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.destroy=function(){var e,t;try{for(var n=Ll(ym),i=n.next();!i.done;i=n.next()){var r=i.value;this.adapter.deregisterInteractionHandler(r,this.interactionHandler)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.setDisabled=function(e){this.savedTabIndex&&(e?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex),this.adapter.setAttr("role",mm.ICON_ROLE)))},t.prototype.setAriaLabel=function(e){this.adapter.setAttr("aria-label",e)},t.prototype.setContent=function(e){this.adapter.setContent(e)},t.prototype.handleInteraction=function(e){var t="Enter"===e.key||13===e.keyCode;("click"===e.type||t)&&(e.preventDefault(),this.adapter.notifyIconAction())},t}(Zp),_m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this,t={getAttr:function(t){return e.root.getAttribute(t)},setAttr:function(t,n){return e.root.setAttribute(t,n)},removeAttr:function(t){return e.root.removeAttribute(t)},setContent:function(t){e.root.textContent=t},registerInteractionHandler:function(t,n){return e.listen(t,n)},deregisterInteractionHandler:function(t,n){return e.unlisten(t,n)},notifyIconAction:function(){return e.emit(vm.strings.ICON_EVENT,{},!0)}};return new vm(t)},t}(ef),bm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e,t,n,i,r,o,s){void 0===e&&(e=function(e,t){return new hf(e,t)}),void 0===t&&(t=function(e){return new Gf(e)}),void 0===n&&(n=function(e){return new fm(e)}),void 0===i&&(i=function(e){return new nm(e)}),void 0===r&&(r=function(e){return new _m(e)}),void 0===o&&(o=function(e){return new Wf(e)}),void 0===s&&(s=function(e){return new Qf(e)}),this.input=this.root.querySelector(im.INPUT_SELECTOR);var a=this.root.querySelector(im.LABEL_SELECTOR);this.label=a?o(a):null;var c=this.root.querySelector(im.LINE_RIPPLE_SELECTOR);this.lineRipple=c?t(c):null;var l=this.root.querySelector(im.OUTLINE_SELECTOR);this.outline=l?s(l):null;var u=pm.strings,d=this.root.nextElementSibling,h=d&&d.classList.contains(rm.HELPER_LINE),p=h&&d&&d.querySelector(u.ROOT_SELECTOR);this.helperText=p?n(p):null;var f=tm.strings,m=this.root.querySelector(f.ROOT_SELECTOR);!m&&h&&d&&(m=d.querySelector(f.ROOT_SELECTOR)),this.characterCounter=m?i(m):null;var g=this.root.querySelector(im.LEADING_ICON_SELECTOR);this.leadingIcon=g?r(g):null;var y=this.root.querySelector(im.TRAILING_ICON_SELECTOR);this.trailingIcon=y?r(y):null,this.prefix=this.root.querySelector(im.PREFIX_SELECTOR),this.suffix=this.root.querySelector(im.SUFFIX_SELECTOR),this.ripple=this.createRipple(e)},t.prototype.destroy=function(){this.ripple&&this.ripple.destroy(),this.lineRipple&&this.lineRipple.destroy(),this.helperText&&this.helperText.destroy(),this.characterCounter&&this.characterCounter.destroy(),this.leadingIcon&&this.leadingIcon.destroy(),this.trailingIcon&&this.trailingIcon.destroy(),this.label&&this.label.destroy(),this.outline&&this.outline.destroy(),e.prototype.destroy.call(this)},t.prototype.initialSyncWithDOM=function(){this.disabled=this.input.disabled},Object.defineProperty(t.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(e){this.foundation.setValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.foundation.isDisabled()},set:function(e){this.foundation.setDisabled(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.foundation.isValid()},set:function(e){this.foundation.setValid(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this.input.required},set:function(e){this.input.required=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pattern",{get:function(){return this.input.pattern},set:function(e){this.input.pattern=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minLength",{get:function(){return this.input.minLength},set:function(e){this.input.minLength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.input.maxLength},set:function(e){e<0?this.input.removeAttribute("maxLength"):this.input.maxLength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.input.min},set:function(e){this.input.min=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.input.max},set:function(e){this.input.max=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this.input.step},set:function(e){this.input.step=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"helperTextContent",{set:function(e){this.foundation.setHelperTextContent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leadingIconAriaLabel",{set:function(e){this.foundation.setLeadingIconAriaLabel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leadingIconContent",{set:function(e){this.foundation.setLeadingIconContent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trailingIconAriaLabel",{set:function(e){this.foundation.setTrailingIconAriaLabel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trailingIconContent",{set:function(e){this.foundation.setTrailingIconContent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useNativeValidation",{set:function(e){this.foundation.setUseNativeValidation(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prefixText",{get:function(){return this.prefix?this.prefix.textContent:null},set:function(e){this.prefix&&(this.prefix.textContent=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"suffixText",{get:function(){return this.suffix?this.suffix.textContent:null},set:function(e){this.suffix&&(this.suffix.textContent=e)},enumerable:!1,configurable:!0}),t.prototype.focus=function(){this.input.focus()},t.prototype.layout=function(){var e=this.foundation.shouldFloat;this.foundation.notchOutline(e)},t.prototype.getDefaultFoundation=function(){var e=Rl(Rl(Rl(Rl(Rl({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods());return new um(e,this.getFoundationMap())},t.prototype.getRootAdapterMethods=function(){var e=this;return{addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},hasClass:function(t){return e.root.classList.contains(t)},registerTextFieldInteractionHandler:function(t,n){e.listen(t,n)},deregisterTextFieldInteractionHandler:function(t,n){e.unlisten(t,n)},registerValidationAttributeChangeHandler:function(t){var n=new MutationObserver((function(e){return t(function(e){return e.map((function(e){return e.attributeName})).filter((function(e){return e}))}(e))}));return n.observe(e.input,{attributes:!0}),n},deregisterValidationAttributeChangeHandler:function(e){e.disconnect()}}},t.prototype.getInputAdapterMethods=function(){var e=this;return{getNativeInput:function(){return e.input},setInputAttr:function(t,n){e.input.setAttribute(t,n)},removeInputAttr:function(t){e.input.removeAttribute(t)},isFocused:function(){return document.activeElement===e.input},registerInputInteractionHandler:function(t,n){e.input.addEventListener(t,n,tf())},deregisterInputInteractionHandler:function(t,n){e.input.removeEventListener(t,n,tf())}}},t.prototype.getLabelAdapterMethods=function(){var e=this;return{floatLabel:function(t){e.label&&e.label.float(t)},getLabelWidth:function(){return e.label?e.label.getWidth():0},hasLabel:function(){return Boolean(e.label)},shakeLabel:function(t){e.label&&e.label.shake(t)},setLabelRequired:function(t){e.label&&e.label.setRequired(t)}}},t.prototype.getLineRippleAdapterMethods=function(){var e=this;return{activateLineRipple:function(){e.lineRipple&&e.lineRipple.activate()},deactivateLineRipple:function(){e.lineRipple&&e.lineRipple.deactivate()},setLineRippleTransformOrigin:function(t){e.lineRipple&&e.lineRipple.setRippleCenter(t)}}},t.prototype.getOutlineAdapterMethods=function(){var e=this;return{closeOutline:function(){e.outline&&e.outline.closeNotch()},hasOutline:function(){return Boolean(e.outline)},notchOutline:function(t){e.outline&&e.outline.notch(t)}}},t.prototype.getFoundationMap=function(){return{characterCounter:this.characterCounter?this.characterCounter.foundationForTextField:void 0,helperText:this.helperText?this.helperText.foundationForTextField:void 0,leadingIcon:this.leadingIcon?this.leadingIcon.foundationForTextField:void 0,trailingIcon:this.trailingIcon?this.trailingIcon.foundationForTextField:void 0}},t.prototype.createRipple=function(e){var t=this,n=this.root.classList.contains(rm.TEXTAREA),i=this.root.classList.contains(rm.OUTLINED);if(n||i)return null;var r=Rl(Rl({},hf.createAdapter(this)),{isSurfaceActive:function(){return rf(t.input,":active")},registerInteractionHandler:function(e,n){t.input.addEventListener(e,n,tf())},deregisterInteractionHandler:function(e,n){t.input.removeEventListener(e,n,tf())}});return e(this.root,new df(r))},t}(ef);function Im(e,t,n){let i=e.inputtype,r=e.inputlabel,o=e.inputmodel,s=t.create("label",{class:"mdc-text-field mdc-text-field--outlined",style:"\r\n                width: 100%\r\n            "},t.create("span",{class:"mdc-notched-outline",style:"color:white;"},t.create("span",{class:"mdc-notched-outline__leading"}),t.create("span",{class:"mdc-notched-outline__notch"},t.create("span",{class:"mdc-floating-label",id:"my-label-id",style:"color:white;"},r)),t.create("span",{class:"mdc-notched-outline__trailing"})),t.create("input",{type:i,class:"mdc-text-field__input ","x-model":o,"aria-labelledby":"my-label-id",style:"\r\n                color:white;\r\n                width:100%;\r\n                "}));return new bm(s),s}function Em(e,t,n){return t.create(t.fragment,null,t.create("div",{style:"\r\n    margin-top: 12px;\r\n"},t.create(Im,{inputtype:"email",inputlabel:"Email",inputmodel:"email"})),t.create("div",{style:"\r\n    margin-top: 12px;\r\n"},t.create(Im,{inputtype:"password",inputlabel:"Password",inputmodel:"password"})),t.create("div",{style:"margin-top: 12px;","x-show":"mode == 'signup'"},"If you forget your password, all account ",t.create("br",null),"data will be lost permanently."),t.create("div",{style:"margin-top: 16px;"},"Your account data is stored encrypted."),t.create("div",{"x-show":"mode == 'signup'"},t.create("div",{style:"\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    "},t.create("div",{"x-type":"--raised","x-label":"Sign up",style:"margin-top: 12px;","x-bind":"actions.signup","x-show":"!auth.authenticating"},t.create(bf,{label:"Sign up",type:"--raised"})))),t.create("div",{"x-show":"mode == 'login'"},t.create("div",{style:"\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    "},t.create("div",{"x-type":"--raised","x-label":"Sign in",style:"margin-top: 12px;","x-bind":"actions.signin","x-show":"!auth.authenticating"},t.create(bf,{label:"Sign in",type:"--raised"})))),t.create("div",{style:"\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        "},t.create("div",{"x-show":"auth.authenticating",style:"\r\n    margin-top: 16px;\r\n    color: var(--mdc-theme-primary);\r\n    height: 8px;\r\n    width: 95%;\r\n"},t.create(Bf,null))))}function wm(e,t,n){return t.create(t.fragment,null,t.create("div",{"x-show":"mode == 'signup'"},t.create("div",{style:"display: flex; align-items: center; justify-content: center"},t.create("div",{"x-type":"--raised","x-label":"Sign up / Sign in",style:"margin-top: 12px","x-bind":"actions.googlesignin","x-show":"!auth.authenticating"},t.create(bf,{label:"Sign in",type:"--raised"})))),t.create("div",{style:"\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        "},t.create("div",{"x-show":"auth.authenticating",style:"\r\n    margin-top: 16px;\r\n    color: var(--mdc-theme-primary);\r\n    height: 8px;\r\n    width: 95%;\r\n"},t.create(Bf,null))))}function Cm(e,t,n){return t.create(t.fragment,null,t.create("span",{class:"material-icons",style:"\r\n                                        width: 100%;\r\n                                        height: 100%;\r\n                                        margin-bottom: 24px;\r\n                                    ","x-show":"!auth.authenticating"},t.create("div",{"x-on:click":"() => {\r\n                                        if (loginwith == 'google') {\r\n                                            step = 'pickprovider'\r\n                                        } else {\r\n                                            step = 'loginorsignup'\r\n                                        }\r\n                                            \r\n                                        }"},"arrow_back")),t.create("div",{"x-show":"mode == 'signup'"},t.create("div",{style:"\r\n                                        display: flex;\r\n                                        align-items: center;\r\n                                        justify-content: center;\r\n                                        "},t.create("h2",null,"Welcome!"))),t.create("div",{"x-show":"mode == 'login'"},t.create("div",{style:"\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          "},t.create("h2",null,"Welcome back!"))))}function Tm(e,t,n){return t.create(t.fragment,null,t.create("span",{class:"material-icons",style:"width: 100%; height: 100%; margin-bottom: 24px"},t.create("div",{"x-on:click":"() => {\r\n        auth.dialogopen = false\r\n    }"},"arrow_back")),t.create("div",{style:"display: flex; align-items: center; justify-content: center"},t.create("div",{"x-on:click":"() => {\r\n                                            mode = 'login'\r\n                                            step = 'page'\r\n                                        }"},t.create(bf,{label:"Sign in",type:"--raised"})),t.create("div",{style:"margin-left: 38px","x-on:click":"() => {\r\n                                            mode = 'signup'\r\n                                            step = 'page'\r\n                                        }"},t.create(bf,{label:"Sign up",type:"--raised"}))),t.create("div",{"x-data":!0,"x-effect":"() => {\r\n    if (loginwith == 'google' && step == 'loginorsignup') {\r\n        step = 'page';\r\n        mode = 'signup';\r\n    }\r\n}"}))}function Sm(e,t,n){return t.create(t.fragment,null,t.create("div",{style:"\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n"},t.create("div",{"x-on:click":"() => {\r\n                                        loginwith = 'google';\r\n                                        step = 'loginorsignup';\r\n    }"},t.create(bf,{label:"Google",type:"--raised"}))),t.create("div",{style:"\r\n       display: flex;\r\n       align-items: center;\r\n       justify-content: center;\r\n       margin-top: 8px;\r\n"},t.create("div",{"x-on:click":"() => {\r\n                                        loginwith = 'email';\r\n                                        step = 'loginorsignup';\r\n                                    }"},t.create(bf,{label:"Email / Password",type:"--raised"}))))}let xm=new Worker(new URL(""+new URL("wasmhandler-388d8d67.js",import.meta.url).href,self.location),{type:"module"}),Am=[];const km=import.meta.url;function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Om.apply(this,arguments)}xm.onmessage=e=>{for(let t of Am)t(e.data);Am=[]};var Nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm="object"===("undefined"==typeof window?"undefined":Nm(window))&&"object"===("undefined"==typeof document?"undefined":Nm(document))&&9===document.nodeType;function Pm(e){return Pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(e)}function Lm(e){var t=function(e,t){if("object"!==Pm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Pm(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pm(t)?t:String(t)}function Dm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Lm(i.key),i)}}function Mm(e,t,n){return t&&Dm(e.prototype,t),n&&Dm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fm(e,t){return Fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fm(e,t)}function jm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fm(e,t)}function Hm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Um={}.constructor;function Bm(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(Bm);if(e.constructor!==Um)return e;var t={};for(var n in e)t[n]=Bm(e[n]);return t}function qm(e,t,n){void 0===e&&(e="unnamed");var i=n.jss,r=Bm(t),o=i.plugins.onCreateRule(e,r,n);return o||(e[0],null)}var Vm=function(e,t){for(var n="",i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=t),n+=e[i];return n},Wm=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=Vm(e[n]," ");else t=Vm(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function zm(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function $m(e,t){for(var n="",i=0;i<t;i++)n+="  ";return n+e}function Gm(e,t,n){void 0===n&&(n={});var i="";if(!t)return i;var r=n.indent,o=void 0===r?0:r,s=t.fallbacks;!1===n.format&&(o=-1/0);var a=zm(n),c=a.linebreak,l=a.space;if(e&&o++,s)if(Array.isArray(s))for(var u=0;u<s.length;u++){var d=s[u];for(var h in d){var p=d[h];null!=p&&(i&&(i+=c),i+=$m(h+":"+l+Wm(p)+";",o))}}else for(var f in s){var m=s[f];null!=m&&(i&&(i+=c),i+=$m(f+":"+l+Wm(m)+";",o))}for(var g in t){var y=t[g];null!=y&&"fallbacks"!==g&&(i&&(i+=c),i+=$m(g+":"+l+Wm(y)+";",o))}return(i||n.allowEmpty)&&e?(i&&(i=""+c+i+c),$m(""+e+l+"{"+i,--o)+$m("}",o)):i}var Km=/([[\].#*$><+~=|^:(),"'`\s])/g,Ym="undefined"!=typeof CSS&&CSS.escape,Xm=function(e){return Ym?Ym(e):e.replace(Km,"\\$1")},Jm=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var i=n.sheet,r=n.Renderer;this.key=e,this.options=n,this.style=t,i?this.renderer=i.renderer:r&&(this.renderer=new r)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var i=!!n&&n.force;if(!i&&this.style[e]===t)return this;var r=t;n&&!1===n.process||(r=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==r||!1===r,s=e in this.style;if(o&&!s&&!i)return this;var a=o&&s;if(a?delete this.style[e]:this.style[e]=r,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,r),this;var c=this.options.sheet;return c&&c.attached,this},e}(),Qm=function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var o=i.selector,s=i.scoped,a=i.sheet,c=i.generateId;return o?r.selectorText=o:!1!==s&&(r.id=c(Hm(Hm(r)),a),r.selectorText="."+Xm(r.id)),r}jm(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var i in n)t.setProperty(e,i,n[i])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=Wm(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Om({},e,{allowEmpty:!0}):e;return Gm(this.selectorText,this.style,n)},Mm(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(Jm),Zm={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new Qm(e,t,n)}},eg={indent:1,children:!0},tg=/@([\w-]+)/,ng=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(tg);for(var r in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Sg(Om({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),i):null},t.replaceRule=function(e,t,n){var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),i},t.toString=function(e){void 0===e&&(e=eg);var t=zm(e).linebreak;if(null==e.indent&&(e.indent=eg.indent),null==e.children&&(e.children=eg.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),ig=/@container|@media|@supports\s+/,rg={onCreateRule:function(e,t,n){return ig.test(e)?new ng(e,t,n):null}},og={indent:1,children:!0},sg=/@keyframes\s+([\w-]+)/,ag=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(sg);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var r=n.scoped,o=n.sheet,s=n.generateId;for(var a in this.id=!1===r?this.name:Xm(s(this,o)),this.rules=new Sg(Om({},n,{parent:this})),t)this.rules.add(a,t[a],Om({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=og);var t=zm(e).linebreak;if(null==e.indent&&(e.indent=og.indent),null==e.children&&(e.children=og.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),cg=/@keyframes\s+/,lg=/\$([\w-]+)/g,ug=function(e,t){return"string"==typeof e?e.replace(lg,(function(e,n){return n in t?t[n]:e})):e},dg=function(e,t,n){var i=e[t],r=ug(i,n);r!==i&&(e[t]=r)},hg={onCreateRule:function(e,t,n){return"string"==typeof e&&cg.test(e)?new ag(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&dg(e,"animation-name",n.keyframes),"animation"in e&&dg(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var i=n.options.sheet;if(!i)return e;switch(t){case"animation":case"animation-name":return ug(e,i.keyframes);default:return e}}},pg=function(e){function t(){return e.apply(this,arguments)||this}return jm(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Om({},e,{allowEmpty:!0}):e;return Gm(this.key,this.style,n)},t}(Jm),fg={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new pg(e,t,n):null}},mg=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=zm(e).linebreak;if(Array.isArray(this.style)){for(var n="",i=0;i<this.style.length;i++)n+=Gm(this.at,this.style[i]),this.style[i+1]&&(n+=t);return n}return Gm(this.at,this.style,e)},e}(),gg=/@font-face/,yg={onCreateRule:function(e,t,n){return gg.test(e)?new mg(e,t,n):null}},vg=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return Gm(this.key,this.style,e)},e}(),_g={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new vg(e,t,n):null}},bg=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Ig={"@charset":!0,"@import":!0,"@namespace":!0},Eg={onCreateRule:function(e,t,n){return e in Ig?new bg(e,t,n):null}},wg=[Zm,rg,hg,fg,yg,_g,Eg],Cg={process:!0},Tg={force:!0,process:!0},Sg=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,r=i.parent,o=i.sheet,s=i.jss,a=i.Renderer,c=i.generateId,l=i.scoped,u=Om({classes:this.classes,parent:r,sheet:o,jss:s,Renderer:a,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(u.selector="."+Xm(this.classes[d]));var h=qm(d,t,u);if(!h)return null;this.register(h);var p=void 0===u.index?this.index.length:u.index;return this.index.splice(p,0,h),h},t.replace=function(e,t,n){var i=this.get(e),r=this.index.indexOf(i);i&&this.remove(i);var o=n;return-1!==r&&(o=Om({},n,{index:r})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof Qm?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof ag&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof Qm?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof ag&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var i=0;i<this.index.length;i++)this.updateOne(this.index[i],t,n)},t.updateOne=function(t,n,i){void 0===i&&(i=Cg);var r=this.options,o=r.jss.plugins,s=r.sheet;if(t.rules instanceof e)t.rules.update(n,i);else{var a=t.style;if(o.onUpdate(n,t,s,i),i.process&&a&&a!==t.style){for(var c in o.onProcessStyle(t.style,t,s),t.style){var l=t.style[c];l!==a[c]&&t.prop(c,l,Tg)}for(var u in a){var d=t.style[u],h=a[u];null==d&&d!==h&&t.prop(u,null,Tg)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,i=!!n&&n.options.link,r=zm(e).linebreak,o=0;o<this.index.length;o++){var s=this.index[o].toString(e);(s||i)&&(t&&(t+=r),t+=s)}return t},e}(),xg=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Om({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Sg(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var i=this.queue;this.attached&&!i&&(this.queue=[]);var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(i?i.push(r):(this.insertRule(r),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),r):r:(this.deployed=!1,r)):null},t.replaceRule=function(e,t,n){var i=this.rules.get(e);if(!i)return this.addRule(e,t,n);var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(this.renderer&&(r?i.renderable&&this.renderer.replaceRule(i.renderable,r):this.renderer.deleteRule(i)),r):r:(this.deployed=!1,r)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var i in e){var r=this.addRule(i,e[i],t);r&&n.push(r)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Ag=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var i=0;i<this.registry.onCreateRule.length;i++){var r=this.registry.onCreateRule[i](e,t,n);if(r)return r}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var i=0;i<this.registry.onProcessStyle.length;i++)t.style=this.registry.onProcessStyle[i](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,i){for(var r=0;r<this.registry.onUpdate.length;r++)this.registry.onUpdate[r](e,t,n,i)},t.onChangeValue=function(e,t,n){for(var i=e,r=0;r<this.registry.onChangeValue.length;r++)i=this.registry.onChangeValue[r](i,t,n);return i},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),kg=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var i=0;i<t.length;i++)if(t[i].options.index>n)return void t.splice(i,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,i=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["attached"]),r=zm(i).linebreak,o="",s=0;s<this.registry.length;s++){var a=this.registry[s];null!=n&&a.attached!==n||(o&&(o+=r),o+=a.toString(i))}return o},Mm(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Og=new kg,Ng="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),Rg="2f1acc6c3a606b082e5eef5e54414ffb";null==Ng[Rg]&&(Ng[Rg]=0);var Pg=Ng[Rg]++,Lg=function(e){void 0===e&&(e={});var t=0;return function(n,i){t+=1;var r="",o="";return i&&(i.options.classNamePrefix&&(o=i.options.classNamePrefix),null!=i.options.jss.id&&(r=String(i.options.jss.id))),e.minify?""+(o||"c")+Pg+r+t:o+n.key+"-"+Pg+(r?"-"+r:"")+"-"+t}},Dg=function(e){var t;return function(){return t||(t=e()),t}},Mg=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},Fg=function(e,t,n){try{var i=n;if(Array.isArray(n)&&(i=Wm(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,i);else{var r=i?i.indexOf("!important"):-1,o=r>-1?i.substr(0,r-1):i;e.style.setProperty(t,o,r>-1?"important":"")}}catch(s){return!1}return!0},jg=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},Hg=function(e,t){return e.selectorText=t,e.selectorText===t},Ug=Dg((function(){return document.querySelector("head")}));function Bg(e){var t=Og.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.attached&&i.options.index>t.index&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.attached&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var i=e.insertionPoint;if(i&&"string"==typeof i){var r=function(e){for(var t=Ug(),n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(8===i.nodeType&&i.nodeValue.trim()===e)return i}return null}(i);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}var qg,Vg=Dg((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Wg=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(i){return!1}return e.cssRules[n]},zg=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},$g=function(){function e(e){this.getPropertyValue=Mg,this.setProperty=Fg,this.removeProperty=jg,this.setSelector=Hg,this.hasInsertedRules=!1,this.cssRules=[],e&&Og.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,i=t.meta,r=t.element;this.element=r||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),i&&this.element.setAttribute("data-meta",i);var o=Vg();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,i=Bg(t);if(!1!==i&&i.parent)i.parent.insertBefore(e,i.node);else if(n&&"number"==typeof n.nodeType){var r=n,o=r.parentNode;o&&o.insertBefore(e,r.nextSibling)}else Ug().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var i=e,r=n;if("conditional"===e.type||"keyframes"===e.type){var o=zg(n,t);if(!1===(r=Wg(n,i.toString({children:!1}),o)))return!1;this.refCssRule(e,o,r)}return this.insertRules(i.rules,r),r}var s=e.toString();if(!s)return!1;var a=zg(n,t),c=Wg(n,s,a);return!1!==c&&(this.hasInsertedRules=!0,this.refCssRule(e,a,c),c)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof xg&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Gg=0,Kg=function(){function e(e){this.id=Gg++,this.version="10.10.0",this.plugins=new Ag,this.options={id:{minify:!1},createGenerateId:Lg,Renderer:Rm?$g:null,plugins:[]},this.generateId=Lg({minify:!1});for(var t=0;t<wg.length;t++)this.plugins.use(wg[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Om({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===Og.index?0:Og.index+1);var i=new xg(e,Om({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),Og.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var i=Om({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var r=qm(e,t,i);return r&&this.plugins.onProcessRule(r),r},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Yg="object"==typeof CSS&&null!=CSS&&"number"in CSS;const Xg=new Kg(qg);var Jg=Date.now(),Qg="fnValues"+Jg,Zg="fnStyle"+ ++Jg;const ey=function(){return{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var i=qm(e,{},n);return i[Zg]=t,i},onProcessStyle:function(e,t){if(Qg in t||Zg in t)return e;var n={};for(var i in e){var r=e[i];"function"==typeof r&&(delete e[i],n[i]=r)}return t[Qg]=n,e},onUpdate:function(e,t,n,i){var r=t,o=r[Zg];o&&(r.style=o(e)||{});var s=r[Qg];if(s)for(var a in s)r.prop(a,s[a](e),i)}}};var ty=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()),ny=function(e){return e&&e[ty]&&e===e[ty]()};const iy=function(e){return{onCreateRule:function(t,n,i){if(!ny(n))return null;var r=n,o=qm(t,{},i);return r.subscribe((function(t){for(var n in t)o.prop(n,t[n],e)})),o},onProcessRule:function(t){if(!t||"style"===t.type){var n=t,i=n.style,r=function(t){var r=i[t];if(!ny(r))return"continue";delete i[t],r.subscribe({next:function(i){n.prop(t,i,e)}})};for(var o in i)r(o)}}}};var ry=/;\n/,oy=function(e){"string"==typeof e.style&&(e.style=function(e){for(var t={},n=e.split(ry),i=0;i<n.length;i++){var r=(n[i]||"").trim();if(r){var o=r.indexOf(":");if(-1!==o){var s=r.substr(0,o).trim(),a=r.substr(o+1).trim();t[s]=a}}}return t}(e.style))};var sy="@global",ay="@global ",cy=function(){function e(e,t,n){for(var i in this.type="global",this.at=sy,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Sg(Om({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),i},t.replaceRule=function(e,t,n){var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),i},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),ly=function(){function e(e,t,n){this.type="global",this.at=sy,this.isProcessed=!1,this.key=e,this.options=n;var i=e.substr(8);this.rule=n.jss.createRule(i,t,Om({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),uy=/\s*,\s*/g;function dy(e,t){for(var n=e.split(uy),i="",r=0;r<n.length;r++)i+=t+" "+n[r].trim(),n[r+1]&&(i+=", ");return i}function hy(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===sy)return new cy(e,t,n);if("@"===e[0]&&e.substr(0,8)===ay)return new ly(e,t,n);var i=n.parent;return i&&("global"===i.type||i.options.parent&&"global"===i.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,r=i?i[sy]:null;if(r){for(var o in r)t.addRule(o,r[o],Om({},n,{selector:dy(o,e.selector)}));delete i[sy]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var r in i)if("@"===r[0]&&r.substr(0,sy.length)===sy){var o=dy(r.substr(sy.length),e.selector);t.addRule(o,i[r],Om({},n,{selector:o})),delete i[r]}}(e,t))}}}var py=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},fy="extendCurrValue"+Date.now();function my(e,t,n,i){return void 0===i&&(i={}),function(e,t,n,i){if("string"!=typeof e.extend)if(Array.isArray(e.extend))for(var r=0;r<e.extend.length;r++){var o=e.extend[r];my("string"==typeof o?Om({},e,{extend:o}):e.extend[r],t,n,i)}else for(var s in e.extend)"extend"!==s?py(e.extend[s])?(s in i||(i[s]={}),my(e.extend[s],t,n,i[s])):i[s]=e.extend[s]:my(e.extend.extend,t,n,i);else{if(!n)return;var a=n.getRule(e.extend);if(!a)return;if(a===t)return;var c=a.options.parent;c&&my(c.rules.raw[e.extend],t,n,i)}}(e,t,n,i),function(e,t,n,i){for(var r in e)"extend"!==r&&(py(i[r])&&py(e[r])?my(e[r],t,n,i[r]):py(e[r])?i[r]=my(e[r],t,n):i[r]=e[r])}(e,t,n,i),i}var gy=/\s*,\s*/g,yy=/&/g,vy=/\$([\w-]+)/g;function _y(){function e(e,t){return function(n,i){var r=e.getRule(i)||t&&t.getRule(i);return r?r.selector:i}}function t(e,t){for(var n=t.split(gy),i=e.split(gy),r="",o=0;o<n.length;o++)for(var s=n[o],a=0;a<i.length;a++){var c=i[a];r&&(r+=", "),r+=-1!==c.indexOf("&")?c.replace(yy,s):s+" "+c}return r}function n(e,t,n){if(n)return Om({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var r=Om({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete r.name,r}return{onProcessStyle:function(i,r,o){if("style"!==r.type)return i;var s,a,c=r,l=c.options.parent;for(var u in i){var d=-1!==u.indexOf("&"),h="@"===u[0];if(d||h){if(s=n(c,l,s),d){var p=t(u,c.selector);a||(a=e(l,o)),p=p.replace(vy,a);var f=c.key+"-"+u;"replaceRule"in l?l.replaceRule(f,i[u],Om({},s,{selector:p})):l.addRule(f,i[u],Om({},s,{selector:p}))}else h&&l.addRule(u,{},s).addRule(c.key,i[u],{selector:c.selector});delete i[u]}}return i}}}function by(e,t){if(!t)return!0;if(Array.isArray(t)){for(var n=0;n<t.length;n++){if(!by(e,t[n]))return!1}return!0}if(t.indexOf(" ")>-1)return by(e,t.split(" "));var i=e.options.parent;if("$"===t[0]){var r=i.getRule(t.substr(1));return!!r&&(r!==e&&(i.classes[e.key]+=" "+i.classes[r.key],!0))}return i.classes[e.key]+=" "+t,!0}function Iy(){return{onProcessStyle:function(e,t){return"composes"in e?(by(t,e.composes),delete e.composes,e):e}}}var Ey=/[A-Z]/g,wy=/^ms-/,Cy={};function Ty(e){return"-"+e.toLowerCase()}function Sy(e){if(Cy.hasOwnProperty(e))return Cy[e];var t=e.replace(Ey,Ty);return Cy[e]=wy.test(t)?"-"+t:t}function xy(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Sy(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(xy):t.fallbacks=xy(e.fallbacks)),t}var Ay=Yg&&CSS?CSS.px:"px",ky=Yg&&CSS?CSS.ms:"ms",Oy=Yg&&CSS?CSS.percent:"%";function Ny(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},i={};for(var r in e)i[r]=e[r],i[r.replace(t,n)]=e[r];return i}var Ry=Ny({"animation-delay":ky,"animation-duration":ky,"background-position":Ay,"background-position-x":Ay,"background-position-y":Ay,"background-size":Ay,border:Ay,"border-bottom":Ay,"border-bottom-left-radius":Ay,"border-bottom-right-radius":Ay,"border-bottom-width":Ay,"border-left":Ay,"border-left-width":Ay,"border-radius":Ay,"border-right":Ay,"border-right-width":Ay,"border-top":Ay,"border-top-left-radius":Ay,"border-top-right-radius":Ay,"border-top-width":Ay,"border-width":Ay,"border-block":Ay,"border-block-end":Ay,"border-block-end-width":Ay,"border-block-start":Ay,"border-block-start-width":Ay,"border-block-width":Ay,"border-inline":Ay,"border-inline-end":Ay,"border-inline-end-width":Ay,"border-inline-start":Ay,"border-inline-start-width":Ay,"border-inline-width":Ay,"border-start-start-radius":Ay,"border-start-end-radius":Ay,"border-end-start-radius":Ay,"border-end-end-radius":Ay,margin:Ay,"margin-bottom":Ay,"margin-left":Ay,"margin-right":Ay,"margin-top":Ay,"margin-block":Ay,"margin-block-end":Ay,"margin-block-start":Ay,"margin-inline":Ay,"margin-inline-end":Ay,"margin-inline-start":Ay,padding:Ay,"padding-bottom":Ay,"padding-left":Ay,"padding-right":Ay,"padding-top":Ay,"padding-block":Ay,"padding-block-end":Ay,"padding-block-start":Ay,"padding-inline":Ay,"padding-inline-end":Ay,"padding-inline-start":Ay,"mask-position-x":Ay,"mask-position-y":Ay,"mask-size":Ay,height:Ay,width:Ay,"min-height":Ay,"max-height":Ay,"min-width":Ay,"max-width":Ay,bottom:Ay,left:Ay,top:Ay,right:Ay,inset:Ay,"inset-block":Ay,"inset-block-end":Ay,"inset-block-start":Ay,"inset-inline":Ay,"inset-inline-end":Ay,"inset-inline-start":Ay,"box-shadow":Ay,"text-shadow":Ay,"column-gap":Ay,"column-rule":Ay,"column-rule-width":Ay,"column-width":Ay,"font-size":Ay,"font-size-delta":Ay,"letter-spacing":Ay,"text-decoration-thickness":Ay,"text-indent":Ay,"text-stroke":Ay,"text-stroke-width":Ay,"word-spacing":Ay,motion:Ay,"motion-offset":Ay,outline:Ay,"outline-offset":Ay,"outline-width":Ay,perspective:Ay,"perspective-origin-x":Oy,"perspective-origin-y":Oy,"transform-origin":Oy,"transform-origin-x":Oy,"transform-origin-y":Oy,"transform-origin-z":Oy,"transition-delay":ky,"transition-duration":ky,"vertical-align":Ay,"flex-basis":Ay,"shape-margin":Ay,size:Ay,gap:Ay,grid:Ay,"grid-gap":Ay,"row-gap":Ay,"grid-row-gap":Ay,"grid-column-gap":Ay,"grid-template-rows":Ay,"grid-template-columns":Ay,"grid-auto-rows":Ay,"grid-auto-columns":Ay,"box-shadow-x":Ay,"box-shadow-y":Ay,"box-shadow-blur":Ay,"box-shadow-spread":Ay,"font-line-height":Ay,"text-shadow-x":Ay,"text-shadow-y":Ay,"text-shadow-blur":Ay});function Py(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]=Py(e,t[i],n);else if("object"==typeof t)if("fallbacks"===e)for(var r in t)t[r]=Py(r,t[r],n);else for(var o in t)t[o]=Py(e+"-"+o,t[o],n);else if("number"==typeof t&&!1===isNaN(t)){var s=n[e]||Ry[e];return!s||0===t&&s===Ay?t.toString():"function"==typeof s?s(t).toString():""+t+s}return t}function Ly(e){void 0===e&&(e={});var t=Ny(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var i in e)e[i]=Py(i,e[i],t);return e},onChangeValue:function(e,n){return Py(n,e,t)}}}var Dy={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},My={position:!0,size:!0},Fy={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},jy={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function Hy(e,t,n,i){return null==n[t]?e:0===e.length?[]:Array.isArray(e[0])?Hy(e[0],t,n,i):"object"==typeof e[0]?function(e,t,n){return e.map((function(e){return Uy(e,t,n,!1,!0)}))}(e,t,i):[e]}function Uy(e,t,n,i,r){if(!Fy[t]&&!jy[t])return[];var o=[];if(jy[t]&&(e=function(e,t,n,i){for(var r in n){var o=n[r];if(void 0!==e[r]&&(i||!t.prop(o))){var s,a=By((s={},s[o]=e[r],s),t)[o];i?t.style.fallbacks[o]=a:t.style[o]=a}delete e[r]}return e}(e,n,jy[t],i)),Object.keys(e).length)for(var s in Fy[t])e[s]?Array.isArray(e[s])?o.push(null===My[s]?e[s]:e[s].join(" ")):o.push(e[s]):null!=Fy[t][s]&&o.push(Fy[t][s]);return!o.length||r?o:[o]}function By(e,t,n){for(var i in e){var r=e[i];if(Array.isArray(r)){if(!Array.isArray(r[0])){if("fallbacks"===i){for(var o=0;o<e.fallbacks.length;o++)e.fallbacks[o]=By(e.fallbacks[o],t,!0);continue}e[i]=Hy(r,i,Dy,t),e[i].length||delete e[i]}}else if("object"==typeof r){if("fallbacks"===i){e.fallbacks=By(e.fallbacks,t,!0);continue}e[i]=Uy(r,i,t,n),e[i].length||delete e[i]}else""===e[i]&&delete e[i]}return e}function qy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Vy(e){return function(e){if(Array.isArray(e))return qy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qy(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wy="",zy="",$y="",Gy="",Ky=Rm&&"ontouchstart"in document.documentElement;if(Rm){var Yy={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Xy=document.createElement("p").style;for(var Jy in Yy)if(Jy+"Transform"in Xy){Wy=Jy,zy=Yy[Jy];break}"Webkit"===Wy&&"msHyphens"in Xy&&(Wy="ms",zy=Yy.ms,Gy="edge"),"Webkit"===Wy&&"-apple-trailing-word"in Xy&&($y="apple")}var Qy={js:Wy,css:zy,vendor:$y,browser:Gy,isTouch:Ky};var Zy={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===Qy.js?"-webkit-"+e:Qy.css+e)}},ev={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===Qy.js?Qy.css+"print-"+e:e)}},tv=/[-\s]+(.)?/g;function nv(e,t){return t?t.toUpperCase():""}function iv(e){return e.replace(tv,nv)}function rv(e){return iv("-"+e)}var ov,sv={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===Qy.js){var n="mask-image";if(iv(n)in t)return e;if(Qy.js+rv(n)in t)return Qy.css+e}return e}},av={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Qy.vendor||Qy.isTouch?e:Qy.css+e)}},cv={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Qy.css+e)}},lv={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Qy.css+e)}},uv={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===Qy.js||"ms"===Qy.js&&"edge"!==Qy.browser?Qy.css+e:e)}},dv={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===Qy.js||"ms"===Qy.js||"apple"===Qy.vendor?Qy.css+e:e)}},hv={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===Qy.js?"WebkitColumn"+rv(e)in t&&Qy.css+"column-"+e:"Moz"===Qy.js&&("page"+rv(e)in t&&"page-"+e))}},pv={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===Qy.js)return e;var n=e.replace("-inline","");return Qy.js+rv(n)in t&&Qy.css+n}},fv={supportedProperty:function(e,t){return iv(e)in t&&e}},mv={supportedProperty:function(e,t){var n=rv(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:Qy.js+n in t?Qy.css+e:"Webkit"!==Qy.js&&"Webkit"+n in t&&"-webkit-"+e}},gv={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===Qy.js?""+Qy.css+e:e)}},yv={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===Qy.js?Qy.css+"scroll-chaining":e)}},vv={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},_v={supportedProperty:function(e,t){var n=vv[e];return!!n&&(Qy.js+rv(n)in t&&Qy.css+n)}},bv={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Iv=Object.keys(bv),Ev=function(e){return Qy.css+e},wv={supportedProperty:function(e,t,n){var i=n.multiple;if(Iv.indexOf(e)>-1){var r=bv[e];if(!Array.isArray(r))return Qy.js+rv(r)in t&&Qy.css+r;if(!i)return!1;for(var o=0;o<r.length;o++)if(!(Qy.js+rv(r[0])in t))return!1;return r.map(Ev)}return!1}},Cv=[Zy,ev,sv,av,cv,lv,uv,dv,hv,pv,fv,mv,gv,yv,_v,wv],Tv=Cv.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Sv=Cv.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Vy(t.noPrefill)),e}),[]),xv={};if(Rm){ov=document.createElement("p");var Av=window.getComputedStyle(document.documentElement,"");for(var kv in Av)isNaN(kv)||(xv[Av[kv]]=Av[kv]);Sv.forEach((function(e){return delete xv[e]}))}function Ov(e,t){if(void 0===t&&(t={}),!ov)return e;if(null!=xv[e])return xv[e];"transition"!==e&&"transform"!==e||(t[e]=e in ov.style);for(var n=0;n<Tv.length&&(xv[e]=Tv[n](e,ov.style,t),!xv[e]);n++);try{ov.style[e]=""}catch(i){return!1}return xv[e]}var Nv,Rv={},Pv={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Lv=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Dv(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var i=t?Ov(t):", "+Ov(n);return i||(t||n)}function Mv(e,t){var n=t;if(!Nv||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var i=e+n;if(null!=Rv[i])return Rv[i];try{Nv.style[e]=n}catch(r){return Rv[i]=!1,!1}if(Pv[e])n=n.replace(Lv,Dv);else if(""===Nv.style[e]&&("-ms-flex"===(n=Qy.css+n)&&(Nv.style[e]="-ms-flexbox"),Nv.style[e]=n,""===Nv.style[e]))return Rv[i]=!1,!1;return Nv.style[e]="",Rv[i]=n,Rv[i]}function Fv(){function e(t){for(var n in t){var i=t[n];if("fallbacks"===n&&Array.isArray(i))t[n]=i.map(e);else{var r=!1,o=Ov(n);o&&o!==n&&(r=!0);var s=!1,a=Mv(o,Wm(i));a&&a!==i&&(s=!0),(r||s)&&(r&&delete t[n],t[o||n]=a||i)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===Qy.js?e:"@"+Qy.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Mv(t,Wm(e))||e}}}Rm&&(Nv=document.createElement("p"));const jv=function(e){return void 0===e&&(e={}),{plugins:[ey(),iy(e.observable),{onProcessRule:oy},hy(),{onProcessStyle:function(e,t,n){return"extend"in e?my(e,t,n):e},onChangeValue:function(e,t,n){if("extend"!==t)return e;if(null==e||!1===e){for(var i in n[fy])n.prop(i,null);return n[fy]=null,null}if("object"==typeof e){for(var r in e)n.prop(r,e[r]);n[fy]=e}return null}},_y(),Iy(),{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=xy(e[t]);return e}return xy(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var i=Sy(t);return t===i?e:(n.prop(i,e),null)}},Ly(e.defaultUnit),{onProcessStyle:function(e,t){if(!e||"style"!==t.type)return e;if(Array.isArray(e)){for(var n=0;n<e.length;n++)e[n]=By(e[n],t);return e}return By(e,t)}},Fv(),(t=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length},{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var i={},r=Object.keys(e).sort(t),o=0;o<r.length;o++)i[r[o]]=e[r[o]];return i}})]};var t};function Hv(e,t,n){return t.create("div",{"x-bind:class":"'mdc-dialog' + (auth.dialogopen ? ' mdc-dialog--open' : '')","x-data":"loginModal"},t.create("div",{class:"mdc-dialog__container"},t.create("div",{class:"mdc-dialog__surface","aria-modal":"true","aria-labelledby":"my-dialog-title","aria-describedby":"my-dialog-content"},t.create("div",{class:"mdc-dialog__content",id:"my-dialog-content",style:"\r\n                            color: white;\r\n                            \r\n                        "},t.create("style",null,".layer1, .layer2{\n                grid-column: 1;\n                grid-row: 1;\n              }"),t.create(Sf,{attributes:{"x-transition:enter.duration.1000ms":"","x-transition:enter.delay.350ms":"","x-transition:leave.duration.250ms":""}},t.create("span",{class:"material-icons",style:"\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    margin-bottom: 24px;\r\n                ","x-show":"!auth.authenticating && step === 'pickprovider'"},t.create("div",{"x-on:click":"() => {\r\n                                auth.dialogopen = false;\r\n                            }"},"arrow_back")),t.create("p",{style:"\r\n                    margin-top: 8px;\r\n                    margin-bottom: 8px;\r\n                ","x-show":"step == 'pickprovider'"},"Please choose your authentication provider from the list below."),t.create("div",{"x-show":"step == 'pickprovider'"},t.create(Sm,null)),t.create("div",{"x-show":"step == 'loginorsignup'"},t.create(Tm,null)),t.create("div",{"x-show":"step == 'page'"},t.create(Cm,null),t.create("div",{"x-show":"loginwith == 'email'"},t.create(Em,null)),t.create("div",{"x-show":"loginwith == 'google'"},t.create(wm,null))))))),t.create("div",{class:"mdc-dialog__scrim"}))}function Uv(e,t,n){return t.create(t.fragment,null,t.create("div",{style:"  \r\n  overflow-y: scroll;\r\n  height: calc(calc(var(--vh, 1vh) * 100) - 85px);\r\n  margin-top: 10px;\r\n  "},t.create("div",{style:"\r\n          height: 10px;\r\n          width: calc(100% - 20px);\r\n          margin-left: 10px;\r\n          margin-right: 10px;\r\n          \r\n        "},t.create("div",{style:"\r\n      display: flex;\r\n      background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);\r\n      width: 100%;\r\n      height: 85px;\r\n      padding: 20px;\r\n      border-radius: 5px;\r\n      position: relative;\r\n      align-items: center;\r\n    "},t.create("div",{style:"\r\n        width: 45px;\r\n        height: 45px;\r\n        border-radius: calc(45px / 2);\r\n        background-color: white;\r\n      "}),t.create("div",{"x-show":"!auth.authenticating"},t.create(Sf,{attributes:{"x-transition.duration.250ms":""}},t.create("div",{style:"\r\n                margin-left: 10px;\r\n              ","x-show":"auth.loggedIn","x-text":"auth.email"},"Main")),t.create("div",{style:"\r\n                margin-left: 10px;\r\n                "},t.create("div",{"x-show":"!auth.loggedIn","x-on:click":"() => {\r\n                    auth.dialogopen = true;\r\n                }"},t.create(bf,{label:"Sign up / Sign in",type:"--raised"})),t.create("div",{"x-show":"auth.loggedIn","x-bind":"actions.signout"},t.create(bf,{label:"Log out",type:"--raised"})))),t.create("div",{"x-show":"auth.authenticating",style:"\r\n    margin-left: 10px;\r\n    color: var(--mdc-theme-primary);\r\n    height: 8px;\r\n    width: 90%;\r\n"},t.create(Bf,null))))),t.create(Hv,null))}Xg.setup(jv()),Xg.createStyleSheet({onedash:{backgroundColor:"white"}}).attach(),document.addEventListener("alpine:init",(()=>{window.Alpine.data("loginModal",(()=>({mode:"",loginwith:"email",step:"loginorsignup",email:"",password:"",actions:{googlesignin:{"@click"(){if(this.auth.authenticating)return;this.auth.authenticating=!0;let e=zp(this.firebaseapp);e.setPersistence(hh),Yh(e,new Ed).then((e=>{let t=e.user;this.auth.loggedIn=!0,this.auth.email=t.email,this.auth.displayName=t.displayName,this.auth.dialogopen=!1,this.auth.uid=t.uid,this.auth.authenticating=!1})).catch((e=>{alert(e.message),this.auth.authenticating=!1}))}},forgetpassword:{"@click"(){if(this.auth.authenticating)return;let e=zp(this.firebaseapp);e.setPersistence(hh),Wd(e,this.email)}},signup:{async"@click"(){if(this.auth.authenticating)return;this.auth.authenticating=!0;const e=Tl(),t=btoa(this.email);let n=this.email.toString(),i=(await(r=this.password,new Promise(((e,t)=>{xm=new Worker(new URL("./wasmhandler.ts",km),{type:"module"}),xm.onmessage=t=>{"ready"==t.data?xm.postMessage({req:"newdatabase",password:r}):(e(t.data),xm.terminate())}})))).data;var r;nl(Zc(e,"/users2/"+t)).then((r=>{null!=r.val()?(alert("User already exists on this service."),this.auth.authenticating=!1):(console.log(i),tl(Zc(e,"/users2/"+t),{database:i.database}).then((()=>{$d(zp(this.firebaseapp),n,i.accessKey).then((e=>{Kd(e.user,{displayName:btoa(JSON.stringify({openid:i.openid}))}).then((()=>{this.auth.dialogopen=!1}))}))})))})),console.log(i)}},signin:{async"@click"(){if(this.auth.authenticating)return;this.auth.authenticating=!0;const e=Tl(),t=btoa(this.email);let n=this.email.toString();nl(Zc(e,"/users2/"+t)).then((async e=>{if(null!=e.val()){let i=e.val().database;try{let e=(await function(e,t){return new Promise(((n,i)=>{Am.push(n),xm.postMessage({req:"getaccesskey",database:e,password:t})}))}(i,this.password)).data;"PASSFAILED"==e?console.log("KeePass was unable to open the database."):console.log("KeePass opened.");let t=zp(this.firebaseapp);await Gd(t,n,e);this.auth.authenticating=!1,this.auth.dialogopen=!1}catch(t){this.auth.authenticating=!1,alert(t)}}else alert("User does not exist on this service."),this.auth.authenticating=!1}))}}}})))}));var Bv,qv,Vv,Wv,zv={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},$v={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",OPENING_EVENT:"MDCMenuSurface:opening",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},Gv={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67,TOUCH_EVENT_WAIT_MS:30};!function(e){e[e.BOTTOM=1]="BOTTOM",e[e.CENTER=2]="CENTER",e[e.RIGHT=4]="RIGHT",e[e.FLIP_RTL=8]="FLIP_RTL"}(Bv||(Bv={})),function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=4]="TOP_RIGHT",e[e.BOTTOM_LEFT=1]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",e[e.TOP_START=8]="TOP_START",e[e.TOP_END=12]="TOP_END",e[e.BOTTOM_START=9]="BOTTOM_START",e[e.BOTTOM_END=13]="BOTTOM_END"}(qv||(qv={}));var Kv={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},Yv=((Vv={})[""+Kv.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",Vv[""+Kv.LIST_ITEM_CLASS]="mdc-list-item",Vv[""+Kv.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",Vv[""+Kv.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",Vv[""+Kv.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",Vv[""+Kv.ROOT]="mdc-list",Vv),Xv=((Wv={})[""+Kv.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",Wv[""+Kv.LIST_ITEM_CLASS]="mdc-deprecated-list-item",Wv[""+Kv.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",Wv[""+Kv.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",Wv[""+Kv.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",Wv[""+Kv.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",Wv[""+Kv.ROOT]="mdc-deprecated-list",Wv),Jv={ACTION_EVENT:"MDCList:action",SELECTION_CHANGE_EVENT:"MDCList:selectionChange",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+Kv.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+Kv.LIST_ITEM_CLASS+" a,\n    ."+Xv[Kv.LIST_ITEM_CLASS]+" button:not(:disabled),\n    ."+Xv[Kv.LIST_ITEM_CLASS]+" a\n  ",DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+Kv.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+Kv.LIST_ITEM_CLASS+" a,\n    ."+Kv.LIST_ITEM_CLASS+' input[type="radio"]:not(:disabled),\n    .'+Kv.LIST_ITEM_CLASS+' input[type="checkbox"]:not(:disabled),\n    .'+Xv[Kv.LIST_ITEM_CLASS]+" button:not(:disabled),\n    ."+Xv[Kv.LIST_ITEM_CLASS]+" a,\n    ."+Xv[Kv.LIST_ITEM_CLASS]+' input[type="radio"]:not(:disabled),\n    .'+Xv[Kv.LIST_ITEM_CLASS]+' input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},Qv={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300},Zv={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape",TAB:"Tab"},e_=new Set;e_.add(Zv.BACKSPACE),e_.add(Zv.ENTER),e_.add(Zv.SPACEBAR),e_.add(Zv.PAGE_UP),e_.add(Zv.PAGE_DOWN),e_.add(Zv.END),e_.add(Zv.HOME),e_.add(Zv.ARROW_LEFT),e_.add(Zv.ARROW_UP),e_.add(Zv.ARROW_RIGHT),e_.add(Zv.ARROW_DOWN),e_.add(Zv.DELETE),e_.add(Zv.ESCAPE),e_.add(Zv.TAB);var t_=8,n_=13,i_=32,r_=33,o_=34,s_=35,a_=36,c_=37,l_=38,u_=39,d_=40,h_=46,p_=27,f_=9,m_=new Map;m_.set(t_,Zv.BACKSPACE),m_.set(n_,Zv.ENTER),m_.set(i_,Zv.SPACEBAR),m_.set(r_,Zv.PAGE_UP),m_.set(o_,Zv.PAGE_DOWN),m_.set(s_,Zv.END),m_.set(a_,Zv.HOME),m_.set(c_,Zv.ARROW_LEFT),m_.set(l_,Zv.ARROW_UP),m_.set(u_,Zv.ARROW_RIGHT),m_.set(d_,Zv.ARROW_DOWN),m_.set(h_,Zv.DELETE),m_.set(p_,Zv.ESCAPE),m_.set(f_,Zv.TAB);var g_=new Set;function y_(e){var t=e.key;if(e_.has(t))return t;var n=m_.get(e.keyCode);return n||Zv.UNKNOWN}g_.add(Zv.PAGE_UP),g_.add(Zv.PAGE_DOWN),g_.add(Zv.END),g_.add(Zv.HOME),g_.add(Zv.ARROW_LEFT),g_.add(Zv.ARROW_UP),g_.add(Zv.ARROW_RIGHT),g_.add(Zv.ARROW_DOWN);var v_=["input","button","textarea","select"],__=function(e){var t=e.target;if(t){var n=(""+t.tagName).toLowerCase();-1===v_.indexOf(n)&&e.preventDefault()}};function b_(e,t){var n,i=e.nextChar,r=e.focusItemAtIndex,o=e.sortedIndexByFirstChar,s=e.focusedItemIndex,a=e.skipFocus,c=e.isItemAtIndexDisabled;return clearTimeout(t.bufferClearTimeout),t.bufferClearTimeout=setTimeout((function(){E_(t)}),Qv.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),t.typeaheadBuffer=t.typeaheadBuffer+i,n=1===t.typeaheadBuffer.length?function(e,t,n,i){var r=i.typeaheadBuffer[0],o=e.get(r);if(!o)return-1;if(r===i.currentFirstChar&&o[i.sortedIndexCursor].index===t){i.sortedIndexCursor=(i.sortedIndexCursor+1)%o.length;var s=o[i.sortedIndexCursor].index;if(!n(s))return s}i.currentFirstChar=r;var a,c=-1;for(a=0;a<o.length;a++)if(!n(o[a].index)){c=a;break}for(;a<o.length;a++)if(o[a].index>t&&!n(o[a].index)){c=a;break}if(-1!==c)return i.sortedIndexCursor=c,o[i.sortedIndexCursor].index;return-1}(o,s,c,t):function(e,t,n){var i=n.typeaheadBuffer[0],r=e.get(i);if(!r)return-1;var o=r[n.sortedIndexCursor];if(0===o.text.lastIndexOf(n.typeaheadBuffer,0)&&!t(o.index))return o.index;var s=(n.sortedIndexCursor+1)%r.length,a=-1;for(;s!==n.sortedIndexCursor;){var c=r[s],l=0===c.text.lastIndexOf(n.typeaheadBuffer,0),u=!t(c.index);if(l&&u){a=s;break}s=(s+1)%r.length}if(-1!==a)return n.sortedIndexCursor=a,r[n.sortedIndexCursor].index;return-1}(o,c,t),-1===n||a||r(n),n}function I_(e){return e.typeaheadBuffer.length>0}function E_(e){e.typeaheadBuffer=""}function w_(e,t){var n=e.event,i=e.isTargetListItem,r=e.focusedItemIndex,o=e.focusItemAtIndex,s=e.sortedIndexByFirstChar,a=e.isItemAtIndexDisabled,c="ArrowLeft"===y_(n),l="ArrowUp"===y_(n),u="ArrowRight"===y_(n),d="ArrowDown"===y_(n),h="Home"===y_(n),p="End"===y_(n),f="Enter"===y_(n),m="Spacebar"===y_(n);return n.altKey||n.ctrlKey||n.metaKey||c||l||u||d||h||p||f?-1:m||1!==n.key.length?m?(i&&__(n),i&&I_(t)?b_({focusItemAtIndex:o,focusedItemIndex:r,nextChar:" ",sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:a},t):-1):-1:(__(n),b_({focusItemAtIndex:o,focusedItemIndex:r,nextChar:n.key.toLowerCase(),sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:a},t))}var C_=["Alt","Control","Meta","Shift"];function T_(e){var t=new Set(e?C_.filter((function(t){return e.getModifierState(t)})):[]);return function(e){return e.every((function(e){return t.has(e)}))&&e.length===t.size}}var S_,x_=function(e){function t(n){var i=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return i.wrapFocus=!1,i.isVertical=!0,i.isSingleSelectionList=!1,i.areDisabledItemsFocusable=!0,i.selectedIndex=Qv.UNSET_INDEX,i.focusedItemIndex=Qv.UNSET_INDEX,i.useActivatedClass=!1,i.useSelectedAttr=!1,i.ariaCurrentAttrValue=null,i.isCheckboxList=!1,i.isRadioList=!1,i.lastSelectedIndex=null,i.hasTypeahead=!1,i.typeaheadState={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""},i.sortedIndexByFirstChar=new Map,i}return Nl(t,e),Object.defineProperty(t,"strings",{get:function(){return Jv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Kv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Qv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},notifySelectionChange:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!1,configurable:!0}),t.prototype.layout=function(){0!==this.adapter.getListItemCount()&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},t.prototype.getFocusedItemIndex=function(){return this.focusedItemIndex},t.prototype.setWrapFocus=function(e){this.wrapFocus=e},t.prototype.setVerticalOrientation=function(e){this.isVertical=e},t.prototype.setSingleSelection=function(e){this.isSingleSelectionList=e,e&&(this.maybeInitializeSingleSelection(),this.selectedIndex=this.getSelectedIndexFromDOM())},t.prototype.setDisabledItemsFocusable=function(e){this.areDisabledItemsFocusable=e},t.prototype.maybeInitializeSingleSelection=function(){var e=this.getSelectedIndexFromDOM();e!==Qv.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(e,Kv.LIST_ITEM_ACTIVATED_CLASS)&&this.setUseActivatedClass(!0),this.isSingleSelectionList=!0,this.selectedIndex=e)},t.prototype.getSelectedIndexFromDOM=function(){for(var e=Qv.UNSET_INDEX,t=this.adapter.getListItemCount(),n=0;n<t;n++){var i=this.adapter.listItemAtIndexHasClass(n,Kv.LIST_ITEM_SELECTED_CLASS),r=this.adapter.listItemAtIndexHasClass(n,Kv.LIST_ITEM_ACTIVATED_CLASS);if(i||r){e=n;break}}return e},t.prototype.setHasTypeahead=function(e){this.hasTypeahead=e,e&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},t.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&I_(this.typeaheadState)},t.prototype.setUseActivatedClass=function(e){this.useActivatedClass=e},t.prototype.setUseSelectedAttribute=function(e){this.useSelectedAttr=e},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.setSelectedIndex=function(e,t){void 0===t&&(t={}),this.isIndexValid(e)&&(this.isCheckboxList?this.setCheckboxAtIndex(e,t):this.isRadioList?this.setRadioAtIndex(e,t):this.setSingleSelectionAtIndex(e,t))},t.prototype.handleFocusIn=function(e){e>=0&&(this.focusedItemIndex=e,this.adapter.setAttributeForElementIndex(e,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(e,"0"))},t.prototype.handleFocusOut=function(e){var t=this;e>=0&&(this.adapter.setAttributeForElementIndex(e,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(e,"-1")),setTimeout((function(){t.adapter.isFocusInsideList()||t.setTabindexToFirstSelectedOrFocusedItem()}),0)},t.prototype.isIndexDisabled=function(e){return this.adapter.listItemAtIndexHasClass(e,Kv.LIST_ITEM_DISABLED_CLASS)},t.prototype.handleKeydown=function(e,t,n){var i,r=this,o="ArrowLeft"===y_(e),s="ArrowUp"===y_(e),a="ArrowRight"===y_(e),c="ArrowDown"===y_(e),l="Home"===y_(e),u="End"===y_(e),d="Enter"===y_(e),h="Spacebar"===y_(e),p=this.isVertical&&c||!this.isVertical&&a,f=this.isVertical&&s||!this.isVertical&&o,m="A"===e.key||"a"===e.key,g=T_(e);if(this.adapter.isRootFocused()){if((f||u)&&g([]))e.preventDefault(),this.focusLastElement();else if((p||l)&&g([]))e.preventDefault(),this.focusFirstElement();else if(f&&g(["Shift"])&&this.isCheckboxList){e.preventDefault(),-1!==(_=this.focusLastElement())&&this.setSelectedIndexOnAction(_,!1)}else if(p&&g(["Shift"])&&this.isCheckboxList){e.preventDefault(),-1!==(_=this.focusFirstElement())&&this.setSelectedIndexOnAction(_,!1)}if(this.hasTypeahead){var y={event:e,focusItemAtIndex:function(e){r.focusItemAtIndex(e)},focusedItemIndex:-1,isTargetListItem:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(e){return r.isIndexDisabled(e)}};w_(y,this.typeaheadState)}}else{var v=this.adapter.getFocusedElementIndex();if(!(-1===v&&(v=n)<0)){if(p&&g([]))__(e),this.focusNextElement(v);else if(f&&g([]))__(e),this.focusPrevElement(v);else if(p&&g(["Shift"])&&this.isCheckboxList){__(e),-1!==(_=this.focusNextElement(v))&&this.setSelectedIndexOnAction(_,!1)}else if(f&&g(["Shift"])&&this.isCheckboxList){var _;__(e),-1!==(_=this.focusPrevElement(v))&&this.setSelectedIndexOnAction(_,!1)}else if(l&&g([]))__(e),this.focusFirstElement();else if(u&&g([]))__(e),this.focusLastElement();else if(l&&g(["Control","Shift"])&&this.isCheckboxList){if(__(e),this.isIndexDisabled(v))return;this.focusFirstElement(),this.toggleCheckboxRange(0,v,v)}else if(u&&g(["Control","Shift"])&&this.isCheckboxList){if(__(e),this.isIndexDisabled(v))return;this.focusLastElement(),this.toggleCheckboxRange(v,this.adapter.getListItemCount()-1,v)}else if(m&&g(["Control"])&&this.isCheckboxList)e.preventDefault(),this.checkboxListToggleAll(this.selectedIndex===Qv.UNSET_INDEX?[]:this.selectedIndex,!0);else if((d||h)&&g([])){if(t){if((b=e.target)&&"A"===b.tagName&&d)return;if(__(e),this.isIndexDisabled(v))return;this.isTypeaheadInProgress()||(this.isSelectableList()&&this.setSelectedIndexOnAction(v,!1),this.adapter.notifyAction(v))}}else if((d||h)&&g(["Shift"])&&this.isCheckboxList){var b;if((b=e.target)&&"A"===b.tagName&&d)return;if(__(e),this.isIndexDisabled(v))return;this.isTypeaheadInProgress()||(this.toggleCheckboxRange(null!==(i=this.lastSelectedIndex)&&void 0!==i?i:v,v,v),this.adapter.notifyAction(v))}if(this.hasTypeahead){y={event:e,focusItemAtIndex:function(e){r.focusItemAtIndex(e)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(e){return r.isIndexDisabled(e)}};w_(y,this.typeaheadState)}}}},t.prototype.handleClick=function(e,t,n){var i,r=T_(n);e!==Qv.UNSET_INDEX&&(this.isIndexDisabled(e)||(r([])?(this.isSelectableList()&&this.setSelectedIndexOnAction(e,t),this.adapter.notifyAction(e)):this.isCheckboxList&&r(["Shift"])&&(this.toggleCheckboxRange(null!==(i=this.lastSelectedIndex)&&void 0!==i?i:e,e,e),this.adapter.notifyAction(e))))},t.prototype.focusNextElement=function(e){var t=this.adapter.getListItemCount(),n=e,i=null;do{if(++n>=t){if(!this.wrapFocus)return e;n=0}if(n===i)return-1;i=null!=i?i:n}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(n));return this.focusItemAtIndex(n),n},t.prototype.focusPrevElement=function(e){var t=this.adapter.getListItemCount(),n=e,i=null;do{if(--n<0){if(!this.wrapFocus)return e;n=t-1}if(n===i)return-1;i=null!=i?i:n}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(n));return this.focusItemAtIndex(n),n},t.prototype.focusFirstElement=function(){return this.focusNextElement(-1)},t.prototype.focusLastElement=function(){return this.focusPrevElement(this.adapter.getListItemCount())},t.prototype.focusInitialElement=function(){var e=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(e),e},t.prototype.setEnabled=function(e,t){this.isIndexValid(e,!1)&&(t?(this.adapter.removeClassForElementIndex(e,Kv.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,Jv.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(e,Kv.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,Jv.ARIA_DISABLED,"true")))},t.prototype.setSingleSelectionAtIndex=function(e,t){if(void 0===t&&(t={}),this.selectedIndex!==e||t.forceUpdate){var n=Kv.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass&&(n=Kv.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex!==Qv.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex,n),this.setAriaForSingleSelectionAtIndex(e),this.setTabindexAtIndex(e),e!==Qv.UNSET_INDEX&&this.adapter.addClassForElementIndex(e,n),this.selectedIndex=e,t.isUserInteraction&&!t.forceUpdate&&this.adapter.notifySelectionChange([e])}},t.prototype.setAriaForSingleSelectionAtIndex=function(e){this.selectedIndex===Qv.UNSET_INDEX&&(this.ariaCurrentAttrValue=this.adapter.getAttributeForElementIndex(e,Jv.ARIA_CURRENT));var t=null!==this.ariaCurrentAttrValue,n=t?Jv.ARIA_CURRENT:Jv.ARIA_SELECTED;if(this.selectedIndex!==Qv.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,n,"false"),e!==Qv.UNSET_INDEX){var i=t?this.ariaCurrentAttrValue:"true";this.adapter.setAttributeForElementIndex(e,n,i)}},t.prototype.getSelectionAttribute=function(){return this.useSelectedAttr?Jv.ARIA_SELECTED:Jv.ARIA_CHECKED},t.prototype.setRadioAtIndex=function(e,t){void 0===t&&(t={});var n=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(e,!0),(this.selectedIndex!==e||t.forceUpdate)&&(this.selectedIndex!==Qv.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,n,"false"),this.adapter.setAttributeForElementIndex(e,n,"true"),this.selectedIndex=e,t.isUserInteraction&&!t.forceUpdate&&this.adapter.notifySelectionChange([e]))},t.prototype.setCheckboxAtIndex=function(e,t){void 0===t&&(t={});for(var n=this.selectedIndex,i=t.isUserInteraction?new Set(n===Qv.UNSET_INDEX?[]:n):null,r=this.getSelectionAttribute(),o=[],s=0;s<this.adapter.getListItemCount();s++){var a=null==i?void 0:i.has(s),c=e.indexOf(s)>=0;c!==a&&o.push(s),this.adapter.setCheckedCheckboxOrRadioAtIndex(s,c),this.adapter.setAttributeForElementIndex(s,r,c?"true":"false")}this.selectedIndex=e,t.isUserInteraction&&o.length&&this.adapter.notifySelectionChange(o)},t.prototype.toggleCheckboxRange=function(e,t,n){this.lastSelectedIndex=n;for(var i=new Set(this.selectedIndex===Qv.UNSET_INDEX?[]:this.selectedIndex),r=!(null==i?void 0:i.has(n)),o=Dl([e,t].sort(),2),s=o[0],a=o[1],c=this.getSelectionAttribute(),l=[],u=s;u<=a;u++){if(!this.isIndexDisabled(u))r!==i.has(u)&&(l.push(u),this.adapter.setCheckedCheckboxOrRadioAtIndex(u,r),this.adapter.setAttributeForElementIndex(u,c,""+r),r?i.add(u):i.delete(u))}l.length&&(this.selectedIndex=Ml([],Dl(i)),this.adapter.notifySelectionChange(l))},t.prototype.setTabindexAtIndex=function(e){this.focusedItemIndex===Qv.UNSET_INDEX&&0!==e?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==e&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),this.selectedIndex instanceof Array||this.selectedIndex===e||this.adapter.setAttributeForElementIndex(this.selectedIndex,"tabindex","-1"),e!==Qv.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(e,"tabindex","0")},t.prototype.isSelectableList=function(){return this.isSingleSelectionList||this.isCheckboxList||this.isRadioList},t.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var e=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(e)},t.prototype.getFirstSelectedOrFocusedItemIndex=function(){return this.isSelectableList()?"number"==typeof this.selectedIndex&&this.selectedIndex!==Qv.UNSET_INDEX?this.selectedIndex:this.selectedIndex instanceof Array&&this.selectedIndex.length>0?this.selectedIndex.reduce((function(e,t){return Math.min(e,t)})):0:Math.max(this.focusedItemIndex,0)},t.prototype.isIndexValid=function(e,t){var n=this;if(void 0===t&&(t=!0),e instanceof Array){if(!this.isCheckboxList&&t)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return 0===e.length||e.some((function(e){return n.isIndexInRange(e)}))}if("number"==typeof e){if(this.isCheckboxList&&t)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return this.isIndexInRange(e)||this.isSingleSelectionList&&e===Qv.UNSET_INDEX}return!1},t.prototype.isIndexInRange=function(e){var t=this.adapter.getListItemCount();return e>=0&&e<t},t.prototype.setSelectedIndexOnAction=function(e,t){this.lastSelectedIndex=e,this.isCheckboxList?(this.toggleCheckboxAtIndex(e,t),this.adapter.notifySelectionChange([e])):this.setSelectedIndex(e,{isUserInteraction:!0})},t.prototype.toggleCheckboxAtIndex=function(e,t){var n,i=this.getSelectionAttribute(),r=this.adapter.isCheckboxCheckedAtIndex(e);t?n=r:(n=!r,this.adapter.setCheckedCheckboxOrRadioAtIndex(e,n)),this.adapter.setAttributeForElementIndex(e,i,n?"true":"false");var o=this.selectedIndex===Qv.UNSET_INDEX?[]:this.selectedIndex.slice();n?o.push(e):o=o.filter((function(t){return t!==e})),this.selectedIndex=o},t.prototype.focusItemAtIndex=function(e){this.adapter.focusItemAtIndex(e),this.focusedItemIndex=e},t.prototype.checkboxListToggleAll=function(e,t){var n=this.adapter.getListItemCount();if(e.length===n)this.setCheckboxAtIndex([],{isUserInteraction:t});else{for(var i=[],r=0;r<n;r++)(!this.isIndexDisabled(r)||e.indexOf(r)>-1)&&i.push(r);this.setCheckboxAtIndex(i,{isUserInteraction:t})}},t.prototype.typeaheadMatchItem=function(e,t,n){var i=this;void 0===n&&(n=!1);var r={focusItemAtIndex:function(e){i.focusItemAtIndex(e)},focusedItemIndex:t||this.focusedItemIndex,nextChar:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:n,isItemAtIndexDisabled:function(e){return i.isIndexDisabled(e)}};return b_(r,this.typeaheadState)},t.prototype.typeaheadInitSortedIndex=function(){return function(e,t){for(var n=new Map,i=0;i<e;i++){var r=t(i).trim();if(r){var o=r[0].toLowerCase();n.has(o)||n.set(o,[]),n.get(o).push({text:r.toLowerCase(),index:i})}}return n.forEach((function(e){e.sort((function(e,t){return e.index-t.index}))})),n}(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},t.prototype.clearTypeaheadBuffer=function(){E_(this.typeaheadState)},t}(Zp),A_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"vertical",{set:function(e){this.foundation.setVerticalOrientation(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listElements",{get:function(){return Array.from(this.root.querySelectorAll("."+this.classNameMap[Kv.LIST_ITEM_CLASS]))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapFocus",{set:function(e){this.foundation.setWrapFocus(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeaheadInProgress",{get:function(){return this.foundation.isTypeaheadInProgress()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTypeahead",{set:function(e){this.foundation.setHasTypeahead(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"singleSelection",{set:function(e){this.foundation.setSingleSelection(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabledItemsFocusable",{set:function(e){this.foundation.setDisabledItemsFocusable(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(e){this.foundation.setSelectedIndex(e)},enumerable:!1,configurable:!0}),t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){this.isEvolutionEnabled="evolution"in this.root.dataset,this.isEvolutionEnabled?this.classNameMap=Yv:rf(this.root,Jv.DEPRECATED_SELECTOR)?this.classNameMap=Xv:this.classNameMap=Object.values(Kv).reduce((function(e,t){return e[t]=t,e}),{}),this.handleClick=this.handleClickEvent.bind(this),this.handleKeydown=this.handleKeydownEvent.bind(this),this.focusInEventListener=this.handleFocusInEvent.bind(this),this.focusOutEventListener=this.handleFocusOutEvent.bind(this),this.listen("keydown",this.handleKeydown),this.listen("click",this.handleClick),this.listen("focusin",this.focusInEventListener),this.listen("focusout",this.focusOutEventListener),this.layout(),this.initializeListType(),this.ensureFocusable()},t.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten("click",this.handleClick),this.unlisten("focusin",this.focusInEventListener),this.unlisten("focusout",this.focusOutEventListener)},t.prototype.layout=function(){var e=this.root.getAttribute(Jv.ARIA_ORIENTATION);this.vertical=e!==Jv.ARIA_ORIENTATION_HORIZONTAL;var t="."+this.classNameMap[Kv.LIST_ITEM_CLASS]+":not([tabindex])",n=Jv.FOCUSABLE_CHILD_ELEMENTS,i=this.root.querySelectorAll(t);i.length&&Array.prototype.forEach.call(i,(function(e){e.setAttribute("tabindex","-1")}));var r=this.root.querySelectorAll(n);r.length&&Array.prototype.forEach.call(r,(function(e){e.setAttribute("tabindex","-1")})),this.isEvolutionEnabled&&this.foundation.setUseSelectedAttribute(!0),this.foundation.layout()},t.prototype.getPrimaryText=function(e){var t,n=e.querySelector("."+this.classNameMap[Kv.LIST_ITEM_PRIMARY_TEXT_CLASS]);if(this.isEvolutionEnabled||n)return null!==(t=null==n?void 0:n.textContent)&&void 0!==t?t:"";var i=e.querySelector("."+this.classNameMap[Kv.LIST_ITEM_TEXT_CLASS]);return i&&i.textContent||""},t.prototype.initializeListType=function(){var e=this;if(this.isInteractive=rf(this.root,Jv.ARIA_INTERACTIVE_ROLES_SELECTOR),this.isEvolutionEnabled&&this.isInteractive){var t=Array.from(this.root.querySelectorAll(Jv.SELECTED_ITEM_SELECTOR),(function(t){return e.listElements.indexOf(t)}));rf(this.root,Jv.ARIA_MULTI_SELECTABLE_SELECTOR)?this.selectedIndex=t:t.length>0&&(this.selectedIndex=t[0])}else{var n=this.root.querySelectorAll(Jv.ARIA_ROLE_CHECKBOX_SELECTOR),i=this.root.querySelector(Jv.ARIA_CHECKED_RADIO_SELECTOR);if(n.length){var r=this.root.querySelectorAll(Jv.ARIA_CHECKED_CHECKBOX_SELECTOR);this.selectedIndex=Array.from(r,(function(t){return e.listElements.indexOf(t)}))}else i&&(this.selectedIndex=this.listElements.indexOf(i))}},t.prototype.setEnabled=function(e,t){this.foundation.setEnabled(e,t)},t.prototype.typeaheadMatchItem=function(e,t){return this.foundation.typeaheadMatchItem(e,t,!0)},t.prototype.getDefaultFoundation=function(){var e=this,t={addClassForElementIndex:function(t,n){var i=e.listElements[t];i&&i.classList.add(e.classNameMap[n])},focusItemAtIndex:function(t){var n=e.listElements[t];n&&n.focus()},getAttributeForElementIndex:function(t,n){return e.listElements[t].getAttribute(n)},getFocusedElementIndex:function(){return e.listElements.indexOf(document.activeElement)},getListItemCount:function(){return e.listElements.length},getPrimaryTextAtIndex:function(t){return e.getPrimaryText(e.listElements[t])},hasCheckboxAtIndex:function(t){return!!e.listElements[t].querySelector(Jv.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(t){return!!e.listElements[t].querySelector(Jv.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(t){return e.listElements[t].querySelector(Jv.CHECKBOX_SELECTOR).checked},isFocusInsideList:function(){return e.root!==document.activeElement&&e.root.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===e.root},listItemAtIndexHasClass:function(t,n){return e.listElements[t].classList.contains(e.classNameMap[n])},notifyAction:function(t){e.emit(Jv.ACTION_EVENT,{index:t},!0)},notifySelectionChange:function(t){e.emit(Jv.SELECTION_CHANGE_EVENT,{changedIndices:t},!0)},removeClassForElementIndex:function(t,n){var i=e.listElements[t];i&&i.classList.remove(e.classNameMap[n])},setAttributeForElementIndex:function(t,n,i){var r=e.listElements[t];r&&r.setAttribute(n,i)},setCheckedCheckboxOrRadioAtIndex:function(t,n){var i=e.listElements[t].querySelector(Jv.CHECKBOX_RADIO_SELECTOR);i.checked=n;var r=document.createEvent("Event");r.initEvent("change",!0,!0),i.dispatchEvent(r)},setTabIndexForListItemChildren:function(t,n){var i=e.listElements[t],r=Jv.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX;Array.prototype.forEach.call(i.querySelectorAll(r),(function(e){e.setAttribute("tabindex",n)}))}};return new x_(t)},t.prototype.ensureFocusable=function(){if(this.isEvolutionEnabled&&this.isInteractive&&!this.root.querySelector("."+this.classNameMap[Kv.LIST_ITEM_CLASS]+'[tabindex="0"]')){var e=this.initialFocusIndex();-1!==e&&(this.listElements[e].tabIndex=0)}},t.prototype.initialFocusIndex=function(){if(this.selectedIndex instanceof Array&&this.selectedIndex.length>0)return this.selectedIndex[0];if("number"==typeof this.selectedIndex&&this.selectedIndex!==Qv.UNSET_INDEX)return this.selectedIndex;var e=this.root.querySelector("."+this.classNameMap[Kv.LIST_ITEM_CLASS]+":not(."+this.classNameMap[Kv.LIST_ITEM_DISABLED_CLASS]+")");return null===e?-1:this.getListItemIndex(e)},t.prototype.getListItemIndex=function(e){var t=nf(e,"."+this.classNameMap[Kv.LIST_ITEM_CLASS]+", ."+this.classNameMap[Kv.ROOT]);return t&&rf(t,"."+this.classNameMap[Kv.LIST_ITEM_CLASS])?this.listElements.indexOf(t):-1},t.prototype.handleFocusInEvent=function(e){var t=this.getListItemIndex(e.target);this.foundation.handleFocusIn(t)},t.prototype.handleFocusOutEvent=function(e){var t=this.getListItemIndex(e.target);this.foundation.handleFocusOut(t)},t.prototype.handleKeydownEvent=function(e){var t=this.getListItemIndex(e.target),n=e.target;this.foundation.handleKeydown(e,n.classList.contains(this.classNameMap[Kv.LIST_ITEM_CLASS]),t)},t.prototype.handleClickEvent=function(e){var t=this.getListItemIndex(e.target),n=!rf(e.target,Jv.CHECKBOX_RADIO_SELECTOR);this.foundation.handleClick(t,n,e)},t}(ef),k_=function(e){function t(n){var i=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return i.isSurfaceOpen=!1,i.isQuickOpen=!1,i.isHoistedElement=!1,i.isFixedPosition=!1,i.isHorizontallyCenteredOnViewport=!1,i.maxHeight=0,i.openBottomBias=0,i.openAnimationEndTimerId=0,i.closeAnimationEndTimerId=0,i.animationRequestId=0,i.anchorCorner=qv.TOP_START,i.originCorner=qv.TOP_START,i.anchorMargin={top:0,right:0,bottom:0,left:0},i.position={x:0,y:0},i}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return zv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return $v},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Gv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Corner",{get:function(){return qv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyClosing:function(){},notifyOpen:function(){},notifyOpening:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=t.cssClasses,n=e.ROOT,i=e.OPEN;if(!this.adapter.hasClass(n))throw new Error(n+" class required in root element.");this.adapter.hasClass(i)&&(this.isSurfaceOpen=!0)},t.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},t.prototype.setAnchorCorner=function(e){this.anchorCorner=e},t.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^Bv.RIGHT},t.prototype.setAnchorMargin=function(e){this.anchorMargin.top=e.top||0,this.anchorMargin.right=e.right||0,this.anchorMargin.bottom=e.bottom||0,this.anchorMargin.left=e.left||0},t.prototype.setIsHoisted=function(e){this.isHoistedElement=e},t.prototype.setFixedPosition=function(e){this.isFixedPosition=e},t.prototype.isFixed=function(){return this.isFixedPosition},t.prototype.setAbsolutePosition=function(e,t){this.position.x=this.isFinite(e)?e:0,this.position.y=this.isFinite(t)?t:0},t.prototype.setIsHorizontallyCenteredOnViewport=function(e){this.isHorizontallyCenteredOnViewport=e},t.prototype.setQuickOpen=function(e){this.isQuickOpen=e},t.prototype.setMaxHeight=function(e){this.maxHeight=e},t.prototype.setOpenBottomBias=function(e){this.openBottomBias=e},t.prototype.isOpen=function(){return this.isSurfaceOpen},t.prototype.open=function(){var e=this;this.isSurfaceOpen||(this.adapter.notifyOpening(),this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(t.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(t.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame((function(){e.dimensions=e.adapter.getInnerDimensions(),e.autoposition(),e.adapter.addClass(t.cssClasses.OPEN),e.openAnimationEndTimerId=setTimeout((function(){e.openAnimationEndTimerId=0,e.adapter.removeClass(t.cssClasses.ANIMATING_OPEN),e.adapter.notifyOpen()}),Gv.TRANSITION_OPEN_DURATION)})),this.isSurfaceOpen=!0))},t.prototype.close=function(e){var n=this;if(void 0===e&&(e=!1),this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen)return this.isSurfaceOpen=!1,e||this.maybeRestoreFocus(),this.adapter.removeClass(t.cssClasses.OPEN),this.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),void this.adapter.notifyClose();this.adapter.addClass(t.cssClasses.ANIMATING_CLOSED),requestAnimationFrame((function(){n.adapter.removeClass(t.cssClasses.OPEN),n.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),n.closeAnimationEndTimerId=setTimeout((function(){n.closeAnimationEndTimerId=0,n.adapter.removeClass(t.cssClasses.ANIMATING_CLOSED),n.adapter.notifyClose()}),Gv.TRANSITION_CLOSE_DURATION)})),this.isSurfaceOpen=!1,e||this.maybeRestoreFocus()}},t.prototype.handleBodyClick=function(e){var t=e.target;this.adapter.isElementInContainer(t)||this.close()},t.prototype.handleKeydown=function(e){var t=e.keyCode;("Escape"===e.key||27===t)&&this.close()},t.prototype.autoposition=function(){var e;this.measurements=this.getAutoLayoutmeasurements();var n=this.getoriginCorner(),i=this.getMenuSurfaceMaxHeight(n),r=this.hasBit(n,Bv.BOTTOM)?"bottom":"top",o=this.hasBit(n,Bv.RIGHT)?"right":"left",s=this.getHorizontalOriginOffset(n),a=this.getVerticalOriginOffset(n),c=this.measurements,l=c.anchorSize,u=c.surfaceSize,d=((e={})[o]=s,e[r]=a,e);l.width/u.width>Gv.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(o="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(d),this.adapter.setTransformOrigin(o+" "+r),this.adapter.setPosition(d),this.adapter.setMaxHeight(i?i+"px":""),this.hasBit(n,Bv.BOTTOM)||this.adapter.addClass(t.cssClasses.IS_OPEN_BELOW)},t.prototype.getAutoLayoutmeasurements=function(){var e=this.adapter.getAnchorDimensions(),t=this.adapter.getBodyDimensions(),n=this.adapter.getWindowDimensions(),i=this.adapter.getWindowScroll();return e||(e={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:e,bodySize:t,surfaceSize:this.dimensions,viewportDistance:{top:e.top,right:n.width-e.right,bottom:n.height-e.bottom,left:e.left},viewportSize:n,windowScroll:i}},t.prototype.getoriginCorner=function(){var e,n,i=this.originCorner,r=this.measurements,o=r.viewportDistance,s=r.anchorSize,a=r.surfaceSize,c=t.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,Bv.BOTTOM)?(e=o.top-c+this.anchorMargin.bottom,n=o.bottom-c-this.anchorMargin.bottom):(e=o.top-c+this.anchorMargin.top,n=o.bottom-c+s.height-this.anchorMargin.top),!(n-a.height>0)&&e>n+this.openBottomBias&&(i=this.setBit(i,Bv.BOTTOM));var l,u,d=this.adapter.isRtl(),h=this.hasBit(this.anchorCorner,Bv.FLIP_RTL),p=this.hasBit(this.anchorCorner,Bv.RIGHT)||this.hasBit(i,Bv.RIGHT),f=!1;(f=d&&h?!p:p)?(l=o.left+s.width+this.anchorMargin.right,u=o.right-this.anchorMargin.right):(l=o.left+this.anchorMargin.left,u=o.right+s.width-this.anchorMargin.left);var m=l-a.width>0,g=u-a.width>0,y=this.hasBit(i,Bv.FLIP_RTL)&&this.hasBit(i,Bv.RIGHT);return g&&y&&d||!m&&y?i=this.unsetBit(i,Bv.RIGHT):(m&&f&&d||m&&!f&&p||!g&&l>=u)&&(i=this.setBit(i,Bv.RIGHT)),i},t.prototype.getMenuSurfaceMaxHeight=function(e){if(this.maxHeight>0)return this.maxHeight;var n=this.measurements.viewportDistance,i=0,r=this.hasBit(e,Bv.BOTTOM),o=this.hasBit(this.anchorCorner,Bv.BOTTOM),s=t.numbers.MARGIN_TO_EDGE;return r?(i=n.top+this.anchorMargin.top-s,o||(i+=this.measurements.anchorSize.height)):(i=n.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-s,o&&(i-=this.measurements.anchorSize.height)),i},t.prototype.getHorizontalOriginOffset=function(e){var t=this.measurements.anchorSize,n=this.hasBit(e,Bv.RIGHT),i=this.hasBit(this.anchorCorner,Bv.RIGHT);if(n){var r=i?t.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?r-(this.measurements.viewportSize.width-this.measurements.bodySize.width):r}return i?t.width-this.anchorMargin.right:this.anchorMargin.left},t.prototype.getVerticalOriginOffset=function(e){var t=this.measurements.anchorSize,n=this.hasBit(e,Bv.BOTTOM),i=this.hasBit(this.anchorCorner,Bv.BOTTOM);return n?i?t.height-this.anchorMargin.top:-this.anchorMargin.bottom:i?t.height+this.anchorMargin.bottom:this.anchorMargin.top},t.prototype.adjustPositionForHoistedElement=function(e){var t,n,i=this.measurements,r=i.windowScroll,o=i.viewportDistance,s=i.surfaceSize,a=i.viewportSize,c=Object.keys(e);try{for(var l=Ll(c),u=l.next();!u.done;u=l.next()){var d=u.value,h=e[d]||0;!this.isHorizontallyCenteredOnViewport||"left"!==d&&"right"!==d?(h+=o[d],this.isFixedPosition||("top"===d?h+=r.y:"bottom"===d?h-=r.y:"left"===d?h+=r.x:h-=r.x),e[d]=h):e[d]=(a.width-s.width)/2}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}},t.prototype.maybeRestoreFocus=function(){var e=this,t=this.adapter.isFocused(),n=this.adapter.getOwnerDocument?this.adapter.getOwnerDocument():document,i=n.activeElement&&this.adapter.isElementInContainer(n.activeElement);(t||i)&&setTimeout((function(){e.adapter.restoreFocus()}),Gv.TOUCH_EVENT_WAIT_MS)},t.prototype.hasBit=function(e,t){return Boolean(e&t)},t.prototype.setBit=function(e,t){return e|t},t.prototype.unsetBit=function(e,t){return e^t},t.prototype.isFinite=function(e){return"number"==typeof e&&isFinite(e)},t}(Zp),O_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){var e=this,t=this.root.parentElement;this.anchorElement=t&&t.classList.contains(zv.ANCHOR)?t:null,this.root.classList.contains(zv.FIXED)&&this.setFixedPosition(!0),this.handleKeydown=function(t){e.foundation.handleKeydown(t)},this.handleBodyClick=function(t){e.foundation.handleBodyClick(t)},this.registerBodyClickListener=function(){document.body.addEventListener("click",e.handleBodyClick,{capture:!0})},this.deregisterBodyClickListener=function(){document.body.removeEventListener("click",e.handleBodyClick,{capture:!0})},this.listen("keydown",this.handleKeydown),this.listen($v.OPENED_EVENT,this.registerBodyClickListener),this.listen($v.CLOSED_EVENT,this.deregisterBodyClickListener)},t.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten($v.OPENED_EVENT,this.registerBodyClickListener),this.unlisten($v.CLOSED_EVENT,this.deregisterBodyClickListener),e.prototype.destroy.call(this)},t.prototype.isOpen=function(){return this.foundation.isOpen()},t.prototype.open=function(){this.foundation.open()},t.prototype.close=function(e){void 0===e&&(e=!1),this.foundation.close(e)},Object.defineProperty(t.prototype,"quickOpen",{set:function(e){this.foundation.setQuickOpen(e)},enumerable:!1,configurable:!0}),t.prototype.setIsHoisted=function(e){this.foundation.setIsHoisted(e)},t.prototype.setMenuSurfaceAnchorElement=function(e){this.anchorElement=e},t.prototype.setFixedPosition=function(e){e?this.root.classList.add(zv.FIXED):this.root.classList.remove(zv.FIXED),this.foundation.setFixedPosition(e)},t.prototype.setAbsolutePosition=function(e,t){this.foundation.setAbsolutePosition(e,t),this.setIsHoisted(!0)},t.prototype.setAnchorCorner=function(e){this.foundation.setAnchorCorner(e)},t.prototype.setAnchorMargin=function(e){this.foundation.setAnchorMargin(e)},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},hasClass:function(t){return e.root.classList.contains(t)},hasAnchor:function(){return!!e.anchorElement},notifyClose:function(){return e.emit(k_.strings.CLOSED_EVENT,{})},notifyClosing:function(){e.emit(k_.strings.CLOSING_EVENT,{})},notifyOpen:function(){return e.emit(k_.strings.OPENED_EVENT,{})},notifyOpening:function(){return e.emit(k_.strings.OPENING_EVENT,{})},isElementInContainer:function(t){return e.root.contains(t)},isRtl:function(){return"rtl"===getComputedStyle(e.root).getPropertyValue("direction")},setTransformOrigin:function(t){var n=Of(window,"transform")+"-origin";e.root.style.setProperty(n,t)},isFocused:function(){return document.activeElement===e.root},saveFocus:function(){e.previousFocus=document.activeElement},restoreFocus:function(){e.root.contains(document.activeElement)&&e.previousFocus&&e.previousFocus.focus&&e.previousFocus.focus()},getInnerDimensions:function(){return{width:e.root.offsetWidth,height:e.root.offsetHeight}},getAnchorDimensions:function(){return e.anchorElement?e.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(t){var n=e.root;n.style.left="left"in t?t.left+"px":"",n.style.right="right"in t?t.right+"px":"",n.style.top="top"in t?t.top+"px":"",n.style.bottom="bottom"in t?t.bottom+"px":""},setMaxHeight:function(t){e.root.style.maxHeight=t}};return new k_(t)},t}(ef),N_={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},R_={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},P_={FOCUS_ROOT_INDEX:-1};!function(e){e[e.NONE=0]="NONE",e[e.LIST_ROOT=1]="LIST_ROOT",e[e.FIRST_ITEM=2]="FIRST_ITEM",e[e.LAST_ITEM=3]="LAST_ITEM"}(S_||(S_={}));var L_=function(e){function t(n){var i=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return i.closeAnimationEndTimerId=0,i.defaultFocusState=S_.LIST_ROOT,i.selectedIndex=-1,i}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return N_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return R_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return P_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},t.prototype.handleKeydown=function(e){var t=e.key,n=e.keyCode;("Tab"===t||9===n)&&this.adapter.closeSurface(!0)},t.prototype.handleItemAction=function(e){var t=this,n=this.adapter.getElementIndex(e);if(!(n<0)){this.adapter.notifySelected({index:n});var i="true"===this.adapter.getAttributeFromElementAtIndex(n,R_.SKIP_RESTORE_FOCUS);this.adapter.closeSurface(i),this.closeAnimationEndTimerId=setTimeout((function(){var n=t.adapter.getElementIndex(e);n>=0&&t.adapter.isSelectableItemAtIndex(n)&&t.setSelectedIndex(n)}),k_.numbers.TRANSITION_CLOSE_DURATION)}},t.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case S_.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case S_.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case S_.NONE:break;default:this.adapter.focusListRoot()}},t.prototype.setDefaultFocusState=function(e){this.defaultFocusState=e},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.setSelectedIndex=function(e){if(this.validatedIndex(e),!this.adapter.isSelectableItemAtIndex(e))throw new Error("MDCMenuFoundation: No selection group at specified index.");var t=this.adapter.getSelectedSiblingOfItemAtIndex(e);t>=0&&(this.adapter.removeAttributeFromElementAtIndex(t,R_.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(t,N_.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(e,N_.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(e,R_.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=e},t.prototype.setEnabled=function(e,t){this.validatedIndex(e),t?(this.adapter.removeClassFromElementAtIndex(e,Kv.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,R_.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(e,Kv.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,R_.ARIA_DISABLED_ATTR,"true"))},t.prototype.validatedIndex=function(e){var t=this.adapter.getMenuItemCount();if(!(e>=0&&e<t))throw new Error("MDCMenuFoundation: No list item at specified index.")},t}(Zp),D_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e,t){void 0===e&&(e=function(e){return new O_(e)}),void 0===t&&(t=function(e){return new A_(e)}),this.menuSurfaceFactory=e,this.listFactory=t},t.prototype.initialSyncWithDOM=function(){var e=this;this.menuSurface=this.menuSurfaceFactory(this.root);var t=this.root.querySelector(R_.LIST_SELECTOR);t?(this.list=this.listFactory(t),this.list.wrapFocus=!0):this.list=null,this.handleKeydown=function(t){e.foundation.handleKeydown(t)},this.handleItemAction=function(t){e.foundation.handleItemAction(e.items[t.detail.index])},this.handleMenuSurfaceOpened=function(){e.foundation.handleMenuSurfaceOpened()},this.menuSurface.listen(k_.strings.OPENED_EVENT,this.handleMenuSurfaceOpened),this.listen("keydown",this.handleKeydown),this.listen(x_.strings.ACTION_EVENT,this.handleItemAction)},t.prototype.destroy=function(){this.list&&this.list.destroy(),this.menuSurface.destroy(),this.menuSurface.unlisten(k_.strings.OPENED_EVENT,this.handleMenuSurfaceOpened),this.unlisten("keydown",this.handleKeydown),this.unlisten(x_.strings.ACTION_EVENT,this.handleItemAction),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"open",{get:function(){return this.menuSurface.isOpen()},set:function(e){e?this.menuSurface.open():this.menuSurface.close()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapFocus",{get:function(){return!!this.list&&this.list.wrapFocus},set:function(e){this.list&&(this.list.wrapFocus=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTypeahead",{set:function(e){this.list&&(this.list.hasTypeahead=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeaheadInProgress",{get:function(){return!!this.list&&this.list.typeaheadInProgress},enumerable:!1,configurable:!0}),t.prototype.typeaheadMatchItem=function(e,t){return this.list?this.list.typeaheadMatchItem(e,t):-1},t.prototype.layout=function(){this.list&&this.list.layout()},Object.defineProperty(t.prototype,"items",{get:function(){return this.list?this.list.listElements:[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"singleSelection",{set:function(e){this.list&&(this.list.singleSelection=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.list?this.list.selectedIndex:Qv.UNSET_INDEX},set:function(e){this.list&&(this.list.selectedIndex=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quickOpen",{set:function(e){this.menuSurface.quickOpen=e},enumerable:!1,configurable:!0}),t.prototype.setDefaultFocusState=function(e){this.foundation.setDefaultFocusState(e)},t.prototype.setAnchorCorner=function(e){this.menuSurface.setAnchorCorner(e)},t.prototype.setAnchorMargin=function(e){this.menuSurface.setAnchorMargin(e)},t.prototype.setSelectedIndex=function(e){this.foundation.setSelectedIndex(e)},t.prototype.setEnabled=function(e,t){this.foundation.setEnabled(e,t)},t.prototype.getOptionByIndex=function(e){return e<this.items.length?this.items[e]:null},t.prototype.getPrimaryTextAtIndex=function(e){var t=this.getOptionByIndex(e);return t&&this.list&&this.list.getPrimaryText(t)||""},t.prototype.setFixedPosition=function(e){this.menuSurface.setFixedPosition(e)},t.prototype.setIsHoisted=function(e){this.menuSurface.setIsHoisted(e)},t.prototype.setAbsolutePosition=function(e,t){this.menuSurface.setAbsolutePosition(e,t)},t.prototype.setAnchorElement=function(e){this.menuSurface.anchorElement=e},t.prototype.getDefaultFoundation=function(){var e=this,t={addClassToElementAtIndex:function(t,n){e.items[t].classList.add(n)},removeClassFromElementAtIndex:function(t,n){e.items[t].classList.remove(n)},addAttributeToElementAtIndex:function(t,n,i){e.items[t].setAttribute(n,i)},removeAttributeFromElementAtIndex:function(t,n){e.items[t].removeAttribute(n)},getAttributeFromElementAtIndex:function(t,n){return e.items[t].getAttribute(n)},elementContainsClass:function(e,t){return e.classList.contains(t)},closeSurface:function(t){e.menuSurface.close(t)},getElementIndex:function(t){return e.items.indexOf(t)},notifySelected:function(t){e.emit(R_.SELECTED_EVENT,{index:t.index,item:e.items[t.index]})},getMenuItemCount:function(){return e.items.length},focusItemAtIndex:function(t){e.items[t].focus()},focusListRoot:function(){e.root.querySelector(R_.LIST_SELECTOR).focus()},isSelectableItemAtIndex:function(t){return!!nf(e.items[t],"."+N_.MENU_SELECTION_GROUP)},getSelectedSiblingOfItemAtIndex:function(t){var n=nf(e.items[t],"."+N_.MENU_SELECTION_GROUP).querySelector("."+N_.MENU_SELECTED_LIST_ITEM);return n?e.items.indexOf(n):-1}};return new L_(t)},t}(ef);function M_(e,t,n){return t.create(vf,{func:t=>{new D_(t).open=e.menuvisible}},t.create("div",{class:"mdc-menu mdc-menu-surface",style:`\n            opacity: ${e.menuvisible?1:0};\n            \n          `},t.create("ul",{class:"mdc-deprecated-list","aria-hidden":"true","aria-orientation":"vertical",tabindex:"-1"},t.create("div",{_content:`<template x-for="item in ${wf((function(){return e.menulist}))}">\n          ${t.create("li",{class:"mdc-deprecated-list-item","x-on:click":wf((function(){this[e.menumodel]=this.item,this.menuvisible=!1}))},t.create("span",{class:"mdc-deprecated-list-item__ripple"}),t.create("span",{class:"mdc-deprecated-list-item__text",style:"color: var(--mdc-theme-secondary);","x-text":"item.name"},"A Menu Item")).outerHTML}\n          </template>`}))))[0]}function F_(e,t,n){return t.create(t.fragment,null,t.create("style",{_content:"\n  .container_row {\n    display: grid;\n  }\n\n  .layer1,\n  .layer2 {\n    grid-column: 1;\n    grid-row: 1;\n  }\n\n  .layer1 span {\n    color: #fff;\n    background: #000cf6;\n  }\n\n  .layer2 {\n    background: rgba(255, 0, 0, 0.4);\n  }\n            "}),t.create("div",{"x-init":"() => {\n        var vh = $store.appData.fontsize\n        document.documentElement.style.setProperty('--fontsize', `${vh}px`);\n}"}),t.create("div",{style:"overflow-y: scroll; \n  height: calc(calc(var(--vh, 1vh) * 100) - 85px)"},t.create("div",{style:"\n    width:100%;\n    height: 100%;\n    \n  "},t.create("div",{class:"container_row"},t.create("div",{style:"\n  display: flex;\n   justify-content: center;\n  ",class:"layer1"},t.create("img",{style:"\n            width: 100%;\n            height: calc(var(--vh, 1vh) * 35);\n            filter: blur(2px);\n            z-index: 0;\n          ","x-bind:src":"currentprogram.imageurl"})),t.create("div",{id:"resizetarget"}),t.create("div",{class:"layer1",style:"\n        z-index: 1;\n      "},t.create("div",{style:"\n                height: calc(var(--vh, 1vh) * 35);\n                width: calc(100% - 36px);\n                display: block;\n                flex-wrap: wrap;\n                padding-top: 16px;\n                margin-left: 18px;\n                margin-right: 18px;\n                align-content: baseline;\n                justify-content: center;\n                z-index: 1;\n              "},t.create("h2",{"x-text":"currentprogram.title"}),t.create("div",{"x-text":"currentprogram.description"})))),t.create("div",{class:"mdc-menu-surface--anchor"},t.create("div",{"x-data":"{\n                menulist:[\n                {'name': 'test'}\n                ],\n                menuvisible: false,\n                currentselected: '',\n                \n              }","x-html":Cf((function(){return t.create("div",null,t.create("div",{style:"\n                          width: fit-content;\n                      ","x-on:click":wf((function(){this.menuvisible=!0}))}),t.create(vf,{func:e=>{hf.attachTo(e)}},t.create("div",{style:"\n                        border: 2px solid var(--mdc-theme-primary);\n                        border-radius: 4px;\n                        width: fit-content;\n                        --mdc-text-button-label-text-color: var(--mdc-theme-secondary);\n                        margin: 4px;\n                        display: flex;\n                        align-content: center;\n                      ",class:"mdc-ripple-surface mdc-ripple-surface--accent","x-on:click":wf((function(){this.menuvisible=!0}))},t.create(bf,{label:t.create("div",{style:"\n                              display: flex;\n                            "},t.create("div",{style:"\n                                height: 24px;\n                                vertical-align: center;\n                                padding-top: 2px;\n                              ","x-text":"currentselected.name"},"1234"),t.create("span",{class:"material-symbols-outlined material-icons"},"arrow_drop_down")),type:"--text"}))),t.create(M_,{menulist:this.currentprogram,menuvisible:this.menuvisible,menumodel:"currentselected"}))}))},"2132131")))))}var j_,H_="mdc-dom-focus-sentinel",U_=function(){function e(e,t){void 0===t&&(t={}),this.root=e,this.options=t,this.elFocusedBeforeTrapFocus=null}return e.prototype.trapFocus=function(){var e=this.getFocusableElements(this.root);if(0===e.length)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root),this.options.skipInitialFocus||this.focusInitialElement(e,this.options.initialFocusEl)},e.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+H_)).forEach((function(e){e.parentElement.removeChild(e)})),!this.options.skipRestoreFocus&&this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},e.prototype.wrapTabFocus=function(e){var t=this,n=this.createSentinel(),i=this.createSentinel();n.addEventListener("focus",(function(){var n=t.getFocusableElements(e);n.length>0&&n[n.length-1].focus()})),i.addEventListener("focus",(function(){var n=t.getFocusableElements(e);n.length>0&&n[0].focus()})),e.insertBefore(n,e.children[0]),e.appendChild(i)},e.prototype.focusInitialElement=function(e,t){var n=0;t&&(n=Math.max(e.indexOf(t),0)),e[n].focus()},e.prototype.getFocusableElements=function(e){return[].slice.call(e.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button")).filter((function(e){var t="true"===e.getAttribute("aria-disabled")||null!=e.getAttribute("disabled")||null!=e.getAttribute("hidden")||"true"===e.getAttribute("aria-hidden"),n=e.tabIndex>=0&&e.getBoundingClientRect().width>0&&!e.classList.contains(H_)&&!t,i=!1;if(n){var r=getComputedStyle(e);i="none"===r.display||"hidden"===r.visibility}return n&&!i}))},e.prototype.createSentinel=function(){var e=document.createElement("div");return e.setAttribute("tabindex","0"),e.setAttribute("aria-hidden","true"),e.classList.add(H_),e},e}(),B_=function(){function e(){this.rafIDs=new Map}return e.prototype.request=function(e,t){var n=this;this.cancel(e);var i=requestAnimationFrame((function(i){n.rafIDs.delete(e),t(i)}));this.rafIDs.set(e,i)},e.prototype.cancel=function(e){var t=this.rafIDs.get(e);t&&(cancelAnimationFrame(t),this.rafIDs.delete(e))},e.prototype.cancelAll=function(){var e=this;this.rafIDs.forEach((function(t,n){e.cancel(n)}))},e.prototype.getQueue=function(){var e=[];return this.rafIDs.forEach((function(t,n){e.push(n)})),e},e}(),q_={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked",FULLSCREEN:"mdc-dialog--fullscreen",SCROLL_DIVIDER_HEADER:"mdc-dialog-scroll-divider-header",SCROLL_DIVIDER_FOOTER:"mdc-dialog-scroll-divider-footer",SURFACE_SCRIM_SHOWN:"mdc-dialog__surface-scrim--shown",SURFACE_SCRIM_SHOWING:"mdc-dialog__surface-scrim--showing",SURFACE_SCRIM_HIDING:"mdc-dialog__surface-scrim--hiding",SCRIM_HIDDEN:"mdc-dialog__scrim--hidden"},V_={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},W_={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150};!function(e){e.POLL_SCROLL_POS="poll_scroll_position",e.POLL_LAYOUT_CHANGE="poll_layout_change"}(j_||(j_={}));var z_=function(e){function t(n){var i=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return i.dialogOpen=!1,i.isFullscreen=!1,i.animationFrame=0,i.animationTimer=0,i.escapeKeyAction=V_.CLOSE_ACTION,i.scrimClickAction=V_.CLOSE_ACTION,i.autoStackButtons=!0,i.areButtonsStacked=!1,i.suppressDefaultPressSelector=V_.SUPPRESS_DEFAULT_PRESS_SELECTOR,i.animFrame=new B_,i.contentScrollHandler=function(){i.handleScrollEvent()},i.windowResizeHandler=function(){i.layout()},i.windowOrientationChangeHandler=function(){i.layout()},i}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return q_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return V_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return W_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){},registerContentEventHandler:function(){},deregisterContentEventHandler:function(){},isScrollableContentAtTop:function(){return!1},isScrollableContentAtBottom:function(){return!1},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.hasClass(q_.STACKED)&&this.setAutoStackButtons(!1),this.isFullscreen=this.adapter.hasClass(q_.FULLSCREEN)},t.prototype.destroy=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.handleAnimationTimerEnd()),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.animFrame.cancelAll(),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler)},t.prototype.open=function(e){var t=this;this.dialogOpen=!0,this.adapter.notifyOpening(),this.adapter.addClass(q_.OPENING),this.isFullscreen&&this.adapter.registerContentEventHandler("scroll",this.contentScrollHandler),e&&e.isAboveFullscreenDialog&&this.adapter.addClass(q_.SCRIM_HIDDEN),this.adapter.registerWindowEventHandler("resize",this.windowResizeHandler),this.adapter.registerWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),this.runNextAnimationFrame((function(){t.adapter.addClass(q_.OPEN),t.adapter.addBodyClass(q_.SCROLL_LOCK),t.layout(),t.animationTimer=setTimeout((function(){t.handleAnimationTimerEnd(),t.adapter.trapFocus(t.adapter.getInitialFocusEl()),t.adapter.notifyOpened()}),W_.DIALOG_ANIMATION_OPEN_TIME_MS)}))},t.prototype.close=function(e){var t=this;void 0===e&&(e=""),this.dialogOpen&&(this.dialogOpen=!1,this.adapter.notifyClosing(e),this.adapter.addClass(q_.CLOSING),this.adapter.removeClass(q_.OPEN),this.adapter.removeBodyClass(q_.SCROLL_LOCK),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){t.adapter.releaseFocus(),t.handleAnimationTimerEnd(),t.adapter.notifyClosed(e)}),W_.DIALOG_ANIMATION_CLOSE_TIME_MS))},t.prototype.showSurfaceScrim=function(){var e=this;this.adapter.addClass(q_.SURFACE_SCRIM_SHOWING),this.runNextAnimationFrame((function(){e.adapter.addClass(q_.SURFACE_SCRIM_SHOWN)}))},t.prototype.hideSurfaceScrim=function(){this.adapter.removeClass(q_.SURFACE_SCRIM_SHOWN),this.adapter.addClass(q_.SURFACE_SCRIM_HIDING)},t.prototype.handleSurfaceScrimTransitionEnd=function(){this.adapter.removeClass(q_.SURFACE_SCRIM_HIDING),this.adapter.removeClass(q_.SURFACE_SCRIM_SHOWING)},t.prototype.isOpen=function(){return this.dialogOpen},t.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction},t.prototype.setEscapeKeyAction=function(e){this.escapeKeyAction=e},t.prototype.getScrimClickAction=function(){return this.scrimClickAction},t.prototype.setScrimClickAction=function(e){this.scrimClickAction=e},t.prototype.getAutoStackButtons=function(){return this.autoStackButtons},t.prototype.setAutoStackButtons=function(e){this.autoStackButtons=e},t.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},t.prototype.setSuppressDefaultPressSelector=function(e){this.suppressDefaultPressSelector=e},t.prototype.layout=function(){var e=this;this.animFrame.request(j_.POLL_LAYOUT_CHANGE,(function(){e.layoutInternal()}))},t.prototype.handleClick=function(e){if(this.adapter.eventTargetMatches(e.target,V_.SCRIM_SELECTOR)&&""!==this.scrimClickAction)this.close(this.scrimClickAction);else{var t=this.adapter.getActionFromEvent(e);t&&this.close(t)}},t.prototype.handleKeydown=function(e){var t="Enter"===e.key||13===e.keyCode;if(t&&!this.adapter.getActionFromEvent(e)){var n=e.composedPath?e.composedPath()[0]:e.target,i=!this.suppressDefaultPressSelector||!this.adapter.eventTargetMatches(n,this.suppressDefaultPressSelector);t&&i&&this.adapter.clickDefaultButton()}},t.prototype.handleDocumentKeydown=function(e){("Escape"===e.key||27===e.keyCode)&&""!==this.escapeKeyAction&&this.close(this.escapeKeyAction)},t.prototype.handleScrollEvent=function(){var e=this;this.animFrame.request(j_.POLL_SCROLL_POS,(function(){e.toggleScrollDividerHeader(),e.toggleScrollDividerFooter()}))},t.prototype.layoutInternal=function(){this.autoStackButtons&&this.detectStackedButtons(),this.toggleScrollableClasses()},t.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(q_.OPENING),this.adapter.removeClass(q_.CLOSING)},t.prototype.runNextAnimationFrame=function(e){var t=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((function(){t.animationFrame=0,clearTimeout(t.animationTimer),t.animationTimer=setTimeout(e,0)}))},t.prototype.detectStackedButtons=function(){this.adapter.removeClass(q_.STACKED);var e=this.adapter.areButtonsStacked();e&&this.adapter.addClass(q_.STACKED),e!==this.areButtonsStacked&&(this.adapter.reverseButtons(),this.areButtonsStacked=e)},t.prototype.toggleScrollableClasses=function(){this.adapter.removeClass(q_.SCROLLABLE),this.adapter.isContentScrollable()&&(this.adapter.addClass(q_.SCROLLABLE),this.isFullscreen&&(this.toggleScrollDividerHeader(),this.toggleScrollDividerFooter()))},t.prototype.toggleScrollDividerHeader=function(){this.adapter.isScrollableContentAtTop()?this.adapter.hasClass(q_.SCROLL_DIVIDER_HEADER)&&this.adapter.removeClass(q_.SCROLL_DIVIDER_HEADER):this.adapter.addClass(q_.SCROLL_DIVIDER_HEADER)},t.prototype.toggleScrollDividerFooter=function(){this.adapter.isScrollableContentAtBottom()?this.adapter.hasClass(q_.SCROLL_DIVIDER_FOOTER)&&this.adapter.removeClass(q_.SCROLL_DIVIDER_FOOTER):this.adapter.addClass(q_.SCROLL_DIVIDER_FOOTER)},t}(Zp),$_=z_.strings,G_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"escapeKeyAction",{get:function(){return this.foundation.getEscapeKeyAction()},set:function(e){this.foundation.setEscapeKeyAction(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrimClickAction",{get:function(){return this.foundation.getScrimClickAction()},set:function(e){this.foundation.setScrimClickAction(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoStackButtons",{get:function(){return this.foundation.getAutoStackButtons()},set:function(e){this.foundation.setAutoStackButtons(e)},enumerable:!1,configurable:!0}),t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e){var t,n;void 0===e&&(e=function(e,t){return new U_(e,t)});var i=this.root.querySelector($_.CONTAINER_SELECTOR);if(!i)throw new Error("Dialog component requires a "+$_.CONTAINER_SELECTOR+" container element");this.container=i,this.content=this.root.querySelector($_.CONTENT_SELECTOR),this.buttons=[].slice.call(this.root.querySelectorAll($_.BUTTON_SELECTOR)),this.defaultButton=this.root.querySelector("["+$_.BUTTON_DEFAULT_ATTRIBUTE+"]"),this.focusTrapFactory=e,this.buttonRipples=[];try{for(var r=Ll(this.buttons),o=r.next();!o.done;o=r.next()){var s=o.value;this.buttonRipples.push(new hf(s))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.initialSyncWithDOM=function(){var e,t,n,i=this;this.focusTrap=(e=this.container,t=this.focusTrapFactory,n=this.getInitialFocusEl()||void 0,t(e,{initialFocusEl:n})),this.handleClick=this.foundation.handleClick.bind(this.foundation),this.handleKeydown=this.foundation.handleKeydown.bind(this.foundation),this.handleDocumentKeydown=this.foundation.handleDocumentKeydown.bind(this.foundation),this.handleOpening=function(){document.addEventListener("keydown",i.handleDocumentKeydown)},this.handleClosing=function(){document.removeEventListener("keydown",i.handleDocumentKeydown)},this.listen("click",this.handleClick),this.listen("keydown",this.handleKeydown),this.listen($_.OPENING_EVENT,this.handleOpening),this.listen($_.CLOSING_EVENT,this.handleClosing)},t.prototype.destroy=function(){this.unlisten("click",this.handleClick),this.unlisten("keydown",this.handleKeydown),this.unlisten($_.OPENING_EVENT,this.handleOpening),this.unlisten($_.CLOSING_EVENT,this.handleClosing),this.handleClosing(),this.buttonRipples.forEach((function(e){e.destroy()})),e.prototype.destroy.call(this)},t.prototype.layout=function(){this.foundation.layout()},t.prototype.open=function(){this.foundation.open()},t.prototype.close=function(e){void 0===e&&(e=""),this.foundation.close(e)},t.prototype.getDefaultFoundation=function(){var e=this,t={addBodyClass:function(e){return document.body.classList.add(e)},addClass:function(t){return e.root.classList.add(t)},areButtonsStacked:function(){return t=e.buttons,n=new Set,[].forEach.call(t,(function(e){return n.add(e.offsetTop)})),n.size>1;var t,n},clickDefaultButton:function(){e.defaultButton&&!e.defaultButton.disabled&&e.defaultButton.click()},eventTargetMatches:function(e,t){return!!e&&rf(e,t)},getActionFromEvent:function(e){if(!e.target)return"";var t=nf(e.target,"["+$_.ACTION_ATTRIBUTE+"]");return t&&t.getAttribute($_.ACTION_ATTRIBUTE)},getInitialFocusEl:function(){return e.getInitialFocusEl()},hasClass:function(t){return e.root.classList.contains(t)},isContentScrollable:function(){return function(e){return!!e&&e.scrollHeight>e.offsetHeight}(e.content)},notifyClosed:function(t){return e.emit($_.CLOSED_EVENT,t?{action:t}:{})},notifyClosing:function(t){return e.emit($_.CLOSING_EVENT,t?{action:t}:{})},notifyOpened:function(){return e.emit($_.OPENED_EVENT,{})},notifyOpening:function(){return e.emit($_.OPENING_EVENT,{})},releaseFocus:function(){e.focusTrap.releaseFocus()},removeBodyClass:function(e){return document.body.classList.remove(e)},removeClass:function(t){return e.root.classList.remove(t)},reverseButtons:function(){e.buttons.reverse(),e.buttons.forEach((function(e){e.parentElement.appendChild(e)}))},trapFocus:function(){e.focusTrap.trapFocus()},registerContentEventHandler:function(t,n){e.content instanceof HTMLElement&&e.content.addEventListener(t,n)},deregisterContentEventHandler:function(t,n){e.content instanceof HTMLElement&&e.content.removeEventListener(t,n)},isScrollableContentAtTop:function(){return function(e){return!!e&&0===e.scrollTop}(e.content)},isScrollableContentAtBottom:function(){return function(e){return!!e&&Math.ceil(e.scrollHeight-e.scrollTop)===e.clientHeight}(e.content)},registerWindowEventHandler:function(e,t){window.addEventListener(e,t)},deregisterWindowEventHandler:function(e,t){window.removeEventListener(e,t)}};return new z_(t)},t.prototype.getInitialFocusEl=function(){return this.root.querySelector("["+$_.INITIAL_FOCUS_ATTRIBUTE+"]")},t}(ef);function K_(e,t,n){return console.log(e.title.get()),t.create(Sf,{attributes:{"x-transition:enter.duration.250ms":"","x-transition:leave.duration.250ms":""}},t.create(vf,{func:e=>{new G_(e)}},t.create("div",{class:"mdc-dialog mdc-dialog--fullscreen mdc-dialog--open","x-show":e.dialogopen.get(),"x-data":!0},t.create("div",{class:"mdc-dialog__container"},t.create("div",{class:"mdc-dialog__surface","aria-modal":"true","aria-labelledby":"my-dialog-title","aria-describedby":"my-dialog-content"},t.create("div",{class:"mdc-dialog__header"},t.create("div",{style:"\n                  width: 24px;\n                ","x-show":"!"+e.closeable.get()}),t.create("div",{style:"\n                --mdc-text-button-label-text-color: var(--mdc-theme-secondary);\n                display: flex;\n                ","x-on:click":e.dialogopen.set(!1),"x-show":e.closeable.get()},t.create(vf,{func:e=>{hf.attachTo(e)}},t.create(bf,{label:t.create("span",{class:"material-symbols-outlined material-icons"},"close"),type:"--text"}))),t.create("h2",{class:"mdc-dialog__title",id:"my-dialog-title",style:"color: var(--mdc-theme-secondary)","x-text":e.title.get()})),t.create("div",{class:"mdc-dialog__content",id:"my-dialog-content"},n),t.create("div",{class:"mdc-dialog__actions",style:"\n                margin-right: 12px;\n              "},e.dialogactions))),t.create("div",{class:"mdc-dialog__scrim"}))))}function Y_(e,t,n){return t.create(vf,{func:e=>{new bm(e)}},t.create("label",{class:"mdc-text-field mdc-text-field--outlined mdc-text-field--textarea mdc-text-field--no-label"},t.create("span",{class:"mdc-notched-outline"},t.create("span",{class:"mdc-notched-outline__leading"}),t.create("span",{class:"mdc-notched-outline__notch"},t.create("span",{class:"mdc-floating-label",style:"color:white;"},e.label.get())),t.create("span",{class:"mdc-notched-outline__trailing"})),t.create("span",{class:"mdc-text-field__resizer"},t.create("textarea",{class:"mdc-text-field__input",rows:"8",cols:"40","aria-label":"Label","x-model":e.model.get(),style:"\n                color:white;\n                "}))))}function X_(e){return{get:()=>e,set:t=>e+" = "+t}}function J_(e){return{cloned:structuredClone(e),get(){return this.cloned},set(e){this.cloned=e}}}var Q_={ROOT:"mdc-form-field"},Z_={LABEL_SELECTOR:".mdc-form-field > label"},eb=function(e){function t(n){var i=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return i.click=function(){i.handleClick()},i}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Q_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Z_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{activateInputRipple:function(){},deactivateInputRipple:function(){},deregisterInteractionHandler:function(){},registerInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("click",this.click)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("click",this.click)},t.prototype.handleClick=function(){var e=this;this.adapter.activateInputRipple(),requestAnimationFrame((function(){e.adapter.deactivateInputRipple()}))},t}(Zp),tb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.attachTo=function(e){return new t(e)},t.prototype.labelEl=function(){var e=eb.strings.LABEL_SELECTOR;return this.root.querySelector(e)},t.prototype.getDefaultFoundation=function(){var e=this,t={activateInputRipple:function(){e.input&&e.input.ripple&&e.input.ripple.activate()},deactivateInputRipple:function(){e.input&&e.input.ripple&&e.input.ripple.deactivate()},deregisterInteractionHandler:function(t,n){var i=e.labelEl();i&&i.removeEventListener(t,n)},registerInteractionHandler:function(t,n){var i=e.labelEl();i&&i.addEventListener(t,n)}};return new eb(t)},t}(ef),nb={ANIM_CHECKED_INDETERMINATE:"mdc-checkbox--anim-checked-indeterminate",ANIM_CHECKED_UNCHECKED:"mdc-checkbox--anim-checked-unchecked",ANIM_INDETERMINATE_CHECKED:"mdc-checkbox--anim-indeterminate-checked",ANIM_INDETERMINATE_UNCHECKED:"mdc-checkbox--anim-indeterminate-unchecked",ANIM_UNCHECKED_CHECKED:"mdc-checkbox--anim-unchecked-checked",ANIM_UNCHECKED_INDETERMINATE:"mdc-checkbox--anim-unchecked-indeterminate",BACKGROUND:"mdc-checkbox__background",CHECKED:"mdc-checkbox--checked",CHECKMARK:"mdc-checkbox__checkmark",CHECKMARK_PATH:"mdc-checkbox__checkmark-path",DISABLED:"mdc-checkbox--disabled",INDETERMINATE:"mdc-checkbox--indeterminate",MIXEDMARK:"mdc-checkbox__mixedmark",NATIVE_CONTROL:"mdc-checkbox__native-control",ROOT:"mdc-checkbox",SELECTED:"mdc-checkbox--selected",UPGRADED:"mdc-checkbox--upgraded"},ib={ARIA_CHECKED_ATTR:"aria-checked",ARIA_CHECKED_INDETERMINATE_VALUE:"mixed",DATA_INDETERMINATE_ATTR:"data-indeterminate",NATIVE_CONTROL_SELECTOR:".mdc-checkbox__native-control",TRANSITION_STATE_CHECKED:"checked",TRANSITION_STATE_INDETERMINATE:"indeterminate",TRANSITION_STATE_INIT:"init",TRANSITION_STATE_UNCHECKED:"unchecked"},rb={ANIM_END_LATCH_MS:250},ob=function(e){function t(n){var i=e.call(this,Rl(Rl({},t.defaultAdapter),n))||this;return i.currentCheckState=ib.TRANSITION_STATE_INIT,i.currentAnimationClass="",i.animEndLatchTimer=0,i.enableAnimationEndHandler=!1,i}return Nl(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return nb},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return ib},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return rb},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},forceLayout:function(){},hasNativeControl:function(){return!1},isAttachedToDOM:function(){return!1},isChecked:function(){return!1},isIndeterminate:function(){return!1},removeClass:function(){},removeNativeControlAttr:function(){},setNativeControlAttr:function(){},setNativeControlDisabled:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.currentCheckState=this.determineCheckState(),this.updateAriaChecked(),this.adapter.addClass(nb.UPGRADED)},t.prototype.destroy=function(){clearTimeout(this.animEndLatchTimer)},t.prototype.setDisabled=function(e){this.adapter.setNativeControlDisabled(e),e?this.adapter.addClass(nb.DISABLED):this.adapter.removeClass(nb.DISABLED)},t.prototype.handleAnimationEnd=function(){var e=this;this.enableAnimationEndHandler&&(clearTimeout(this.animEndLatchTimer),this.animEndLatchTimer=setTimeout((function(){e.adapter.removeClass(e.currentAnimationClass),e.enableAnimationEndHandler=!1}),rb.ANIM_END_LATCH_MS))},t.prototype.handleChange=function(){this.transitionCheckState()},t.prototype.transitionCheckState=function(){if(this.adapter.hasNativeControl()){var e=this.currentCheckState,t=this.determineCheckState();if(e!==t){this.updateAriaChecked();var n=nb.SELECTED;t===ib.TRANSITION_STATE_UNCHECKED?this.adapter.removeClass(n):this.adapter.addClass(n),this.currentAnimationClass.length>0&&(clearTimeout(this.animEndLatchTimer),this.adapter.forceLayout(),this.adapter.removeClass(this.currentAnimationClass)),this.currentAnimationClass=this.getTransitionAnimationClass(e,t),this.currentCheckState=t,this.adapter.isAttachedToDOM()&&this.currentAnimationClass.length>0&&(this.adapter.addClass(this.currentAnimationClass),this.enableAnimationEndHandler=!0)}}},t.prototype.determineCheckState=function(){var e=ib.TRANSITION_STATE_INDETERMINATE,t=ib.TRANSITION_STATE_CHECKED,n=ib.TRANSITION_STATE_UNCHECKED;return this.adapter.isIndeterminate()?e:this.adapter.isChecked()?t:n},t.prototype.getTransitionAnimationClass=function(e,n){var i=ib.TRANSITION_STATE_INIT,r=ib.TRANSITION_STATE_CHECKED,o=ib.TRANSITION_STATE_UNCHECKED,s=t.cssClasses,a=s.ANIM_UNCHECKED_CHECKED,c=s.ANIM_UNCHECKED_INDETERMINATE,l=s.ANIM_CHECKED_UNCHECKED,u=s.ANIM_CHECKED_INDETERMINATE,d=s.ANIM_INDETERMINATE_CHECKED,h=s.ANIM_INDETERMINATE_UNCHECKED;switch(e){case i:return n===o?"":n===r?d:h;case o:return n===r?a:c;case r:return n===o?l:u;default:return n===r?d:h}},t.prototype.updateAriaChecked=function(){this.adapter.isIndeterminate()?this.adapter.setNativeControlAttr(ib.ARIA_CHECKED_ATTR,ib.ARIA_CHECKED_INDETERMINATE_VALUE):this.adapter.removeNativeControlAttr(ib.ARIA_CHECKED_ATTR)},t}(Zp),sb=["checked","indeterminate"],ab=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rippleSurface=t.createRipple(),t}return Nl(t,e),t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"ripple",{get:function(){return this.rippleSurface},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this.getNativeControl().checked},set:function(e){this.getNativeControl().checked=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indeterminate",{get:function(){return this.getNativeControl().indeterminate},set:function(e){this.getNativeControl().indeterminate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.getNativeControl().disabled},set:function(e){this.foundation.setDisabled(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getNativeControl().value},set:function(e){this.getNativeControl().value=e},enumerable:!1,configurable:!0}),t.prototype.initialize=function(){var e=ib.DATA_INDETERMINATE_ATTR;this.getNativeControl().indeterminate="true"===this.getNativeControl().getAttribute(e),this.getNativeControl().removeAttribute(e)},t.prototype.initialSyncWithDOM=function(){var e=this;this.handleChange=function(){e.foundation.handleChange()},this.handleAnimationEnd=function(){e.foundation.handleAnimationEnd()},this.getNativeControl().addEventListener("change",this.handleChange),this.listen(Nf(window,"animationend"),this.handleAnimationEnd),this.installPropertyChangeHooks()},t.prototype.destroy=function(){this.rippleSurface.destroy(),this.getNativeControl().removeEventListener("change",this.handleChange),this.unlisten(Nf(window,"animationend"),this.handleAnimationEnd),this.uninstallPropertyChangeHooks(),e.prototype.destroy.call(this)},t.prototype.getDefaultFoundation=function(){var e=this;return new ob({addClass:function(t){return e.root.classList.add(t)},forceLayout:function(){return e.root.offsetWidth},hasNativeControl:function(){return!!e.getNativeControl()},isAttachedToDOM:function(){return Boolean(e.root.parentNode)},isChecked:function(){return e.checked},isIndeterminate:function(){return e.indeterminate},removeClass:function(t){e.root.classList.remove(t)},removeNativeControlAttr:function(t){e.getNativeControl().removeAttribute(t)},setNativeControlAttr:function(t,n){e.getNativeControl().setAttribute(t,n)},setNativeControlDisabled:function(t){e.getNativeControl().disabled=t}})},t.prototype.createRipple=function(){var e=this,t=Rl(Rl({},hf.createAdapter(this)),{deregisterInteractionHandler:function(t,n){e.getNativeControl().removeEventListener(t,n,tf())},isSurfaceActive:function(){return rf(e.getNativeControl(),":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(t,n){e.getNativeControl().addEventListener(t,n,tf())}});return new hf(this.root,new df(t))},t.prototype.installPropertyChangeHooks=function(){var e,t,n=this,i=this.getNativeControl(),r=Object.getPrototypeOf(i),o=function(e){var t=Object.getOwnPropertyDescriptor(r,e);if(!cb(t))return{value:void 0};var o=t.get,s={configurable:t.configurable,enumerable:t.enumerable,get:o,set:function(e){t.set.call(i,e),n.foundation.handleChange()}};Object.defineProperty(i,e,s)};try{for(var s=Ll(sb),a=s.next();!a.done;a=s.next()){var c=o(a.value);if("object"==typeof c)return c.value}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}},t.prototype.uninstallPropertyChangeHooks=function(){var e,t,n=this.getNativeControl(),i=Object.getPrototypeOf(n);try{for(var r=Ll(sb),o=r.next();!o.done;o=r.next()){var s=o.value,a=Object.getOwnPropertyDescriptor(i,s);if(!cb(a))return;Object.defineProperty(n,s,a)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype.getNativeControl=function(){var e=ib.NATIVE_CONTROL_SELECTOR,t=this.root.querySelector(e);if(!t)throw new Error("Checkbox component requires a "+e+" element");return t},t}(ef);function cb(e){return!!e&&"function"==typeof e.set}function lb(e,t,n){let i="ID"+Math.floor(999999*Math.random()).toString();return t.create(vf,{func:e=>{console.log(e);const t=new ab(e.children[0]);new tb(e).input=t}},t.create("div",{class:"mdc-form-field"},t.create("div",{class:"mdc-checkbox"},t.create("input",{type:"checkbox",class:"mdc-checkbox__native-control",id:i,"x-model":e.inputmodel}),t.create("div",{class:"mdc-checkbox__background"},t.create("svg",{class:"mdc-checkbox__checkmark",viewBox:"0 0 24 24"},t.create("path",{class:"mdc-checkbox__checkmark-path",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})),t.create("div",{class:"mdc-checkbox__mixedmark"})),t.create("div",{class:"mdc-checkbox__ripple"})),t.create("label",{for:i},e.label)))}function ub(e,t){let n=[];return e.forEach(((e,i)=>{t!==i&&n.push(e)})),n}function db(e){let t=[],n=!0,i=Object.keys(e).length,r=Object.keys(e);for(let o=0;o<i;o++){const i=e[r[o]];let s=i;if("Object"==i.constructor.name&&(s=db(i)),n){let e=Number(r[o]);if(Number.isNaN(e)){n=!1,t={},o=0;continue}t[e]=s}else t[r[o]]=s}return t}function hb(e){let t={};for(let n in e){let i=e[n];if("Array"==i.constructor.name){let e={};i.forEach(((t,n)=>{e[n]=t})),i=e}"Object"==i.constructor.name&&(i=hb(i)),t[n]=i}return t}function pb(e,t,n){return t.create("div",{"x-data":wf((function(){return{dialogopen:!1,videodialogopen:!1,sending:!1,status:{message:""},add_programme:{submitcallback:()=>{},title:"",featured:!1,imageurl:"",creatorname:"",description:"",serieses:[]},videomanager:{callback:()=>{},data:[]}}})),style:"\n        overflow-y: scroll;\n        height: calc(calc(var(--vh, 1vh) * 100) - 85px);\n      "},t.create("h2",{style:"\n         padding: 10px\n        "},"Programme List"),t.create("div",{style:"\n          height: 10px;\n          width: calc(100% - 20px);\n          background-color: var(--mdc-theme-secondary);\n          margin-left: 10px;\n          margin-right: 10px;\n          border-radius: 2.5px;\n        "}),t.create("div",{_content:`\n      <template x-for="(item, index) in programmes.data">\n          ${t.create("div",{style:"\n          width: calc(100% - 20px);\n          margin-left: 10px;\n          margin-right: 10px;\n          justify-content: center;\n        "},t.create("div",{style:"\n                            display:flex\n                            "},t.create("img",{style:"\n                          width: 150px;\n                          height: 150px;\n                          margin-top: 10px;\n                        ","x-bind:src":"item.imageurl"}),t.create("div",{style:"\n                                height: 100%;\n                                display: block;\n                              "},t.create("div",{style:"\n                          font-family: BlinkMacSystemFont,-apple-system,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',Helvetica,Arial,sans-serif;\n                          font-size: 2em;\n                          margin-left: 10px;\n                          margin-bottom: 5px;\n                          ","x-text":"item.title"},"Southeast Gear"),t.create("div",{style:"\n                                  margin-left: 10px;\n                                ","x-data":"","x-on:click":wf((function(){console.log("aaaaa"),this.add_programme=db({submitcallback:()=>{},title:"",featured:!1,imageurl:"",creatorname:"",description:"",serieses:[],...this.item}),this.dialogopen=!0,this.add_programme.submitcallback=e=>{this.sending=!0;let t=Tl();e=hb(e),console.log(e),delete e.submitcallback,tl(Zc(t,"programmes/"+this.index.toString()),e).then((e=>{this.sending=!1,this.dialogopen=!1,this.status.message=""})).catch((e=>{this.sending=!1,this.status.message=e}))}}))},t.create(bf,{label:"Edit",type:"--raised"})),t.create("div",{style:"\n                                  margin-left: 10px;\n                                  margin-top: 10px;\n                                ","x-data":"","x-on:click":wf((function(){this.sending=!0,tl(Zc(Tl(),"programmes/"+this.index.toString()),{}).then((e=>{this.sending=!1,this.dialogopen=!1,this.status.message=""})).catch((e=>{this.sending=!1,this.status.message=e}))}))},t.create(bf,{label:"Remove",type:"--raised"}))))).outerHTML}\n        </template>\n        `}),t.create("div",null,t.create(Sf,{attributes:{"x-transition:enter.duration.250ms":"","x-transition:leave.duration.250ms":""}},t.create(K_,{closeable:J_("true"),dialogactions:t.create("div",{style:"\n                display: flex;\n              "},t.create("div",{"x-text":"status.message",style:"\n                  width: 280px;\n                ","x-show":"!sending"}),t.create("div",{style:"\n                  padding-top: 18px;\n                  width: 180px;\n                ","x-show":"sending"},t.create(Bf,null)),t.create("div",{style:"\n                          width: fit-content;\n                        ","x-on:click":wf((function(){this.add_programme.submitcallback(this.add_programme)})),"x-show":"!sending"},t.create(bf,{label:"Submit",type:"--text"}))),dialogopen:X_("dialogopen"),title:J_("'Add / Edit programme'")},t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create(lb,{inputmodel:"add_programme['featured']",label:"Featured"})),t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create(Im,{inputlabel:"Programme name",inputmodel:"add_programme['title']",inputtype:"text"})),t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create(Im,{inputlabel:"Image URL",inputmodel:"add_programme['imageurl']",inputtype:"text"})),t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create(Im,{inputlabel:"Creator Name",inputmodel:"add_programme['creatorname']",inputtype:"text"})),t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create(Y_,{label:J_("Description"),model:J_("add_programme['description']")})),t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create("div",{style:"\n                    display: flex;\n                    background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);\n                    width: 100%;\n                    min-height: 85px;\n                    padding: 20px;\n                    border-radius: 5px;\n                    position: relative;\n                    align-items: center;\n                  ","x-html":Cf((function(){return t.create("div",{style:"\n                      width: 100%;"},t.create("div",{_content:`<template x-for="(item, index3) in ${wf((function(){return this.add_programme.serieses}))}">\n                          ${t.create("div",{style:"\n                                  display: block;\n                                  background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);\n                                  width: 100%;\n                                  min-height: 85px;\n                                  padding: 20px;\n                                  border-radius: 5px;\n                                  position: relative;\n                                  align-items: center;\n                                  margin-bottom: 10px;\n                                "},t.create("h3",{style:"\n                                      color: var(--mdc-theme-secondary)\n                                    "},"Series"),t.create("div",{style:"\n                                margin-top: 12px;\n                                width: 100%;\n                                height: 100%;\n                              "},t.create(Im,{inputlabel:"",inputmodel:"item['seriesname']",inputtype:"text"})),t.create("div",{style:"\n                                margin-top: 12px;\n                                width: 100%;\n                              "},t.create(Im,{inputlabel:"",inputmodel:"item['imageurl']",inputtype:"text"})),t.create("div",{style:"\n                          width: fit-content;\n                          margin-top: 12px;\n                        ","x-on:click":wf((function(){this.videomanager.data=this.item.videos,this.videodialogopen=!0,this.videomanager.callback=()=>{this.item.videos=this.videomanager.data,this.videodialogopen=!1}}))},t.create(bf,{label:"Edit Videos",type:"--raised"})),t.create("div",{style:"\n                                margin-top: 12px;\n                                width: fit-content;\n                              ","x-on:click":wf((function(){this.add_programme.serieses=ub(this.add_programme.serieses,this.index3)}))},t.create(bf,{label:"Remove series",type:"--raised"}))).outerHTML}\n                          </template>\n                          `}),t.create("div",{style:"\n                          width: fit-content;\n                        ","x-on:click":wf((function(){this.add_programme.serieses.push({seriesname:"(series name)",imageurl:"(direct image URL, https ONLY)",videos:[]})}))},t.create(bf,{label:"Add series",type:"--raised"})))}))})))),t.create(Sf,{attributes:{"x-transition:enter.duration.250ms":"","x-transition:leave.duration.250ms":""}},t.create(K_,{closeable:J_("false"),dialogactions:t.create("div",null,t.create("div",{style:"\n                          width: fit-content;\n                        ","x-on:click":wf((function(){this.videomanager.callback()}))},t.create(bf,{label:"Apply",type:"--text"}))),dialogopen:X_("videodialogopen"),title:J_("'Video Manager'")},t.create("div",{style:"\n                    display: block;\n                    background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);\n                    width: 100%;\n                    min-height: 85px;\n                    padding: 20px;\n                    border-radius: 5px;\n                    position: relative;\n                    align-items: center;\n                  ",_content:`<template x-for="(item, index2) in videomanager.data">\n                ${t.create("div",null,t.create("div",{style:"\n                                margin-top: 12px;\n                                width: 100%;\n                                display: block;\n                                background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);\n                                width: 100%;\n                                min-height: 85px;\n                                padding: 20px;\n                                border-radius: 5px;\n                                position: relative;\n                                align-items: center;\n                              "},t.create("div",{style:"\n                      margin-top: 12px;\n                    "},t.create(Im,{inputlabel:"",inputmodel:"item['videourl']",inputtype:"text"})),t.create("div",{style:"\n                      margin-top: 12px;\n                    "},t.create(Im,{inputlabel:"",inputmodel:"item['directurl']",inputtype:"text"})),t.create("div",{style:"\n                      margin-top: 12px;\n                    "},t.create(Im,{inputlabel:"",inputmodel:"item['videotitle']",inputtype:"text"})),t.create("div",{"x-html":Cf((function(){return t.create("div",{style:"\n                width: fit-content;\n                margin-top: 12px;\n              ","x-on:click":wf((function(){this.videomanager.data=ub(this.videomanager.data,this.index2)}))},t.create(bf,{label:"Remove video",type:"--raised"}))}))}))).outerHTML}\n              </template>`}),t.create("div",{"x-html":Cf((function(){return t.create("div",{style:"\n                width: fit-content;\n                margin-top: 12px;\n              ","x-on:click":wf((function(){this.videomanager.data.push({videourl:"(youtube URL)",directurl:"(direct https url to the video, optional)",videotitle:"(video title)"})}))},t.create(bf,{label:"Add video",type:"--raised"}))}))})))),t.create("div",{"x-html":Cf((function(){return t.create("div",{style:"\n                width: fit-content;\n                margin-top: 12px;\n                margin-left: 12px;\n              ","x-on:click":wf((function(){let e=0;for(let t in this.programmes.data)e++;this.add_programme=db({submitcallback:()=>{},title:"",featured:!1,imageurl:"",creatorname:"",description:"",serieses:[]}),this.dialogopen=!0,this.add_programme.submitcallback=t=>{this.sending=!0;let n=Tl();t=hb(t),console.log(t),delete t.submitcallback,tl(Zc(n,"programmes/"+e.toString()),t).then((e=>{this.sending=!1,this.dialogopen=!1,this.status.message=""})).catch((e=>{this.sending=!1,this.status.message=e}))}}))},t.create(bf,{label:"Add programme",type:"--raised"}))}))}),t.create("div",{style:"\n                width: fit-content;\n                margin-top: 12px;\n                margin-left: 12px;\n              ","x-on:click":wf((function(){window.abc(),console.log("complete")}))},t.create(bf,{label:"WASM test",type:"--raised"})),t.create("div",{style:"\n                width: fit-content;\n                margin-top: 12px;\n                margin-left: 12px;\n              ","x-on:click":wf((function(){tl(Zc(Tl(),"/users2/abc"),{abc:1}).then((e=>{console.log(e)})).catch((e=>{alert(e)}))}))},t.create(bf,{label:"firebase test",type:"--raised"})))}const fb={apiKey:"AIzaSyASnaeaC-FLvGoHKneasPInl12JC9jX27Q",authDomain:"mytsbc-a2d97.firebaseapp.com",projectId:"mytsbc-a2d97",storageBucket:"mytsbc-a2d97.appspot.com",messagingSenderId:"267158378243",appId:"1:267158378243:web:31d94cda2ae697a0be7b36",measurementId:"G-2RQNS9T3W0",databaseURL:"https://mytsbc-a2d97-default-rtdb.asia-southeast1.firebasedatabase.app/"},mb=new class extends I{constructor(e=window){super(e,(()=>new d),(()=>new h),(()=>new v),(()=>new c),(()=>new a),(()=>new T),(()=>new x),(()=>new S),(()=>new C),(()=>new k))}},gb={"--mdc-theme-primary-rgb":"13,188,196","--mdc-theme-primary":"rgb(var(--mdc-theme-primary-rgb))","--mdc-theme-secondary":"#fff","--mdc-theme-text-primary-on-background":"#fff","--mdc-theme-surface":"#2c2931","--mdc-theme-background":"#2c2931","--navbar":"#332f3a",color:"#ffffff"};window.colors=gb;var yb=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${yb}px`),mb.render(mb.create(mb.fragment,null,mb.create("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"}),mb.create("script",null,"\n            async function getembed(url) {\n            return await (await fetch(url)).text()\n            }\n\n            function safeGet(name) {\n            console.log(typeof name)\n            }\n        "),mb.create(Yp,null))).on(document.head),document.addEventListener("alpine:init",(()=>{window.Alpine.data("mainData",(()=>({currentprogram:{imageurl:"123",title:"REALLLLLLLLLLY LONG TITLE",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",featured:!1},firebaseapp:null,firebasedatabase:null,currentseries:{},currentvideo:{},testres:{},programmes:{loading:!0,data:{}},serieses:{loading:!1,data:{}},initialized:!1,fontsize:20,auth:{authenticating:!0,dialogopen:!1,loggedIn:!1,email:"",displayName:"",idToken:"",uid:"",firebaseuser:null},actions:{signout:{"@click"(){if(this.auth.authenticating)return;this.auth={authenticating:!1,dialogopen:!1,loggedIn:!1,email:"",displayName:"",idToken:"",uid:"",firebaseuser:null};let e=zp(this.firebaseapp);e.setPersistence(hh),rh(e)}}},firebasemanager:{"x-init"(){const e=gt(fb);mi(e),zp(e);const t=Tl(e);return sl(Zc(t,"/programmes"),(e=>{this.programmes.data=e.val()})),this.firebasedatabase=t,this.firebaseapp=e,null}},authmanager:{"x-init"(){let e=zp(this.firebaseapp);e.setPersistence(hh),e.onAuthStateChanged((e=>{console.log("authManager called"),null==e?this.auth.authenticating=!1:(this.auth.authenticating=!1,this.auth.loggedIn=!0,this.auth.email=e.email,this.auth.displayName=e.displayName,e.getIdToken().then((e=>{this.auth.idToken=e})),this.auth.uid=e.uid,this.auth.firebaseuser=e)}))}}})))})),mb.render(mb.create(mb.fragment,null,mb.create(Jp,{colors:gb,style:"\n            display:inline-block;\n\n            /*set the div in the top-left corner of the screen*/\n            position:absolute;\n            top:0;\n            left:0;\n\n            /*set the width and height to 100% of the screen*/\n            width:100%;\n            height:100%;\n            background-color: var(--mdc-theme-background);\n        "},mb.create("div",{"x-data":"mainData"},mb.create("div",{"x-bind":"firebasemanager"}),mb.create("div",{"x-bind":"authmanager"}),mb.create(yf,null,mb.create(gf,{page:"home"},mb.create(Tf,null)),mb.create(gf,{page:"settings"},mb.create(Uv,null)),mb.create(gf,{page:"series"},mb.create(F_,null)),mb.create(gf,{page:"thatnerdlabs"},mb.create(pb,null))),mb.create(pf,null))))).on(document.body);var vb,_b,bb,Ib,Eb=!1,wb=!1,Cb=[],Tb=-1;function Sb(e){!function(e){Cb.includes(e)||Cb.push(e);wb||Eb||(Eb=!0,queueMicrotask(Ab))}(e)}function xb(e){let t=Cb.indexOf(e);-1!==t&&t>Tb&&Cb.splice(t,1)}function Ab(){Eb=!1,wb=!0;for(let e=0;e<Cb.length;e++)Cb[e](),Tb=e;Cb.length=0,Tb=-1,wb=!1}var kb=!0;function Ob(e){_b=e}var Nb=[],Rb=[],Pb=[];function Lb(e,t){"function"==typeof t?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,Rb.push(t))}function Db(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach((([n,i])=>{(void 0===t||t.includes(n))&&(i.forEach((e=>e())),delete e._x_attributeCleanups[n])}))}var Mb=new MutationObserver(zb),Fb=!1;function jb(){Mb.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Fb=!0}function Hb(){(Ub=Ub.concat(Mb.takeRecords())).length&&!Bb&&(Bb=!0,queueMicrotask((()=>{zb(Ub),Ub.length=0,Bb=!1}))),Mb.disconnect(),Fb=!1}var Ub=[],Bb=!1;function qb(e){if(!Fb)return e();Hb();let t=e();return jb(),t}var Vb=!1,Wb=[];function zb(e){if(Vb)return void(Wb=Wb.concat(e));let t=[],n=[],i=new Map,r=new Map;for(let o=0;o<e.length;o++)if(!e[o].target._x_ignoreMutationObserver&&("childList"===e[o].type&&(e[o].addedNodes.forEach((e=>1===e.nodeType&&t.push(e))),e[o].removedNodes.forEach((e=>1===e.nodeType&&n.push(e)))),"attributes"===e[o].type)){let t=e[o].target,n=e[o].attributeName,s=e[o].oldValue,a=()=>{i.has(t)||i.set(t,[]),i.get(t).push({name:n,value:t.getAttribute(n)})},c=()=>{r.has(t)||r.set(t,[]),r.get(t).push(n)};t.hasAttribute(n)&&null===s?a():t.hasAttribute(n)?(c(),a()):c()}r.forEach(((e,t)=>{Db(t,e)})),i.forEach(((e,t)=>{Nb.forEach((n=>n(t,e)))}));for(let o of n)if(!t.includes(o)&&(Rb.forEach((e=>e(o))),o._x_cleanups))for(;o._x_cleanups.length;)o._x_cleanups.pop()();t.forEach((e=>{e._x_ignoreSelf=!0,e._x_ignore=!0}));for(let o of t)n.includes(o)||o.isConnected&&(delete o._x_ignoreSelf,delete o._x_ignore,Pb.forEach((e=>e(o))),o._x_ignore=!0,o._x_ignoreSelf=!0);t.forEach((e=>{delete e._x_ignoreSelf,delete e._x_ignore})),t=null,n=null,i=null,r=null}function $b(e){return Yb(Kb(e))}function Gb(e,t,n){return e._x_dataStack=[t,...Kb(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter((e=>e!==t))}}function Kb(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?Kb(e.host):e.parentNode?Kb(e.parentNode):[]}function Yb(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap((e=>Object.keys(e))))),has:(t,n)=>e.some((e=>e.hasOwnProperty(n))),get:(n,i)=>(e.find((e=>{if(e.hasOwnProperty(i)){let n=Object.getOwnPropertyDescriptor(e,i);if(n.get&&n.get._x_alreadyBound||n.set&&n.set._x_alreadyBound)return!0;if((n.get||n.set)&&n.enumerable){let r=n.get,o=n.set,s=n;r=r&&r.bind(t),o=o&&o.bind(t),r&&(r._x_alreadyBound=!0),o&&(o._x_alreadyBound=!0),Object.defineProperty(e,i,{...s,get:r,set:o})}return!0}return!1}))||{})[i],set:(t,n,i)=>{let r=e.find((e=>e.hasOwnProperty(n)));return r?r[n]=i:e[e.length-1][n]=i,!0}});return t}function Xb(e){let t=(n,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach((([r,{value:o,enumerable:s}])=>{if(!1===s||void 0===o)return;let a=""===i?r:`${i}.${r}`;"object"==typeof o&&null!==o&&o._x_interceptor?n[r]=o.initialize(e,a,r):!(e=>"object"==typeof e&&!Array.isArray(e)&&null!==e)(o)||o===n||o instanceof Element||t(o,a)}))};return t(e)}function Jb(e,t=(()=>{})){let n={initialValue:void 0,_x_interceptor:!0,initialize(t,n,i){return e(this.initialValue,(()=>function(e,t){return t.split(".").reduce(((e,t)=>e[t]),e)}(t,n)),(e=>Qb(t,n,e)),n,i)}};return t(n),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=n.initialize.bind(n);n.initialize=(i,r,o)=>{let s=e.initialize(i,r,o);return n.initialValue=s,t(i,r,o)}}else n.initialValue=e;return n}}function Qb(e,t,n){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),Qb(e[t[0]],t.slice(1),n)}e[t[0]]=n}var Zb={};function eI(e,t){Zb[e]=t}function tI(e,t){return Object.entries(Zb).forEach((([n,i])=>{let r=null;Object.defineProperty(e,`$${n}`,{get:()=>i(t,function(){if(r)return r;{let[e,n]=bI(t);return r={interceptor:Jb,...e},Lb(t,n),r}}()),enumerable:!1})})),e}function nI(e,t,n,...i){try{return n(...i)}catch(r){iI(r,e,t)}}function iI(e,t,n=void 0){Object.assign(e,{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}\n\n${n?'Expression: "'+n+'"\n\n':""}`,t),setTimeout((()=>{throw e}),0)}var rI=!0;function oI(e,t,n={}){let i;return sI(e,t)((e=>i=e),n),i}function sI(...e){return aI(...e)}var aI=cI;function cI(e,t){let n={};tI(n,e);let i=[n,...Kb(e)],r="function"==typeof t?function(e,t){return(n=(()=>{}),{scope:i={},params:r=[]}={})=>{uI(n,t.apply(Yb([i,...e]),r))}}(i,t):function(e,t,n){let i=function(e,t){if(lI[e])return lI[e];let n=Object.getPrototypeOf((async function(){})).constructor,i=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(async()=>{ ${e} })()`:e;const r=()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`)}catch(r){return iI(r,t,e),Promise.resolve()}};let o=r();return lI[e]=o,o}(t,n);return(r=(()=>{}),{scope:o={},params:s=[]}={})=>{i.result=void 0,i.finished=!1;let a=Yb([o,...e]);if("function"==typeof i){let e=i(i,a).catch((e=>iI(e,n,t)));i.finished?(uI(r,i.result,a,s,n),i.result=void 0):e.then((e=>{uI(r,e,a,s,n)})).catch((e=>iI(e,n,t))).finally((()=>i.result=void 0))}}}(i,t,e);return nI.bind(null,e,t,r)}var lI={};function uI(e,t,n,i,r){if(rI&&"function"==typeof t){let o=t.apply(n,i);o instanceof Promise?o.then((t=>uI(e,t,n,i))).catch((e=>iI(e,r,t))):e(o)}else"object"==typeof t&&t instanceof Promise?t.then((t=>e(t))):e(t)}var dI="x-";function hI(e=""){return dI+e}var pI={};function fI(e,t){return pI[e]=t,{before(t){if(!pI[t])return void console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");const n=AI.indexOf(t);AI.splice(n>=0?n:AI.indexOf("DEFAULT"),0,e)}}}function mI(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let n=Object.entries(e._x_virtualDirectives).map((([e,t])=>({name:e,value:t}))),i=gI(n);n=n.map((e=>i.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),t=t.concat(n)}let i={},r=t.map(EI(((e,t)=>i[e]=t))).filter(TI).map(function(e,t){return({name:n,value:i})=>{let r=n.match(SI()),o=n.match(/:([a-zA-Z0-9\-:]+)/),s=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[n]||n;return{type:r?r[1]:null,value:o?o[1]:null,modifiers:s.map((e=>e.replace(".",""))),expression:i,original:a}}}(i,n)).sort(kI);return r.map((t=>function(e,t){let n=()=>{},i=pI[t.type]||n,[r,o]=bI(e);!function(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}(e,t.original,o);let s=()=>{e._x_ignore||e._x_ignoreSelf||(i.inline&&i.inline(e,t,r),i=i.bind(i,e,t,r),yI?vI.get(_I).push(i):i())};return s.runCleanups=o,s}(e,t)))}function gI(e){return Array.from(e).map(EI()).filter((e=>!TI(e)))}var yI=!1,vI=new Map,_I=Symbol();function bI(e){let t=[],[n,i]=function(e){let t=()=>{};return[n=>{let i=_b(n);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((e=>e()))}),e._x_effects.add(i),t=()=>{void 0!==i&&(e._x_effects.delete(i),bb(i))},i},()=>{t()}]}(e);t.push(i);let r={Alpine:yE,effect:n,cleanup:e=>t.push(e),evaluateLater:sI.bind(sI,e),evaluate:oI.bind(oI,e)};return[r,()=>t.forEach((e=>e()))]}var II=(e,t)=>({name:n,value:i})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:i});function EI(e=(()=>{})){return({name:t,value:n})=>{let{name:i,value:r}=wI.reduce(((e,t)=>t(e)),{name:t,value:n});return i!==t&&e(i,t),{name:i,value:r}}}var wI=[];function CI(e){wI.push(e)}function TI({name:e}){return SI().test(e)}var SI=()=>new RegExp(`^${dI}([^:^.]+)\\b`);var xI="DEFAULT",AI=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",xI,"teleport"];function kI(e,t){let n=-1===AI.indexOf(e.type)?xI:e.type,i=-1===AI.indexOf(t.type)?xI:t.type;return AI.indexOf(n)-AI.indexOf(i)}function OI(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function NI(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach((e=>NI(e,t)));let n=!1;if(t(e,(()=>n=!0)),n)return;let i=e.firstElementChild;for(;i;)NI(i,t),i=i.nextElementSibling}function RI(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var PI=!1;var LI=[],DI=[];function MI(){return LI.map((e=>e()))}function FI(){return LI.concat(DI).map((e=>e()))}function jI(e){LI.push(e)}function HI(e){DI.push(e)}function UI(e,t=!1){return BI(e,(e=>{if((t?FI():MI()).some((t=>e.matches(t))))return!0}))}function BI(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return BI(e.parentElement,t)}}var qI=[];function VI(e,t=NI,n=(()=>{})){!function(e){yI=!0;let t=Symbol();_I=t,vI.set(t,[]);let n=()=>{for(;vI.get(t).length;)vI.get(t).shift()();vI.delete(t)};e(n),yI=!1,n()}((()=>{t(e,((e,t)=>{n(e,t),qI.forEach((n=>n(e,t))),mI(e,e.attributes).forEach((e=>e())),e._x_ignore&&t()}))}))}function WI(e){NI(e,(e=>Db(e)))}var zI=[],$I=!1;function GI(e=(()=>{})){return queueMicrotask((()=>{$I||setTimeout((()=>{KI()}))})),new Promise((t=>{zI.push((()=>{e(),t()}))}))}function KI(){for($I=!1;zI.length;)zI.shift()()}function YI(e,t){return Array.isArray(t)?XI(e,t.join(" ")):"object"==typeof t&&null!==t?function(e,t){let n=e=>e.split(" ").filter(Boolean),i=Object.entries(t).flatMap((([e,t])=>!!t&&n(e))).filter(Boolean),r=Object.entries(t).flatMap((([e,t])=>!t&&n(e))).filter(Boolean),o=[],s=[];return r.forEach((t=>{e.classList.contains(t)&&(e.classList.remove(t),s.push(t))})),i.forEach((t=>{e.classList.contains(t)||(e.classList.add(t),o.push(t))})),()=>{s.forEach((t=>e.classList.add(t))),o.forEach((t=>e.classList.remove(t)))}}(e,t):"function"==typeof t?YI(e,t()):XI(e,t)}function XI(e,t){return t=!0===t?t="":t||"",n=t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean),e.classList.add(...n),()=>{e.classList.remove(...n)};var n}function JI(e,t){return"object"==typeof t&&null!==t?function(e,t){let n={};return Object.entries(t).forEach((([t,i])=>{n[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,i)})),setTimeout((()=>{0===e.style.length&&e.removeAttribute("style")})),()=>{JI(e,n)}}(e,t):function(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}(e,t)}function QI(e,t=(()=>{})){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function ZI(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(n=(()=>{}),i=(()=>{})){tE(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,i)},out(n=(()=>{}),i=(()=>{})){tE(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,i)}})}function eE(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:eE(t)}function tE(e,t,{during:n,start:i,end:r}={},o=(()=>{}),s=(()=>{})){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(n).length&&0===Object.keys(i).length&&0===Object.keys(r).length)return o(),void s();let a,c,l;!function(e,t){let n,i,r,o=QI((()=>{qb((()=>{n=!0,i||t.before(),r||(t.end(),KI()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning}))}));e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:QI((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()})),finish:o},qb((()=>{t.start(),t.during()})),$I=!0,requestAnimationFrame((()=>{if(n)return;let o=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),s=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===o&&(o=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),qb((()=>{t.before()})),i=!0,requestAnimationFrame((()=>{n||(qb((()=>{t.end()})),KI(),setTimeout(e._x_transitioning.finish,o+s),r=!0)}))}))}(e,{start(){a=t(e,i)},during(){c=t(e,n)},before:o,end(){a(),l=t(e,r)},after:s,cleanup(){c(),l()}})}function nE(e,t,n){if(-1===e.indexOf(t))return n;const i=e[e.indexOf(t)+1];if(!i)return n;if("scale"===t&&isNaN(i))return n;if("duration"===t||"delay"===t){let e=i.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[i,e[e.indexOf(t)+2]].join(" "):i}fI("transition",((e,{value:t,modifiers:n,expression:i},{evaluate:r})=>{"function"==typeof i&&(i=r(i)),!1!==i&&(i&&"boolean"!=typeof i?function(e,t,n){ZI(e,YI,"");let i={enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}};i[n](t)}(e,i,t):function(e,t,n){ZI(e,JI);let i=!t.includes("in")&&!t.includes("out")&&!n,r=i||t.includes("in")||["enter"].includes(n),o=i||t.includes("out")||["leave"].includes(n);t.includes("in")&&!i&&(t=t.filter(((e,n)=>n<t.indexOf("out"))));t.includes("out")&&!i&&(t=t.filter(((e,n)=>n>t.indexOf("out"))));let s=!t.includes("opacity")&&!t.includes("scale"),a=s||t.includes("opacity"),c=s||t.includes("scale"),l=a?0:1,u=c?nE(t,"scale",95)/100:1,d=nE(t,"delay",0)/1e3,h=nE(t,"origin","center"),p="opacity, transform",f=nE(t,"duration",150)/1e3,m=nE(t,"duration",75)/1e3,g="cubic-bezier(0.4, 0.0, 0.2, 1)";r&&(e._x_transition.enter.during={transformOrigin:h,transitionDelay:`${d}s`,transitionProperty:p,transitionDuration:`${f}s`,transitionTimingFunction:g},e._x_transition.enter.start={opacity:l,transform:`scale(${u})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"});o&&(e._x_transition.leave.during={transformOrigin:h,transitionDelay:`${d}s`,transitionProperty:p,transitionDuration:`${m}s`,transitionTimingFunction:g},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:l,transform:`scale(${u})`})}(e,n,t))})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,i){const r="visible"===document.visibilityState?requestAnimationFrame:setTimeout;let o=()=>r(n);t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):o():e._x_transition?e._x_transition.in(n):o():(e._x_hidePromise=e._x_transition?new Promise(((t,n)=>{e._x_transition.out((()=>{}),(()=>t(i))),e._x_transitioning.beforeCancel((()=>n({isFromCancelledTransition:!0})))})):Promise.resolve(i),queueMicrotask((()=>{let t=eE(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):r((()=>{let t=e=>{let n=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then((([e])=>e()));return delete e._x_hidePromise,delete e._x_hideChildren,n};t(e).catch((e=>{if(!e.isFromCancelledTransition)throw e}))}))})))};var iE=!1;function rE(e,t=(()=>{})){return(...n)=>iE?t(...n):e(...n)}function oE(e,t,n,i=[]){switch(e._x_bindings||(e._x_bindings=vb({})),e._x_bindings[t]=n,t=i.includes("camel")?t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase())):t){case"value":!function(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked=aE(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Number.isInteger(t)||Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?Array.isArray(t)?e.checked=t.some((t=>aE(t,e.value))):e.checked=!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){const n=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=n.includes(e.value)}))}(e,t);else{if(e.value===t)return;e.value=t}}(e,n);break;case"style":!function(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles();e._x_undoAddedStyles=JI(e,t)}(e,n);break;case"class":!function(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses();e._x_undoAddedClasses=YI(e,t)}(e,n);break;case"selected":case"checked":!function(e,t,n){sE(e,t,n),function(e,t,n){e[t]!==n&&(e[t]=n)}(e,t,n)}(e,t,n);break;default:sE(e,t,n)}}function sE(e,t,n){[null,void 0,!1].includes(n)&&function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}(t)?e.removeAttribute(t):(cE(t)&&(n=t),function(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}(e,t,n))}function aE(e,t){return e==t}function cE(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function lE(e,t){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){n=null,e.apply(i,r)}),t)}}function uE(e,t){let n;return function(){let i=this,r=arguments;n||(e.apply(i,r),n=!0,setTimeout((()=>n=!1),t))}}var dE={},hE=!1;var pE={};function fE(e,t,n){let i=[];for(;i.length;)i.pop()();let r=Object.entries(t).map((([e,t])=>({name:e,value:t}))),o=gI(r);r=r.map((e=>o.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),mI(e,r,n).map((e=>{i.push(e.runCleanups),e()}))}var mE={};var gE={get reactive(){return vb},get release(){return bb},get effect(){return _b},get raw(){return Ib},version:"3.12.2",flushAndStopDeferringMutations:function(){Vb=!1,zb(Wb),Wb=[]},dontAutoEvaluateFunctions:function(e){let t=rI;rI=!1,e(),rI=t},disableEffectScheduling:function(e){kb=!1,e(),kb=!0},startObservingMutations:jb,stopObservingMutations:Hb,setReactivityEngine:function(e){vb=e.reactive,bb=e.release,_b=t=>e.effect(t,{scheduler:e=>{kb?Sb(e):e()}}),Ib=e.raw},closestDataStack:Kb,skipDuringClone:rE,onlyDuringClone:function(e){return(...t)=>iE&&e(...t)},addRootSelector:jI,addInitSelector:HI,addScopeToNode:Gb,deferMutations:function(){Vb=!0},mapAttributes:CI,evaluateLater:sI,interceptInit:function(e){qI.push(e)},setEvaluator:function(e){aI=e},mergeProxies:Yb,findClosest:BI,closestRoot:UI,destroyTree:WI,interceptor:Jb,transition:tE,setStyles:JI,mutateDom:qb,directive:fI,throttle:uE,debounce:lE,evaluate:oI,initTree:VI,nextTick:GI,prefixed:hI,prefix:function(e){dI=e},plugin:function(e){(Array.isArray(e)?e:[e]).forEach((e=>e(yE)))},magic:eI,store:function(e,t){if(hE||(dE=vb(dE),hE=!0),void 0===t)return dE[e];dE[e]=t,"object"==typeof t&&null!==t&&t.hasOwnProperty("init")&&"function"==typeof t.init&&dE[e].init(),Xb(dE[e])},start:function(){PI&&RI("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),PI=!0,document.body||RI("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),OI(document,"alpine:init"),OI(document,"alpine:initializing"),jb(),function(e){Pb.push(e)}((e=>VI(e,NI))),Lb((e=>WI(e))),function(e){Nb.push(e)}(((e,t)=>{mI(e,t).forEach((e=>e()))})),Array.from(document.querySelectorAll(FI())).filter((e=>!UI(e.parentElement,!0))).forEach((e=>{VI(e)})),OI(document,"alpine:initialized")},clone:function(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),iE=!0,function(e){let t=_b;Ob(((e,n)=>{let i=t(e);return bb(i),()=>{}})),e(),Ob(t)}((()=>{!function(e){let t=!1,n=(e,n)=>{NI(e,((e,i)=>{if(t&&function(e){return MI().some((t=>e.matches(t)))}(e))return i();t=!0,n(e,i)}))};VI(e,n)}(t)})),iE=!1},bound:function(e,t,n){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];let i=e.getAttribute(t);return null===i?"function"==typeof n?n():n:""===i||(cE(t)?!![t,"true"].includes(i):i)},$data:$b,walk:NI,data:function(e,t){mE[e]=t},bind:function(e,t){let n="function"!=typeof t?()=>t:t;e instanceof Element?fE(e,n()):pE[e]=n}},yE=gE;function vE(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}var _E,bE=Object.freeze({}),IE=Object.assign,EE=Object.prototype.hasOwnProperty,wE=(e,t)=>EE.call(e,t),CE=Array.isArray,TE=e=>"[object Map]"===kE(e),SE=e=>"symbol"==typeof e,xE=e=>null!==e&&"object"==typeof e,AE=Object.prototype.toString,kE=e=>AE.call(e),OE=e=>kE(e).slice(8,-1),NE=e=>(e=>"string"==typeof e)(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,RE=(e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))})((e=>e.charAt(0).toUpperCase()+e.slice(1))),PE=(e,t)=>e!==t&&(e==e||t==t),LE=new WeakMap,DE=[],ME=Symbol("iterate"),FE=Symbol("Map key iterate");var jE=0;function HE(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var UE=!0,BE=[];function qE(){const e=BE.pop();UE=void 0===e||e}function VE(e,t,n){if(!UE||void 0===_E)return;let i=LE.get(e);i||LE.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=new Set),r.has(_E)||(r.add(_E),_E.deps.push(r),_E.options.onTrack&&_E.options.onTrack({effect:_E,target:e,type:t,key:n}))}function WE(e,t,n,i,r,o){const s=LE.get(e);if(!s)return;const a=new Set,c=e=>{e&&e.forEach((e=>{(e!==_E||e.allowRecurse)&&a.add(e)}))};if("clear"===t)s.forEach(c);else if("length"===n&&CE(e))s.forEach(((e,t)=>{("length"===t||t>=i)&&c(e)}));else switch(void 0!==n&&c(s.get(n)),t){case"add":CE(e)?NE(n)&&c(s.get("length")):(c(s.get(ME)),TE(e)&&c(s.get(FE)));break;case"delete":CE(e)||(c(s.get(ME)),TE(e)&&c(s.get(FE)));break;case"set":TE(e)&&c(s.get(ME))}a.forEach((s=>{s.options.onTrigger&&s.options.onTrigger({effect:s,target:e,key:n,type:t,newValue:i,oldValue:r,oldTarget:o}),s.options.scheduler?s.options.scheduler(s):s()}))}var zE=vE("__proto__,__v_isRef,__isVue"),$E=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(SE)),GE=QE(),KE=QE(!1,!0),YE=QE(!0),XE=QE(!0,!0),JE={};function QE(e=!1,t=!1){return function(n,i,r){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_raw"===i&&r===(e?t?xw:Sw:t?Tw:Cw).get(n))return n;const o=CE(n);if(!e&&o&&wE(JE,i))return Reflect.get(JE,i,r);const s=Reflect.get(n,i,r);if(SE(i)?$E.has(i):zE(i))return s;if(e||VE(n,"get",i),t)return s;if(Rw(s)){return!o||!NE(i)?s.value:s}return xE(s)?e?kw(s):Aw(s):s}}function ZE(e=!1){return function(t,n,i,r){let o=t[n];if(!e&&(i=Nw(i),o=Nw(o),!CE(t)&&Rw(o)&&!Rw(i)))return o.value=i,!0;const s=CE(t)&&NE(n)?Number(n)<t.length:wE(t,n),a=Reflect.set(t,n,i,r);return t===Nw(r)&&(s?PE(i,o)&&WE(t,"set",n,i,o):WE(t,"add",n,i)),a}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];JE[e]=function(...e){const n=Nw(this);for(let t=0,r=this.length;t<r;t++)VE(n,"get",t+"");const i=t.apply(n,e);return-1===i||!1===i?t.apply(n,e.map(Nw)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];JE[e]=function(...e){BE.push(UE),UE=!1;const n=t.apply(this,e);return qE(),n}}));var ew={get:GE,set:ZE(),deleteProperty:function(e,t){const n=wE(e,t),i=e[t],r=Reflect.deleteProperty(e,t);return r&&n&&WE(e,"delete",t,void 0,i),r},has:function(e,t){const n=Reflect.has(e,t);return SE(t)&&$E.has(t)||VE(e,"has",t),n},ownKeys:function(e){return VE(e,"iterate",CE(e)?"length":ME),Reflect.ownKeys(e)}},tw={get:YE,set:(e,t)=>(console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0),deleteProperty:(e,t)=>(console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0)};IE({},ew,{get:KE,set:ZE(!0)}),IE({},tw,{get:XE});var nw=e=>xE(e)?Aw(e):e,iw=e=>xE(e)?kw(e):e,rw=e=>e,ow=e=>Reflect.getPrototypeOf(e);function sw(e,t,n=!1,i=!1){const r=Nw(e=e.__v_raw),o=Nw(t);t!==o&&!n&&VE(r,"get",t),!n&&VE(r,"get",o);const{has:s}=ow(r),a=i?rw:n?iw:nw;return s.call(r,t)?a(e.get(t)):s.call(r,o)?a(e.get(o)):void(e!==r&&e.get(t))}function aw(e,t=!1){const n=this.__v_raw,i=Nw(n),r=Nw(e);return e!==r&&!t&&VE(i,"has",e),!t&&VE(i,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function cw(e,t=!1){return e=e.__v_raw,!t&&VE(Nw(e),"iterate",ME),Reflect.get(e,"size",e)}function lw(e){e=Nw(e);const t=Nw(this);return ow(t).has.call(t,e)||(t.add(e),WE(t,"add",e,e)),this}function uw(e,t){t=Nw(t);const n=Nw(this),{has:i,get:r}=ow(n);let o=i.call(n,e);o?ww(n,i,e):(e=Nw(e),o=i.call(n,e));const s=r.call(n,e);return n.set(e,t),o?PE(t,s)&&WE(n,"set",e,t,s):WE(n,"add",e,t),this}function dw(e){const t=Nw(this),{has:n,get:i}=ow(t);let r=n.call(t,e);r?ww(t,n,e):(e=Nw(e),r=n.call(t,e));const o=i?i.call(t,e):void 0,s=t.delete(e);return r&&WE(t,"delete",e,void 0,o),s}function hw(){const e=Nw(this),t=0!==e.size,n=TE(e)?new Map(e):new Set(e),i=e.clear();return t&&WE(e,"clear",void 0,void 0,n),i}function pw(e,t){return function(n,i){const r=this,o=r.__v_raw,s=Nw(o),a=t?rw:e?iw:nw;return!e&&VE(s,"iterate",ME),o.forEach(((e,t)=>n.call(i,a(e),a(t),r)))}}function fw(e,t,n){return function(...i){const r=this.__v_raw,o=Nw(r),s=TE(o),a="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,l=r[e](...i),u=n?rw:t?iw:nw;return!t&&VE(o,"iterate",c?FE:ME),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function mw(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${RE(e)} operation ${n}failed: target is readonly.`,Nw(this))}return"delete"!==e&&this}}var gw={get(e){return sw(this,e)},get size(){return cw(this)},has:aw,add:lw,set:uw,delete:dw,clear:hw,forEach:pw(!1,!1)},yw={get(e){return sw(this,e,!1,!0)},get size(){return cw(this)},has:aw,add:lw,set:uw,delete:dw,clear:hw,forEach:pw(!1,!0)},vw={get(e){return sw(this,e,!0)},get size(){return cw(this,!0)},has(e){return aw.call(this,e,!0)},add:mw("add"),set:mw("set"),delete:mw("delete"),clear:mw("clear"),forEach:pw(!0,!1)},_w={get(e){return sw(this,e,!0,!0)},get size(){return cw(this,!0)},has(e){return aw.call(this,e,!0)},add:mw("add"),set:mw("set"),delete:mw("delete"),clear:mw("clear"),forEach:pw(!0,!0)};function bw(e,t){const n=t?e?_w:yw:e?vw:gw;return(t,i,r)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(wE(n,i)&&i in t?n:t,i,r)}["keys","values","entries",Symbol.iterator].forEach((e=>{gw[e]=fw(e,!1,!1),vw[e]=fw(e,!0,!1),yw[e]=fw(e,!1,!0),_w[e]=fw(e,!0,!0)}));var Iw={get:bw(!1,!1)},Ew={get:bw(!0,!1)};function ww(e,t,n){const i=Nw(n);if(i!==n&&t.call(e,i)){const t=OE(e);console.warn(`Reactive ${t} contains both the raw and reactive versions of the same object${"Map"===t?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Cw=new WeakMap,Tw=new WeakMap,Sw=new WeakMap,xw=new WeakMap;function Aw(e){return e&&e.__v_isReadonly?e:Ow(e,!1,ew,Iw,Cw)}function kw(e){return Ow(e,!0,tw,Ew,Sw)}function Ow(e,t,n,i,r){if(!xE(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const s=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(OE(a));var a;if(0===s)return e;const c=new Proxy(e,2===s?i:n);return r.set(e,c),c}function Nw(e){return e&&Nw(e.__v_raw)||e}function Rw(e){return Boolean(e&&!0===e.__v_isRef)}eI("nextTick",(()=>GI)),eI("dispatch",(e=>OI.bind(OI,e))),eI("watch",((e,{evaluateLater:t,effect:n})=>(i,r)=>{let o,s=t(i),a=!0,c=n((()=>s((e=>{JSON.stringify(e),a?o=e:queueMicrotask((()=>{r(e,o),o=e})),a=!1}))));e._x_effects.delete(c)})),eI("store",(function(){return dE})),eI("data",(e=>$b(e))),eI("root",(e=>UI(e))),eI("refs",(e=>(e._x_refs_proxy||(e._x_refs_proxy=Yb(function(e){let t=[],n=e;for(;n;)n._x_refs&&t.push(n._x_refs),n=n.parentNode;return t}(e))),e._x_refs_proxy)));var Pw={};function Lw(e){return Pw[e]||(Pw[e]=0),++Pw[e]}function Dw(e,t,n){eI(t,(t=>RI(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,t)))}eI("id",(e=>(t,n=null)=>{let i=function(e,t){return BI(e,(e=>{if(e._x_ids&&e._x_ids[t])return!0}))}(e,t),r=i?i._x_ids[t]:Lw(t);return n?`${t}-${r}-${n}`:`${t}-${r}`})),eI("el",(e=>e)),Dw("Focus","focus","focus"),Dw("Persist","persist","persist"),fI("modelable",((e,{expression:t},{effect:n,evaluateLater:i,cleanup:r})=>{let o=i(t),s=()=>{let e;return o((t=>e=t)),e},a=i(`${t} = __placeholder`),c=e=>a((()=>{}),{scope:{__placeholder:e}}),l=s();c(l),queueMicrotask((()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let t=e._x_model.get,n=e._x_model.set,i=function({get:e,set:t},{get:n,set:i}){let r,o,s=!0,a=_b((()=>{let a,c;s?(a=e(),i(a),c=n(),s=!1):(a=e(),c=n(),o=JSON.stringify(a),JSON.stringify(c),o!==r?(c=n(),i(a),c=a):(t(c),a=c)),r=JSON.stringify(a),JSON.stringify(c)}));return()=>{bb(a)}}({get:()=>t(),set(e){n(e)}},{get:()=>s(),set(e){c(e)}});r(i)}))}));var Mw=document.createElement("div");fI("teleport",((e,{modifiers:t,expression:n},{cleanup:i})=>{"template"!==e.tagName.toLowerCase()&&RI("x-teleport can only be used on a <template> tag",e);let r=rE((()=>document.querySelector(n)),(()=>Mw))();r||RI(`Cannot find x-teleport element for selector: "${n}"`);let o=e.content.cloneNode(!0).firstElementChild;e._x_teleport=o,o._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach((t=>{o.addEventListener(t,(t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))}))})),Gb(o,{},e),qb((()=>{t.includes("prepend")?r.parentNode.insertBefore(o,r):t.includes("append")?r.parentNode.insertBefore(o,r.nextSibling):r.appendChild(o),VI(o),o._x_ignore=!0})),i((()=>o.remove()))}));var Fw=()=>{};function jw(e,t,n,i){let r=e,o=e=>i(e),s={},a=(e,t)=>n=>t(e,n);if(n.includes("dot")&&(t=t.replace(/-/g,".")),n.includes("camel")&&(t=function(e){return e.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}(t)),n.includes("passive")&&(s.passive=!0),n.includes("capture")&&(s.capture=!0),n.includes("window")&&(r=window),n.includes("document")&&(r=document),n.includes("debounce")){let e=n[n.indexOf("debounce")+1]||"invalid-wait",t=Hw(e.split("ms")[0])?Number(e.split("ms")[0]):250;o=lE(o,t)}if(n.includes("throttle")){let e=n[n.indexOf("throttle")+1]||"invalid-wait",t=Hw(e.split("ms")[0])?Number(e.split("ms")[0]):250;o=uE(o,t)}return n.includes("prevent")&&(o=a(o,((e,t)=>{t.preventDefault(),e(t)}))),n.includes("stop")&&(o=a(o,((e,t)=>{t.stopPropagation(),e(t)}))),n.includes("self")&&(o=a(o,((t,n)=>{n.target===e&&t(n)}))),(n.includes("away")||n.includes("outside"))&&(r=document,o=a(o,((t,n)=>{e.contains(n.target)||!1!==n.target.isConnected&&(e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(n))}))),n.includes("once")&&(o=a(o,((e,n)=>{e(n),r.removeEventListener(t,o,s)}))),o=a(o,((e,i)=>{(function(e){return["keydown","keyup"].includes(e)})(t)&&function(e,t){let n=t.filter((e=>!["window","document","prevent","stop","once","capture"].includes(e)));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,Hw((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let e=n.indexOf("throttle");n.splice(e,Hw((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length)return!1;if(1===n.length&&Uw(e.key).includes(n[0]))return!1;const i=["ctrl","shift","alt","meta","cmd","super"].filter((e=>n.includes(e)));if(n=n.filter((e=>!i.includes(e))),i.length>0){if(i.filter((t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`]))).length===i.length&&Uw(e.key).includes(n[0]))return!1}return!0}(i,n)||e(i)})),r.addEventListener(t,o,s),()=>{r.removeEventListener(t,o,s)}}function Hw(e){return!Array.isArray(e)&&!isNaN(e)}function Uw(e){if(!e)return[];var t;e=[" ","_"].includes(t=e)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return n[e]=e,Object.keys(n).map((t=>{if(n[t]===e)return t})).filter((e=>e))}function Bw(e){let t=e?parseFloat(e):null;return n=t,Array.isArray(n)||isNaN(n)?e:t;var n}function qw(e){return null!==e&&"object"==typeof e&&"function"==typeof e.get&&"function"==typeof e.set}function Vw(e,t,n,i){let r={};if(/^\[.*\]$/.test(e.item)&&Array.isArray(t)){e.item.replace("[","").replace("]","").split(",").map((e=>e.trim())).forEach(((e,n)=>{r[e]=t[n]}))}else if(/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t){e.item.replace("{","").replace("}","").split(",").map((e=>e.trim())).forEach((e=>{r[e]=t[e]}))}else r[e.item]=t;return e.index&&(r[e.index]=n),e.collection&&(r[e.collection]=i),r}function Ww(){}function zw(e,t,n){fI(t,(i=>RI(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,i)))}Fw.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n((()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore}))},fI("ignore",Fw),fI("effect",((e,{expression:t},{effect:n})=>n(sI(e,t)))),fI("model",((e,{modifiers:t,expression:n},{effect:i,cleanup:r})=>{let o=e;t.includes("parent")&&(o=e.parentNode);let s,a=sI(o,n);s="string"==typeof n?sI(o,`${n} = __placeholder`):"function"==typeof n&&"string"==typeof n()?sI(o,`${n()} = __placeholder`):()=>{};let c=()=>{let e;return a((t=>e=t)),qw(e)?e.get():e},l=e=>{let t;a((e=>t=e)),qw(t)?t.set(e):s((()=>{}),{scope:{__placeholder:e}})};"string"==typeof n&&"radio"===e.type&&qb((()=>{e.hasAttribute("name")||e.setAttribute("name",n)}));var u="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let d=iE?()=>{}:jw(e,u,t,(n=>{l(function(e,t,n,i){return qb((()=>{if(n instanceof CustomEvent&&void 0!==n.detail)return n.detail??n.target.value;if("checkbox"===e.type){if(Array.isArray(i)){let e=t.includes("number")?Bw(n.target.value):n.target.value;return n.target.checked?i.concat([e]):i.filter((t=>!(t==e)))}return n.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map((e=>Bw(e.value||e.text))):Array.from(n.target.selectedOptions).map((e=>e.value||e.text));{let e=n.target.value;return t.includes("number")?Bw(e):t.includes("trim")?e.trim():e}}))}(e,t,n,c()))}));if(t.includes("fill")&&[null,""].includes(c())&&e.dispatchEvent(new Event(u,{})),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=d,r((()=>e._x_removeModelListeners.default())),e.form){let t=jw(e.form,"reset",[],(t=>{GI((()=>e._x_model&&e._x_model.set(e.value)))}));r((()=>t()))}e._x_model={get:()=>c(),set(e){l(e)}},e._x_forceModelUpdate=t=>{void 0===(t=void 0===t?c():t)&&"string"==typeof n&&n.match(/\./)&&(t=""),window.fromModel=!0,qb((()=>oE(e,"value",t))),delete window.fromModel},i((()=>{let n=c();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(n)}))})),fI("cloak",(e=>queueMicrotask((()=>qb((()=>e.removeAttribute(hI("cloak")))))))),HI((()=>`[${hI("init")}]`)),fI("init",rE(((e,{expression:t},{evaluate:n})=>"string"==typeof t?!!t.trim()&&n(t,{},!1):n(t,{},!1)))),fI("text",((e,{expression:t},{effect:n,evaluateLater:i})=>{let r=i(t);n((()=>{r((t=>{qb((()=>{e.textContent=t}))}))}))})),fI("html",((e,{expression:t},{effect:n,evaluateLater:i})=>{let r=i(t);n((()=>{r((t=>{qb((()=>{e.innerHTML=t,e._x_ignoreSelf=!0,VI(e),delete e._x_ignoreSelf}))}))}))})),CI(II(":",hI("bind:"))),fI("bind",((e,{value:t,modifiers:n,expression:i,original:r},{effect:o})=>{if(!t){let t={};return s=t,Object.entries(pE).forEach((([e,t])=>{Object.defineProperty(s,e,{get:()=>(...e)=>t(...e)})})),void sI(e,i)((t=>{fE(e,t,r)}),{scope:t})}var s;if("key"===t)return function(e,t){e._x_keyExpression=t}(e,i);let a=sI(e,i);o((()=>a((r=>{void 0===r&&"string"==typeof i&&i.match(/\./)&&(r=""),qb((()=>oE(e,t,r,n)))}))))})),jI((()=>`[${hI("data")}]`)),fI("data",rE(((e,{expression:t},{cleanup:n})=>{t=""===t?"{}":t;let i={};tI(i,e);let r={};var o,s;o=r,s=i,Object.entries(mE).forEach((([e,t])=>{Object.defineProperty(o,e,{get:()=>(...e)=>t.bind(s)(...e),enumerable:!1})}));let a=oI(e,t,{scope:r});void 0!==a&&!0!==a||(a={}),tI(a,e);let c=vb(a);Xb(c);let l=Gb(e,c);c.init&&oI(e,c.init),n((()=>{c.destroy&&oI(e,c.destroy),l()}))}))),fI("show",((e,{modifiers:t,expression:n},{effect:i})=>{let r=sI(e,n);e._x_doHide||(e._x_doHide=()=>{qb((()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)}))}),e._x_doShow||(e._x_doShow=()=>{qb((()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display")}))});let o,s=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},c=()=>setTimeout(a),l=QI((e=>e?a():s()),(t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,a,s):t?c():s()})),u=!0;i((()=>r((e=>{(u||e!==o)&&(t.includes("immediate")&&(e?c():s()),l(e),o=e,u=!1)}))))})),fI("for",((e,{expression:t},{effect:n,cleanup:i})=>{let r=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,r=e.match(i);if(!r)return;let o={};o.items=r[2].trim();let s=r[1].replace(n,"").trim(),a=s.match(t);a?(o.item=s.replace(t,"").trim(),o.index=a[1].trim(),a[2]&&(o.collection=a[2].trim())):o.item=s;return o}(t),o=sI(e,r.items),s=sI(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n((()=>function(e,t,n,i){let r=e=>"object"==typeof e&&!Array.isArray(e),o=e;n((n=>{var s;s=n,!Array.isArray(s)&&!isNaN(s)&&n>=0&&(n=Array.from(Array(n).keys(),(e=>e+1))),void 0===n&&(n=[]);let a=e._x_lookup,c=e._x_prevKeys,l=[],u=[];if(r(n))n=Object.entries(n).map((([e,r])=>{let o=Vw(t,r,e,n);i((e=>u.push(e)),{scope:{index:e,...o}}),l.push(o)}));else for(let e=0;e<n.length;e++){let r=Vw(t,n[e],e,n);i((e=>u.push(e)),{scope:{index:e,...r}}),l.push(r)}let d=[],h=[],p=[],f=[];for(let e=0;e<c.length;e++){let t=c[e];-1===u.indexOf(t)&&p.push(t)}c=c.filter((e=>!p.includes(e)));let m="template";for(let e=0;e<u.length;e++){let t=u[e],n=c.indexOf(t);if(-1===n)c.splice(e,0,t),d.push([m,e]);else if(n!==e){let t=c.splice(e,1)[0],i=c.splice(n-1,1)[0];c.splice(e,0,i),c.splice(n,0,t),h.push([t,i])}else f.push(t);m=t}for(let e=0;e<p.length;e++){let t=p[e];a[t]._x_effects&&a[t]._x_effects.forEach(xb),a[t].remove(),a[t]=null,delete a[t]}for(let e=0;e<h.length;e++){let[t,n]=h[e],i=a[t],r=a[n],s=document.createElement("div");qb((()=>{r||RI('x-for ":key" is undefined or invalid',o),r.after(s),i.after(r),r._x_currentIfEl&&r.after(r._x_currentIfEl),s.before(i),i._x_currentIfEl&&i.after(i._x_currentIfEl),s.remove()})),r._x_refreshXForScope(l[u.indexOf(n)])}for(let e=0;e<d.length;e++){let[t,n]=d[e],i="template"===t?o:a[t];i._x_currentIfEl&&(i=i._x_currentIfEl);let r=l[n],s=u[n],c=document.importNode(o.content,!0).firstElementChild,h=vb(r);Gb(c,h,o),c._x_refreshXForScope=e=>{Object.entries(e).forEach((([e,t])=>{h[e]=t}))},qb((()=>{i.after(c),VI(c)})),"object"==typeof s&&RI("x-for key cannot be an object, it must be a string or an integer",o),a[s]=c}for(let e=0;e<f.length;e++)a[f[e]]._x_refreshXForScope(l[u.indexOf(f[e])]);o._x_prevKeys=u}))}(e,r,o,s))),i((()=>{Object.values(e._x_lookup).forEach((e=>e.remove())),delete e._x_prevKeys,delete e._x_lookup}))})),Ww.inline=(e,{expression:t},{cleanup:n})=>{let i=UI(e);i._x_refs||(i._x_refs={}),i._x_refs[t]=e,n((()=>delete i._x_refs[t]))},fI("ref",Ww),fI("if",((e,{expression:t},{effect:n,cleanup:i})=>{let r=sI(e,t);n((()=>r((t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;Gb(t,{},e),qb((()=>{e.after(t),VI(t)})),e._x_currentIfEl=t,e._x_undoIf=()=>{NI(t,(e=>{e._x_effects&&e._x_effects.forEach(xb)})),t.remove(),delete e._x_currentIfEl}})():e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)})))),i((()=>e._x_undoIf&&e._x_undoIf()))})),fI("id",((e,{expression:t},{evaluate:n})=>{n(t).forEach((t=>function(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=Lw(t))}(e,t)))})),CI(II("@",hI("on:"))),fI("on",rE(((e,{value:t,modifiers:n,expression:i},{cleanup:r})=>{let o=i?sI(e,i):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=jw(e,t,n,(e=>{o((()=>{}),{scope:{$event:e},params:[e]})}));r((()=>s()))}))),zw("Collapse","collapse","collapse"),zw("Intersect","intersect","intersect"),zw("Focus","trap","focus"),zw("Mask","mask","mask"),yE.setEvaluator(cI),yE.setReactivityEngine({reactive:Aw,effect:function(e,t=bE){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return e();if(!DE.includes(n)){HE(n);try{return BE.push(UE),UE=!0,DE.push(n),_E=n,e()}finally{DE.pop(),qE(),_E=DE[DE.length-1]}}};return n.id=jE++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n},release:function(e){e.active&&(HE(e),e.options.onStop&&e.options.onStop(),e.active=!1)},raw:Nw});var $w=yE,Gw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Kw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yw={exports:{}};!function(e){!function(t,n){e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}}("undefined"!=typeof window?window:Gw,(function(e,t){var n=[],i=Object.getPrototypeOf,r=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},s=n.push,a=n.indexOf,c={},l=c.toString,u=c.hasOwnProperty,d=u.toString,h=d.call(Object),p={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},g=e.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,n){var i,r,o=(n=n||g).createElement("script");if(o.text=e,t)for(i in y)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[l.call(e)]||"object":typeof e}var b="3.7.0",I=/HTML$/i,E=function(e,t){return new E.fn.init(e,t)};function w(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!f(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}E.fn=E.prototype={jquery:b,constructor:E,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},E.extend=E.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||f(s)||(s={}),a===c&&(s=this,a--);a<c;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(l&&i&&(E.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[t],o=r&&!Array.isArray(n)?[]:r||E.isPlainObject(n)?n:{},r=!1,s[t]=E.extend(l,o,i)):void 0!==i&&(s[t]=i));return s},E.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==l.call(e))&&(!(t=i(e))||"function"==typeof(n=u.call(t,"constructor")&&t.constructor)&&d.call(n)===h)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){v(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(w(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r)return e.textContent;if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=E.text(t);return n},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?E.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!I.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,s=0,a=[];if(w(e))for(i=e.length;s<i;s++)null!=(r=t(e[s],s,n))&&a.push(r);else for(s in e)null!=(r=t(e[s],s,n))&&a.push(r);return o(a)},guid:1,support:p}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=n[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var T=n.pop,S=n.sort,x=n.splice,A="[\\x20\\t\\r\\n\\f]",k=new RegExp("^"+A+"+|((?:^|[^\\\\])(?:\\\\.)*)"+A+"+$","g");E.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var O=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function N(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}E.escapeSelector=function(e){return(e+"").replace(O,N)};var R=g,P=s;!function(){var t,i,o,s,c,l,d,h,f,m,g=P,y=E.expando,v=0,_=0,b=ee(),I=ee(),w=ee(),O=ee(),N=function(e,t){return e===t&&(c=!0),0},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="(?:\\\\[\\da-fA-F]{1,6}"+A+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",M="\\["+A+"*("+D+")(?:"+A+"*([*^$|!~]?=)"+A+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+A+"*\\]",F=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",j=new RegExp(A+"+","g"),H=new RegExp("^"+A+"*,"+A+"*"),U=new RegExp("^"+A+"*([>+~]|"+A+")"+A+"*"),B=new RegExp(A+"|>"),q=new RegExp(F),V=new RegExp("^"+D+"$"),W={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+A+"*(even|odd|(([+-]|)(\\d*)n|)"+A+"*(?:([+-]|)"+A+"*(\\d+)|))"+A+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+A+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+A+"*((?:-\\d)?\\d*)"+A+"*\\)|)(?=[^-]|$)","i")},z=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Y=new RegExp("\\\\[\\da-fA-F]{1,6}"+A+"?|\\\\([^\\r\\n\\f])","g"),X=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},J=function(){ce()},Q=he((function(e){return!0===e.disabled&&C(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{g.apply(n=r.call(R.childNodes),R.childNodes),n[R.childNodes.length].nodeType}catch(_e){g={apply:function(e,t){P.apply(e,r.call(t))},call:function(e){P.apply(e,r.call(arguments,1))}}}function Z(e,t,n,i){var r,o,s,a,c,u,d,m=t&&t.ownerDocument,v=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==v&&9!==v&&11!==v)return n;if(!i&&(ce(t),t=t||l,h)){if(11!==v&&(c=G.exec(e)))if(r=c[1]){if(9===v){if(!(s=t.getElementById(r)))return n;if(s.id===r)return g.call(n,s),n}else if(m&&(s=m.getElementById(r))&&Z.contains(t,s)&&s.id===r)return g.call(n,s),n}else{if(c[2])return g.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&t.getElementsByClassName)return g.apply(n,t.getElementsByClassName(r)),n}if(!(O[e+" "]||f&&f.test(e))){if(d=e,m=t,1===v&&(B.test(e)||U.test(e))){for((m=K.test(e)&&ae(t.parentNode)||t)==t&&p.scope||((a=t.getAttribute("id"))?a=E.escapeSelector(a):t.setAttribute("id",a=y)),o=(u=ue(e)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+de(u[o]);d=u.join(",")}try{return g.apply(n,m.querySelectorAll(d)),n}catch(_){O(e,!0)}finally{a===y&&t.removeAttribute("id")}}}return ve(e.replace(k,"$1"),t,n,i)}function ee(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function te(e){return e[y]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(_e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ie(e){return function(t){return C(t,"input")&&t.type===e}}function re(e){return function(t){return(C(t,"input")||C(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Q(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te((function(t){return t=+t,te((function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function ce(e){var t,n=e?e.ownerDocument||e:R;return n!=l&&9===n.nodeType&&n.documentElement?(d=(l=n).documentElement,h=!E.isXMLDoc(l),m=d.matches||d.webkitMatchesSelector||d.msMatchesSelector,R!=l&&(t=l.defaultView)&&t.top!==t&&t.addEventListener("unload",J),p.getById=ne((function(e){return d.appendChild(e).id=E.expando,!l.getElementsByName||!l.getElementsByName(E.expando).length})),p.disconnectedMatch=ne((function(e){return m.call(e,"*")})),p.scope=ne((function(){return l.querySelectorAll(":scope")})),p.cssHas=ne((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(_e){return!0}})),p.getById?(i.filter.ID=function(e){var t=e.replace(Y,X);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(Y,X);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},i.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},f=[],ne((function(e){var t;d.appendChild(e).innerHTML="<a id='"+y+"' href='' disabled='disabled'></a><select id='"+y+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||f.push("\\["+A+"*(?:value|"+L+")"),e.querySelectorAll("[id~="+y+"-]").length||f.push("~="),e.querySelectorAll("a#"+y+"+*").length||f.push(".#.+[+~]"),e.querySelectorAll(":checked").length||f.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||f.push("\\["+A+"*name"+A+"*="+A+"*(?:''|\"\")")})),p.cssHas||f.push(":has"),f=f.length&&new RegExp(f.join("|")),N=function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==R&&Z.contains(R,e)?-1:t===l||t.ownerDocument==R&&Z.contains(R,t)?1:s?a.call(s,e)-a.call(s,t):0:4&n?-1:1)},l):l}for(t in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(ce(e),h&&!O[t+" "]&&(!f||!f.test(t)))try{var n=m.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(_e){O(t,!0)}return Z(t,l,null,[e]).length>0},Z.contains=function(e,t){return(e.ownerDocument||e)!=l&&ce(e),E.contains(e,t)},Z.attr=function(e,t){(e.ownerDocument||e)!=l&&ce(e);var n=i.attrHandle[t.toLowerCase()],r=n&&u.call(i.attrHandle,t.toLowerCase())?n(e,t,!h):void 0;return void 0!==r?r:e.getAttribute(t)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},E.uniqueSort=function(e){var t,n=[],i=0,o=0;if(c=!p.sortStable,s=!p.sortStable&&r.call(e,0),S.call(e,N),c){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)x.call(e,n[i],1)}return s=null,e},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(r.apply(this)))},i=E.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Y,X),e[3]=(e[3]||e[4]||e[5]||"").replace(Y,X),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Y,X).toLowerCase();return"*"===e?function(){return!0}:function(e){return C(e,t)}},CLASS:function(e){var t=b[e+" "];return t||(t=new RegExp("(^|"+A+")"+e+"("+A+"|$)"))&&b(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=Z.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,h,p,f=o!==s?"nextSibling":"previousSibling",m=t.parentNode,g=a&&t.nodeName.toLowerCase(),_=!c&&!a,b=!1;if(m){if(o){for(;f;){for(d=t;d=d[f];)if(a?C(d,g):1===d.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&_){for(b=(h=(l=(u=m[y]||(m[y]={}))[e]||[])[0]===v&&l[1])&&l[2],d=h&&m.childNodes[h];d=++h&&d&&d[f]||(b=h=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){u[e]=[v,h,b];break}}else if(_&&(b=h=(l=(u=t[y]||(t[y]={}))[e]||[])[0]===v&&l[1]),!1===b)for(;(d=++h&&d&&d[f]||(b=h=0)||p.pop())&&(!(a?C(d,g):1===d.nodeType)||!++b||(_&&((u=d[y]||(d[y]={}))[e]=[v,b]),d!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return r[y]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=a.call(e,o[s])]=!(n[i]=o[s])})):function(e){return r(e,0,n)}):r}},pseudos:{not:te((function(e){var t=[],n=[],i=ye(e.replace(k,"$1"));return i[y]?te((function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Z(e,t).length>0}})),contains:te((function(e){return e=e.replace(Y,X),function(t){return(t.textContent||E.text(t)).indexOf(e)>-1}})),lang:te((function(e){return V.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(Y,X).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return C(e,"input")&&!!e.checked||C(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return z.test(e.nodeName)},button:function(e){return C(e,"input")&&"button"===e.type||C(e,"button")},text:function(e){var t;return C(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){var i;for(i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:se((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=ie(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=re(t);function le(){}function ue(e,t){var n,r,o,s,a,c,l,u=I[e+" "];if(u)return t?0:u.slice(0);for(a=e,c=[],l=i.preFilter;a;){for(s in n&&!(r=H.exec(a))||(r&&(a=a.slice(r[0].length)||a),c.push(o=[])),n=!1,(r=U.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(k," ")}),a=a.slice(n.length)),i.filter)!(r=W[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?Z.error(e):I(e,c).slice(0)}function de(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function he(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=_++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,c){var l,u,d=[v,a];if(c){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,c))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(u=t[y]||(t[y]={}),r&&C(t,r))t=t[i]||t;else{if((l=u[o])&&l[0]===v&&l[1]===a)return d[2]=l[2];if(u[o]=d,d[2]=e(t,n,c))return!0}return!1}}function pe(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function fe(e,t,n,i,r){for(var o,s=[],a=0,c=e.length,l=null!=t;a<c;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),l&&t.push(a)));return s}function me(e,t,n,i,r,o){return i&&!i[y]&&(i=me(i)),r&&!r[y]&&(r=me(r,o)),te((function(o,s,c,l){var u,d,h,p,f=[],m=[],y=s.length,v=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)Z(e,t[i],n);return n}(t||"*",c.nodeType?[c]:c,[]),_=!e||!o&&t?v:fe(v,f,e,c,l);if(n?n(_,p=r||(o?e:y||i)?[]:s,c,l):p=_,i)for(u=fe(p,m),i(u,[],c,l),d=u.length;d--;)(h=u[d])&&(p[m[d]]=!(_[m[d]]=h));if(o){if(r||e){if(r){for(u=[],d=p.length;d--;)(h=p[d])&&u.push(_[d]=h);r(null,p=[],u,l)}for(d=p.length;d--;)(h=p[d])&&(u=r?a.call(o,h):f[d])>-1&&(o[u]=!(s[u]=h))}}else p=fe(p===s?p.splice(y,p.length):p),r?r(null,s,p,l):g.apply(s,p)}))}function ge(e){for(var t,n,r,s=e.length,c=i.relative[e[0].type],l=c||i.relative[" "],u=c?1:0,d=he((function(e){return e===t}),l,!0),h=he((function(e){return a.call(t,e)>-1}),l,!0),p=[function(e,n,i){var r=!c&&(i||n!=o)||((t=n).nodeType?d(e,n,i):h(e,n,i));return t=null,r}];u<s;u++)if(n=i.relative[e[u].type])p=[he(pe(p),n)];else{if((n=i.filter[e[u].type].apply(null,e[u].matches))[y]){for(r=++u;r<s&&!i.relative[e[r].type];r++);return me(u>1&&pe(p),u>1&&de(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(k,"$1"),n,u<r&&ge(e.slice(u,r)),r<s&&ge(e=e.slice(r)),r<s&&de(e))}p.push(n)}return pe(p)}function ye(e,t){var n,r=[],s=[],a=w[e+" "];if(!a){for(t||(t=ue(e)),n=t.length;n--;)(a=ge(t[n]))[y]?r.push(a):s.push(a);a=w(e,function(e,t){var n=t.length>0,r=e.length>0,s=function(s,a,c,u,d){var p,f,m,y=0,_="0",b=s&&[],I=[],w=o,C=s||r&&i.find.TAG("*",d),S=v+=null==w?1:Math.random()||.1,x=C.length;for(d&&(o=a==l||a||d);_!==x&&null!=(p=C[_]);_++){if(r&&p){for(f=0,a||p.ownerDocument==l||(ce(p),c=!h);m=e[f++];)if(m(p,a||l,c)){g.call(u,p);break}d&&(v=S)}n&&((p=!m&&p)&&y--,s&&b.push(p))}if(y+=_,n&&_!==y){for(f=0;m=t[f++];)m(b,I,a,c);if(s){if(y>0)for(;_--;)b[_]||I[_]||(I[_]=T.call(u));I=fe(I)}g.apply(u,I),d&&!s&&I.length>0&&y+t.length>1&&E.uniqueSort(u)}return d&&(v=S,o=w),b};return n?te(s):s}(s,r)),a.selector=e}return a}function ve(e,t,n,r){var o,s,a,c,l,u="function"==typeof e&&e,d=!r&&ue(e=u.selector||e);if(n=n||[],1===d.length){if((s=d[0]=d[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===t.nodeType&&h&&i.relative[s[1].type]){if(!(t=(i.find.ID(a.matches[0].replace(Y,X),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=W.needsContext.test(e)?0:s.length;o--&&(a=s[o],!i.relative[c=a.type]);)if((l=i.find[c])&&(r=l(a.matches[0].replace(Y,X),K.test(s[0].type)&&ae(t.parentNode)||t))){if(s.splice(o,1),!(e=r.length&&de(s)))return g.apply(n,r),n;break}}return(u||ye(e,d))(r,t,!h,n,!t||K.test(e)&&ae(t.parentNode)||t),n}le.prototype=i.filters=i.pseudos,i.setFilters=new le,p.sortStable=y.split("").sort(N).join("")===y,ce(),p.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),E.find=Z,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,Z.compile=ye,Z.select=ve,Z.setDocument=ce,Z.escape=E.escapeSelector,Z.getText=E.text,Z.isXML=E.isXMLDoc,Z.selectors=E.expr,Z.support=E.support,Z.uniqueSort=E.uniqueSort}();var L=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&E(e).is(n))break;i.push(e)}return i},D=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},M=E.expr.match.needsContext,F=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,t,n){return f(t)?E.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?E.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?E.grep(e,(function(e){return a.call(t,e)>-1!==n})):E.filter(t,e,n)}E.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?E.find.matchesSelector(i,e)?[i]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<i;t++)if(E.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)E.find(e,r[t],n);return i>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&M.test(e)?E(e):e||[],!1).length}});var H,U=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,B=E.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||H,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:U.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),F.test(i[1])&&E.isPlainObject(t))for(i in t)f(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=g.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)};B.prototype=E.fn,H=E(g);var q=/^(?:parents|prev(?:Until|All))/,V={children:!0,contents:!0,next:!0,prev:!0};function W(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&E(e);if(!M.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?a.call(E(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return L(e,"parentNode")},parentsUntil:function(e,t,n){return L(e,"parentNode",n)},next:function(e){return W(e,"nextSibling")},prev:function(e){return W(e,"previousSibling")},nextAll:function(e){return L(e,"nextSibling")},prevAll:function(e){return L(e,"previousSibling")},nextUntil:function(e,t,n){return L(e,"nextSibling",n)},prevUntil:function(e,t,n){return L(e,"previousSibling",n)},siblings:function(e){return D((e.parentNode||{}).firstChild,e)},children:function(e){return D(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(n,i){var r=E.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=E.filter(i,r)),this.length>1&&(V[e]||E.uniqueSort(r),q.test(e)&&r.reverse()),this.pushStack(r)}}));var z=/[^\x20\t\r\n\f]+/g;function $(e){return e}function G(e){throw e}function K(e,t,n,i){var r;try{e&&f(r=e.promise)?r.call(e).done(t).fail(n):e&&f(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(z)||[],(function(e,n){t[n]=!0})),t}(e):E.extend({},e);var t,n,i,r,o=[],s=[],a=-1,c=function(){for(r=r||e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){E.each(n,(function(n,i){f(i)?e.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==_(i)&&t(i)}))}(arguments),n&&!t&&c()),this},remove:function(){return E.each(arguments,(function(e,t){for(var n;(n=E.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?E.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},E.extend({Deferred:function(t){var n=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(t){E.each(n,(function(n,i){var r=f(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(t,i,r){var o=0;function s(t,n,i,r){return function(){var a=this,c=arguments,l=function(){var e,l;if(!(t<o)){if((e=i.apply(a,c))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,f(l)?r?l.call(e,s(o,n,$,r),s(o,n,G,r)):(o++,l.call(e,s(o,n,$,r),s(o,n,G,r),s(o,n,$,n.notifyWith))):(i!==$&&(a=void 0,c=[e]),(r||n.resolveWith)(a,c))}},u=r?l:function(){try{l()}catch(e){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(e,u.error),t+1>=o&&(i!==G&&(a=void 0,c=[e]),n.rejectWith(a,c))}};t?u():(E.Deferred.getErrorHook?u.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(u.error=E.Deferred.getStackHook()),e.setTimeout(u))}}return E.Deferred((function(e){n[0][3].add(s(0,e,f(r)?r:$,e.notifyWith)),n[1][3].add(s(0,e,f(t)?t:$)),n[2][3].add(s(0,e,f(i)?i:G))})).promise()},promise:function(e){return null!=e?E.extend(e,r):r}},o={};return E.each(n,(function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add,a&&s.add((function(){i=a}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),o=r.call(arguments),s=E.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?r.call(arguments):n,--t||s.resolveWith(i,o)}};if(t<=1&&(K(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||f(o[n]&&o[n].then)))return s.then();for(;n--;)K(o[n],a(n),s.reject);return s.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Y.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},E.readyException=function(t){e.setTimeout((function(){throw t}))};var X=E.Deferred();function J(){g.removeEventListener("DOMContentLoaded",J),e.removeEventListener("load",J),E.ready()}E.fn.ready=function(e){return X.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||X.resolveWith(g,[E]))}}),E.ready.then=X.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(E.ready):(g.addEventListener("DOMContentLoaded",J),e.addEventListener("load",J));var Q=function(e,t,n,i,r,o,s){var a=0,c=e.length,l=null==n;if("object"===_(n))for(a in r=!0,n)Q(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,f(i)||(s=!0),l&&(s?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(E(e),n)})),t))for(;a<c;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:l?t.call(e):c?t(e[0],n):o},Z=/^-ms-/,ee=/-([a-z])/g;function te(e,t){return t.toUpperCase()}function ne(e){return e.replace(Z,"ms-").replace(ee,te)}var ie=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function re(){this.expando=E.expando+re.uid++}re.uid=1,re.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ie(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[ne(t)]=n;else for(i in t)r[ne(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ne(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ne):(t=ne(t))in i?[t]:t.match(z)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||E.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var oe=new re,se=new re,ae=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ce=/[A-Z]/g;function le(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ce,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ae.test(e)?JSON.parse(e):e)}(n)}catch(r){}se.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return se.hasData(e)||oe.hasData(e)},data:function(e,t,n){return se.access(e,t,n)},removeData:function(e,t){se.remove(e,t)},_data:function(e,t,n){return oe.access(e,t,n)},_removeData:function(e,t){oe.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=se.get(o),1===o.nodeType&&!oe.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=ne(i.slice(5)),le(o,i,r[i]));oe.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){se.set(this,e)})):Q(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=se.get(o,e))||void 0!==(n=le(o,e))?n:void 0;this.each((function(){se.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){se.remove(this,e)}))}}),E.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=oe.get(e,t),n&&(!i||Array.isArray(n)?i=oe.access(e,t,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),i=n.length,r=n.shift(),o=E._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){E.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return oe.get(e,n)||oe.access(e,n,{empty:E.Callbacks("once memory").add((function(){oe.remove(e,[t+"queue",n])}))})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each((function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=E.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=oe.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),he=["Top","Right","Bottom","Left"],pe=g.documentElement,fe=function(e){return E.contains(e.ownerDocument,e)},me={composed:!0};pe.getRootNode&&(fe=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(me)===e.ownerDocument});var ge=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&fe(e)&&"none"===E.css(e,"display")};function ye(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return E.css(e,t,"")},c=a(),l=n&&n[3]||(E.cssNumber[t]?"":"px"),u=e.nodeType&&(E.cssNumber[t]||"px"!==l&&+c)&&de.exec(E.css(e,t));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;s--;)E.style(e,t,u+l),(1-o)*(1-(o=a()/c||.5))<=0&&(s=0),u/=o;u*=2,E.style(e,t,u+l),n=n||[]}return n&&(u=+u||+c||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=r)),r}var ve={};function _e(e){var t,n=e.ownerDocument,i=e.nodeName,r=ve[i];return r||(t=n.body.appendChild(n.createElement(i)),r=E.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ve[i]=r,r)}function be(e,t){for(var n,i,r=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=oe.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ge(i)&&(r[o]=_e(i))):"none"!==n&&(r[o]="none",oe.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}E.fn.extend({show:function(){return be(this,!0)},hide:function(){return be(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ge(this)?E(this).show():E(this).hide()}))}});var Ie,Ee,we=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Te=/^$|^module$|\/(?:java|ecma)script/i;Ie=g.createDocumentFragment().appendChild(g.createElement("div")),(Ee=g.createElement("input")).setAttribute("type","radio"),Ee.setAttribute("checked","checked"),Ee.setAttribute("name","t"),Ie.appendChild(Ee),p.checkClone=Ie.cloneNode(!0).cloneNode(!0).lastChild.checked,Ie.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!Ie.cloneNode(!0).lastChild.defaultValue,Ie.innerHTML="<option></option>",p.option=!!Ie.lastChild;var Se={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xe(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?E.merge([e],n):n}function Ae(e,t){for(var n=0,i=e.length;n<i;n++)oe.set(e[n],"globalEval",!t||oe.get(t[n],"globalEval"))}Se.tbody=Se.tfoot=Se.colgroup=Se.caption=Se.thead,Se.th=Se.td,p.option||(Se.optgroup=Se.option=[1,"<select multiple='multiple'>","</select>"]);var ke=/<|&#?\w+;/;function Oe(e,t,n,i,r){for(var o,s,a,c,l,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===_(o))E.merge(h,o.nodeType?[o]:o);else if(ke.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(Ce.exec(o)||["",""])[1].toLowerCase(),c=Se[a]||Se._default,s.innerHTML=c[1]+E.htmlPrefilter(o)+c[2],u=c[0];u--;)s=s.lastChild;E.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",p=0;o=h[p++];)if(i&&E.inArray(o,i)>-1)r&&r.push(o);else if(l=fe(o),s=xe(d.appendChild(o),"script"),l&&Ae(s),n)for(u=0;o=s[u++];)Te.test(o.type||"")&&n.push(o);return d}var Ne=/^([^.]*)(?:\.(.+)|)/;function Re(){return!0}function Pe(){return!1}function Le(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Le(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Pe;else if(!r)return e;return 1===o&&(s=r,r=function(e){return E().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=E.guid++)),e.each((function(){E.event.add(this,t,r,i,n)}))}function De(e,t,n){n?(oe.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var n,i=oe.get(this,t);if(1&e.isTrigger&&this[t]){if(i)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=r.call(arguments),oe.set(this,t,i),this[t](),n=oe.get(this,t),oe.set(this,t,!1),i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else i&&(oe.set(this,t,E.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Re)}})):void 0===oe.get(e,t)&&E.event.add(e,t,Re)}E.event={global:{},add:function(e,t,n,i,r){var o,s,a,c,l,u,d,h,p,f,m,g=oe.get(e);if(ie(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&E.find.matchesSelector(pe,r),n.guid||(n.guid=E.guid++),(c=g.events)||(c=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(z)||[""]).length;l--;)p=m=(a=Ne.exec(t[l])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=E.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=E.event.special[p]||{},u=E.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=c[p])||((h=c[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),E.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,s,a,c,l,u,d,h,p,f,m,g=oe.hasData(e)&&oe.get(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(z)||[""]).length;l--;)if(p=m=(a=Ne.exec(t[l])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=E.event.special[p]||{},h=c[p=(i?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)u=h[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||E.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)E.event.remove(e,p+t[l],n,i,!0);E.isEmptyObject(c)&&oe.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=new Array(arguments.length),c=E.event.fix(e),l=(oe.get(this,"events")||Object.create(null))[c.type]||[],u=E.event.special[c.type]||{};for(a[0]=c,t=1;t<arguments.length;t++)a[t]=arguments[t];if(c.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,c)){for(s=E.event.handlers.call(this,c,l),t=0;(r=s[t++])&&!c.isPropagationStopped();)for(c.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(i=((E.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,i,r,o,s,a=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],s={},n=0;n<c;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?E(r,this).index(l)>-1:E.find(r,this,null,[l]).length),s[r]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return l=this,c<t.length&&a.push({elem:l,handlers:t.slice(c)}),a},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&C(t,"input")&&De(t,"click",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&C(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&C(t,"input")&&oe.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Re:Pe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Pe,isPropagationStopped:Pe,isImmediatePropagationStopped:Pe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Re,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Re,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Re,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(g.documentMode){var n=oe.get(this,"handle"),i=E.event.fix(e);i.type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,n(e),i.target===i.currentTarget&&n(i)}else E.event.simulate(t,e.target,E.event.fix(e))}E.event.special[e]={setup:function(){var i;if(De(this,e,!0),!g.documentMode)return!1;(i=oe.get(this,t))||this.addEventListener(t,n),oe.set(this,t,(i||0)+1)},trigger:function(){return De(this,e),!0},teardown:function(){var e;if(!g.documentMode)return!1;(e=oe.get(this,t)-1)?oe.set(this,t,e):(this.removeEventListener(t,n),oe.remove(this,t))},_default:function(t){return oe.get(t.target,e)},delegateType:t},E.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=g.documentMode?this:i,o=oe.get(r,t);o||(g.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),oe.set(r,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=g.documentMode?this:i,o=oe.get(r,t)-1;o?oe.set(r,t,o):(g.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),oe.remove(r,t))}}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||E.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),E.fn.extend({on:function(e,t,n,i){return Le(this,e,t,n,i)},one:function(e,t,n,i){return Le(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,E(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Pe),this.each((function(){E.event.remove(this,e,n,t)}))}});var Me=/<script|<style|<link/i,Fe=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function He(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function Ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function qe(e,t){var n,i,r,o,s,a;if(1===t.nodeType){if(oe.hasData(e)&&(a=oe.get(e).events))for(r in oe.remove(t,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)E.event.add(t,r,a[r][n]);se.hasData(e)&&(o=se.access(e),s=E.extend({},o),se.set(t,s))}}function Ve(e,t){var n=t.nodeName.toLowerCase();"input"===n&&we.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function We(e,t,n,i){t=o(t);var r,s,a,c,l,u,d=0,h=e.length,m=h-1,g=t[0],y=f(g);if(y||h>1&&"string"==typeof g&&!p.checkClone&&Fe.test(g))return e.each((function(r){var o=e.eq(r);y&&(t[0]=g.call(this,r,o.html())),We(o,t,n,i)}));if(h&&(s=(r=Oe(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(c=(a=E.map(xe(r,"script"),Ue)).length;d<h;d++)l=r,d!==m&&(l=E.clone(l,!0,!0),c&&E.merge(a,xe(l,"script"))),n.call(e[d],l,d);if(c)for(u=a[a.length-1].ownerDocument,E.map(a,Be),d=0;d<c;d++)l=a[d],Te.test(l.type||"")&&!oe.access(l,"globalEval")&&E.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):v(l.textContent.replace(je,""),l,u))}return e}function ze(e,t,n){for(var i,r=t?E.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||E.cleanData(xe(i)),i.parentNode&&(n&&fe(i)&&Ae(xe(i,"script")),i.parentNode.removeChild(i));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),c=fe(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(s=xe(a),i=0,r=(o=xe(e)).length;i<r;i++)Ve(o[i],s[i]);if(t)if(n)for(o=o||xe(e),s=s||xe(a),i=0,r=o.length;i<r;i++)qe(o[i],s[i]);else qe(e,a);return(s=xe(a,"script")).length>0&&Ae(s,!c&&xe(e,"script")),a},cleanData:function(e){for(var t,n,i,r=E.event.special,o=0;void 0!==(n=e[o]);o++)if(ie(n)){if(t=n[oe.expando]){if(t.events)for(i in t.events)r[i]?E.event.remove(n,i):E.removeEvent(n,i,t.handle);n[oe.expando]=void 0}n[se.expando]&&(n[se.expando]=void 0)}}}),E.fn.extend({detach:function(e){return ze(this,e,!0)},remove:function(e){return ze(this,e)},text:function(e){return Q(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return We(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||He(this,e).appendChild(e)}))},prepend:function(){return We(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=He(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return We(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return We(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(xe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return Q(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!Se[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(xe(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return We(this,arguments,(function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(xe(this)),n&&n.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var n,i=[],r=E(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),E(r[a])[t](n),s.apply(i,n.get());return this.pushStack(i)}}));var $e=new RegExp("^("+ue+")(?!px)[a-z%]+$","i"),Ge=/^--/,Ke=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Ye=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},Xe=new RegExp(he.join("|"),"i");function Je(e,t,n){var i,r,o,s,a=Ge.test(t),c=e.style;return(n=n||Ke(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(k,"$1")||void 0),""!==s||fe(e)||(s=E.style(e,t)),!p.pixelBoxStyles()&&$e.test(s)&&Xe.test(t)&&(i=c.width,r=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=s,s=n.width,c.width=i,c.minWidth=r,c.maxWidth=o)),void 0!==s?s+"":s}function Qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pe.appendChild(l).appendChild(u);var t=e.getComputedStyle(u);i="1%"!==t.top,c=12===n(t.marginLeft),u.style.right="60%",s=36===n(t.right),r=36===n(t.width),u.style.position="absolute",o=12===n(u.offsetWidth/3),pe.removeChild(l),u=null}}function n(e){return Math.round(parseFloat(e))}var i,r,o,s,a,c,l=g.createElement("div"),u=g.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===u.style.backgroundClip,E.extend(p,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,i,r;return null==a&&(t=g.createElement("table"),n=g.createElement("tr"),i=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",pe.appendChild(t).appendChild(n).appendChild(i),r=e.getComputedStyle(n),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===n.offsetHeight,pe.removeChild(t)),a}}))}();var Ze=["Webkit","Moz","ms"],et=g.createElement("div").style,tt={};function nt(e){var t=E.cssProps[e]||tt[e];return t||(e in et?e:tt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;n--;)if((e=Ze[n]+t)in et)return e}(e)||e)}var it=/^(none|table(?!-c[ea]).+)/,rt={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var i=de.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function at(e,t,n,i,r,o){var s="width"===t?1:0,a=0,c=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=E.css(e,n+he[s],!0,r)),i?("content"===n&&(c-=E.css(e,"padding"+he[s],!0,r)),"margin"!==n&&(c-=E.css(e,"border"+he[s]+"Width",!0,r))):(c+=E.css(e,"padding"+he[s],!0,r),"padding"!==n?c+=E.css(e,"border"+he[s]+"Width",!0,r):a+=E.css(e,"border"+he[s]+"Width",!0,r));return!i&&o>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-a-.5))||0),c+l}function ct(e,t,n){var i=Ke(e),r=(!p.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,i),o=r,s=Je(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(s)){if(!n)return s;s="auto"}return(!p.boxSizingReliable()&&r||!p.reliableTrDimensions()&&C(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===E.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===E.css(e,"boxSizing",!1,i),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+at(e,t,n||(r?"border":"content"),o,i,s)+"px"}function lt(e,t,n,i,r){return new lt.prototype.init(e,t,n,i,r)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Je(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=ne(t),c=Ge.test(t),l=e.style;if(c||(t=nt(a)),s=E.cssHooks[t]||E.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t];"string"===(o=typeof n)&&(r=de.exec(n))&&r[1]&&(n=ye(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=r&&r[3]||(E.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,i){var r,o,s,a=ne(t);return Ge.test(t)||(t=nt(a)),(s=E.cssHooks[t]||E.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Je(e,t,i)),"normal"===r&&t in ot&&(r=ot[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,n,i){if(n)return!it.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,t,i):Ye(e,rt,(function(){return ct(e,t,i)}))},set:function(e,n,i){var r,o=Ke(e),s=!p.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===E.css(e,"boxSizing",!1,o),c=i?at(e,t,i,a,o):0;return a&&s&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-at(e,t,"border",!1,o)-.5)),c&&(r=de.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),st(0,n,c)}}})),E.cssHooks.marginLeft=Qe(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-Ye(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+he[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(E.cssHooks[e+t].set=st)})),E.fn.extend({css:function(e,t){return Q(this,(function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=Ke(e),r=t.length;s<r;s++)o[t[s]]=E.css(e,t[s],!1,i);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=lt,lt.prototype={constructor:lt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=lt.propHooks[this.prop];return e&&e.get?e.get(this):lt.propHooks._default.get(this)},run:function(e){var t,n=lt.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):lt.propHooks._default.set(this),this}},lt.prototype.init.prototype=lt.prototype,lt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[nt(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},lt.propHooks.scrollTop=lt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=lt.prototype.init,E.fx.step={};var ut,dt,ht=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function ft(){dt&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ft):e.setTimeout(ft,E.fx.interval),E.fx.tick())}function mt(){return e.setTimeout((function(){ut=void 0})),ut=Date.now()}function gt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=he[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function yt(e,t,n){for(var i,r=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function vt(e,t,n){var i,r,o=0,s=vt.prefilters.length,a=E.Deferred().always((function(){delete c.elem})),c=function(){if(r)return!1;for(var t=ut||mt(),n=Math.max(0,l.startTime+l.duration-t),i=1-(n/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(i);return a.notifyWith(e,[l,i,n]),i<1&&s?n:(s||a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:ut||mt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=E.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),u=l.props;for(!function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=ne(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=E.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,l.opts.specialEasing);o<s;o++)if(i=vt.prefilters[o].call(l,e,u,l.opts))return f(i.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return E.map(u,yt,l),f(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,de.exec(t),n),n}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(z);for(var n,i=0,r=e.length;i<r;i++)n=e[i],vt.tweeners[n]=vt.tweeners[n]||[],vt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,c,l,u,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&ge(e),g=oe.get(e,"fxshow");for(i in n.queue||(null==(s=E._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always((function(){h.always((function(){s.unqueued--,E.queue(e,"fx").length||s.empty.fire()}))}))),t)if(r=t[i],ht.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||E.style(e,i)}if((c=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=g&&g.display)&&(l=oe.get(e,"display")),"none"===(u=E.css(e,"display"))&&(l?u=l:(be([e],!0),l=e.style.display||l,u=E.css(e,"display"),be([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===E.css(e,"float")&&(c||(h.done((function(){f.display=l})),null==l&&(u=f.display,l="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),c=!1,p)c||(g?"hidden"in g&&(m=g.hidden):g=oe.access(e,"fxshow",{display:l}),o&&(g.hidden=!m),m&&be([e],!0),h.done((function(){for(i in m||be([e]),oe.remove(e,"fxshow"),p)E.style(e,i,p[i])}))),c=yt(m?g[i]:0,i,h),i in g||(g[i]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),E.speed=function(e,t,n){var i=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||f(e)&&e,duration:e,easing:n&&t||t&&!f(t)&&t};return E.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){f(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ge).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=E.isEmptyObject(e),o=E.speed(t,n,i),s=function(){var t=vt(this,E.extend({},e),o);(r||oe.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=E.timers,s=oe.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&pt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=oe.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=E.timers,s=i?i.length:0;for(n.finish=!0,E.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var n=E.fn[t];E.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(gt(t,!0),e,i,r)}})),E.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(ut=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),ut=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){dt||(dt=!0,ft())},E.fx.stop=function(){dt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,n){return t=E.fx&&E.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}}))},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var _t,bt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return Q(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(r=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?_t:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=E.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&C(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(z);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),_t={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=bt[t]||E.find.attr;bt[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=bt[s],bt[s]=r,r=null!=n(e,t,i)?s:null,bt[s]=o),r}}));var It=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;function wt(e){return(e.match(z)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function Tt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(z)||[]}E.fn.extend({prop:function(e,t){return Q(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,r=E.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):It.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,n,i,r,o,s;return f(e)?this.each((function(t){E(this).addClass(e.call(this,t,Ct(this)))})):(t=Tt(e)).length?this.each((function(){if(i=Ct(this),n=1===this.nodeType&&" "+wt(i)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=wt(n),i!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,i,r,o,s;return f(e)?this.each((function(t){E(this).removeClass(e.call(this,t,Ct(this)))})):arguments.length?(t=Tt(e)).length?this.each((function(){if(i=Ct(this),n=1===this.nodeType&&" "+wt(i)+" "){for(o=0;o<t.length;o++)for(r=t[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s=wt(n),i!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,o,s=typeof e,a="string"===s||Array.isArray(e);return f(e)?this.each((function(n){E(this).toggleClass(e.call(this,n,Ct(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=Tt(e),this.each((function(){if(a)for(o=E(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==s||((i=Ct(this))&&oe.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":oe.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+wt(Ct(n))+" ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g;E.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=f(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,E(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=E.map(r,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=E.valHooks[r.type]||E.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(St,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:wt(E.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],c=s?o+1:r.length;for(i=o<0?c:s?o:0;i<c;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!C(n.parentNode,"optgroup"))){if(t=E(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=E.makeArray(t),s=r.length;s--;)((i=r[s]).selected=E.inArray(E.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},p.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var xt=e.location,At={guid:Date.now()},kt=/\?/;E.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||E.error("Invalid XML: "+(i?E.map(i.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var Ot=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(t,n,i,r){var o,s,a,c,l,d,h,p,y=[i||g],v=u.call(t,"type")?t.type:t,_=u.call(t,"namespace")?t.namespace.split("."):[];if(s=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!Ot.test(v+E.event.triggered)&&(v.indexOf(".")>-1&&(_=v.split("."),v=_.shift(),_.sort()),l=v.indexOf(":")<0&&"on"+v,(t=t[E.expando]?t:new E.Event(v,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=_.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:E.makeArray(n,[t]),h=E.event.special[v]||{},r||!h.trigger||!1!==h.trigger.apply(i,n))){if(!r&&!h.noBubble&&!m(i)){for(c=h.delegateType||v,Ot.test(c+v)||(s=s.parentNode);s;s=s.parentNode)y.push(s),a=s;a===(i.ownerDocument||g)&&y.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=y[o++])&&!t.isPropagationStopped();)p=s,t.type=o>1?c:h.bindType||v,(d=(oe.get(s,"events")||Object.create(null))[t.type]&&oe.get(s,"handle"))&&d.apply(s,n),(d=l&&s[l])&&d.apply&&ie(s)&&(t.result=d.apply(s,n),!1===t.result&&t.preventDefault());return t.type=v,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(y.pop(),n)||!ie(i)||l&&f(i[v])&&!m(i)&&((a=i[l])&&(i[l]=null),E.event.triggered=v,t.isPropagationStopped()&&p.addEventListener(v,Nt),i[v](),t.isPropagationStopped()&&p.removeEventListener(v,Nt),E.event.triggered=void 0,a&&(i[l]=a)),t.result}},simulate:function(e,t,n){var i=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(i,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}});var Rt=/\[\]$/,Pt=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;function Mt(e,t,n,i){var r;if(Array.isArray(t))E.each(t,(function(t,r){n||Rt.test(e)?i(e,r):Mt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==_(t))i(e,t);else for(r in t)Mt(e+"["+r+"]",t[r],n,i)}E.param=function(e,t){var n,i=[],r=function(e,t){var n=f(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){r(this.name,this.value)}));else for(n in e)Mt(n,e[n],t,r);return i.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Dt.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!we.test(e))})).map((function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}})):{name:t.name,value:n.replace(Pt,"\r\n")}})).get()}});var Ft=/%20/g,jt=/#.*$/,Ht=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,qt=/^\/\//,Vt={},Wt={},zt="*/".concat("*"),$t=g.createElement("a");function Gt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(z)||[];if(f(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Kt(e,t,n,i){var r={},o=e===Wt;function s(a){var c;return r[a]=!0,E.each(e[a]||[],(function(e,a){var l=a(t,n,i);return"string"!=typeof l||o||r[l]?o?!(c=l):void 0:(t.dataTypes.unshift(l),s(l),!1)})),c}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Yt(e,t){var n,i,r=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&E.extend(!0,e,i),e}$t.href=xt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Yt(Yt(e,E.ajaxSettings),t):Yt(E.ajaxSettings,e)},ajaxPrefilter:Gt(Vt),ajaxTransport:Gt(Wt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,r,o,s,a,c,l,u,d,h,p=E.ajaxSetup({},n),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?E(f):E.event,y=E.Deferred(),v=E.Callbacks("once memory"),_=p.statusCode||{},b={},I={},w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=Ut.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=I[e.toLowerCase()]=I[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==l&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)C.always(e[C.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||w;return i&&i.abort(t),T(0,t),this}};if(y.promise(C),p.url=((t||p.url||xt.href)+"").replace(qt,xt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(z)||[""],null==p.crossDomain){c=g.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=$t.protocol+"//"+$t.host!=c.protocol+"//"+c.host}catch(S){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=E.param(p.data,p.traditional)),Kt(Vt,p,n,C),l)return C;for(d in(u=E.event&&p.global)&&0==E.active++&&E.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Bt.test(p.type),r=p.url.replace(jt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ft,"+")):(h=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(kt.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Ht,"$1"),h=(kt.test(r)?"&":"?")+"_="+At.guid+++h),p.url=r+h),p.ifModified&&(E.lastModified[r]&&C.setRequestHeader("If-Modified-Since",E.lastModified[r]),E.etag[r]&&C.setRequestHeader("If-None-Match",E.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zt+"; q=0.01":""):p.accepts["*"]),p.headers)C.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(f,C,p)||l))return C.abort();if(w="abort",v.add(p.complete),C.done(p.success),C.fail(p.error),i=Kt(Wt,p,n,C)){if(C.readyState=1,u&&m.trigger("ajaxSend",[C,p]),l)return C;p.async&&p.timeout>0&&(a=e.setTimeout((function(){C.abort("timeout")}),p.timeout));try{l=!1,i.send(b,T)}catch(S){if(l)throw S;T(-1,S)}}else T(-1,"No Transport");function T(t,n,s,c){var d,h,g,b,I,w=n;l||(l=!0,a&&e.clearTimeout(a),i=void 0,o=c||"",C.readyState=t>0?4:0,d=t>=200&&t<300||304===t,s&&(b=function(e,t,n){for(var i,r,o,s,a=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||e.converters[r+" "+c[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==c[0]&&c.unshift(o),n[o]}(p,C,s)),!d&&E.inArray("script",p.dataTypes)>-1&&E.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=function(e,t,n,i){var r,o,s,a,c,l={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(s=l[c+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[c+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(S){return{state:"parsererror",error:s?S:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(p,b,C,d),d?(p.ifModified&&((I=C.getResponseHeader("Last-Modified"))&&(E.lastModified[r]=I),(I=C.getResponseHeader("etag"))&&(E.etag[r]=I)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=b.state,h=b.data,d=!(g=b.error))):(g=w,!t&&w||(w="error",t<0&&(t=0))),C.status=t,C.statusText=(n||w)+"",d?y.resolveWith(f,[h,w,C]):y.rejectWith(f,[C,w,g]),C.statusCode(_),_=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[C,p,d?h:g]),v.fireWith(f,[C,w]),u&&(m.trigger("ajaxComplete",[C,p]),--E.active||E.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,n,i,r){return f(n)&&(r=r||i,i=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:r,data:n,success:i},E.isPlainObject(e)&&e))}})),E.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(n){E(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Xt={0:200,1223:204},Jt=E.ajaxSettings.xhr();p.cors=!!Jt&&"withCredentials"in Jt,p.ajax=Jt=!!Jt,E.ajaxTransport((function(t){var n,i;if(p.cors||Jt&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Xt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){n&&i()}))},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(c){if(n)throw c}},abort:function(){n&&n()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Qt,Zt=[],en=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||E.expando+"_"+At.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(t,n,i){var r,o,s,a=!1!==t.jsonp&&(en.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(en,"$1"+r):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||E.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always((function(){void 0===o?E(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Zt.push(r)),s&&f(o)&&o(s[0]),s=o=void 0})),"script"})),p.createHTMLDocument=((Qt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Qt.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((i=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(i)):t=g),o=!n&&[],(r=F.exec(e))?[t.createElement(r[1])]:(r=Oe([e],t,o),o&&o.length&&E(o).remove(),E.merge([],r.childNodes)));var i,r,o},E.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=wt(e.slice(a)),e=e.slice(0,a)),f(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&E.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(i?E("<div>").append(E.parseHTML(e)).find(i):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,n){var i,r,o,s,a,c,l=E.css(e,"position"),u=E(e),d={};"static"===l&&(e.style.position="relative"),a=u.offset(),o=E.css(e,"top"),c=E.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(c)||0),f(t)&&(t=t.call(e,n,E.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):u.css(d)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===E.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),r.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-E.css(i,"marginTop",!0),left:t.left-r.left-E.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||pe}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;E.fn[e]=function(i){return Q(this,(function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=Qe(p.pixelPosition,(function(e,n){if(n)return n=Je(e,t),$e.test(n)?E(e).position()[t]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){E.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return Q(this,(function(t,n,r){var o;return m(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?E.css(t,n,a):E.style(t,n,r,a)}),t,s?r:void 0,s)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var tn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),f(e))return i=r.call(arguments,2),o=function(){return e.apply(t||this,i.concat(r.call(arguments)))},o.guid=e.guid=e.guid||E.guid++,o},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=C,E.isFunction=f,E.isWindow=m,E.camelCase=ne,E.type=_,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(tn,"$1")};var nn=e.jQuery,rn=e.$;return E.noConflict=function(t){return e.$===E&&(e.$=rn),t&&e.jQuery===E&&(e.jQuery=nn),E},void 0===t&&(e.jQuery=e.$=E),E}))}(Yw);const Xw=Kw(Yw.exports);window.$=Xw,window.Alpine=$w,$w.start();
