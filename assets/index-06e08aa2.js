!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class e extends Error{constructor(t){super("Referenced value read before it was resolved."),this.ref=t,Object.setPrototypeOf(this,e.prototype)}}class t extends Error{constructor(e){super("Attempting to resolve an already-resolved reference."),this.ref=e,Object.setPrototypeOf(this,t.prototype)}}class n{constructor(){this._resolved=!1}get resolved(){return this.isResolved()}isResolved(){return this._resolved}get $(){if(!this.isResolved())throw new e(this);return this._$}resolve(e){if(this.isResolved())throw new t(this);this._$=e,this._resolved=!0}}class i{constructor(){this._renderer=new n}plug(e){this._renderer.resolve(e)}renderer(){return this._renderer.$}}function r(e){return!!e.plugins&&Array.isArray(e.plugins)}function o(e){return!!e.postRender&&"function"==typeof e.postRender}i.PriorityMax=1,i.PriorityFallback=0;class s{constructor(...e){this._appendPlugins=[],this._createPlugins=[],this._propPlugins=[],this._contentPlugins=[],this._postCreatePlugins=[],this._postRenderPlugins=[],this._factories=e}_buildPlugins(){return this._plugins||(this._plugins=this._factories.map((e=>e())).sort(((e,t)=>t.priority()-e.priority())),this._plugins.forEach((e=>{e.plug(this),function(e){return!!e.append&&"function"==typeof e.append}(e)&&this._appendPlugins.push(e),function(e){return!!e.setContent&&"function"==typeof e.setContent}(e)&&this._contentPlugins.push(e),function(e){return!!e.setProp&&"function"==typeof e.setProp}(e)&&this._propPlugins.push(e),function(e){return!!e.create&&"function"==typeof e.create}(e)&&this._createPlugins.push(e),function(e){return!!e.postCreate&&"function"==typeof e.postCreate}(e)&&this._postCreatePlugins.push(e),o(e)&&this._postRenderPlugins.push(e),function(e){return!!e.leaf&&"function"==typeof e.leaf}(e)&&!this._leafPlugin&&(this._leafPlugin=e),function(e){return!!e.fragment&&"function"==typeof e.fragment}(e)&&!this._fragmentPlugin&&(this._fragmentPlugin=e)}))),this}get plugins(){return this._buildPlugins()&&this._plugins}get appendPlugins(){return this._buildPlugins()&&this._appendPlugins}get contentPlugins(){return this._buildPlugins()&&this._contentPlugins}get propPlugins(){return this._buildPlugins()&&this._propPlugins}get createPlugins(){return this._buildPlugins()&&this._createPlugins}get postCreatePlugins(){return this._buildPlugins()&&this._postCreatePlugins}get postRenderPlugins(){return this._buildPlugins()&&this._postRenderPlugins}get leafPlugin(){return this._buildPlugins()&&this._leafPlugin}get fragmentPlugin(){return this._buildPlugins()&&this._fragmentPlugin}plug(...e){return this.clone(...this._factories,...e)}append(e,t){this.appendPlugins.some((n=>n.append(e,t)))||this.fallbackAppend(e,t)}setProp(e,t,n){this.propPlugins.some((i=>i.setProp(e,t,n)))||this.fallbackSetProp(e,t,n)}setContent(e,t){this.contentPlugins.some((n=>n.setContent(e,t)))||this.fallbackSetContent(e,t)}get fragment(){const e=this.fragmentPlugin;return e?e.fragment():this.fallbackFragment()}leaf(){const e=this.leafPlugin;return e?e.leaf():this.fallbackLeaf()}create(e,t,...n){let i;for(const r of this.createPlugins)if(i=r.create(e,t,...n),i)break;return i||(i=this.fallbackCreate(e,t),t&&Object.entries(t).forEach((([e,t])=>this.setProp(i,e,t))),n.forEach((e=>this.append(e,i)))),this.postCreatePlugins.forEach((e=>e.postCreate(i))),i}render(e){if("function"==typeof e)return this.render(e.apply(void 0,[this]));const t=this,n=this.postRender(e);return{after(i){t.renderAfter(e,i),n()},before(i){t.renderBefore(e,i),n()},on(i){t.renderOn(e,i),n()},target:e}}postRender(e){return()=>this.postRenderPlugins.forEach((t=>t.postRender(e)))}}class a extends i{setProp(e,t,n){return"_content"===t&&(this.renderer().setContent(e,n),!0)}priority(){return i.PriorityFallback}}class l extends i{setProp(e,t,i){return"_ref"===t&&i instanceof n&&(i.resolve(e),!0)}priority(){return i.PriorityFallback}}class c extends i{}class u extends i{constructor(...e){super(),this.processors=e}plug(e){super.plug(e),this.processors.forEach((e=>e.plug(this.renderer()))),r(e)&&e.plugins.forEach((e=>{e instanceof c&&this.processors.push(e)})),this.processors=this.processors.sort(((e,t)=>e.priority()-t.priority()))}create(e,t,...n){const i={tag:e,props:t||{},children:n};if(this.match(i)){let e={};const t=[];this.processors.forEach((n=>n.process((t=>e=Object.assign(Object.assign({},e),t)),(e=>t.push(e)),i)));const n=this.createComponent(i,e);return t.reverse().forEach((e=>e(n))),n}}}class d extends u{createComponent(e,t){return e.tag.apply(t,[e.props,this.renderer(),e.children])}match(e){return"function"==typeof e.tag}priority(){return u.PriorityFallback}}class h extends c{process(e,t){const n=this.renderer(),i=[];e({onBind:e=>i.push({bind:e}),onClear:e=>i.push({clear:e})}),t((e=>{i.forEach((t=>n.hook(e,t)))}))}priority(){return c.PriorityFallback}}function p(e,t=!1){const n=e;return e.nodeType===e.DOCUMENT_FRAGMENT_NODE?function(e,t){var n;let i=function(e){return e.lifecycleMarker}(e);if(i)return p(i,t);if(t)return i=null===(n=e.ownerDocument)||void 0===n?void 0:n.createTextNode(""),f(e,i),p(i,!0)}(e,t):n.lifecycle?n.lifecycle:t?(n.lifecycle={bound:!1},n.lifecycle):void 0}function f(e,t){e.lifecycleMarker=t,e.contains(t)||e.appendChild(t)}function m(e){const t=p(e);if(t){if(t.cleared)return;if(t.cleared=!0,t.clears){for(let e=0,n=t.clears[e];e<t.clears.length;n=t.clears[++e])n();t.clears=void 0}}const n=e.childNodes;for(let i=0,r=n.item(i);i<n.length;r=n.item(++i))m(r)}function g(e){const t=p(e);if(t){if(t.bound)return;if(t.bound=!0,t.binds)for(let e=0,n=t.binds[e];e<t.binds.length;n=t.binds[++e])n();t.binds=void 0}const n=e.childNodes;for(let i=0,r=n.item(i);i<n.length;r=n.item(++i))g(r)}function y(e){if("INPUT"===e.nodeName)return"number"===e.type?parseFloat(e.value):"checkbox"===e.type||"radio"===e.type?e.checked:e.value;if("SELECT"===e.nodeName){const t=e,n=Array.from(t.selectedOptions).map((e=>function(e){return e._value}(e)||e.value||e.text));return t.multiple?n:n[0]}return e.value}class v extends c{process(e,t){let i;e({setLifeCycleMarker:e=>i=e}),t((e=>{e.nodeType===e.DOCUMENT_FRAGMENT_NODE&&i&&f(e,i instanceof n?i.$:i)}))}priority(){return c.PriorityFallback+(c.PriorityMax-c.PriorityFallback)/100}}class _ extends Error{constructor(e){super(`Given tag is not recognized: ${e}`)}}class b extends s{constructor(e=window,...t){super(..."function"==typeof e?[e,...t]:t),this.dom=e&&"function"!=typeof e?e:window}get document(){return this.dom.document}fallbackAppend(e,t){e instanceof this.dom.Node?t.appendChild(e):Array.isArray(e)?e.forEach((e=>this.append(e,t))):t.appendChild(this.document.createTextNode(`${e}`))}fallbackSetProp(e,t,n){e instanceof this.dom.HTMLElement&&("boolean"==typeof n?n?e.setAttribute(t,""):e.removeAttribute(t):e.setAttribute(t,`${n}`))}fallbackSetContent(e,t){e instanceof this.dom.HTMLElement?e.innerHTML=`${t}`:e.textContent=`${t}`}fallbackFragment(){return this.document.createDocumentFragment()}fallbackLeaf(){return this.document.createTextNode("")}fallbackCreate(e,t){if(!(e instanceof this.dom.Node||"string"==typeof e))throw new _(e);return e instanceof this.dom.Node?e:t&&t.xmlns?this.document.createElementNS(`${t.xmlns}`,e):this.document.createElement(e)}renderOn(e,t){t.appendChild(e)}renderAfter(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}renderBefore(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)}postRender(e){const t=this.plugins.filter(o);if(e instanceof this.dom.DocumentFragment){const t=Array.from(e.childNodes);return()=>t.forEach((e=>{this.postRender(e)()}))}return()=>t.forEach((t=>t.postRender(e)))}remove(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)}clone(...e){return new b(this.dom,...e)}}class I extends b{hook(e,t){!function(e,t){const n=p(t,!0);e.bind&&(n.binds||(n.binds=[])).push(e.bind),e.clear&&(n.clears||(n.clears=[])).push(e.clear)}(t,e)}postRender(e){return e instanceof this.dom.DocumentFragment?super.postRender(e):()=>{this.document.contains(e)&&g(e),super.postRender(e)()}}plug(...e){return super.plug(...e)}clone(...e){return new I(this.dom,...e)}remove(e,t){super.remove(e),t||m(e)}}function E(e){return!!e.addClass&&"function"==typeof e.addClass}function w(e){return!!e.addClassToggle&&"function"==typeof e.addClassToggle}class T extends i{plug(e){super.plug(e),r(e)&&(this.addClassPlugins=e.plugins.filter(E),this.toggleClassPlugins=e.plugins.filter(w))}priority(){return i.PriorityFallback}setProp(e,t,n){if("class"===t){if(Array.isArray(n))return n.forEach((t=>{let n="";const i=t=>{e.classList.contains(n)&&e.classList.remove(n),e.classList.add(n=t)};this.addClassPlugins&&this.addClassPlugins.some((n=>E(n)&&n.addClass(e,t,i)))||("string"==typeof t?e.classList.add(t):this.setToggleMap(t,e))})),!0;if((null==n?void 0:n.constructor)===Object)return this.setToggleMap(n,e),!0}return!1}setToggleMap(e,t){Object.entries(e).forEach((([e,n])=>{this.toggleClassPlugins&&this.toggleClassPlugins.some((i=>w(i)&&i.addClassToggle(t,e,n,(n=>{n?t.classList.add(e):t.classList.remove(e)}))))||(n?t.classList.add(e):t.classList.remove(e))}))}}class C extends i{priority(){return i.PriorityFallback}setProp(e,t,n){if(t.startsWith("on")&&"function"==typeof n){const i=t.substr(2).toLowerCase();return e.addEventListener(i,n),!0}return!1}}class S extends i{priority(){return i.PriorityFallback}setProp(e,t,n){if("_state"===t&&("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&"function"==typeof n){const t=this.renderer();return t.hook(e,{bind(){if("INPUT"===e.nodeName&&"radio"===e.type&&e.name){const i=e;(i.form||t.document).querySelectorAll(`input[name="${i.name}"]`).forEach((e=>{e.form===i.form&&e.addEventListener("input",(()=>n(y(i))))}))}else e.addEventListener("input",(()=>n(y(e))));n(y(e))}}),!0}return!1}}class x extends i{priority(){return i.PriorityFallback}setProp(e,t,n){return"_value"===t&&"OPTION"===e.nodeName&&(function(e,t){e._value=t}(e,n),!0)}}function A(e){return!!e.setStyle&&"function"==typeof e.setStyle}class k extends i{plug(e){super.plug(e),r(e)&&(this.stylePlugins=e.plugins.filter(A))}priority(){return i.PriorityFallback}setProp(e,t,n){return"style"===t&&(null==n?void 0:n.constructor)===Object&&(Object.entries(n).forEach((([t,n])=>{this.stylePlugins&&this.stylePlugins.some((i=>A(i)&&i.setStyle(e,t,n,(n=>this.setStyle(e,t,n)))))||this.setStyle(e,t,n)})),!0)}format(e,t){const n=e.split(".");return{key:n[0],val:t,unit:n[1]||""}}setStyle(e,t,n){if("transform"===t&&"object"==typeof n)e.style.transform=Object.entries(n).map((e=>this.format(...e))).map((({key:e,val:t,unit:n})=>`${e}(${t}${n})`)).join(" ");else if("transition"===t&&"object"==typeof n)e.style.transition=Object.entries(n).map((e=>this.format(...e))).map((({key:e,val:t,unit:n})=>`${e} ${t}${n}`)).join(", ");else{const{key:i,val:r,unit:o}=this.format(t,`${n}`);e.style[i]=`${r}${o}`}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const O=!1,N="${JSCORE_VERSION}",R=function(e,t){if(!e)throw P(t)},P=function(e){return new Error("Firebase Database ("+N+") INTERNAL ASSERT FAILED: "+e)},L=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},D={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],o=r+1<e.length,s=o?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),i.push(n[c],n[u],n[d],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(L(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],o=r<e.length?n[e.charAt(r)]:0;++r;const s=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==o||null==s||null==a)throw new M;const l=t<<2|o>>4;if(i.push(l),64!==s){const e=o<<4&240|s>>2;if(i.push(e),64!==a){const e=s<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F=function(e){const t=L(e);return D.encodeByteArray(t,!0)},j=function(e){return F(e).replace(/\./g,"")},H=function(e){try{return D.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function U(e){return q(void 0,e)}function q(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&B(n)&&(e[n]=q(e[n],t[n]));return e}function B(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const V=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,W=()=>{try{return V()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e={}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&H(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},z=e=>{var t,n;return null===(n=null===(t=W())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},$=e=>{const t=z(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},G=()=>{var e;return null===(e=W())||void 0===e?void 0:e.config},K=e=>{var t;return null===(t=W())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function X(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function J(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(X())}function Q(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Z(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ee(){return!0===O}function te(){try{return"object"==typeof indexedDB}catch(e){return!1}}function ne(){return new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(error){t(error)}}))}class ie extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,re.prototype.create)}}class re{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?function(e,t){return e.replace(oe,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ie(i,s,n)}}const oe=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(e){return JSON.parse(e)}function ae(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le=function(e){let t={},n={},i={},r="";try{const o=e.split(".");t=se(H(o[0])||""),n=se(H(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:i,signature:r}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ce(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ue(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function de(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function he(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function pe(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],o=t[r];if(fe(n)&&fe(o)){if(!pe(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function fe(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ge(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function ye(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let i,r,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=l^s&(a^l),r=1518500249):(i=s^a^l,r=1859775393):u<60?(i=s&a|l&(s|a),r=2400959708):(i=s^a^l,r=3395469782);const e=(o<<5|o>>>27)+i+c+r+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<t;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}class _e{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=be),void 0===i.error&&(i.error=be),void 0===i.complete&&(i.complete=be);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function be(){}function Ie(e,t){return`${e} failed: ${t} argument `}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t},we=1e3,Te=2,Ce=144e5,Se=.5;function xe(e,t=we,n=Te){const i=t*Math.pow(n,e),r=Math.round(Se*i*(Math.random()-.5)*2);return Math.min(Ce,i+r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(e){return e&&e._delegate?e._delegate:e}class ke{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Y;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(e=Oe){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Oe){return this.instances.has(e)}getOptions(e=Oe){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&o.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(yv){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===Oe?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(yv){}var i;return n||null}normalizeInstanceIdentifier(e=Oe){return this.component?this.component.multipleInstances?e:Oe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ne(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Pe||(Pe={}));const Le={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},De=Pe.INFO,Me={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Fe=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=Me[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class je{constructor(e){this.name=e,this._logLevel=De,this._logHandler=Fe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Le[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const He=(e,t)=>t.some((t=>e instanceof t));let Ue,qe;const Be=new WeakMap,Ve=new WeakMap,We=new WeakMap,ze=new WeakMap,$e=new WeakMap;let Ge={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ve.get(e);if("objectStoreNames"===t)return e.objectStoreNames||We.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xe(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ke(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qe||(qe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Je(this),t),Xe(Be.get(this))}:function(...t){return Xe(e.apply(Je(this),t))}:function(t,...n){const i=e.call(Je(this),t,...n);return We.set(i,t.sort?t.sort():[t]),Xe(i)}}function Ye(e){return"function"==typeof e?Ke(e):(e instanceof IDBTransaction&&function(e){if(Ve.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ve.set(e,t)}(e),He(e,Ue||(Ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ge):e)}function Xe(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{t(Xe(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Be.set(t,e)})).catch((()=>{})),$e.set(t,e),t}(e);if(ze.has(e))return ze.get(e);const t=Ye(e);return t!==e&&(ze.set(e,t),$e.set(t,e)),t}const Je=e=>$e.get(e);function Qe(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(e,t),a=Xe(s);return i&&s.addEventListener("upgradeneeded",(e=>{i(Xe(s.result),e.oldVersion,e.newVersion,Xe(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),r&&e.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}const Ze=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],tt=new Map;function nt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(tt.get(t))return tt.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=et.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Ze.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,r?"readwrite":"readonly");let s=o.store;return i&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),r&&o.done]))[0]};return tt.set(t,o),o}Ge=(e=>({...e,get:(t,n,i)=>nt(t,n)||e.get(t,n,i),has:(t,n)=>!!nt(t,n)||e.has(t,n)}))(Ge);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class it{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const rt="@firebase/app",ot="0.9.7",st=new je("@firebase/app"),at="[DEFAULT]",lt={[rt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ct=new Map,ut=new Map;function dt(e,t){try{e.container.addComponent(t)}catch(n){st.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ht(e){const t=e.name;if(ut.has(t))return st.debug(`There were multiple attempts to register component ${t}.`),!1;ut.set(t,e);for(const n of ct.values())dt(n,e);return!0}function pt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft=new re("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ke("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="9.19.1";function yt(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const i=Object.assign({name:at,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw ft.create("bad-app-name",{appName:String(r)});if(n||(n=G()),!n)throw ft.create("no-options");const o=ct.get(r);if(o){if(pe(n,o.options)&&pe(i,o.config))return o;throw ft.create("duplicate-app",{appName:r})}const s=new Re(r);for(const l of ut.values())s.addComponent(l);const a=new mt(n,i,s);return ct.set(r,a),a}function vt(e=at){const t=ct.get(e);if(!t&&e===at)return yt();if(!t)throw ft.create("no-app",{appName:e});return t}function _t(e,t,n){var i;let r=null!==(i=lt[e])&&void 0!==i?i:e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${r}" with version "${t}":`];return o&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void st.warn(e.join(" "))}ht(new ke(`${r}-version`,(()=>({library:r,version:t})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="firebase-heartbeat-database",It=1,Et="firebase-heartbeat-store";let wt=null;function Tt(){return wt||(wt=Qe(bt,It,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Et)}}).catch((e=>{throw ft.create("idb-open",{originalErrorMessage:e.message})}))),wt}async function Ct(e,t){try{const n=(await Tt()).transaction(Et,"readwrite"),i=n.objectStore(Et);return await i.put(t,St(e)),n.done}catch(n){if(n instanceof ie)st.warn(n.message);else{const e=ft.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});st.warn(e.message)}}}function St(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=At();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=At(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),Ot(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ot(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=j(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function At(){return(new Date).toISOString().substring(0,10)}class kt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!te()&&ne().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{return(await Tt()).transaction(Et).objectStore(Et).get(St(e))}catch(t){if(t instanceof ie)st.warn(t.message);else{const e=ft.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});st.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ot(e){return j(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;Nt="",ht(new ke("platform-logger",(e=>new it(e)),"PRIVATE")),ht(new ke("heartbeat",(e=>new xt(e)),"PRIVATE")),_t(rt,ot,Nt),_t(rt,ot,"esm2017"),_t("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
_t("firebase","9.19.1","app");const Rt="@firebase/installations",Pt="0.6.4",Lt=1e4,Dt=`w:${Pt}`,Mt="FIS_v2",Ft="https://firebaseinstallations.googleapis.com/v1",jt=36e5,Ht=new re("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ut(e){return e instanceof ie&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt({projectId:e}){return`${Ft}/projects/${e}/installations`}function Bt(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Vt(e,t){const n=(await t.json()).error;return Ht.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Wt({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function zt(e,{refreshToken:t}){const n=Wt(e);return n.append("Authorization",function(e){return`${Mt} ${e}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),n}async function $t(e){const t=await e();return t.status>=500&&t.status<600?e():t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Gt(e){return new Promise((t=>{setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Kt=/^[cdef][\w-]{21}$/,Yt="";function Xt(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return Kt.test(t)?t:Yt}catch(yv){return Yt}}function Jt(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=new Map;function Zt(e,t){const n=Jt(e);en(n,t),function(e,t){const n=function(){!tn&&"BroadcastChannel"in self&&(tn=new BroadcastChannel("[Firebase] FID Change"),tn.onmessage=e=>{en(e.data.key,e.data.fid)});return tn}();n&&n.postMessage({key:e,fid:t});0===Qt.size&&tn&&(tn.close(),tn=null)}(n,t)}function en(e,t){const n=Qt.get(e);if(n)for(const i of n)i(t)}let tn=null;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const nn="firebase-installations-database",rn=1,on="firebase-installations-store";let sn=null;function an(){return sn||(sn=Qe(nn,rn,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(on)}})),sn}async function ln(e,t){const n=Jt(e),i=(await an()).transaction(on,"readwrite"),r=i.objectStore(on),o=await r.get(n);return await r.put(t,n),await i.done,o&&o.fid===t.fid||Zt(e,t.fid),t}async function cn(e){const t=Jt(e),n=(await an()).transaction(on,"readwrite");await n.objectStore(on).delete(t),await n.done}async function un(e,t){const n=Jt(e),i=(await an()).transaction(on,"readwrite"),r=i.objectStore(on),o=await r.get(n),s=t(o);return void 0===s?await r.delete(n):await r.put(s,n),await i.done,!s||o&&o.fid===s.fid||Zt(e,s.fid),s}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dn(e){let t;const n=await un(e.appConfig,(n=>{const i=function(e){const t=e||{fid:Xt(),registrationStatus:0};return fn(t)}(n),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Ht.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=qt(e),r=Wt(e),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const s={fid:n,authVersion:Mt,appId:e.appId,sdkVersion:Dt},a={method:"POST",headers:r,body:JSON.stringify(s)},l=await $t((()=>fetch(i,a)));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:Bt(e.authToken)}}throw await Vt("Create Installation",l)}(e,t);return ln(e.appConfig,n)}catch(n){throw Ut(n)&&409===n.customData.serverCode?await cn(e.appConfig):await ln(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:hn(e)}:{installationEntry:t}}(e,i);return t=r.registrationPromise,r.installationEntry}));return n.fid===Yt?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function hn(e){let t=await pn(e.appConfig);for(;1===t.registrationStatus;)await Gt(100),t=await pn(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await dn(e);return n||t}return t}function pn(e){return un(e,(e=>{if(!e)throw Ht.create("installation-not-found");return fn(e)}))}function fn(e){return 1===(t=e).registrationStatus&&t.registrationTime+Lt<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}async function mn({appConfig:e,heartbeatServiceProvider:t},n){const i=function(e,{fid:t}){return`${qt(e)}/${t}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,n),r=zt(e,n),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const s={installation:{sdkVersion:Dt,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(s)},l=await $t((()=>fetch(i,a)));if(l.ok){return Bt(await l.json())}throw await Vt("Generate Auth Token",l)}async function gn(e,t=!1){let n;const i=await un(e.appConfig,(i=>{if(!vn(i))throw Ht.create("not-registered");const r=i.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+jt}(e)}(r))return i;if(1===r.requestStatus)return n=async function(e,t){let n=await yn(e.appConfig);for(;1===n.authToken.requestStatus;)await Gt(100),n=await yn(e.appConfig);const i=n.authToken;return 0===i.requestStatus?gn(e,t):i}(e,t),i;{if(!navigator.onLine)throw Ht.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(i);return n=async function(e,t){try{const n=await mn(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await ln(e.appConfig,i),n}catch(n){if(!Ut(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ln(e.appConfig,n)}else await cn(e.appConfig);throw n}}(e,t),t}}));return n?await n:i.authToken}function yn(e){return un(e,(e=>{if(!vn(e))throw Ht.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Lt<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}function vn(e){return void 0!==e&&2===e.registrationStatus}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function _n(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await dn(e);t&&await t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n);return(await gn(n,t)).token}function bn(e){return Ht.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="installations",En=e=>{const t=pt(e.getProvider("app").getImmediate(),In).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:i}=await dn(t);return i?i.catch(console.error):gn(t).catch(console.error),n.fid}(t),getToken:e=>_n(t,e)}};ht(new ke(In,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw bn("App Configuration");if(!e.name)throw bn("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw bn(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:pt(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),ht(new ke("installations-internal",En,"PRIVATE")),_t(Rt,Pt),_t(Rt,Pt,"esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const wn="analytics",Tn="firebase_id",Cn="origin",Sn=6e4,xn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",An="https://www.googletagmanager.com/gtag/js",kn=new je("@firebase/analytics"),On=new re("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Nn(e){if(!e.startsWith(An)){const t=On.create("invalid-gtag-resource",{gtagURL:e});return kn.warn(t.message),""}return e}function Rn(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Pn(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Nn}),i=document.createElement("script"),r=`${An}?l=${e}&id=${t}`;i.src=n?null==n?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function Ln(e,t,n,i){return async function(r,o,s){try{"event"===r?await async function(e,t,n,i,r){try{let o=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);const i=await Rn(n);for(const n of e){const e=i.find((e=>e.measurementId===n)),r=e&&t[e.appId];if(!r){o=[];break}o.push(r)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",i,r||{})}catch(o){kn.error(o)}}(e,t,n,o,s):"config"===r?await async function(e,t,n,i,r,o){const s=i[r];try{if(s)await t[s];else{const e=(await Rn(n)).find((e=>e.measurementId===r));e&&await t[e.appId]}}catch(a){kn.error(a)}e("config",r,o)}(e,t,n,i,o,s):"consent"===r?e("consent","update",s):e("set",o)}catch(a){kn.error(a)}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Dn=30;const Mn=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Fn(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function jn(e,t=Mn,n){const{appId:i,apiKey:r,measurementId:o}=e.options;if(!i)throw On.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw On.create("no-api-key")}const s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Un;return setTimeout((async()=>{a.abort()}),void 0!==n?n:Sn),Hn({appId:i,apiKey:r,measurementId:o},s,a,t)}async function Hn(e,{throttleEndTimeMillis:t,backoffCount:n},i,r=Mn){var o;const{appId:s,measurementId:a}=e;try{await function(e,t){return new Promise(((n,i)=>{const r=Math.max(t-Date.now(),0),o=setTimeout(n,r);e.addEventListener((()=>{clearTimeout(o),i(On.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(i,t)}catch(l){if(a)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const t=await async function(e){var t;const{appId:n,apiKey:i}=e,r={method:"GET",headers:Fn(i)},o=xn.replace("{app-id}",n),s=await fetch(o,r);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw On.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return r.deleteThrottleMetadata(s),t}catch(l){const t=l;if(!function(e){if(!(e instanceof ie&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(r.deleteThrottleMetadata(s),a)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:s,measurementId:a};throw l}const c=503===Number(null===(o=null==t?void 0:t.customData)||void 0===o?void 0:o.httpStatus)?xe(n,r.intervalMillis,Dn):xe(n,r.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return r.setThrottleMetadata(s,u),kn.debug(`Calling attemptFetch again in ${c} millis`),Hn(e,u,i,r)}}class Un{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}async function qn(e,t,n,i,r,o,s){var a;const l=jn(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>kn.error(e))),t.push(l);const c=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(){if(!te())return kn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await ne()}catch(e){return kn.warn(On.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?i.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(An)&&n.src.includes(e))return n;return null})(o)||Pn(o,u.measurementId),r("js",new Date);const h=null!==(a=null==s?void 0:s.config)&&void 0!==a?a:{};return h[Cn]="firebase",h.update=!0,null!=d&&(h[Tn]=d),r("config",u.measurementId,h),u.measurementId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.app=e}_delete(){return delete Vn[this.app.options.appId],Promise.resolve()}}let Vn={},Wn=[];const zn={};let $n,Gn,Kn="dataLayer",Yn="gtag",Xn=!1;function Jn(){const e=[];if(Q()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=On.create("invalid-analytics-context",{errorInfo:t});kn.warn(n.message)}}function Qn(e,t,n){Jn();const i=e.options.appId;if(!i)throw On.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw On.create("no-api-key");kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vn[i])throw On.create("already-exists",{id:i});if(!Xn){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Kn);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,i,r){let o=function(...e){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=Ln(o,e,t,n),{gtagCore:o,wrappedGtag:window[r]}}(Vn,Wn,zn,Kn,Yn);Gn=e,$n=t,Xn=!0}Vn[i]=qn(e,Wn,zn,t,$n,Kn,n);return new Bn(e)}function Zn(e=vt()){const t=pt(e=Ae(e),wn);return t.isInitialized()?t.getImmediate():function(e,t={}){const n=pt(e,wn);if(n.isInitialized()){const e=n.getImmediate();if(pe(t,n.getOptions()))return e;throw On.create("already-initialized")}const i=n.initialize({options:t});return i}(e)}function ei(e,t,n,i){e=Ae(e),async function(e,t,n,i,r){if(r&&r.global)e("event",n,i);else{const r=await t;e("event",n,Object.assign(Object.assign({},i),{send_to:r}))}}(Gn,Vn[e.app.options.appId],t,n,i).catch((e=>kn.error(e)))}const ti="@firebase/analytics",ni="0.9.5";ht(new ke(wn,((e,{options:t})=>Qn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),ht(new ke("analytics-internal",(function(e){try{const t=e.getProvider(wn).getImmediate();return{logEvent:(e,n,i)=>ei(t,e,n,i)}}catch(t){throw On.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),_t(ti,ni),_t(ti,ni,"esm2017");const ii="@firebase/database",ri="0.14.4";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let oi="";function si(e){oi=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ae(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:se(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ce(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ai(t)}}catch(t){}return new li},ui=ci("localStorage"),di=ci("sessionStorage"),hi=new je("@firebase/database"),pi=function(){let e=1;return function(){return e++}}(),fi=function(e){const t=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const t=r-55296;i++,R(i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t}(e),n=new ve;n.update(t);const i=n.digest();return D.encodeByteArray(i)},mi=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=mi.apply(null,i):t+="object"==typeof i?ae(i):i,t+=" "}return t};let gi=null,yi=!0;const vi=function(e,t){R(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(hi.logLevel=Pe.VERBOSE,gi=hi.log.bind(hi),t&&di.set("logging_enabled",!0)):"function"==typeof e?gi=e:(gi=null,di.remove("logging_enabled"))},_i=function(...e){if(!0===yi&&(yi=!1,null===gi&&!0===di.get("logging_enabled")&&vi(!0)),gi){const t=mi.apply(null,e);gi(t)}},bi=function(e){return function(...t){_i(e,...t)}},Ii=function(...e){const t="FIREBASE INTERNAL ERROR: "+mi(...e);hi.error(t)},Ei=function(...e){const t=`FIREBASE FATAL ERROR: ${mi(...e)}`;throw hi.error(t),new Error(t)},wi=function(...e){const t="FIREBASE WARNING: "+mi(...e);hi.warn(t)},Ti=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ci="[MIN_NAME]",Si="[MAX_NAME]",xi=function(e,t){if(e===t)return 0;if(e===Ci||t===Si)return-1;if(t===Ci||e===Si)return 1;{const n=Di(e),i=Di(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},Ai=function(e,t){return e===t?0:e<t?-1:1},ki=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ae(t))},Oi=function(e){if("object"!=typeof e||null===e)return ae(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=ae(t[i]),n+=":",n+=Oi(e[t[i]]);return n+="}",n},Ni=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Ri(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Pi=function(e){R(!Ti(e),"Invalid JSON number");const t=1023;let n,i,r,o,s;0===e?(i=0,r=0,n=1/e==-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),i=o+t,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(i=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Li=new RegExp("^-?(0*)\\d{1,10}$"),Di=function(e){if(Li.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Mi=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw wi("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Fi=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ji{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){wi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(_i("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wi(e)}}class Ui{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ui.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const qi=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bi="ac",Vi="websocket",Wi="long_polling";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zi{constructor(e,t,n,i,r=!1,o="",s=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ui.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ui.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function $i(e,t,n){let i;if(R("string"==typeof t,"typeof type must == string"),R("object"==typeof n,"typeof params must == object"),t===Vi)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Wi)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const r=[];return Ri(n,((e,t)=>{r.push(e+"="+t)})),i+r.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.counters_={}}incrementCounter(e,t=1){ce(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return U(this.counters_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki={},Yi={};function Xi(e){const t=e.toString();return Ki[t]||(Ki[t]=new Gi),Ki[t]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ji{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Mi((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="start";class Zi{constructor(e,t,n,i,r,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bi(e),this.stats_=Xi(t),this.urlFn=e=>(this.appCheckToken&&(e[Bi]=this.appCheckToken),$i(t,Wi,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ji(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new er(((...e)=>{const[t,n,i,r,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Qi)this.id=n,this.password=i;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Qi]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Bi]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&qi.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zi.forceAllow_=!0}static forceDisallow(){Zi.forceDisallow_=!0}static isAvailable(){return!!Zi.forceAllow_||!(Zi.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ae(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=F(t),i=Ni(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ae(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class er{constructor(e,t,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pi(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=er.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){_i("frame writing exception"),r.stack&&_i(r.stack),_i(r)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_i("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(i),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{_i("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tr=null;"undefined"!=typeof MozWebSocket?tr=MozWebSocket:"undefined"!=typeof WebSocket&&(tr=WebSocket);class nr{constructor(e,t,n,i,r,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bi(this.connId),this.stats_=Xi(t),this.connURL=nr.connectionURL_(t,o,s,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&qi.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),i&&(o[Bi]=i),r&&(o.p=r),$i(e,Vi,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ui.set("previous_websocket_failure",!0);try{let e;ee(),this.mySock=new tr(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){nr.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==tr&&!nr.forceDisallow_}static previouslyFailed(){return ui.isInMemoryStorage||!0===ui.get("previous_websocket_failure")}markConnectionHealthy(){ui.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=se(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(R(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=ae(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ni(t,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nr.responsesRequiredToBeHealthy=2,nr.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ir{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Zi,nr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=nr&&nr.isAvailable();let n=t&&!nr.previouslyFailed();if(e.webSocketOnly&&(t||wi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[nr];else{const e=this.transports_=[];for(const t of ir.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ir.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ir.globalTransportInitialized_=!1;class rr{constructor(e,t,n,i,r,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bi("c:"+this.id+":"),this.transportManager_=new ir(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fi((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ki("t",e),n=ki("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ki("t",e),n=ki("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ki("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Ii("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ii("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&wi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Fi((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fi((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.allowedEvents_=e,this.listeners_={},R(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(e){R(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends sr{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||J()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new ar}getInitialEvent(e){return R("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=32,cr=768;class ur{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function dr(){return new ur("")}function hr(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pr(e){return e.pieces_.length-e.pieceNum_}function fr(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ur(e.pieces_,t)}function mr(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function gr(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function yr(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ur(t,0)}function vr(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ur)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new ur(n,0)}function _r(e){return e.pieceNum_>=e.pieces_.length}function br(e,t){const n=hr(e),i=hr(t);if(null===n)return t;if(n===i)return br(fr(e),fr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ir(e,t){const n=gr(e,0),i=gr(t,0);for(let r=0;r<n.length&&r<i.length;r++){const e=xi(n[r],i[r]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function Er(e,t){if(pr(e)!==pr(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function wr(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(pr(e)>pr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Tr{constructor(e,t){this.errorPrefix_=t,this.parts_=gr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Ee(this.parts_[n]);Cr(this)}}function Cr(e){if(e.byteLength_>cr)throw new Error(e.errorPrefix_+"has a key path longer than "+cr+" bytes ("+e.byteLength_+").");if(e.parts_.length>lr)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lr+") or object contains a cycle "+Sr(e))}function Sr(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends sr{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new xr}getInitialEvent(e){return R("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=1e3;class kr extends or{constructor(e,t,n,i,r,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=kr.nextPersistentConnectionId_++,this.log_=bi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ar,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!ee())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xr.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ar.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(ae(r)),R(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new Y,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),R(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const s={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(o).set(r,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,(r=>{const o=r.d,s=r.s;kr.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",r),"ok"!==s&&this.removeListen_(n,i),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&ce(e,"w")){const n=ue(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();wi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=le(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=le(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,(e=>{i&&setTimeout((()=>{i(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const o={p:t,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ae(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Ii("Unrecognized action received from server: "+ae(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){R(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ar,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ar,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ar),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+kr.nextConnectionId_++,r=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){R(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?_i("getToken() completed but was canceled"):(_i("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new rr(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{wi(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),r))}catch(error){this.log_("Failed to get token: "+error),o||(this.repoInfo_.nodeAdmin&&wi(error),a())}}}interrupt(e){_i("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_i("Resuming connection for reason: "+e),delete this.interruptReasons_[e],de(this.interruptReasons_)&&(this.reconnectDelay_=Ar,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Oi(e))).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new ur(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){_i("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){_i("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};e["sdk.js."+oi.replace(/\./g,"-")]=1,J()?e["framework.cordova"]=1:Z()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ar.getInstance().currentlyOnline();return de(this.interruptReasons_)&&e}}kr.nextPersistentConnectionId_=0,kr.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Or{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Or(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Or(Ci,e),i=new Or(Ci,t);return 0!==this.compare(n,i)}minPost(){return Or.MIN}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr;class Pr extends Nr{static get __EMPTY_NODE(){return Rr}static set __EMPTY_NODE(e){Rr=e}compare(e,t){return xi(e.name,t.name)}isDefinedOn(e){throw P("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Or.MIN}maxPost(){return new Or(Si,Rr)}makePost(e,t){return R("string"==typeof e,"KeyIndex indexValue must always be a string."),new Or(e,Rr)}toString(){return".key"}}const Lr=new Pr;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,t,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Mr{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Mr.RED,this.left=null!=i?i:Fr.EMPTY_NODE,this.right=null!=r?r:Fr.EMPTY_NODE}copy(e,t,n,i,r){return new Mr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fr.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Fr.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Mr.RED=!0,Mr.BLACK=!1;class Fr{constructor(e,t=Fr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Fr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Mr.BLACK,null,null))}remove(e){return new Fr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mr.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Dr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Dr(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Dr(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Dr(this.root_,null,this.comparator_,!0,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jr(e,t){return xi(e.name,t.name)}function Hr(e,t){return xi(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur;Fr.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new Mr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const qr=function(e){return"number"==typeof e?"number:"+Pi(e):"string:"+e},Br=function(e){if(e.isLeafNode()){const t=e.val();R("string"==typeof t||"number"==typeof t||"object"==typeof t&&ce(t,".sv"),"Priority must be a string or number.")}else R(e===Ur||e.isEmpty(),"priority of unexpected type.");R(e===Ur||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Vr,Wr,zr;class $r{constructor(e,t=$r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,R(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Br(this.priorityNode_)}static set __childrenNodeConstructor(e){Vr=e}static get __childrenNodeConstructor(){return Vr}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $r(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:$r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _r(e)?this:".priority"===hr(e)?this.priorityNode_:$r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:$r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=hr(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(R(".priority"!==n||1===pr(e),".priority must be the last token in a path"),this.updateImmediateChild(n,$r.__childrenNodeConstructor.EMPTY_NODE.updateChild(fr(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+qr(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Pi(this.value_):this.value_,this.lazyHash_=fi(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $r.__childrenNodeConstructor?-1:(R(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=$r.VALUE_TYPE_ORDER.indexOf(t),r=$r.VALUE_TYPE_ORDER.indexOf(n);return R(i>=0,"Unknown leaf type: "+t),R(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}$r.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Gr=new class extends Nr{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?xi(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Or.MIN}maxPost(){return new Or(Si,new $r("[PRIORITY-POST]",zr))}makePost(e,t){const n=Wr(e);return new Or(t,new $r("[PRIORITY-POST]",n))}toString(){return".priority"}},Kr=Math.log(2);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Kr,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xr=function(e,t,n,i){e.sort(t);const r=function(t,i){const o=i-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Mr(a,s.node,Mr.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=r(t,l),u=r(l+1,i);return s=e[l],a=n?n(s):s,new Mr(a,s.node,Mr.BLACK,c,u)}},o=function(t){let i=null,o=null,s=e.length;const a=function(t,i){const o=s-t,a=s;s-=t;const c=r(o+1,a),u=e[o],d=n?n(u):u;l(new Mr(d,u.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(o=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,Mr.BLACK):(a(i,Mr.BLACK),a(i,Mr.RED))}return o}(new Yr(e.length));return new Fr(i||t,o)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr;const Qr={};class Zr{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return R(Qr&&Gr,"ChildrenNode.ts has not been loaded"),Jr=Jr||new Zr({".priority":Qr},{".priority":Gr}),Jr}get(e){const t=ue(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Fr?t:null}hasIndex(e){return ce(this.indexSet_,e.toString())}addIndex(e,t){R(e!==Lr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator(Or.Wrap);let o,s=r.getNext();for(;s;)i=i||e.isDefinedOn(s.node),n.push(s),s=r.getNext();o=i?Xr(n,e.getCompare()):Qr;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new Zr(c,l)}addToIndexes(e,t){const n=he(this.indexes_,((n,i)=>{const r=ue(this.indexSet_,i);if(R(r,"Missing index implementation for "+i),n===Qr){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator(Or.Wrap);let o=i.getNext();for(;o;)o.name!==e.name&&n.push(o),o=i.getNext();return n.push(e),Xr(n,r.getCompare())}return Qr}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new Or(e.name,i))),r.insert(e,e.node)}}));return new Zr(n,this.indexSet_)}removeFromIndexes(e,t){const n=he(this.indexes_,(n=>{if(n===Qr)return n;{const i=t.get(e.name);return i?n.remove(new Or(e.name,i)):n}}));return new Zr(n,this.indexSet_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo;class to{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Br(this.priorityNode_),this.children_.isEmpty()&&R(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return eo||(eo=new to(new Fr(Hr),null,Zr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eo}updatePriority(e){return this.children_.isEmpty()?this:new to(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?eo:t}}getChild(e){const t=hr(e);return null===t?this:this.getImmediateChild(t).getChild(fr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(R(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Or(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const o=i.isEmpty()?eo:this.priorityNode_;return new to(i,o,r)}}updateChild(e,t){const n=hr(e);if(null===n)return t;{R(".priority"!==hr(e)||1===pr(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(fr(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,r=!0;if(this.forEachChild(Gr,((o,s)=>{t[o]=s.val(e),n++,r&&to.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1})),!e&&r&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+qr(this.getPriority().val())+":"),this.forEachChild(Gr,((t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)})),this.lazyHash_=""===e?"":fi(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new Or(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Or(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Or(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Or.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Or.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===no?-1:0}withIndex(e){if(e===Lr||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new to(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Lr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Gr),n=t.getIterator(Gr);let i=e.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===Lr?null:this.indexMap_.get(e.toString())}}to.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const no=new class extends to{constructor(){super(new Fr(Hr),to.EMPTY_NODE,Zr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return to.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Or,{MIN:{value:new Or(Ci,to.EMPTY_NODE)},MAX:{value:new Or(Si,no)}}),Pr.__EMPTY_NODE=to.EMPTY_NODE,$r.__childrenNodeConstructor=to,Ur=no,function(e){zr=e}(no);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const io=!0;function ro(e,t=null){if(null===e)return to.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),R(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new $r(e,ro(t))}if(e instanceof Array||!io){let n=to.EMPTY_NODE;return Ri(e,((t,i)=>{if(ce(e,t)&&"."!==t.substring(0,1)){const e=ro(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(ro(t))}{const n=[];let i=!1;if(Ri(e,((e,t)=>{if("."!==e.substring(0,1)){const r=ro(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new Or(e,r)))}})),0===n.length)return to.EMPTY_NODE;const r=Xr(n,jr,(e=>e.name),Hr);if(i){const e=Xr(n,Gr.getCompare());return new to(r,ro(t),new Zr({".priority":e},{".priority":Gr}))}return new to(r,ro(t),Zr.Default)}}!function(e){Wr=e}(ro);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class oo extends Nr{constructor(e){super(),this.indexPath_=e,R(!_r(e)&&".priority"!==hr(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?xi(e.name,t.name):r}makePost(e,t){const n=ro(e),i=to.EMPTY_NODE.updateChild(this.indexPath_,n);return new Or(t,i)}maxPost(){const e=to.EMPTY_NODE.updateChild(this.indexPath_,no);return new Or(Si,e)}toString(){return gr(this.indexPath_,0).join("/")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new class extends Nr{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?xi(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Or.MIN}maxPost(){return Or.MAX}makePost(e,t){const n=ro(e);return new Or(t,n)}toString(){return".value"}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(e){return{type:"value",snapshotNode:e}}function lo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function co(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function uo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ho{constructor(e){this.index_=e}updateChild(e,t,n,i,r,o){R(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(co(t,s)):R(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(lo(t,n)):o.trackChildChange(uo(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Gr,((e,i)=>{t.hasChild(e)||n.trackChildChange(co(e,i))})),t.isLeafNode()||t.forEachChild(Gr,((t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(uo(t,i,r))}else n.trackChildChange(lo(t,i))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?to.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.indexedFilter_=new ho(e.getIndex()),this.index_=e.getIndex(),this.startPost_=po.getStartPost_(e),this.endPost_=po.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,r,o){return this.matches(new Or(t,n))||(n=to.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=to.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(to.EMPTY_NODE);const r=this;return t.forEachChild(Gr,((e,t)=>{r.matches(new Or(e,t))||(i=i.updateImmediateChild(e,to.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new po(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,o){return this.rangedFilter_.matches(new Or(t,n))||(n=to.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,o):this.fullLimitUpdateChild_(e,t,n,r,o)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=to.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=to.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(to.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,to.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;R(s.numChildren()===this.limit_,"");const a=new Or(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=i.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=r&&r.trackChildChange(uo(t,n,e)),s.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(co(t,e));const n=s.updateImmediateChild(t,to.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=r&&r.trackChildChange(lo(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=r&&(r.trackChildChange(co(l.name,l.node)),r.trackChildChange(lo(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,to.EMPTY_NODE)):e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return R(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return R(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ci}hasEnd(){return this.endSet_}getIndexEndValue(){return R(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return R(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Si}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return R(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Gr}copy(){const e=new mo;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function go(e,t,n){const i=e.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function yo(e,t,n){const i=e.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function vo(e,t){const n=e.copy();return n.index_=t,n}function _o(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Gr?n="$priority":e.index_===so?n="$value":e.index_===Lr?n="$key":(R(e.index_ instanceof oo,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ae(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=ae(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+ae(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=ae(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+ae(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function bo(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Gr&&(t.i=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends or{constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=bi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(R(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Io.getListenId_(e,n),s={};this.listens_[o]=s;const a=_o(e._queryParams);this.restRequest_(r+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(r,a,!1,n),ue(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}}))}unlisten(e,t){const n=Io.getListenId_(e,t);delete this.listens_[n]}get(e){const t=_o(e._queryParams),n=e._path.toString(),i=new Y;return this.restRequest_(n+".json",t,((e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))})),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([i,r])=>{i&&i.accessToken&&(t.auth=i.accessToken),r&&r.token&&(t.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+me(t);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let t=null;if(s.status>=200&&s.status<300){try{t=se(s.responseText)}catch(e){wi("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&wi("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.rootNode_=to.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(){return{value:null,children:new Map}}function To(e,t,n){if(_r(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=hr(t);e.children.has(i)||e.children.set(i,wo());To(e.children.get(i),t=fr(t),n)}}function Co(e,t){if(_r(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Gr,((t,n)=>{To(e,new ur(t),n)})),Co(e,t)}}if(e.children.size>0){const n=hr(t);if(t=fr(t),e.children.has(n)){Co(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function So(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,((e,i)=>{So(i,new ur(t.toString()+"/"+e),n)}))}class xo{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ri(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new xo(e);const n=1e4+2e4*Math.random();Fi(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Ri(e,((e,i)=>{i>0&&ce(this.statsToReport_,e)&&(t[e]=i,n=!0)})),n&&this.server_.reportStats(t),Fi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ko;function Oo(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ko||(ko={}));class No{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ko.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(_r(this.path)){if(null!=this.affectedTree.value)return R(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ur(e));return new No(dr(),t,this.revert)}}return R(hr(this.path)===e,"operationForChild called for unrelated child."),new No(fr(this.path),this.affectedTree,this.revert)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t){this.source=e,this.path=t,this.type=ko.LISTEN_COMPLETE}operationForChild(e){return _r(this.path)?new Ro(this.source,dr()):new Ro(this.source,fr(this.path))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ko.OVERWRITE}operationForChild(e){return _r(this.path)?new Po(this.source,dr(),this.snap.getImmediateChild(e)):new Po(this.source,fr(this.path),this.snap)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ko.MERGE}operationForChild(e){if(_r(this.path)){const t=this.children.subtree(new ur(e));return t.isEmpty()?null:t.value?new Po(this.source,dr(),t.value):new Lo(this.source,dr(),t)}return R(hr(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Lo(this.source,fr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_r(e))return this.isFullyInitialized()&&!this.filtered_;const t=hr(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Fo(e,t,n,i,r,o){const s=i.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw P("Should only compare child_ events.");const i=new Or(t.childName,t.snapshotNode),r=new Or(n.childName,n.snapshotNode);return e.index_.compare(i,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n))),s.forEach((n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);r.forEach((r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))}))}))}function jo(e,t){return{eventCache:e,serverCache:t}}function Ho(e,t,n,i){return jo(new Do(t,n,i),e.serverCache)}function Uo(e,t,n,i){return jo(e.eventCache,new Do(t,n,i))}function qo(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Bo(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo;class Wo{constructor(e,t=(()=>(Vo||(Vo=new Fr(Ai)),Vo))()){this.value=e,this.children=t}static fromObject(e){let t=new Wo(null);return Ri(e,((e,n)=>{t=t.set(new ur(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:dr(),value:this.value};if(_r(e))return null;{const n=hr(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(fr(e),t);if(null!=r){return{path:vr(new ur(n),r.path),value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(_r(e))return this;{const t=hr(e),n=this.children.get(t);return null!==n?n.subtree(fr(e)):new Wo(null)}}set(e,t){if(_r(e))return new Wo(t,this.children);{const n=hr(e),i=(this.children.get(n)||new Wo(null)).set(fr(e),t),r=this.children.insert(n,i);return new Wo(this.value,r)}}remove(e){if(_r(e))return this.children.isEmpty()?new Wo(null):new Wo(null,this.children);{const t=hr(e),n=this.children.get(t);if(n){const i=n.remove(fr(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new Wo(null):new Wo(this.value,r)}return this}}get(e){if(_r(e))return this.value;{const t=hr(e),n=this.children.get(t);return n?n.get(fr(e)):null}}setTree(e,t){if(_r(e))return t;{const n=hr(e),i=(this.children.get(n)||new Wo(null)).setTree(fr(e),t);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new Wo(this.value,r)}}fold(e){return this.fold_(dr(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((i,r)=>{n[i]=r.fold_(vr(e,i),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,dr(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(_r(e))return null;{const i=hr(e),r=this.children.get(i);return r?r.findOnPath_(fr(e),vr(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,dr(),t)}foreachOnPath_(e,t,n){if(_r(e))return this;{this.value&&n(t,this.value);const i=hr(e),r=this.children.get(i);return r?r.foreachOnPath_(fr(e),vr(t,i),n):new Wo(null)}}foreach(e){this.foreach_(dr(),e)}foreach_(e,t){this.children.inorderTraversal(((n,i)=>{i.foreach_(vr(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.writeTree_=e}static empty(){return new zo(new Wo(null))}}function $o(e,t,n){if(_r(t))return new zo(new Wo(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=br(r,t);return o=o.updateChild(s,n),new zo(e.writeTree_.set(r,o))}{const i=new Wo(n),r=e.writeTree_.setTree(t,i);return new zo(r)}}}function Go(e,t,n){let i=e;return Ri(n,((e,n)=>{i=$o(i,vr(t,e),n)})),i}function Ko(e,t){if(_r(t))return zo.empty();{const n=e.writeTree_.setTree(t,new Wo(null));return new zo(n)}}function Yo(e,t){return null!=Xo(e,t)}function Xo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(br(n.path,t)):null}function Jo(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Gr,((e,n)=>{t.push(new Or(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Or(e,n.value))})),t}function Qo(e,t){if(_r(t))return e;{const n=Xo(e,t);return new zo(null!=n?new Wo(n):e.writeTree_.subtree(t))}}function Zo(e){return e.writeTree_.isEmpty()}function es(e,t){return ts(dr(),e.writeTree_,t)}function ts(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal(((t,r)=>{".priority"===t?(R(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=ts(vr(e,t),r,n)})),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(vr(e,".priority"),i)),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e,t){return ms(t,e)}function is(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));R(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&rs(t,i.path)?r=!1:wr(i.path,t.path)&&(o=!0)),s--}if(r){if(o)return function(e){e.visibleWrites=ss(e.allWrites,os,dr()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(i.snap)e.visibleWrites=Ko(e.visibleWrites,i.path);else{Ri(i.children,(t=>{e.visibleWrites=Ko(e.visibleWrites,vr(i.path,t))}))}return!0}return!1}function rs(e,t){if(e.snap)return wr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&wr(vr(e.path,n),t))return!0;return!1}function os(e){return e.visible}function ss(e,t,n){let i=zo.empty();for(let r=0;r<e.length;++r){const o=e[r];if(t(o)){const e=o.path;let t;if(o.snap)wr(n,e)?(t=br(n,e),i=$o(i,t,o.snap)):wr(e,n)&&(t=br(e,n),i=$o(i,dr(),o.snap.getChild(t)));else{if(!o.children)throw P("WriteRecord should have .snap or .children");if(wr(n,e))t=br(n,e),i=Go(i,t,o.children);else if(wr(e,n))if(t=br(e,n),_r(t))i=Go(i,dr(),o.children);else{const e=ue(o.children,hr(t));if(e){const n=e.getChild(fr(t));i=$o(i,dr(),n)}}}}}return i}function as(e,t,n,i,r){if(i||r){const o=Qo(e.visibleWrites,t);if(!r&&Zo(o))return n;if(r||null!=n||Yo(o,dr())){const o=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(wr(e.path,t)||wr(t,e.path))};return es(ss(e.allWrites,o,t),n||to.EMPTY_NODE)}return null}{const i=Xo(e.visibleWrites,t);if(null!=i)return i;{const i=Qo(e.visibleWrites,t);if(Zo(i))return n;if(null!=n||Yo(i,dr())){return es(i,n||to.EMPTY_NODE)}return null}}}function ls(e,t,n,i){return as(e.writeTree,e.treePath,t,n,i)}function cs(e,t){return function(e,t,n){let i=to.EMPTY_NODE;const r=Xo(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Gr,((e,t)=>{i=i.updateImmediateChild(e,t)})),i;if(n){const r=Qo(e.visibleWrites,t);return n.forEachChild(Gr,((e,t)=>{const n=es(Qo(r,new ur(e)),t);i=i.updateImmediateChild(e,n)})),Jo(r).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}return Jo(Qo(e.visibleWrites,t)).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}(e.writeTree,e.treePath,t)}function us(e,t,n,i){return function(e,t,n,i,r){R(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=vr(t,n);if(Yo(e.visibleWrites,o))return null;{const t=Qo(e.visibleWrites,o);return Zo(t)?r.getChild(n):es(t,r.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function ds(e,t){return function(e,t){return Xo(e.visibleWrites,t)}(e.writeTree,vr(e.treePath,t))}function hs(e,t,n,i,r,o){return function(e,t,n,i,r,o,s){let a;const l=Qo(e.visibleWrites,t),c=Xo(l,dr());if(null!=c)a=c;else{if(null==n)return[];a=es(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let l=n.getNext();for(;l&&e.length<r;)0!==t(l,i)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,i,r,o)}function ps(e,t,n){return function(e,t,n,i){const r=vr(t,n),o=Xo(e.visibleWrites,r);if(null!=o)return o;if(i.isCompleteForChild(n))return es(Qo(e.visibleWrites,r),i.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function fs(e,t){return ms(vr(e.treePath,t),e.writeTree)}function ms(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;R("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),R(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,uo(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,co(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,lo(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw P("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,uo(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class vs{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Do(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ps(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Bo(this.viewCache_),r=hs(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(e,t,n,i,r){const o=new gs;let s,a;if(n.type===ko.OVERWRITE){const l=n;l.source.fromUser?s=Es(e,t,l.path,l.snap,i,r,o):(R(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!_r(l.path),s=Is(e,t,l.path,l.snap,i,r,a,o))}else if(n.type===ko.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,i,r,o,s){let a=t;return i.foreach(((i,l)=>{const c=vr(n,i);ws(t,hr(c))&&(a=Es(e,a,c,l,r,o,s))})),i.foreach(((i,l)=>{const c=vr(n,i);ws(t,hr(c))||(a=Es(e,a,c,l,r,o,s))})),a}(e,t,l.path,l.children,i,r,o):(R(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Cs(e,t,l.path,l.children,i,r,a,o))}else if(n.type===ko.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,i,r,o){let s;if(null!=ds(i,n))return t;{const a=new vs(i,t,r),l=t.eventCache.getNode();let c;if(_r(n)||".priority"===hr(n)){let n;if(t.serverCache.isFullyInitialized())n=ls(i,Bo(t));else{const e=t.serverCache.getNode();R(e instanceof to,"serverChildren would be complete if leaf node"),n=cs(i,e)}c=e.filter.updateFullNode(l,n,o)}else{const r=hr(n);let u=ps(i,r,t.serverCache);null==u&&t.serverCache.isCompleteForChild(r)&&(u=l.getImmediateChild(r)),c=null!=u?e.filter.updateChild(l,r,u,fr(n),a,o):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(l,r,to.EMPTY_NODE,fr(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ls(i,Bo(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=ds(i,dr()),Ho(t,c,s,e.filter.filtersNodes())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,a.path,i,r,o):function(e,t,n,i,r,o,s){if(null!=ds(r,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(_r(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Is(e,t,n,l.getNode().getChild(n),r,o,a,s);if(_r(n)){let i=new Wo(null);return l.getNode().forEachChild(Lr,((e,t)=>{i=i.set(new ur(e),t)})),Cs(e,t,n,i,r,o,a,s)}return t}{let c=new Wo(null);return i.foreach(((e,t)=>{const i=vr(n,e);l.isCompleteForPath(i)&&(c=c.set(e,l.getNode().getChild(i)))})),Cs(e,t,n,c,r,o,a,s)}}(e,t,a.path,a.affectedTree,i,r,o)}else{if(n.type!==ko.LISTEN_COMPLETE)throw P("Unknown operation type: "+n.type);s=function(e,t,n,i,r){const o=t.serverCache,s=Uo(t,o.getNode(),o.isFullyInitialized()||_r(n),o.isFiltered());return bs(e,s,n,i,ys,r)}(e,t,n.path,i,o)}const l=o.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=qo(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(ao(qo(t)))}}(t,s,l),{viewCache:s,changes:l}}function bs(e,t,n,i,r,o){const s=t.eventCache;if(null!=ds(i,n))return t;{let a,l;if(_r(n))if(R(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Bo(t),r=cs(i,n instanceof to?n:to.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),r,o)}else{const n=ls(i,Bo(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=hr(n);if(".priority"===c){R(1===pr(n),"Can't have a priority with additional path components");const r=s.getNode();l=t.serverCache.getNode();const o=us(i,n,r,l);a=null!=o?e.filter.updatePriority(r,o):s.getNode()}else{const u=fr(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=us(i,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=ps(i,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,r,o):s.getNode()}}return Ho(t,a,s.isFullyInitialized()||_r(n),e.filter.filtersNodes())}}function Is(e,t,n,i,r,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(_r(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),e,null)}else{const e=hr(n);if(!l.isCompleteForPath(n)&&pr(n)>1)return t;const r=fr(n),o=l.getNode().getImmediateChild(e).updateChild(r,i);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,r,ys,null)}const d=Uo(t,c,l.isFullyInitialized()||_r(n),u.filtersNodes());return bs(e,d,n,r,new vs(r,d,o),a)}function Es(e,t,n,i,r,o,s){const a=t.eventCache;let l,c;const u=new vs(r,t,o);if(_r(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=Ho(t,c,!0,e.filter.filtersNodes());else{const r=hr(n);if(".priority"===r)c=e.filter.updatePriority(t.eventCache.getNode(),i),l=Ho(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=fr(n),c=a.getNode().getImmediateChild(r);let d;if(_r(o))d=i;else{const e=u.getCompleteChild(r);d=null!=e?".priority"===mr(o)&&e.getChild(yr(o)).isEmpty()?e:e.updateChild(o,i):to.EMPTY_NODE}if(c.equals(d))l=t;else{l=Ho(t,e.filter.updateChild(a.getNode(),r,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function ws(e,t){return e.eventCache.isCompleteForChild(t)}function Ts(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Cs(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=_r(n)?i:new Wo(null).setTree(n,i);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,i)=>{if(u.hasChild(n)){const l=Ts(0,t.serverCache.getNode().getImmediateChild(n),i);c=Is(e,c,new ur(n),l,r,o,s,a)}})),l.children.inorderTraversal(((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!u.hasChild(n)&&!l){const l=Ts(0,t.serverCache.getNode().getImmediateChild(n),i);c=Is(e,c,new ur(n),l,r,o,s,a)}})),c}class Ss{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new ho(n.getIndex()),r=(o=n).loadsAllData()?new ho(o.getIndex()):o.hasLimit()?new fo(o):new po(o);var o;this.processor_=function(e){return{filter:e}}(r);const s=t.serverCache,a=t.eventCache,l=i.updateFullNode(to.EMPTY_NODE,s.getNode(),null),c=r.updateFullNode(to.EMPTY_NODE,a.getNode(),null),u=new Do(l,s.isFullyInitialized(),i.filtersNodes()),d=new Do(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=jo(d,u),this.eventGenerator_=new Mo(this.query_)}get query(){return this.query_}}function xs(e,t){const n=Bo(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!_r(t)&&!n.getImmediateChild(hr(t)).isEmpty())?n.getChild(t):null}function As(e){return 0===e.eventRegistrations_.length}function ks(e,t,n){const i=[];if(n){R(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)}))}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function Os(e,t,n,i){t.type===ko.MERGE&&null!==t.source.queryId&&(R(Bo(e.viewCache_),"We should always have a full cache before handling merges"),R(qo(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,o=_s(e.processor_,r,t,n,i);var s,a;return s=e.processor_,a=o.viewCache,R(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),R(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),R(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Ns(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Ns(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return function(e,t,n,i){const r=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Fo(e,r,"child_removed",t,i,n),Fo(e,r,"child_added",t,i,n),Fo(e,r,"child_moved",o,i,n),Fo(e,r,"child_changed",t,i,n),Fo(e,r,"value",t,i,n),r}(e.eventGenerator_,t,n,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs,Ps;class Ls{constructor(){this.views=new Map}}function Ds(e,t,n,i){const r=t.source.queryId;if(null!==r){const o=e.views.get(r);return R(null!=o,"SyncTree gave us an op for an invalid query."),Os(o,t,n,i)}{let r=[];for(const o of e.views.values())r=r.concat(Os(o,t,n,i));return r}}function Ms(e,t,n,i,r){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=ls(n,r?i:null),o=!1;e?o=!0:i instanceof to?(e=cs(n,i),o=!1):(e=to.EMPTY_NODE,o=!1);const s=jo(new Do(e,o,!1),new Do(i,r,!1));return new Ss(t,s)}return s}function Fs(e,t,n,i,r,o){const s=Ms(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,i=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Gr,((e,t)=>{i.push(lo(e,t))}));return n.isFullyInitialized()&&i.push(ao(n.getNode())),Ns(e,i,n.getNode(),t)}(s,n)}function js(e,t,n,i){const r=t._queryIdentifier,o=[];let s=[];const a=Vs(e);if("default"===r)for(const[l,c]of e.views.entries())s=s.concat(ks(c,n,i)),As(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(r);t&&(s=s.concat(ks(t,n,i)),As(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!Vs(e)&&o.push(new(R(Rs,"Reference.ts has not been loaded"),Rs)(t._repo,t._path)),{removed:o,events:s}}function Hs(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Us(e,t){let n=null;for(const i of e.views.values())n=n||xs(i,t);return n}function qs(e,t){if(t._queryParams.loadsAllData())return Ws(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Bs(e,t){return null!=qs(e,t)}function Vs(e){return null!=Ws(e)}function Ws(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs=1;class $s{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Wo(null),this.pendingWriteTree_={visibleWrites:zo.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Gs(e,t,n,i,r){return function(e,t,n,i,r){R(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=$o(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,r),r?na(e,new Po({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ks(e,t,n,i){!function(e,t,n,i){R(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Go(e.visibleWrites,t,n),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i);const r=Wo.fromObject(n);return na(e,new Lo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}function Ys(e,t,n=!1){const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(is(e.pendingWriteTree_,t)){let t=new Wo(null);return null!=i.snap?t=t.set(dr(),!0):Ri(i.children,(e=>{t=t.set(new ur(e),!0)})),na(e,new No(i.path,t,n))}return[]}function Xs(e,t,n){return na(e,new Po({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Js(e,t,n,i,r=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Bs(s,t))){const l=js(s,t,n,i);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),r=e.syncPointTree_.findOnPath(o,((e,t)=>Vs(t)));if(n&&!r){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Vs(t)){return[Ws(t)]}{let e=[];return t&&(e=Hs(t)),Ri(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,o=oa(e,i);e.listenProvider_.startListening(da(r),sa(e,r),o.hashFn,o.onComplete)}}}if(!r&&c.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(da(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(aa(t));e.listenProvider_.stopListening(da(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=aa(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Qs(e,t,n,i){const r=la(e,i);if(null!=r){const i=ca(r),o=i.path,s=i.queryId,a=br(o,t);return ua(e,o,new Po(Oo(s),a,n))}return[]}function Zs(e,t,n,i=!1){const r=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(r,((e,t)=>{const n=br(e,r);o=o||Us(t,n),s=s||Vs(t)}));let a,l=e.syncPointTree_.get(r);if(l?(s=s||Vs(l),o=o||Us(l,dr())):(l=new Ls,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=o)a=!0;else{a=!1,o=to.EMPTY_NODE;e.syncPointTree_.subtree(r).foreachChild(((e,t)=>{const n=Us(t,dr());n&&(o=o.updateImmediateChild(e,n))}))}const c=Bs(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=aa(t);R(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=zs++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let u=Fs(l,t,n,ns(e.pendingWriteTree_,r),o,a);if(!c&&!s&&!i){const n=qs(l,t);u=u.concat(function(e,t,n){const i=t._path,r=sa(e,t),o=oa(e,n),s=e.listenProvider_.startListening(da(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)R(!Vs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!_r(e)&&t&&Vs(t))return[Ws(t).query];{let e=[];return t&&(e=e.concat(Hs(t).map((e=>e.query)))),Ri(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(da(i),sa(e,i))}}return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n))}return u}function ea(e,t,n){const i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,((e,n)=>{const i=Us(n,br(e,t));if(i)return i}));return as(i,t,r,n,!0)}function ta(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const r=br(e,n);i=i||Us(t,r)}));let r=e.syncPointTree_.get(n);r?i=i||Us(r,dr()):(r=new Ls,e.syncPointTree_=e.syncPointTree_.set(n,r));const o=null!=i,s=o?new Do(i,!0,!1):null;return function(e){return qo(e.viewCache_)}(Ms(r,t,ns(e.pendingWriteTree_,t._path),o?s.getNode():to.EMPTY_NODE,o))}function na(e,t){return ia(t,e.syncPointTree_,null,ns(e.pendingWriteTree_,dr()))}function ia(e,t,n,i){if(_r(e.path))return ra(e,t,n,i);{const r=t.get(dr());null==n&&null!=r&&(n=Us(r,dr()));let o=[];const s=hr(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=fs(i,s);o=o.concat(ia(a,l,e,t))}return r&&(o=o.concat(Ds(r,e,i,n))),o}}function ra(e,t,n,i){const r=t.get(dr());null==n&&null!=r&&(n=Us(r,dr()));let o=[];return t.children.inorderTraversal(((t,r)=>{const s=n?n.getImmediateChild(t):null,a=fs(i,t),l=e.operationForChild(t);l&&(o=o.concat(ra(l,r,s,a)))})),r&&(o=o.concat(Ds(r,e,i,n))),o}function oa(e,t){const n=t.query,i=sa(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||to.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return i?function(e,t,n){const i=la(e,n);if(i){const n=ca(i),r=n.path,o=n.queryId,s=br(r,t);return ua(e,r,new Ro(Oo(o),s))}return[]}(e,n._path,i):function(e,t){return na(e,new Ro({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return Js(e,n,null,i)}}}}function sa(e,t){const n=aa(t);return e.queryToTagMap.get(n)}function aa(e){return e._path.toString()+"$"+e._queryIdentifier}function la(e,t){return e.tagToQueryMap.get(t)}function ca(e){const t=e.indexOf("$");return R(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ur(e.substr(0,t))}}function ua(e,t,n){const i=e.syncPointTree_.get(t);R(i,"Missing sync point for query tag that we're tracking");return Ds(i,n,ns(e.pendingWriteTree_,t),null)}function da(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(R(Ps,"Reference.ts has not been loaded"),Ps)(e._repo,e._path):e}class ha{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ha(t)}node(){return this.node_}}class pa{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=vr(this.path_,e);return new pa(this.syncTree_,t)}node(){return ea(this.syncTree_,this.path_)}}const fa=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},ma=function(e,t,n){return e&&"object"==typeof e?(R(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?ga(e[".sv"],t,n):"object"==typeof e[".sv"]?ya(e[".sv"],t):void R(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ga=function(e,t,n){if("timestamp"===e)return n.timestamp;R(!1,"Unexpected server value: "+e)},ya=function(e,t,n){e.hasOwnProperty("increment")||R(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&R(!1,"Unexpected increment value: "+i);const r=t.node();if(R(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},va=function(e,t,n,i){return ba(t,new pa(n,e),i)},_a=function(e,t,n){return ba(e,new ha(t),n)};function ba(e,t,n){const i=e.getPriority().val(),r=ma(i,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const i=e,o=ma(i.getValue(),t,n);return o!==i.getValue()||r!==i.getPriority().val()?new $r(o,ro(r)):e}{const i=e;return o=i,r!==i.getPriority().val()&&(o=o.updatePriority(new $r(r))),i.forEachChild(Gr,((e,i)=>{const r=ba(i,t.getImmediateChild(e),n);r!==i&&(o=o.updateImmediateChild(e,r))})),o}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Ea(e,t){let n=t instanceof ur?t:new ur(t),i=e,r=hr(n);for(;null!==r;){const e=ue(i.node.children,r)||{children:{},childCount:0};i=new Ia(r,i,e),n=fr(n),r=hr(n)}return i}function wa(e){return e.node.value}function Ta(e,t){e.node.value=t,ka(e)}function Ca(e){return e.node.childCount>0}function Sa(e,t){Ri(e.node.children,((n,i)=>{t(new Ia(n,e,i))}))}function xa(e,t,n,i){n&&!i&&t(e),Sa(e,(e=>{xa(e,t,!0,i)})),n&&i&&t(e)}function Aa(e){return new ur(null===e.parent?e.name:Aa(e.parent)+"/"+e.name)}function ka(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===wa(e)&&!Ca(e)}(n),r=ce(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,ka(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,ka(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}const Oa=/[\[\].#$\/\u0000-\u001F\u007F]/,Na=/[\[\].#$\u0000-\u001F\u007F]/,Ra=10485760,Pa=function(e){return"string"==typeof e&&0!==e.length&&!Oa.test(e)},La=function(e){return"string"==typeof e&&0!==e.length&&!Na.test(e)},Da=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Ti(e)||e&&"object"==typeof e&&ce(e,".sv")},Ma=function(e,t,n,i){i&&void 0===t||Fa(Ie(e,"value"),t,n)},Fa=function(e,t,n){const i=n instanceof ur?new Tr(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Sr(i));if("function"==typeof t)throw new Error(e+"contains a function "+Sr(i)+" with contents = "+t.toString());if(Ti(t))throw new Error(e+"contains "+t.toString()+" "+Sr(i));if("string"==typeof t&&t.length>Ra/3&&Ee(t)>Ra)throw new Error(e+"contains a string greater than "+Ra+" utf8 bytes "+Sr(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,r=!1;if(Ri(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!Pa(t)))throw new Error(e+" contains an invalid key ("+t+") "+Sr(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ee(t),Cr(e)}(i,t),Fa(e,o,i),function(e){const t=e.parts_.pop();e.byteLength_-=Ee(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),n&&r)throw new Error(e+' contains ".value" child '+Sr(i)+" in addition to actual children.")}},ja=function(e,t,n,i){if(i&&void 0===t)return;const r=Ie(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Ri(t,((e,t)=>{const i=new ur(e);if(Fa(r,t,vr(n,i)),".priority"===mr(i)&&!Da(t))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(i)})),function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const r=gr(i);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!Pa(r[t]))throw new Error(e+"contains an invalid key ("+r[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Ir);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&wr(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},Ha=function(e,t,n){if(!n||void 0!==t){if(Ti(t))throw new Error(Ie(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Da(t))throw new Error(Ie(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ua=function(e,t,n,i){if(!(i&&void 0===n||Pa(n)))throw new Error(Ie(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},qa=function(e,t,n,i){if(!(i&&void 0===n||La(n)))throw new Error(Ie(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ba=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qa(e,t,n,i)},Va=function(e,t){if(".info"===hr(t))throw new Error(e+" failed = Can't modify data under /.info/")},Wa=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Pa(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),La(e)}(n))throw new Error(Ie(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class za{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $a(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null===n||Er(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function Ga(e,t,n){$a(e,n),Ya(e,(e=>Er(e,t)))}function Ka(e,t,n){$a(e,n),Ya(e,(e=>wr(e,t)||wr(t,e)))}function Ya(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){t(r.path)?(Xa(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Xa(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();gi&&_i("event: "+n.toString()),Mi(i)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="repo_interrupt",Qa=25;class Za{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new za,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wo(),this.transactionQueueTree_=new Ia,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function el(e,t,n){if(e.stats_=Xi(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Io(e.repoInfo_,((t,n,i,r)=>{il(e,t,n,i,r)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>rl(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ae(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new kr(e.repoInfo_,t,((t,n,i,r)=>{il(e,t,n,i,r)}),(t=>{rl(e,t)}),(t=>{!function(e,t){Ri(t,((t,n)=>{ol(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Yi[n]||(Yi[n]=t()),Yi[n]}(e.repoInfo_,(()=>new Ao(e.stats_,e.server_))),e.infoData_=new Eo,e.infoSyncTree_=new $s({startListening:(t,n,i,r)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Xs(e.infoSyncTree_,t._path,s),setTimeout((()=>{r("ok")}),0)),o},stopListening:()=>{}}),ol(e,"connected",!1),e.serverSyncTree_=new $s({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,((n,i)=>{const o=r(n,i);Ka(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function tl(e){const t=e.infoData_.getNode(new ur(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function nl(e){return fa({timestamp:tl(e)})}function il(e,t,n,i,r){e.dataUpdateCount++;const o=new ur(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){const t=he(n,(e=>ro(e)));s=function(e,t,n,i){const r=la(e,i);if(r){const i=ca(r),o=i.path,s=i.queryId,a=br(o,t),l=Wo.fromObject(n);return ua(e,o,new Lo(Oo(s),a,l))}return[]}(e.serverSyncTree_,o,t,r)}else{const t=ro(n);s=Qs(e.serverSyncTree_,o,t,r)}else if(i){const t=he(n,(e=>ro(e)));s=function(e,t,n){const i=Wo.fromObject(n);return na(e,new Lo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,o,t)}else{const t=ro(n);s=Xs(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=gl(e,o)),Ka(e.eventQueue_,a,s)}function rl(e,t){ol(e,"connected",t),!1===t&&function(e){hl(e,"onDisconnectEvents");const t=nl(e),n=wo();So(e.onDisconnect_,dr(),((i,r)=>{const o=va(i,r,e.serverSyncTree_,t);To(n,i,o)}));let i=[];So(n,dr(),((t,n)=>{i=i.concat(Xs(e.serverSyncTree_,t,n));const r=Il(e,t);gl(e,r)})),e.onDisconnect_=wo(),Ka(e.eventQueue_,dr(),i)}(e)}function ol(e,t,n){const i=new ur("/.info/"+t),r=ro(n);e.infoData_.updateSnapshot(i,r);const o=Xs(e.infoSyncTree_,i,r);Ka(e.eventQueue_,i,o)}function sl(e){return e.nextWriteId_++}function al(e,t,n,i,r){hl(e,"set",{path:t.toString(),value:n,priority:i});const o=nl(e),s=ro(n,i),a=ea(e.serverSyncTree_,t),l=_a(s,a,o),c=sl(e),u=Gs(e.serverSyncTree_,t,l,c,!0);$a(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,i)=>{const o="ok"===n;o||wi("set at "+t+" failed: "+n);const s=Ys(e.serverSyncTree_,c,!o);Ka(e.eventQueue_,t,s),pl(e,r,n,i)}));const d=Il(e,t);gl(e,d),Ka(e.eventQueue_,d,[])}function ll(e,t,n){e.server_.onDisconnectCancel(t.toString(),((i,r)=>{"ok"===i&&Co(e.onDisconnect_,t),pl(e,n,i,r)}))}function cl(e,t,n,i){const r=ro(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),((n,o)=>{"ok"===n&&To(e.onDisconnect_,t,r),pl(e,i,n,o)}))}function ul(e,t,n){let i;i=".info"===hr(t._path)?Js(e.infoSyncTree_,t,n):Js(e.serverSyncTree_,t,n),Ga(e.eventQueue_,t._path,i)}function dl(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ja)}function hl(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),_i(n,...t)}function pl(e,t,n,i){t&&Mi((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let r=e;i&&(r+=": "+i);const o=new Error(r);o.code=e,t(o)}}))}function fl(e,t,n){return ea(e.serverSyncTree_,t,n)||to.EMPTY_NODE}function ml(e,t=e.transactionQueueTree_){if(t||bl(e,t),wa(t)){const n=vl(e,t);R(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const i=n.map((e=>e.currentWriteId)),r=fl(e,t,i);let o=r;const s=r.hash();for(let c=0;c<n.length;c++){const e=n[c];R(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=br(t,e.path);o=o.updateChild(i,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(i=>{hl(e,"transaction put response",{path:l.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(Ys(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();bl(e,Ea(e.transactionQueueTree_,t)),ml(e,e.transactionQueueTree_),Ka(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)Mi(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{wi("transaction at "+l.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}gl(e,t)}}),s)}(e,Aa(t),n)}else Ca(t)&&Sa(t,(t=>{ml(e,t)}))}function gl(e,t){const n=yl(e,t),i=Aa(n);return function(e,t,n){if(0===t.length)return;const i=[];let r=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],c=br(n,o.path);let u,d=!1;if(R(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,u=o.abortReason,r=r.concat(Ys(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=Qa)d=!0,u="maxretry",r=r.concat(Ys(e.serverSyncTree_,o.currentWriteId,!0));else{const n=fl(e,o.path,s);o.currentInputSnapshot=n;const i=t[l].update(n.val());if(void 0!==i){Fa("transaction failed: Data returned ",i,o.path);let t=ro(i);"object"==typeof i&&null!=i&&ce(i,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=nl(e),c=_a(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=sl(e),s.splice(s.indexOf(a),1),r=r.concat(Gs(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),r=r.concat(Ys(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",r=r.concat(Ys(e.serverSyncTree_,o.currentWriteId,!0))}Ka(e.eventQueue_,n,r),r=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?i.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):i.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;bl(e,e.transactionQueueTree_);for(let l=0;l<i.length;l++)Mi(i[l]);ml(e,e.transactionQueueTree_)}(e,vl(e,n),i),i}function yl(e,t){let n,i=e.transactionQueueTree_;for(n=hr(t);null!==n&&void 0===wa(i);)i=Ea(i,n),n=hr(t=fr(t));return i}function vl(e,t){const n=[];return _l(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function _l(e,t,n){const i=wa(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Sa(t,(t=>{_l(e,t,n)}))}function bl(e,t){const n=wa(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ta(t,n.length>0?n:void 0)}Sa(t,(t=>{bl(e,t)}))}function Il(e,t){const n=Aa(yl(e,t)),i=Ea(e.transactionQueueTree_,t);return function(e,t,n){let i=n?e:e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,(t=>{El(e,t)})),El(e,i),xa(i,(t=>{El(e,t)})),n}function El(e,t){const n=wa(t);if(n){const i=[];let r=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(R(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(R(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(Ys(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Ta(t,void 0):n.length=o+1,Ka(e.eventQueue_,Aa(t),r);for(let e=0;e<i.length;e++)Mi(i[e])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=function(e,t){const n=Tl(e),i=n.namespace;"firebase.com"===n.domain&&Ei(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||Ei("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new zi(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new ur(n.pathString)}},Tl=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(i){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):wi(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=i}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},Cl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Sl=function(){let e=0;const t=[];return function(n){const i=n===e;let r;e=n;const o=new Array(8);for(r=7;r>=0;r--)o[r]=Cl.charAt(n%64),n=Math.floor(n/64);R(0===n,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=Cl.charAt(t[r]);return R(20===s.length,"nextPushId: Length should be 20."),s}}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xl{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ae(this.snapshot.exportVal())}}class Al{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return R(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Y;return ll(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){Va("OnDisconnect.remove",this._path);const e=new Y;return cl(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){Va("OnDisconnect.set",this._path),Ma("OnDisconnect.set",e,this._path,!1);const t=new Y;return cl(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){Va("OnDisconnect.setWithPriority",this._path),Ma("OnDisconnect.setWithPriority",e,this._path,!1),Ha("OnDisconnect.setWithPriority",t,!1);const n=new Y;return function(e,t,n,i,r){const o=ro(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,i)=>{"ok"===n&&To(e.onDisconnect_,t,o),pl(0,r,n,i)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){Va("OnDisconnect.update",this._path),ja("OnDisconnect.update",e,this._path,!1);const t=new Y;return function(e,t,n,i){if(de(n))return _i("onDisconnect().update() called with empty data.  Don't do anything."),void pl(0,i,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((r,o)=>{"ok"===r&&Ri(n,((n,i)=>{const r=ro(i);To(e.onDisconnect_,vr(t,n),r)})),pl(0,i,r,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return _r(this._path)?null:mr(this._path)}get ref(){return new Dl(this._repo,this._path)}get _queryIdentifier(){const e=bo(this._queryParams),t=Oi(e);return"{}"===t?"default":t}get _queryObject(){return bo(this._queryParams)}isEqual(e){if(!((e=Ae(e))instanceof Nl))return!1;const t=this._repo===e._repo,n=Er(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Rl(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Pl(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Lr){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Ci)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==Si)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(e.getIndex()===Gr){if(null!=t&&!Da(t)||null!=n&&!Da(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(R(e.getIndex()instanceof oo||e.getIndex()===so,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ll(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Dl extends Nl{constructor(e,t){super(e,t,new mo,!1)}get parent(){const e=yr(this._path);return null===e?null:new Dl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ml{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ur(e),n=jl(this.ref,e);return new Ml(this._node.getChild(t),n,Gr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Ml(n,jl(this.ref,t),Gr))))}hasChild(e){const t=new ur(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fl(e,t){return(e=Ae(e))._checkNotDeleted("ref"),void 0!==t?jl(e._root,t):e._root}function jl(e,t){return null===hr((e=Ae(e))._path)?Ba("child","path",t,!1):qa("child","path",t,!1),new Dl(e._repo,vr(e._path,t))}function Hl(e,t){e=Ae(e),Va("set",e._path),Ma("set",t,e._path,!1);const n=new Y;return al(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Ul(e){e=Ae(e);const t=new kl((()=>{})),n=new ql(t);return function(e,t,n){const i=ta(e.serverSyncTree_,t);return null!=i?Promise.resolve(i):e.server_.get(t).then((i=>{const r=ro(i).withIndex(t._queryParams.getIndex());let o;if(Zs(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=Xs(e.serverSyncTree_,t._path,r);else{const n=sa(e.serverSyncTree_,t);o=Qs(e.serverSyncTree_,t._path,r,n)}return Ka(e.eventQueue_,t._path,o),Js(e.serverSyncTree_,t,n,null,!0),r}),(n=>(hl(e,"get for query "+ae(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new Ml(t,new Dl(e._repo,e._path),e._queryParams.getIndex())))}class ql{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new xl("value",this,new Ml(e.snapshotNode,new Dl(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Al(this,e,t):null}matches(e){return e instanceof ql&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Bl{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Al(this,e,t):null}createEvent(e,t){R(null!=e.childName,"Child events should have a childName.");const n=jl(new Dl(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new xl(e.type,this,new Ml(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Bl&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Vl(e,t,n,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const t=n,i=(n,i)=>{ul(e._repo,e,a),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const s=new kl(n,o||void 0),a="value"===t?new ql(s):new Bl(t,s);return function(e,t,n){let i;i=".info"===hr(t._path)?Zs(e.infoSyncTree_,t,n):Zs(e.serverSyncTree_,t,n),Ga(e.eventQueue_,t._path,i)}(e._repo,e,a),()=>ul(e._repo,e,a)}function Wl(e,t,n,i){return Vl(e,"value",t,n,i)}class zl{}class $l extends zl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ma("endAt",this._value,e._path,!0);const t=yo(e._queryParams,this._value,this._key);if(Ll(t),Pl(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nl(e._repo,e._path,t,e._orderByCalled)}}class Gl extends zl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ma("endBefore",this._value,e._path,!1);const t=function(e,t,n){let i;return i=e.index_===Lr||n?yo(e,t,n):yo(e,t,Ci),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(Ll(t),Pl(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nl(e._repo,e._path,t,e._orderByCalled)}}class Kl extends zl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ma("startAt",this._value,e._path,!0);const t=go(e._queryParams,this._value,this._key);if(Ll(t),Pl(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Nl(e._repo,e._path,t,e._orderByCalled)}}class Yl extends zl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ma("startAfter",this._value,e._path,!1);const t=function(e,t,n){let i;return i=e.index_===Lr||n?go(e,t,n):go(e,t,Si),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(Ll(t),Pl(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Nl(e._repo,e._path,t,e._orderByCalled)}}class Xl extends zl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nl(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class Jl extends zl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nl(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class Ql extends zl{constructor(e){super(),this._path=e}_apply(e){Rl(e,"orderByChild");const t=new ur(this._path);if(_r(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new oo(t),i=vo(e._queryParams,n);return Pl(i),new Nl(e._repo,e._path,i,!0)}}class Zl extends zl{_apply(e){Rl(e,"orderByKey");const t=vo(e._queryParams,Lr);return Pl(t),new Nl(e._repo,e._path,t,!0)}}class ec extends zl{_apply(e){Rl(e,"orderByPriority");const t=vo(e._queryParams,Gr);return Pl(t),new Nl(e._repo,e._path,t,!0)}}class tc extends zl{_apply(e){Rl(e,"orderByValue");const t=vo(e._queryParams,so);return Pl(t),new Nl(e._repo,e._path,t,!0)}}class nc extends zl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Ma("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $l(this._value,this._key)._apply(new Kl(this._value,this._key)._apply(e))}}!function(e){R(!Rs,"__referenceConstructor has already been defined"),Rs=e}(Dl),function(e){R(!Ps,"__referenceConstructor has already been defined"),Ps=e}(Dl);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ic="FIREBASE_DATABASE_EMULATOR_HOST",rc={};let oc=!1;function sc(e,t,n,i,r){let o=i||e.options.databaseURL;void 0===o&&(e.options.projectId||Ei("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_i("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=wl(o,r),c=l.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env[ic]),a?(s=!0,o=`http://${a}?ns=${c.namespace}`,l=wl(o,r),c=l.repoInfo):s=!l.repoInfo.secure;const u=r&&s?new Ui(Ui.OWNER):new Hi(e.name,e.options,t);Wa("Invalid Firebase Database URL",l),_r(l.path)||Ei("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,i){let r=rc[t.name];r||(r={},rc[t.name]=r);let o=r[e.toURLString()];o&&Ei("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Za(e,oc,n,i),r[e.toURLString()]=o,o}(c,e,u,new ji(e.name,n));return new ac(d,e)}class ac{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(el(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dl(this._repo,dr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=rc[t];n&&n[e.key]===e||Ei(`Database ${t}(${e.repoInfo_}) has already been deleted.`),dl(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ei("Cannot call "+e+" on a deleted database.")}}function lc(){ir.IS_TRANSPORT_INITIALIZED&&wi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function cc(e=vt(),t){const n=pt(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=$("database");e&&uc(n,...e)}return n}function uc(e,t,n,i={}){(e=Ae(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Ei("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ei('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ui(Ui.OWNER);else if(i.mockUserToken){const t="string"==typeof i.mockUserToken?i.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[j(JSON.stringify({alg:"none",type:"JWT"})),j(JSON.stringify(o)),""].join(".")}(i.mockUserToken,e.app.options.projectId);o=new Ui(t)}!function(e,t,n,i){e.repoInfo_=new zi(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}(r,t,n,o)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const dc={".sv":"timestamp"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class hc{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}kr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},kr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){si(gt),ht(new ke("database",((e,{instanceIdentifier:t})=>sc(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),_t(ii,ri,e),_t(ii,ri,"esm2017")}();const pc=Object.freeze(Object.defineProperty({__proto__:null,DataSnapshot:Ml,Database:ac,OnDisconnect:Ol,QueryConstraint:zl,TransactionResult:hc,_QueryImpl:Nl,_QueryParams:mo,_ReferenceImpl:Dl,_TEST_ACCESS_forceRestClient:function(e){!function(e){oc=e}(e)},_TEST_ACCESS_hijackHash:function(e){const t=kr.prototype.put;return kr.prototype.put=function(n,i,r,o){void 0!==o&&(o=e()),t.call(this,n,i,r,o)},function(){kr.prototype.put=t}},_repoManagerDatabaseFromApp:sc,_setSDKVersion:si,_validatePathString:qa,_validateWritablePath:Va,child:jl,connectDatabaseEmulator:uc,enableLogging:function(e,t){vi(e,t)},endAt:function(e,t){return Ua("endAt","key",t,!0),new $l(e,t)},endBefore:function(e,t){return Ua("endBefore","key",t,!0),new Gl(e,t)},equalTo:function(e,t){return Ua("equalTo","key",t,!0),new nc(e,t)},forceLongPolling:function(){lc(),nr.forceDisallow(),Zi.forceAllow()},forceWebSockets:function(){lc(),Zi.forceDisallow()},get:Ul,getDatabase:cc,goOffline:function(e){(e=Ae(e))._checkNotDeleted("goOffline"),dl(e._repo)},goOnline:function(e){var t;(e=Ae(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Ja)},increment:function(e){return{".sv":{increment:e}}},limitToFirst:function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xl(e)},limitToLast:function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Jl(e)},off:function(e,t,n){let i=null;const r=n?new kl(n):null;"value"===t?i=new ql(r):t&&(i=new Bl(t,r)),ul(e._repo,e,i)},onChildAdded:function(e,t,n,i){return Vl(e,"child_added",t,n,i)},onChildChanged:function(e,t,n,i){return Vl(e,"child_changed",t,n,i)},onChildMoved:function(e,t,n,i){return Vl(e,"child_moved",t,n,i)},onChildRemoved:function(e,t,n,i){return Vl(e,"child_removed",t,n,i)},onDisconnect:function(e){return e=Ae(e),new Ol(e._repo,e._path)},onValue:Wl,orderByChild:function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qa("orderByChild","path",e,!1),new Ql(e)},orderByKey:function(){return new Zl},orderByPriority:function(){return new ec},orderByValue:function(){return new tc},push:function(e,t){e=Ae(e),Va("push",e._path),Ma("push",t,e._path,!0);const n=tl(e._repo),i=Sl(n),r=jl(e,i),o=jl(e,i);let s;return s=null!=t?Hl(o,t).then((()=>o)):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r},query:function(e,...t){let n=Ae(e);for(const i of t)n=i._apply(n);return n},ref:Fl,refFromURL:function(e,t){(e=Ae(e))._checkNotDeleted("refFromURL");const n=wl(t,e._repo.repoInfo_.nodeAdmin);Wa("refFromURL",n);const i=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||i.host===e._repo.repoInfo_.host||Ei("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),Fl(e,n.path.toString())},remove:function(e){return Va("remove",e._path),Hl(e,null)},runTransaction:function(e,t,n){var i;if(e=Ae(e),Va("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i,o=new Y,s=Wl(e,(()=>{}));return function(e,t,n,i,r,o){hl(e,"transaction on "+t);const s={path:t,update:n,onComplete:i,status:null,order:pi(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=fl(e,t,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Fa("transaction failed: Data returned ",l,s.path),s.status=0;const n=Ea(e.transactionQueueTree_,t),i=wa(n)||[];let r;i.push(s),Ta(n,i),"object"==typeof l&&null!==l&&ce(l,".priority")?(r=ue(l,".priority"),R(Da(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):r=(ea(e.serverSyncTree_,t)||to.EMPTY_NODE).getPriority().val();const o=nl(e),c=ro(l,r),u=_a(c,a,o);s.currentOutputSnapshotRaw=c,s.currentOutputSnapshotResolved=u,s.currentWriteId=sl(e);const d=Gs(e.serverSyncTree_,t,u,s.currentWriteId,s.applyLocally);Ka(e.eventQueue_,t,d),ml(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,i)=>{let r=null;t?o.reject(t):(r=new Ml(i,new Dl(e._repo,e._path),Gr),o.resolve(new hc(n,r)))}),s,r),o.promise},serverTimestamp:function(){return dc},set:Hl,setPriority:function(e,t){e=Ae(e),Va("setPriority",e._path),Ha("setPriority",t,!1);const n=new Y;return al(e._repo,vr(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise},setWithPriority:function(e,t,n){if(Va("setWithPriority",e._path),Ma("setWithPriority",t,e._path,!1),Ha("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new Y;return al(e._repo,e._path,t,n,i.wrapCallback((()=>{}))),i.promise},startAfter:function(e,t){return Ua("startAfter","key",t,!0),new Yl(e,t)},startAt:function(e=null,t){return Ua("startAt","key",t,!0),new Kl(e,t)},update:function(e,t){ja("update",t,e._path,!1);const n=new Y;return function(e,t,n,i){hl(e,"update",{path:t.toString(),value:n});let r=!0;const o=nl(e),s={};if(Ri(n,((n,i)=>{r=!1,s[n]=va(vr(t,n),ro(i),e.serverSyncTree_,o)})),r)_i("update() called with empty data.  Don't do anything."),pl(0,i,"ok",void 0);else{const r=sl(e),o=Ks(e.serverSyncTree_,t,s,r);$a(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const s="ok"===n;s||wi("update at "+t+" failed: "+n);const a=Ys(e.serverSyncTree_,r,!s),l=a.length>0?gl(e,t):t;Ka(e.eventQueue_,l,a),pl(0,i,n,o)})),Ri(n,(n=>{const i=Il(e,vr(t,n));gl(e,i)})),Ka(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}},Symbol.toStringTag,{value:"Module"}));var fc=function(e,t){return fc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},fc(e,t)};function mc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}fc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var gc=function(){return gc=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},gc.apply(this,arguments)};function yc(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function vc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(error){r={error:error}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function bc(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ec=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},wc=Ic,Tc=new re("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cc=new je("@firebase/auth");function Sc(e,...t){Cc.logLevel<=Pe.ERROR&&Cc.error(`Auth (${gt}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(e,...t){throw Nc(e,...t)}function Ac(e,...t){return Nc(e,...t)}function kc(e,t,n){const i=Object.assign(Object.assign({},wc()),{[t]:n});return new re("auth","Firebase",i).create(t,{appName:e.name})}function Oc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&xc(e,"argument-error"),kc(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nc(e,...t){if("string"!=typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return Tc.create(e,...t)}function Rc(e,t,...n){if(!e)throw Nc(t,...n)}function Pc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sc(t),new Error(t)}function Lc(e,t){e||Pc(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map;function Mc(e){Lc(e instanceof Function,"Expected a class definition");let t=Dc.get(e);return t?(Lc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Dc.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(e,t){const n=pt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(pe(n.getOptions(),null!=t?t:{}))return e;xc(e,"already-initialized")}return n.initialize({options:t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jc(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Hc(){return"http:"===Uc()||"https:"===Uc()}function Uc(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lc(t>e,"Short delay should be less than long delay!"),this.isMobile=J()||Z()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Hc()||Q()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(e,t){Lc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Pc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Pc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Pc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zc=new qc(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Gc(e,t,n,i,r={}){return Kc(e,r,(async()=>{let r={},o={};i&&("GET"===t?o=i:r={body:JSON.stringify(i)});const s=me(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Vc.fetch()(Xc(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},r))}))}async function Kc(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},Wc),t);try{const t=new Jc(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Qc(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const t=r.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Qc(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Qc(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Qc(e,"user-disabled",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw kc(e,a,s);xc(e,a)}}catch(r){if(r instanceof ie)throw r;xc(e,"network-request-failed",{message:String(r)})}}async function Yc(e,t,n,i,r={}){const o=await Gc(e,t,n,i,r);return"mfaPendingCredential"in o&&xc(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Xc(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?Bc(e.config,r):`${e.config.apiScheme}://${r}`}class Jc{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ac(this.auth,"network-request-failed"))),zc.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qc(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Ac(e,t,i);return r.customData._tokenResponse=n,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(e,t=!1){const n=Ae(e),i=await n.getIdToken(t),r=nu(i);Rc(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Zc(tu(r.auth_time)),issuedAtTime:Zc(tu(r.iat)),expirationTime:Zc(tu(r.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}function tu(e){return 1e3*Number(e)}function nu(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const e=H(n);return e?JSON.parse(e):(Sc("Failed to decode base64 JWT payload"),null)}catch(r){return Sc("Caught error parsing JWT payload as JSON",null==r?void 0:r.toString()),null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function iu(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ie&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}class ru{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(e){var t;const n=e.auth,i=await e.getIdToken(),r=await iu(e,async function(e,t){return Gc(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));Rc(null==r?void 0:r.users.length,n,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=yc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),h=!!u&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ou(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,p)}async function au(e){const t=Ae(e);await su(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Rc(e.idToken,"internal-error"),Rc(void 0!==e.idToken,"internal-error"),Rc(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=nu(e);return Rc(t,"internal-error"),Rc(void 0!==t.exp,"internal-error"),Rc(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Rc(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const n=await Kc(e,{},(async()=>{const n=me({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=Xc(e,i,"/v1/token",`key=${r}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Vc.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,o=new lu;return n&&(Rc("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),i&&(Rc("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),r&&(Rc("number"==typeof r,"internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lu,this.toJSON())}_performRefresh(){return Pc("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(e,t){Rc("string"==typeof e||void 0===e,"internal-error",{appName:t})}class uu{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=yc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ru(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ou(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await iu(this,this.stsTokenManager.getToken(this.auth,e));return Rc(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eu(this,e)}reload(){return au(this)}_assign(e){this!==e&&(Rc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new uu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Rc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await su(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await iu(this,async function(e,t){return Gc(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:_,isAnonymous:b,providerData:I,stsTokenManager:E}=t;Rc(v&&E,e,"internal-error");const w=lu.fromJSON(this.name,E);Rc("string"==typeof v,e,"internal-error"),cu(u,e.name),cu(d,e.name),Rc("boolean"==typeof _,e,"internal-error"),Rc("boolean"==typeof b,e,"internal-error"),cu(h,e.name),cu(p,e.name),cu(f,e.name),cu(m,e.name),cu(g,e.name),cu(y,e.name);const T=new uu({uid:v,auth:e,email:d,emailVerified:_,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:w,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(T.providerData=I.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const i=new lu;i.updateFromServerResponse(t);const r=new uu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await su(r),r}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}du.type="NONE";const hu=du;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(e,t,n){return`firebase:${e}:${t}:${n}`}class fu{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=pu(this.userKey,i.apiKey,r),this.fullPersistenceKey=pu("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?uu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new fu(Mc(hu),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||Mc(hu);const o=pu(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=uu._fromJSON(e,t);l!==r&&(s=n),r=l;break}}catch(yv){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],s&&await r._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(o)}catch(yv){}}))),new fu(r,e,n)):new fu(r,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_u(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Iu(t))return"Blackberry";if(Eu(t))return"Webos";if(yu(t))return"Safari";if((t.includes("chrome/")||vu(t))&&!t.includes("edge/"))return"Chrome";if(bu(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function gu(e=X()){return/firefox\//i.test(e)}function yu(e=X()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vu(e=X()){return/crios\//i.test(e)}function _u(e=X()){return/iemobile/i.test(e)}function bu(e=X()){return/android/i.test(e)}function Iu(e=X()){return/blackberry/i.test(e)}function Eu(e=X()){return/webos/i.test(e)}function wu(e=X()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Tu(){return function(){const e=X();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Cu(e=X()){return wu(e)||bu(e)||Eu(e)||Iu(e)||/windows phone/i.test(e)||_u(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Su(e,t=[]){let n;switch(e){case"Browser":n=mu(X());break;case"Worker":n=`${mu(X())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${gt}/${i}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(r){i(r)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==n?void 0:n.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ou(this),this.idTokenSubscription=new Ou(this),this.beforeStateQueue=new xu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tc,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mc(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await fu.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(i=s.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Rc(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await su(e)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ae(e):null;return t&&Rc(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Rc(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Mc(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new re("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mc(e)||this._popupRedirectResolver;Rc(t,this,"argument-error"),this.redirectPersistenceManager=await fu.create(this,[Mc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Rc(o,this,"internal-error"),o.then((()=>r(this.currentUser))),"function"==typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Rc(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Su(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function ku(e){return Ae(e)}class Ou{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new _e(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Rc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Nu(e,t,n){const i=ku(e);Rc(i._canInitEmulator,i,"emulator-config-failed"),Rc(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),o=Ru(t),{host:s,port:a}=function(e){const t=Ru(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:Pu(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:Pu(t)}}}(t),l=null===a?"":`:${a}`;i.config.emulator={url:`${o}//${s}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function Ru(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Pu(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Lu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pc("not implemented")}_getIdTokenResponse(e){return Pc("not implemented")}_linkToIdToken(e,t){return Pc("not implemented")}_getReauthenticationResolver(e){return Pc("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(e,t){return Gc(e,"POST","/v1/accounts:resetPassword",$c(e,t))}async function Mu(e,t){return Gc(e,"POST","/v1/accounts:update",t)}async function Fu(e,t){return Gc(e,"POST","/v1/accounts:sendOobCode",$c(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ju extends Lu{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ju(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ju(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t){return Yc(e,"POST","/v1/accounts:signInWithPassword",$c(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t){return Yc(e,"POST","/v1/accounts:signInWithEmailLink",$c(e,t))}(e,{email:this._email,oobCode:this._password});default:xc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Mu(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Yc(e,"POST","/v1/accounts:signInWithEmailLink",$c(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:xc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(e,t){return Yc(e,"POST","/v1/accounts:signInWithIdp",$c(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Lu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Uu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=yc(t,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Uu(n,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){return Hu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Hu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Hu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=me(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bu extends Lu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Bu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Bu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Yc(e,"POST","/v1/accounts:signInWithPhoneNumber",$c(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Yc(e,"POST","/v1/accounts:signInWithPhoneNumber",$c(e,t));if(n.temporaryProof)throw Qc(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Yc(e,"POST","/v1/accounts:signInWithPhoneNumber",$c(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),qu)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Bu({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){var t,n,i,r,o,s;const a=ge(ye(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);Rc(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=ge(ye(e)).link,n=t?ge(ye(t)).deep_link_id:null,i=ge(ye(e)).deep_link_id;return(i?ge(ye(i)).link:null)||i||n||t||e}(e);try{return new Vu(t)}catch(yv){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wu{constructor(){this.providerId=Wu.PROVIDER_ID}static credential(e,t){return ju._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Vu.parseLink(t);return Rc(n,"argument-error"),ju._fromEmailAndCode(e,n.code,n.tenantId)}}Wu.PROVIDER_ID="password",Wu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends zu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gu extends $u{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Rc("providerId"in t&&"signInMethod"in t,"argument-error"),Uu._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Rc(e.idToken||e.accessToken,"argument-error"),Uu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Gu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Gu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:r,nonce:o,providerId:s}=e;if(!(n||i||t||r))return null;if(!s)return null;try{return new Gu(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:r})}catch(a){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends $u{constructor(){super("facebook.com")}static credential(e){return Uu._fromParams({providerId:Ku.PROVIDER_ID,signInMethod:Ku.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ku.credentialFromTaggedObject(e)}static credentialFromError(e){return Ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ku.credential(e.oauthAccessToken)}catch(yv){return null}}}Ku.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ku.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yu extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Uu._fromParams({providerId:Yu.PROVIDER_ID,signInMethod:Yu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yu.credentialFromTaggedObject(e)}static credentialFromError(e){return Yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Yu.credential(t,n)}catch(yv){return null}}}Yu.GOOGLE_SIGN_IN_METHOD="google.com",Yu.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xu extends $u{constructor(){super("github.com")}static credential(e){return Uu._fromParams({providerId:Xu.PROVIDER_ID,signInMethod:Xu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xu.credentialFromTaggedObject(e)}static credentialFromError(e){return Xu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Xu.credential(e.oauthAccessToken)}catch(yv){return null}}}Xu.GITHUB_SIGN_IN_METHOD="github.com",Xu.PROVIDER_ID="github.com";class Ju extends Lu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Hu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Hu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Hu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new Ju(n,r):null}static _create(e,t){return new Ju(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends zu{constructor(e){Rc(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Qu.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Qu.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ju.fromJSON(e);return Rc(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Ju._create(n,t)}catch(i){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends $u{constructor(){super("twitter.com")}static credential(e,t){return Uu._fromParams({providerId:Zu.PROVIDER_ID,signInMethod:Zu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zu.credentialFromTaggedObject(e)}static credentialFromError(e){return Zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Zu.credential(t,n)}catch(yv){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ed(e,t){return Yc(e,"POST","/v1/accounts:signUp",$c(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zu.TWITTER_SIGN_IN_METHOD="twitter.com",Zu.PROVIDER_ID="twitter.com";class td{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await uu._fromIdTokenResponse(e,n,i),o=nd(n);return new td({user:r,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=nd(n);return new td({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function nd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class id extends ie{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,id.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new id(e,t,n,i)}}function rd(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw id._fromErrorAndOperation(e,n,t,i);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(e,t,n=!1){const i=await iu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return td._forOperation(e,"link",i)}async function ad(e,t,n){await su(t);const i=!1===e?"provider-already-linked":"no-such-provider";Rc(od(t.providerData).has(n)===e,t.auth,i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(e,t,n=!1){const{auth:i}=e,r="reauthenticate";try{const o=await iu(e,rd(i,r,t,e),n);Rc(o.idToken,i,"internal-error");const s=nu(o.idToken);Rc(s,i,"internal-error");const{sub:a}=s;return Rc(e.uid===a,i,"user-mismatch"),td._forOperation(e,r,o)}catch(o){throw"auth/user-not-found"===(null==o?void 0:o.code)&&xc(i,"user-mismatch"),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(e,t,n=!1){const i="signIn",r=await rd(e,i,t),o=await td._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(o.user),o}async function ud(e,t){return cd(ku(e),t)}async function dd(e,t){const n=Ae(e);return await ad(!1,n,t.providerId),sd(n,t)}async function hd(e,t){return ld(Ae(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pd{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?fd._fromServerResponse(e,t):"totpInfo"in t?md._fromServerResponse(e,t):xc(e,"internal-error")}}class fd extends pd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new fd(t)}}class md extends pd{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new md(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(e,t,n){var i;Rc((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),Rc(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Rc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Rc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(e,t,n){const i=Ae(e),r={requestType:"PASSWORD_RESET",email:t};n&&gd(i,r,n),await async function(e,t){return Fu(e,t)}(i,r)}async function vd(e,t){const n=Ae(e),i=await Du(n,{oobCode:t}),r=i.requestType;switch(Rc(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Rc(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Rc(i.mfaInfo,n,"internal-error");default:Rc(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=pd._fromServerResponse(ku(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}}async function _d(e,t,n){const i=ku(e),r=await ed(i,{returnSecureToken:!0,email:t,password:n}),o=await td._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(o.user),o}function bd(e,t,n){return ud(Ae(e),Wu.credential(t,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Id(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=Ae(e),r={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await iu(i,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return Gc(e,"POST","/v1/accounts:update",t)}(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const s=i.providerData.find((({providerId:e})=>"password"===e));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function Ed(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const o=await iu(e,Mu(i,r));await e._updateTokensIfNecessary(o,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Td extends wd{constructor(e,t,n,i){super(e,t,n),this.username=i}}class Cd extends wd{constructor(e,t){super(e,"facebook.com",t)}}class Sd extends Td{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class xd extends wd{constructor(e,t){super(e,"google.com",t)}}class Ad extends Td{constructor(e,t,n){super(e,"twitter.com",t,n)}}function kd(e,t,n,i){return Ae(e).onIdTokenChanged(t,n,i)}function Od(e,t,n){return Ae(e).beforeAuthStateChanged(t,n)}function Nd(e){return Ae(e).signOut()}class Rd{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new Rd("enroll",e,t)}static _fromMfaPendingCredential(e){return new Rd("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Rd._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Rd._fromIdtoken(e.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ku(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map((e=>pd._fromServerResponse(n,e)));Rc(i.mfaPendingCredential,n,"internal-error");const o=Rd._fromMfaPendingCredential(i.mfaPendingCredential);return new Pd(o,r,(async e=>{const r=await e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await td._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Rc(t.user,n,"internal-error"),td._forOperation(t.user,t.operationType,s);default:xc(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Ld{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>pd._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Ld(e)}async getSession(){return Rd._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,i=await this.getSession(),r=await iu(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await iu(this.user,(i=this.user.auth,r={idToken:n,mfaEnrollmentId:t},Gc(i,"POST","/v2/accounts/mfaEnrollment:withdraw",$c(i,r))));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var i,r}}const Dd=new WeakMap;const Md="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch(yv){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Fd{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=X();return yu(e)||wu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Cu(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Tu()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jd.type="LOCAL";const Hd=jd;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Fd{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ud.type="SESSION";const qd=Ud;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Bd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,o=this.handlersMap[i];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Vd(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bd.receivers=[];class Wd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise(((s,a)=>{const l=Vd("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),s(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $d(){return void 0!==zd().WorkerGlobalScope&&"function"==typeof zd().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Gd="firebaseLocalStorageDb",Kd="firebaseLocalStorage",Yd="fbase_key";class Xd{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Jd(e,t){return e.transaction([Kd],t?"readwrite":"readonly").objectStore(Kd)}function Qd(){const e=indexedDB.open(Gd,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Kd,{keyPath:Yd})}catch(i){n(i)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Kd)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Gd);return new Xd(e).toPromise()}(),t(await Qd()))}))}))}async function Zd(e,t,n){const i=Jd(e,!0).put({[Yd]:t,value:n});return new Xd(i).toPromise()}function eh(e,t){const n=Jd(e,!0).delete(t);return new Xd(n).toPromise()}class th{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Qd()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $d()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance($d()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Wd(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(yv){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await Zd(e,Md,"1"),await eh(e,Md),!0}catch(yv){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Zd(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Jd(e,!1).get(t),i=await new Xd(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>eh(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Jd(e,!1).getAll();return new Xd(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}th.type="LOCAL";const nh=th;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=Ac("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}))}function rh(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=1e12;class sh{constructor(e){this.auth=e,this.counter=oh,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ah(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||oh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||oh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||oh;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class ah{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;Rc(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lh=rh("rcb"),ch=new qc(3e4,6e4);class uh{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=zd().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return Rc(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(zd().grecaptcha):new Promise(((n,i)=>{const r=zd().setTimeout((()=>{i(Ac(e,"network-request-failed"))}),ch.get());zd()[lh]=()=>{zd().clearTimeout(r),delete zd()[lh];const o=zd().grecaptcha;if(!o)return void i(Ac(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};ih(`https://www.google.com/recaptcha/api.js??${me({onload:lh,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(r),i(Ac(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=zd().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dh{async load(e){return new sh(e)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="recaptcha",ph={theme:"light",type:"image"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fh{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Bu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function mh(e,t,n){var i;const r=await n.verify();try{let o;if(Rc("string"==typeof r,e,"argument-error"),Rc(n.type===hh,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Rc("enroll"===t.type,e,"internal-error");const n=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return Gc(e,"POST","/v2/accounts/mfaEnrollment:start",$c(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{Rc("signin"===t.type,e,"internal-error");const n=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid;Rc(n,e,"missing-multi-factor-info");const s=await function(e,t){return Gc(e,"POST","/v2/accounts/mfaSignIn:start",$c(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Gc(e,"POST","/v1/accounts:sendVerificationCode",$c(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gh{constructor(e){this.providerId=gh.PROVIDER_ID,this.auth=ku(e)}verifyPhoneNumber(e,t){return mh(this.auth,e,Ae(t))}static credential(e,t){return Bu._fromVerification(e,t)}static credentialFromResult(e){const t=e;return gh.credentialFromTaggedObject(t)}static credentialFromError(e){return gh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Bu._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function yh(e,t){return t?Mc(t):(Rc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gh.PROVIDER_ID="phone",gh.PHONE_SIGN_IN_METHOD="phone";class vh extends Lu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Hu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _h(e){return cd(e.auth,new vh(e),e.bypassAuthState)}function bh(e){const{auth:t,user:n}=e;return Rc(n,t,"internal-error"),ld(n,new vh(e),e.bypassAuthState)}async function Ih(e){const{auth:t,user:n}=e;return Rc(n,t,"internal-error"),sd(n,new vh(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _h;case"linkViaPopup":case"linkViaRedirect":return Ih;case"reauthViaPopup":case"reauthViaRedirect":return bh;default:xc(this.auth,"internal-error")}}resolve(e){Lc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new qc(2e3,1e4);async function Th(e,t,n){const i=ku(e);Oc(e,t,zu);const r=yh(i,n);return new Ch(i,"signInViaPopup",t,r).executeNotNull()}class Ch extends Eh{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Ch.currentPopupAction&&Ch.currentPopupAction.cancel(),Ch.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Rc(e,this.auth,"internal-error"),e}async onExecution(){Lc(1===this.filter.length,"Popup operations only handle one event");const e=Vd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ac(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ac(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ch.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ac(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,wh.get())};e()}}Ch.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Sh="pendingRedirect",xh=new Map;class Ah extends Eh{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Rh(t),i=Nh(e);if(!(await i._isAvailable()))return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function kh(e,t){return Nh(e)._set(Rh(t),"true")}function Oh(e,t){xh.set(e._key(),t)}function Nh(e){return Mc(e._redirectPersistence)}function Rh(e){return pu(Sh,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(e,t,n=!1){const i=ku(e),r=yh(i,t),o=new Ah(i,r,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}async function Lh(e){const t=Vd(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fh(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Fh(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ac(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mh(e))}saveEventToCache(e){this.cachedEventUids.add(Mh(e)),this.lastProcessedEventTime=Date.now()}}function Mh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Fh({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const jh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hh=/^https?/;async function Uh(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Gc(e,"GET","/v1/projects",t)}(e);for(const n of t)try{if(qh(n))return}catch(yv){}xc(e,"unauthorized-domain")}function qh(e){const t=jc(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Hh.test(n))return!1;if(jh.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new qc(3e4,6e4);function Vh(){const e=zd().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Wh=null;function zh(e){return Wh=Wh||function(e){return new Promise(((t,n)=>{var i,r,o;function s(){Vh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vh(),n(Ac(e,"network-request-failed"))},timeout:Bh.get()})}if(null===(r=null===(i=zd().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=zd().gapi)||void 0===o?void 0:o.load)){const t=rh("iframefcb");return zd()[t]=()=>{gapi.load?s():n(Ac(e,"network-request-failed"))},ih(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Wh=null,e}))}(e),Wh}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new qc(5e3,15e3),Gh="__/auth/iframe",Kh="emulator/auth/iframe",Yh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jh(e){const t=e.config;Rc(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Bc(t,Kh):`https://${e.config.authDomain}/${Gh}`,i={apiKey:t.apiKey,appName:e.name,v:gt},r=Xh.get(e.config.apiHost);r&&(i.eid=r);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${me(i).slice(1)}`}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Qh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ep(e,t,n,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Qh),{width:i.toString(),height:r.toString(),top:o,left:s}),c=X().toLowerCase();n&&(a=vu(c)?"_blank":n),gu(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=X()){var t;return wu(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",a),new Zh(null);const d=window.open(t||"",a,u);Rc(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Zh(d)}const tp="__/auth/handler",np="emulator/auth/handler";function ip(e,t,n,i,r,o){Rc(e.config.authDomain,e,"auth-domain-config-required"),Rc(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:gt,eventId:r};if(t instanceof zu){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",de(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof $u){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${tp}`;return Bc(e,np)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${me(a).slice(1)}`}const rp="webStorageSupport";const op=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qd,this._completeRedirectFn=Ph,this._overrideRedirectResult=Oh}async _openPopup(e,t,n,i){var r;Lc(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return ep(e,ip(e,t,n,jc(),i),Vd())}async _openRedirect(e,t,n,i){var r;return await this._originValidation(e),r=ip(e,t,n,jc(),i),zd().location.href=r,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Lc(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await zh(e),n=zd().gapi;return Rc(n,e,"internal-error"),t.open({where:document.body,url:Jh(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yh,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=Ac(e,"network-request-failed"),o=zd().setTimeout((()=>{i(r)}),$h.get());function s(){zd().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{i(r)}))}))))}(e),n=new Dh(e);return t.register("authEvent",(t=>{Rc(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rp,{type:rp},(n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i[rp];void 0!==r&&t(!!r),xc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Uh(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Cu()||yu()||wu()}};class sp{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Pc("unexpected MultiFactorSessionType")}}}class ap extends sp{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ap(e)}_finalizeEnroll(e,t,n){return function(e,t){return Gc(e,"POST","/v2/accounts/mfaEnrollment:finalize",$c(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Gc(e,"POST","/v2/accounts/mfaSignIn:finalize",$c(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class lp{constructor(){}static assertion(e){return ap._fromCredential(e)}}lp.FACTOR_ID="phone";class cp{static assertionForEnrollment(e,t){return up._fromSecret(e,t)}static assertionForSignIn(e,t){return up._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;Rc(void 0!==t.auth,"internal-error");const n=await(i=t.auth,r={idToken:t.credential,totpEnrollmentInfo:{}},Gc(i,"POST","/v2/accounts/mfaEnrollment:start",$c(i,r)));var i,r;return dp._fromStartTotpMfaEnrollmentResponse(n,t.auth)}}cp.FACTOR_ID="totp";class up extends sp{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new up(t,void 0,e)}static _fromEnrollmentId(e,t){return new up(t,e)}async _finalizeEnroll(e,t,n){return Rc(void 0!==this.secret,e,"argument-error"),function(e,t){return Gc(e,"POST","/v2/accounts/mfaEnrollment:finalize",$c(e,t))}(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){Rc(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");const n={verificationCode:this.otp};return function(e,t){return Gc(e,"POST","/v2/accounts/mfaSignIn:finalize",$c(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class dp{constructor(e,t,n,i,r,o,s){this.sessionInfo=o,this.auth=s,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=r}static _fromStartTotpMfaEnrollmentResponse(e,t){return new dp(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let i=!1;return(hp(e)||hp(t))&&(i=!0),i&&(hp(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),hp(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function hp(e){return void 0===e||0===(null==e?void 0:e.length)}var pp="@firebase/auth",fp="0.22.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Rc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const gp=K("authIdTokenMaxAge")||300;let yp=null;const vp=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>gp)return;const r=null==n?void 0:n.token;yp!==r&&(yp=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function _p(e=vt()){const t=pt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Fc(e,{popupRedirectResolver:op,persistence:[nh,Hd,qd]}),i=K("authTokenSyncURL");if(i){const e=vp(i);Od(n,e,(()=>e(n.currentUser))),kd(n,(t=>e(t)))}const r=z("auth");return r&&Nu(n,`http://${r}`),n}var bp;bp="Browser",ht(new ke("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:r,authDomain:o}=n.options;return((e,n)=>{Rc(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),Rc(!(null==o?void 0:o.includes(":")),"argument-error",{appName:e.name});const i={apiKey:r,authDomain:o,clientPlatform:bp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Su(bp)},s=new Au(e,n,i);return function(e,t){const n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Mc);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ht(new ke("auth-internal",(e=>(e=>new mp(e))(ku(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),_t(pp,fp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(bp)),_t(pp,fp,"esm2017");const Ip=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"},ActionCodeURL:Vu,AuthCredential:Lu,AuthErrorCodes:{ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized"},EmailAuthCredential:ju,EmailAuthProvider:Wu,FacebookAuthProvider:Ku,FactorId:{PHONE:"phone",TOTP:"totp"},GithubAuthProvider:Xu,GoogleAuthProvider:Yu,OAuthCredential:Uu,OAuthProvider:Gu,OperationType:{LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},PhoneAuthCredential:Bu,PhoneAuthProvider:gh,PhoneMultiFactorGenerator:lp,ProviderId:{FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},RecaptchaVerifier:class{constructor(e,t=Object.assign({},ph),n){this.parameters=t,this.type=hh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ku(n),this.isInvisible="invisible"===this.parameters.size,Rc("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;Rc(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dh:new uh,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Rc(!this.parameters.sitekey,this.auth,"argument-error"),Rc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Rc("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=zd()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){Rc(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Rc(Hc()&&!$d(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Gc(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Rc(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Rc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}},SAMLAuthProvider:Qu,SignInMethod:{EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},TotpMultiFactorGenerator:cp,TotpSecret:dp,TwitterAuthProvider:Zu,applyActionCode:async function(e,t){await async function(e,t){return Gc(e,"POST","/v1/accounts:update",$c(e,t))}(Ae(e),{oobCode:t})},beforeAuthStateChanged:Od,browserLocalPersistence:Hd,browserPopupRedirectResolver:op,browserSessionPersistence:qd,checkActionCode:vd,confirmPasswordReset:async function(e,t,n){await Du(Ae(e),{oobCode:t,newPassword:n})},connectAuthEmulator:Nu,createUserWithEmailAndPassword:_d,debugErrorMap:Ec,deleteUser:async function(e){return Ae(e).delete()},fetchSignInMethodsForEmail:
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const n={identifier:t,continueUri:Hc()?jc():"http://localhost"},{signinMethods:i}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return Gc(e,"POST","/v1/accounts:createAuthUri",$c(e,t))}(Ae(e),n);return i||[]},getAdditionalUserInfo:function(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null==e?void 0:e.idToken)){const i=null===(n=null===(t=nu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new wd(o,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new Cd(o,r);case"github.com":return new Sd(o,r);case"google.com":return new xd(o,r);case"twitter.com":return new Ad(o,r,e.screenName||null);case"custom":case"anonymous":return new wd(o,null);default:return new wd(o,i,r)}}(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,getAuth:_p,getIdToken:function(e,t=!1){return Ae(e).getIdToken(t)},getIdTokenResult:eu,getMultiFactorResolver:function(e,t){var n;const i=Ae(e),r=t;return Rc(t.customData.operationType,i,"argument-error"),Rc(null===(n=r.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),Pd._fromError(i,r)},getRedirectResult:async function(e,t){return await ku(e)._initializationPromise,Ph(e,t,!1)},inMemoryPersistence:hu,indexedDBLocalPersistence:nh,initializeAuth:Fc,isSignInWithEmailLink:function(e,t){const n=Vu.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)},linkWithCredential:dd,linkWithPhoneNumber:async function(e,t,n){const i=Ae(e);await ad(!1,i,"phone");const r=await mh(i.auth,t,Ae(n));return new fh(r,(e=>dd(i,e)))},linkWithPopup:async function(e,t,n){const i=Ae(e);Oc(i.auth,t,zu);const r=yh(i.auth,n);return new Ch(i.auth,"linkViaPopup",t,r,i).executeNotNull()},linkWithRedirect:function(e,t,n){return async function(e,t,n){const i=Ae(e);Oc(i.auth,t,zu),await i.auth._initializationPromise;const r=yh(i.auth,n);await ad(!1,i,t.providerId),await kh(r,i.auth);const o=await Lh(i);return r._openRedirect(i.auth,t,"linkViaRedirect",o)}(e,t,n)},multiFactor:function(e){const t=Ae(e);return Dd.has(t)||Dd.set(t,Ld._fromUser(t)),Dd.get(t)},onAuthStateChanged:function(e,t,n,i){return Ae(e).onAuthStateChanged(t,n,i)},onIdTokenChanged:kd,parseActionCodeURL:function(e){return Vu.parseLink(e)},prodErrorMap:wc,reauthenticateWithCredential:hd,reauthenticateWithPhoneNumber:async function(e,t,n){const i=Ae(e),r=await mh(i.auth,t,Ae(n));return new fh(r,(e=>hd(i,e)))},reauthenticateWithPopup:async function(e,t,n){const i=Ae(e);Oc(i.auth,t,zu);const r=yh(i.auth,n);return new Ch(i.auth,"reauthViaPopup",t,r,i).executeNotNull()},reauthenticateWithRedirect:function(e,t,n){return async function(e,t,n){const i=Ae(e);Oc(i.auth,t,zu),await i.auth._initializationPromise;const r=yh(i.auth,n);await kh(r,i.auth);const o=await Lh(i);return r._openRedirect(i.auth,t,"reauthViaRedirect",o)}(e,t,n)},reload:au,sendEmailVerification:async function(e,t){const n=Ae(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&gd(n.auth,i,t);const{email:r}=await async function(e,t){return Fu(e,t)}(n.auth,i);r!==e.email&&await e.reload()},sendPasswordResetEmail:yd,sendSignInLinkToEmail:async function(e,t,n){const i=Ae(e),r={requestType:"EMAIL_SIGNIN",email:t};Rc(n.handleCodeInApp,i,"argument-error"),n&&gd(i,r,n),await async function(e,t){return Fu(e,t)}(i,r)},setPersistence:function(e,t){return Ae(e).setPersistence(t)},signInAnonymously:async function(e){var t;const n=ku(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new td({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await ed(n,{returnSecureToken:!0}),r=await td._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r},signInWithCredential:ud,signInWithCustomToken:
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const n=ku(e),i=await async function(e,t){return Yc(e,"POST","/v1/accounts:signInWithCustomToken",$c(e,t))}(n,{token:t,returnSecureToken:!0}),r=await td._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r},signInWithEmailAndPassword:bd,signInWithEmailLink:async function(e,t,n){const i=Ae(e),r=Wu.credentialWithLink(t,n||jc());return Rc(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),ud(i,r)},signInWithPhoneNumber:async function(e,t,n){const i=ku(e),r=await mh(i,t,Ae(n));return new fh(r,(e=>ud(i,e)))},signInWithPopup:Th,signInWithRedirect:function(e,t,n){return async function(e,t,n){const i=ku(e);Oc(e,t,zu),await i._initializationPromise;const r=yh(i,n);return await kh(r,i),r._openRedirect(i,t,"signInViaRedirect")}(e,t,n)},signOut:Nd,unlink:async function(e,t){const n=Ae(e);await ad(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return Gc(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),r=od(i||[]);return n.providerData=n.providerData.filter((e=>r.has(e.providerId))),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n},updateCurrentUser:function(e,t){return Ae(e).updateCurrentUser(t)},updateEmail:function(e,t){return Ed(Ae(e),t,null)},updatePassword:function(e,t){return Ed(Ae(e),null,t)},updatePhoneNumber:async function(e,t){await sd(Ae(e),t)},updateProfile:Id,useDeviceLanguage:function(e){Ae(e).useDeviceLanguage()},verifyBeforeUpdateEmail:async function(e,t,n){const i=Ae(e),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&gd(i.auth,r,n);const{email:o}=await async function(e,t){return Fu(e,t)}(i.auth,r);o!==e.email&&await e.reload()},verifyPasswordResetCode:async function(e,t){const{data:n}=await vd(Ae(e),t);return n.email}},Symbol.toStringTag,{value:"Module"})),Ep={apiKey:"AIzaSyASnaeaC-FLvGoHKneasPInl12JC9jX27Q",authDomain:"mytsbc-a2d97.firebaseapp.com",projectId:"mytsbc-a2d97",storageBucket:"mytsbc-a2d97.appspot.com",messagingSenderId:"267158378243",appId:"1:267158378243:web:31d94cda2ae697a0be7b36",measurementId:"G-2RQNS9T3W0",databaseURL:"https://mytsbc-a2d97-default-rtdb.asia-southeast1.firebasedatabase.app/"};function wp(e,t,n){const i=yt(Ep);Zn(i);const r=_p();return cc(i),r.setPersistence(Hd),document.addEventListener("alpine:init",(()=>{let e=window.Alpine;e.store("auth",{authGet:()=>{let e=_p();return e.setPersistence(Hd),e},fbaseauth:Ip,authenticating:!0,user:{loggedIn:!1,email:"",password:"",displayName:"",idToken:"",uid:"",firebaseuser:null}}),e.store("firedb",{databaseGet:()=>cc(i),fbasedb:pc}),console.log("STORE SET2")})),window.modularcomponents={},document.addEventListener("alpine:init",(()=>{let e=window.Alpine;e.store("appData",{dark:!1,primarycolor:"#fff",modify(e){e(this)},fontsize:20}),e.store("uiData",{navbars:{main:"settings"},page:"settings",modify(e){e(this)}}),console.log("TRIP"),e.store("colors",window.colors)})),t.create(t.fragment,null)}function Tp(e){return`${(()=>{let t="";return Object.keys(e).forEach((e=>{t+=`'${e}': $store.colors['${e}'],`})),t})()}`}function Cp(e,t,n){return t.create("div",{"x-data":!0,"x-bind:style":`{${Tp(e.colors)}}`},t.create("div",{style:e.style},n))}var Sp;
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var xp=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),Ap=function(){function e(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.root=e,this.initialize.apply(this,bc([],_c(n))),this.foundation=void 0===t?this.getDefaultFoundation():t,this.foundation.init(),this.initialSyncWithDOM()}return e.attachTo=function(t){return new e(t,new xp({}))},e.prototype.initialize=function(){},e.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},e.prototype.initialSyncWithDOM=function(){},e.prototype.destroy=function(){this.foundation.destroy()},e.prototype.listen=function(e,t,n){this.root.addEventListener(e,t,n)},e.prototype.unlisten=function(e,t,n){this.root.removeEventListener(e,t,n)},e.prototype.emit=function(e,t,n){var i;void 0===n&&(n=!1),"function"==typeof CustomEvent?i=new CustomEvent(e,{bubbles:n,detail:t}):(i=document.createEvent("CustomEvent")).initCustomEvent(e,n,!1,t),this.root.dispatchEvent(i)},e}();
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
function kp(e){return void 0===e&&(e=window),!!function(e){void 0===e&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},i=function(){};e.document.addEventListener("test",i,n),e.document.removeEventListener("test",i,n)}catch(r){t=!1}return t}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(e)&&{passive:!0}}function Op(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if(Np(n,t))return n;n=n.parentElement}return null}function Np(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)}
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Rp={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Pp={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},Lp={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},Dp=["touchstart","pointerdown","mousedown","keydown"],Mp=["touchend","pointerup","mouseup","contextmenu"],Fp=[],jp=function(e){function t(n){var i=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return i.activationAnimationHasEnded=!1,i.activationTimer=0,i.fgDeactivationRemovalTimer=0,i.fgScale="0",i.frame={width:0,height:0},i.initialSize=0,i.layoutFrame=0,i.maxRadius=0,i.unboundedCoords={left:0,top:0},i.activationState=i.defaultActivationState(),i.activationTimerCallback=function(){i.activationAnimationHasEnded=!0,i.runDeactivationUXLogicIfReady()},i.activateHandler=function(e){i.activateImpl(e)},i.deactivateHandler=function(){i.deactivateImpl()},i.focusHandler=function(){i.handleFocus()},i.blurHandler=function(){i.handleBlur()},i.resizeHandler=function(){i.layout()},i}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Rp},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Pp},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Lp},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this,n=this.supportsPressRipple();if(this.registerRootHandlers(n),n){var i=t.cssClasses,r=i.ROOT,o=i.UNBOUNDED;requestAnimationFrame((function(){e.adapter.addClass(r),e.adapter.isUnbounded()&&(e.adapter.addClass(o),e.layoutInternal())}))}},t.prototype.destroy=function(){var e=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var n=t.cssClasses,i=n.ROOT,r=n.UNBOUNDED;requestAnimationFrame((function(){e.adapter.removeClass(i),e.adapter.removeClass(r),e.removeCssVars()}))}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(e){this.activateImpl(e)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var e=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame((function(){e.layoutInternal(),e.layoutFrame=0}))},t.prototype.setUnbounded=function(e){var n=t.cssClasses.UNBOUNDED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleFocus=function(){var e=this;requestAnimationFrame((function(){return e.adapter.addClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.handleBlur=function(){var e=this;requestAnimationFrame((function(){return e.adapter.removeClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(e){var t,n;if(e){try{for(var i=vc(Dp),r=i.next();!r.done;r=i.next()){var o=r.value;this.adapter.registerInteractionHandler(o,this.activateHandler)}}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(e){var t,n;if("keydown"===e.type)this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var i=vc(Mp),r=i.next();!r.done;r=i.next()){var o=r.value;this.adapter.registerDocumentInteractionHandler(o,this.deactivateHandler)}}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},t.prototype.deregisterRootHandlers=function(){var e,t;try{for(var n=vc(Dp),i=n.next();!i.done;i=n.next()){var r=i.value;this.adapter.deregisterInteractionHandler(r,this.activateHandler)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var e,t;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var n=vc(Mp),i=n.next();!i.done;i=n.next()){var r=i.value;this.adapter.deregisterDocumentInteractionHandler(r,this.deactivateHandler)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.removeCssVars=function(){var e=this,n=t.strings;Object.keys(n).forEach((function(t){0===t.indexOf("VAR_")&&e.adapter.updateCssVariable(n[t],null)}))},t.prototype.activateImpl=function(e){var t=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState;if(!n.isActivated){var i=this.previousActivationEvent;if(!(i&&void 0!==e&&i.type!==e.type))n.isActivated=!0,n.isProgrammatic=void 0===e,n.activationEvent=e,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==e&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type)),void 0!==e&&Fp.length>0&&Fp.some((function(e){return t.adapter.containsEventTarget(e)}))?this.resetActivationState():(void 0!==e&&(Fp.push(e.target),this.registerDeactivationHandlers(e)),n.wasElementMadeActive=this.checkElementMadeActive(e),n.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame((function(){Fp=[],n.wasElementMadeActive||void 0===e||" "!==e.key&&32!==e.keyCode||(n.wasElementMadeActive=t.checkElementMadeActive(e),n.wasElementMadeActive&&t.animateActivation()),n.wasElementMadeActive||(t.activationState=t.defaultActivationState())})))}}},t.prototype.checkElementMadeActive=function(e){return void 0===e||"keydown"!==e.type||this.adapter.isSurfaceActive()},t.prototype.animateActivation=function(){var e=this,n=t.strings,i=n.VAR_FG_TRANSLATE_START,r=n.VAR_FG_TRANSLATE_END,o=t.cssClasses,s=o.FG_DEACTIVATION,a=o.FG_ACTIVATION,l=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var c="",u="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates(),h=d.startPoint,p=d.endPoint;c=h.x+"px, "+h.y+"px",u=p.x+"px, "+p.y+"px"}this.adapter.updateCssVariable(i,c),this.adapter.updateCssVariable(r,u),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(s),this.adapter.computeBoundingRect(),this.adapter.addClass(a),this.activationTimer=setTimeout((function(){e.activationTimerCallback()}),l)},t.prototype.getFgTranslationCoordinates=function(){var e,t=this.activationState,n=t.activationEvent;return{startPoint:e={x:(e=t.wasActivatedByPointer?function(e,t,n){if(!e)return{x:0,y:0};var i,r,o=t.x,s=t.y,a=o+n.left,l=s+n.top;if("touchstart"===e.type){var c=e;i=c.changedTouches[0].pageX-a,r=c.changedTouches[0].pageY-l}else{var u=e;i=u.pageX-a,r=u.pageY-l}return{x:i,y:r}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame.width/2,y:this.frame.height/2}).x-this.initialSize/2,y:e.y-this.initialSize/2},endPoint:{x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2}}},t.prototype.runDeactivationUXLogicIfReady=function(){var e=this,n=t.cssClasses.FG_DEACTIVATION,i=this.activationState,r=i.hasDeactivationUXRun,o=i.isActivated;(r||!o)&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer=setTimeout((function(){e.adapter.removeClass(n)}),Lp.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var e=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(e),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var e=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout((function(){return e.previousActivationEvent=void 0}),t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var e=this,t=this.activationState;if(t.isActivated){var n=gc({},t);t.isProgrammatic?(requestAnimationFrame((function(){e.animateDeactivation(n)})),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame((function(){e.activationState.hasDeactivationUXRun=!0,e.animateDeactivation(n),e.resetActivationState()})))}},t.prototype.animateDeactivation=function(e){var t=e.wasActivatedByPointer,n=e.wasElementMadeActive;(t||n)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var e=this;this.frame=this.adapter.computeBoundingRect();var n=Math.max(this.frame.height,this.frame.width);this.maxRadius=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(e.frame.width,2)+Math.pow(e.frame.height,2))+t.numbers.PADDING;var i=Math.floor(n*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&i%2!=0?this.initialSize=i-1:this.initialSize=i,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var e=t.strings,n=e.VAR_FG_SIZE,i=e.VAR_LEFT,r=e.VAR_TOP,o=e.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(i,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(r,this.unboundedCoords.top+"px"))},t}(xp),Hp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disabled=!1,t}return mc(t,e),t.attachTo=function(e,n){void 0===n&&(n={isUnbounded:void 0});var i=new t(e);return void 0!==n.isUnbounded&&(i.unbounded=n.isUnbounded),i},t.createAdapter=function(e){return{addClass:function(t){return e.root.classList.add(t)},browserSupportsCssVars:function(){return function(e,t){void 0===t&&(t=!1);var n,i=e.CSS;if("boolean"==typeof Sp&&!t)return Sp;if(!i||"function"!=typeof i.supports)return!1;var r=i.supports("--css-vars","yes"),o=i.supports("(--css-vars: yes)")&&i.supports("color","#00000000");return n=r||o,t||(Sp=n),n}(window)},computeBoundingRect:function(){return e.root.getBoundingClientRect()},containsEventTarget:function(t){return e.root.contains(t)},deregisterDocumentInteractionHandler:function(e,t){return document.documentElement.removeEventListener(e,t,kp())},deregisterInteractionHandler:function(t,n){return e.root.removeEventListener(t,n,kp())},deregisterResizeHandler:function(e){return window.removeEventListener("resize",e)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return Np(e.root,":active")},isSurfaceDisabled:function(){return Boolean(e.disabled)},isUnbounded:function(){return Boolean(e.unbounded)},registerDocumentInteractionHandler:function(e,t){return document.documentElement.addEventListener(e,t,kp())},registerInteractionHandler:function(t,n){return e.root.addEventListener(t,n,kp())},registerResizeHandler:function(e){return window.addEventListener("resize",e)},removeClass:function(t){return e.root.classList.remove(t)},updateCssVariable:function(t,n){return e.root.style.setProperty(t,n)}}},Object.defineProperty(t.prototype,"unbounded",{get:function(){return Boolean(this.isUnbounded)},set:function(e){this.isUnbounded=Boolean(e),this.setUnbounded()},enumerable:!1,configurable:!0}),t.prototype.activate=function(){this.foundation.activate()},t.prototype.deactivate=function(){this.foundation.deactivate()},t.prototype.layout=function(){this.foundation.layout()},t.prototype.getDefaultFoundation=function(){return new jp(t.createAdapter(this))},t.prototype.initialSyncWithDOM=function(){var e=this.root;this.isUnbounded="mdcRippleIsUnbounded"in e.dataset},t.prototype.setUnbounded=function(){this.foundation.setUnbounded(Boolean(this.isUnbounded))},t}(Ap);function Up(e,t,n){return t.create("div",{style:"\r\n      position: absolute;\r\n      bottom: 0;\r\n      width: 100%;\r\n      height: 85px;\r\n      background-color: var(--navbar);\r\n      overflow-x: scroll;\r\n      "},t.create(Bp,{navbarname:"main"},t.create(qp,{selfid:"home",buttonlabel:"Home",icon:"home"}),t.create(qp,{selfid:"series",buttonlabel:"Series",icon:"movie"}),t.create(qp,{selfid:"watch",buttonlabel:"Watch",icon:"movie"}),t.create(qp,{selfid:"settings",buttonlabel:"Settings",icon:"settings"}),t.create("div",{"x-show":"auth.loggedIn && (auth.email == 'tengames.dev.id@gmail.com' || auth.email == 'muhammadfadhlan4@gmail.com')"},t.create(qp,{selfid:"thatnerdlabs",buttonlabel:"Labs",icon:"science"}))))}function qp(e,t,n){let i=t.create("div",{style:"\r\n                                border: 0px solid rgba(var(--mdc-theme-primary-rgb),1);\r\n                                \r\n                                border-radius: 16px;\r\n                                min-width: 46px;\r\n                                display: flex;\r\n                                justify-content: center;\r\n\r\n                            ",class:"mdc-ripple-surface mdc-ripple-surface--accent","x-bind:style":`{'background-color': current == '${e.selfid}' ? 'rgba(var(--mdc-theme-primary-rgb), 0.3)' : 'rgba(var(--mdc-theme-primary-rgb), 0)'}`,"x-transition":!0},e.icon);return Hp.attachTo(i),t.create("div",null,t.create("style",null,"\n          #parent{}\n        .child {}\n        "),t.create("div",{id:"parent",style:"\r\n                    padding:10px;\r\n                    margin-left:10px;\r\n                    margin-right:10px;\r\n                    margin-top:5px;\r\n                ","x-on:click":`() => {\n          $store.uiData.page = '${e.selfid}'\n          current = '${e.selfid}'\n        }`},t.create("div",{class:"child"},t.create("span",{class:"material-icons",style:"\r\n                            width: 100%;\r\n                            height: 100%;\r\n                            \r\n                        "},t.create("div",{style:"\r\n                                text-align: center;\r\n                                display: flex;\r\n                                justify-content: center;\r\n                                width: 100%;\r\n                            "},t.create("div",null,i)))),t.create("div",{class:"child",style:"\r\n                        width: 100%;\r\n                        text-align: center;\r\n                    "},e.buttonlabel)))}function Bp(e,t,n){return t.create("div",{"x-data":`{\n        navbarname: '${e.navbarname}',\n        current: $store.uiData.navbars['${e.navbarname}'],\n        setCurrent: (newState) => { this.current = newState },\n      }`,"x-init":`$watch('current', v => $store.uiData.navbars['${e.navbarname}'] = v); $watch('$store.uiData.navbars[\\'${e.navbarname}\\']', v => current = v);`,style:'\n        display:flex;\n        width: 100%;\n        justify-content: center;\n        .row:after {\n        content: "";\n        display: table;\n        clear: both;\n        }\n      ',class:"row"},t.create("style",null,'\n        .column {\n        float: left;\n        width: 50%;\n        }\n\n        /* Clear floats after the columns */\n        .row:after {\n        content: "";\n        display: table;\n        clear: both;\n        }\n      '),n)}function Vp(e,t,n){let i=t.create("div",{"x-show":`$store.uiData.page == '${e.page}'`},n);return i.setAttribute("x-transition.duration.500ms",""),t.create(t.fragment,null,t.create("style",null,"\n           .container_row   {\n             display: grid;\n            }\n        \n            .layerX, .layer2{\n            grid-column: 1;\n            grid-row: 1;\n            }\n           "),i)}function Wp(e,t,n){return t.create("div",{class:"container_row"},n)}function zp(e,t,n){for(let i of n)e.func(i);return n}function $p(e,t,n){let i=[];for(let r of n)i.push(e.pureFunc(r));return i}function Gp(e,t,n){return t.create("div",{style:"\r\n        width: fit-content;\r\n    "},t.create(zp,{func:e=>{Hp.attachTo(e)}},t.create("button",{class:`${""==e.type?"":"mdc-button"} mdc-button${e.type||""}`},t.create("div",{class:"mdc-button__ripple"}),t.create("span",{class:"mdc-button__label"},e.label))))}function Kp(e,t,n){return t.create("div",{_content:`\n            <center>\n                ${t.create($p,{pureFunc:e=>e.outerHTML},...n)}\n            </center>\n        `})}function Yp(e){for(var t=0,n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}function Xp(e){let t=Yp(e.toString());return null==window.LinkedFunctions&&(window.LinkedFunctions={}),window.LinkedFunctions[t]=e,`window['LinkedFunctions']['${t}'].bind(scope).bind(this)()`}function Jp(e){let t=Yp(e.toString());return null==window.LinkedFunctions&&(window.LinkedFunctions={}),window.LinkedFunctions[t]=e,`window['LinkedFunctions']['${t}'].bind(scope).bind(this)().outerHTML`}function Qp(e,t,n){return t.create(t.fragment,null,t.create("h2",{style:"\n         padding: 10px\n        "},"Featured Programme"),t.create("div",{style:"\n          height: 10px;\n          width: calc(100% - 20px);\n          background-color: var(--mdc-theme-secondary);\n          margin-left: 10px;\n          margin-right: 10px;\n          border-radius: 2.5px;\n        "}),t.create("div",{_content:`\n      <template x-for="item in programmes.data">\n          ${t.create("div",{style:"\n          width: calc(100% - 20px);\n          margin-left: 10px;\n          margin-right: 10px;\n          justify-content: center;\n        ","x-show":"item.featured"},t.create(Kp,null,t.create("img",{style:"\n\n            height: 200px;\n            margin-top: 10px;\n          ","x-bind:src":"item.imageurl"})),t.create(Kp,null,t.create("div",{style:"\n            font-family: BlinkMacSystemFont,-apple-system,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',Helvetica,Arial,sans-serif;\n            font-size: 2em;\n            margin-bottom: 5px;\n            ","x-text":"item.title"},"Featured programme")),t.create(Kp,null,t.create("div",{"x-on:click":Xp((function(){this.currentprogram=this.item,this.$store.uiData.navbars.main="series",this.$store.uiData.page="series"}))},t.create(Gp,{label:"watch now",type:"--raised"})))).outerHTML}\n        </template>\n        `}),t.create("div",{style:"\n          height: 10px;\n          width: calc(100% - 20px);\n          background-color: var(--mdc-theme-secondary);\n          margin-top: 10px;\n          margin-left: 10px;\n          margin-right: 10px;\n          border-radius: 2.5px;\n\n        "}),t.create("div",{_content:`\n      <template x-for="item in programmes.data">\n          ${t.create("div",{style:"\n          width: calc(100% - 20px);\n          margin-left: 10px;\n          margin-right: 10px;\n          justify-content: center;\n        ","x-show":"!item.featured"},t.create("div",{style:"\n                            display:flex\n                            "},t.create("img",{style:"\n                          width: 150px;\n                          height: 150px;\n                          margin-top: 10px;\n                        ","x-bind:src":"item.imageurl"}),t.create("div",{style:"\n                                height: 100%;\n                                display: block;\n                              "},t.create("div",{style:"\n                          font-family: BlinkMacSystemFont,-apple-system,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',Helvetica,Arial,sans-serif;\n                          font-size: 2em;\n                          margin-left: 10px;\n                          margin-bottom: 5px;\n                          ","x-text":"item.title"},"Southeast Gear"),t.create("div",{style:"\n                                  margin-left: 10px;\n                                  float: bottom;\n                                "},t.create(Gp,{label:"Watch now",type:"--raised"}))))).outerHTML}\n        </template>\n        `}))}function Zp(e,t,n){for(let i in n){let t=n[i];for(let n of Object.keys(e.attributes))t.length>=0?Zp(e,null,t):t.setAttribute(n,e.attributes[n])}return n}
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ef={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}},tf={animationend:{cssProperty:"animation",prefixed:"webkitAnimationEnd",standard:"animationend"},animationiteration:{cssProperty:"animation",prefixed:"webkitAnimationIteration",standard:"animationiteration"},animationstart:{cssProperty:"animation",prefixed:"webkitAnimationStart",standard:"animationstart"},transitionend:{cssProperty:"transition",prefixed:"webkitTransitionEnd",standard:"transitionend"}};function nf(e){return Boolean(e.document)&&"function"==typeof e.document.createElement}function rf(e,t){if(nf(e)&&t in ef){var n=e.document.createElement("div"),i=ef[t],r=i.standard,o=i.prefixed;return r in n.style?r:o}return t}function of(e,t){if(nf(e)&&t in tf){var n=e.document.createElement("div"),i=tf[t],r=i.standard,o=i.prefixed;return i.cssProperty in n.style?r:o}return t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var sf={CLOSED_CLASS:"mdc-linear-progress--closed",CLOSED_ANIMATION_OFF_CLASS:"mdc-linear-progress--closed-animation-off",INDETERMINATE_CLASS:"mdc-linear-progress--indeterminate",REVERSED_CLASS:"mdc-linear-progress--reversed",ANIMATION_READY_CLASS:"mdc-linear-progress--animation-ready"},af={ARIA_HIDDEN:"aria-hidden",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",BUFFER_BAR_SELECTOR:".mdc-linear-progress__buffer-bar",FLEX_BASIS:"flex-basis",PRIMARY_BAR_SELECTOR:".mdc-linear-progress__primary-bar"},lf=.8367142,cf=2.00611057,uf=.37651913,df=.84386165,hf=1.60277782,pf=function(e){function t(n){var i=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return i.observer=null,i}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return sf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return af},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},attachResizeObserver:function(){return null},forceLayout:function(){},getWidth:function(){return 0},hasClass:function(){return!1},setBufferBarStyle:function(){return null},setPrimaryBarStyle:function(){return null},setStyle:function(){},removeAttribute:function(){},removeClass:function(){},setAttribute:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this;this.determinate=!this.adapter.hasClass(sf.INDETERMINATE_CLASS),this.adapter.addClass(sf.ANIMATION_READY_CLASS),this.progress=0,this.buffer=1,this.observer=this.adapter.attachResizeObserver((function(t){var n,i;if(!e.determinate)try{for(var r=vc(t),o=r.next();!o.done;o=r.next()){var s=o.value;s.contentRect&&e.calculateAndSetDimensions(s.contentRect.width)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}})),!this.determinate&&this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth())},t.prototype.setDeterminate=function(e){if(this.determinate=e,this.determinate)return this.adapter.removeClass(sf.INDETERMINATE_CLASS),this.adapter.setAttribute(af.ARIA_VALUENOW,this.progress.toString()),this.adapter.setAttribute(af.ARIA_VALUEMAX,"1"),this.adapter.setAttribute(af.ARIA_VALUEMIN,"0"),this.setPrimaryBarProgress(this.progress),void this.setBufferBarProgress(this.buffer);this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth()),this.adapter.addClass(sf.INDETERMINATE_CLASS),this.adapter.removeAttribute(af.ARIA_VALUENOW),this.adapter.removeAttribute(af.ARIA_VALUEMAX),this.adapter.removeAttribute(af.ARIA_VALUEMIN),this.setPrimaryBarProgress(1),this.setBufferBarProgress(1)},t.prototype.isDeterminate=function(){return this.determinate},t.prototype.setProgress=function(e){this.progress=e,this.determinate&&(this.setPrimaryBarProgress(e),this.adapter.setAttribute(af.ARIA_VALUENOW,e.toString()))},t.prototype.getProgress=function(){return this.progress},t.prototype.setBuffer=function(e){this.buffer=e,this.determinate&&this.setBufferBarProgress(e)},t.prototype.getBuffer=function(){return this.buffer},t.prototype.open=function(){this.adapter.removeClass(sf.CLOSED_CLASS),this.adapter.removeClass(sf.CLOSED_ANIMATION_OFF_CLASS),this.adapter.removeAttribute(af.ARIA_HIDDEN)},t.prototype.close=function(){this.adapter.addClass(sf.CLOSED_CLASS),this.adapter.setAttribute(af.ARIA_HIDDEN,"true")},t.prototype.isClosed=function(){return this.adapter.hasClass(sf.CLOSED_CLASS)},t.prototype.handleTransitionEnd=function(){this.adapter.hasClass(sf.CLOSED_CLASS)&&this.adapter.addClass(sf.CLOSED_ANIMATION_OFF_CLASS)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.observer&&this.observer.disconnect()},t.prototype.restartAnimation=function(){this.adapter.removeClass(sf.ANIMATION_READY_CLASS),this.adapter.forceLayout(),this.adapter.addClass(sf.ANIMATION_READY_CLASS)},t.prototype.setPrimaryBarProgress=function(e){var t="scaleX("+e+")",n="undefined"!=typeof window?rf(window,"transform"):"transform";this.adapter.setPrimaryBarStyle(n,t)},t.prototype.setBufferBarProgress=function(e){var t=100*e+"%";this.adapter.setBufferBarStyle(af.FLEX_BASIS,t)},t.prototype.calculateAndSetDimensions=function(e){var t=e*lf,n=e*cf,i=e*uf,r=e*df,o=e*hf;this.adapter.setStyle("--mdc-linear-progress-primary-half",t+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-half-neg",-t+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full",n+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full-neg",-n+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter",i+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter-neg",-i+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half",r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half-neg",-r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full",o+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full-neg",-o+"px"),this.restartAnimation()},t}(xp),ff=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"determinate",{set:function(e){this.foundation.setDeterminate(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{set:function(e){this.foundation.setProgress(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffer",{set:function(e){this.foundation.setBuffer(e)},enumerable:!1,configurable:!0}),t.prototype.open=function(){this.foundation.open()},t.prototype.close=function(){this.foundation.close()},t.prototype.initialSyncWithDOM=function(){var e=this;this.root.addEventListener("transitionend",(function(){e.foundation.handleTransitionEnd()}))},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){e.root.classList.add(t)},forceLayout:function(){e.root.getBoundingClientRect()},setBufferBarStyle:function(t,n){var i=e.root.querySelector(pf.strings.BUFFER_BAR_SELECTOR);i&&i.style.setProperty(t,n)},setPrimaryBarStyle:function(t,n){var i=e.root.querySelector(pf.strings.PRIMARY_BAR_SELECTOR);i&&i.style.setProperty(t,n)},hasClass:function(t){return e.root.classList.contains(t)},removeAttribute:function(t){e.root.removeAttribute(t)},removeClass:function(t){e.root.classList.remove(t)},setAttribute:function(t,n){e.root.setAttribute(t,n)},setStyle:function(t,n){e.root.style.setProperty(t,n)},attachResizeObserver:function(t){var n=window.ResizeObserver;if(n){var i=new n(t);return i.observe(e.root),i}return null},getWidth:function(){return e.root.offsetWidth}};return new pf(t)},t}(Ap);function mf(e,t,n){return t.create(zp,{func:e=>{new ff(e).determinate=!1}},t.create("div",{class:"mdc-linear-progress mdc-linear-progress--indeterminate","aria-label":"Example Progress Bar","aria-valuemin":"0","aria-valuemax":"1","aria-valuenow":"0.3"},t.create("div",{class:"mdc-linear-progress__buffer"},t.create("div",{class:"mdc-linear-progress__buffer-bar"}),t.create("div",{class:"mdc-linear-progress__buffer-dots"})),t.create("div",{class:"mdc-linear-progress__bar mdc-linear-progress__primary-bar"},t.create("span",{class:"mdc-linear-progress__bar-inner"})),t.create("div",{class:"mdc-linear-progress__bar mdc-linear-progress__secondary-bar"},t.create("span",{class:"mdc-linear-progress__bar-inner"}))))}
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var gf={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"},yf=function(e){function t(n){var i=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return i.shakeAnimationEndHandler=function(){i.handleShakeAnimationEnd()},i}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return gf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(e){var n=t.cssClasses.LABEL_SHAKE;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.float=function(e){var n=t.cssClasses,i=n.LABEL_FLOAT_ABOVE,r=n.LABEL_SHAKE;e?this.adapter.addClass(i):(this.adapter.removeClass(i),this.adapter.removeClass(r))},t.prototype.setRequired=function(e){var n=t.cssClasses.LABEL_REQUIRED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleShakeAnimationEnd=function(){var e=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(e)},t}(xp),vf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.attachTo=function(e){return new t(e)},t.prototype.shake=function(e){this.foundation.shake(e)},t.prototype.float=function(e){this.foundation.float(e)},t.prototype.setRequired=function(e){this.foundation.setRequired(e)},t.prototype.getWidth=function(){return this.foundation.getWidth()},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},getWidth:function(){return function(e){var t=e;if(null!==t.offsetParent)return t.scrollWidth;var n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var i=n.scrollWidth;return document.documentElement.removeChild(n),i}(e.root)},registerInteractionHandler:function(t,n){return e.listen(t,n)},deregisterInteractionHandler:function(t,n){return e.unlisten(t,n)}};return new yf(t)},t}(Ap),_f={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"},bf=function(e){function t(n){var i=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return i.transitionEndHandler=function(e){i.handleTransitionEnd(e)},i}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return _f},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},t.prototype.activate=function(){this.adapter.removeClass(_f.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(_f.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(e){this.adapter.setStyle("transform-origin",e+"px center")},t.prototype.deactivate=function(){this.adapter.addClass(_f.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(e){var t=this.adapter.hasClass(_f.LINE_RIPPLE_DEACTIVATING);"opacity"===e.propertyName&&t&&(this.adapter.removeClass(_f.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(_f.LINE_RIPPLE_DEACTIVATING))},t}(xp),If=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.attachTo=function(e){return new t(e)},t.prototype.activate=function(){this.foundation.activate()},t.prototype.deactivate=function(){this.foundation.deactivate()},t.prototype.setRippleCenter=function(e){this.foundation.setRippleCenter(e)},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},hasClass:function(t){return e.root.classList.contains(t)},setStyle:function(t,n){return e.root.style.setProperty(t,n)},registerEventHandler:function(t,n){return e.listen(t,n)},deregisterEventHandler:function(t,n){return e.unlisten(t,n)}};return new bf(t)},t}(Ap),Ef={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},wf={NOTCH_ELEMENT_PADDING:8},Tf={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"},Cf=function(e){function t(n){return e.call(this,gc(gc({},t.defaultAdapter),n))||this}return mc(t,e),Object.defineProperty(t,"strings",{get:function(){return Ef},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Tf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return wf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.notch=function(e){var n=t.cssClasses.OUTLINE_NOTCHED;e>0&&(e+=wf.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(e),this.adapter.addClass(n)},t.prototype.closeNotch=function(){var e=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(e),this.adapter.removeNotchWidthProperty()},t}(xp),Sf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){this.notchElement=this.root.querySelector(Ef.NOTCH_ELEMENT_SELECTOR);var e=this.root.querySelector("."+yf.cssClasses.ROOT);e?(e.style.transitionDuration="0s",this.root.classList.add(Tf.OUTLINE_UPGRADED),requestAnimationFrame((function(){e.style.transitionDuration=""}))):this.root.classList.add(Tf.NO_LABEL)},t.prototype.notch=function(e){this.foundation.notch(e)},t.prototype.closeNotch=function(){this.foundation.closeNotch()},t.prototype.getDefaultFoundation=function(){var e=this;return new Cf({addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},setNotchWidthProperty:function(t){e.notchElement.style.setProperty("width",t+"px")},removeNotchWidthProperty:function(){e.notchElement.style.removeProperty("width")}})},t}(Ap),xf={ROOT:"mdc-text-field-character-counter"},Af={ROOT_SELECTOR:"."+xf.ROOT},kf=function(e){function t(n){return e.call(this,gc(gc({},t.defaultAdapter),n))||this}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return xf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Af},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.setCounterValue=function(e,t){e=Math.min(e,t),this.adapter.setContent(e+" / "+t)},t}(xp),Of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this;return new kf({setContent:function(t){e.root.textContent=t}})},t}(Ap),Nf={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},Rf={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},Pf={LABEL_SCALE:.75},Lf=["pattern","min","max","required","step","minlength","maxlength"],Df=["color","date","datetime-local","month","range","time","week"],Mf=["mousedown","touchstart"],Ff=["click","keydown"],jf=function(e){function t(n,i){void 0===i&&(i={});var r=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return r.isFocused=!1,r.receivedUserInput=!1,r.valid=!0,r.useNativeValidation=!0,r.validateOnValueChange=!0,r.helperText=i.helperText,r.characterCounter=i.characterCounter,r.leadingIcon=i.leadingIcon,r.trailingIcon=i.trailingIcon,r.inputFocusHandler=function(){r.activateFocus()},r.inputBlurHandler=function(){r.deactivateFocus()},r.inputInputHandler=function(){r.handleInput()},r.setPointerXOffset=function(e){r.setTransformOrigin(e)},r.textFieldInteractionHandler=function(){r.handleTextFieldInteraction()},r.validationAttributeChangeHandler=function(e){r.handleValidationAttributeChange(e)},r}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Rf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Nf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Pf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat",{get:function(){var e=this.getNativeInput().type;return Df.indexOf(e)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver((function(){}))},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e,t,n,i;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var r=vc(Mf),o=r.next();!o.done;o=r.next()){var s=o.value;this.adapter.registerInputInteractionHandler(s,this.setPointerXOffset)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}try{for(var a=vc(Ff),l=a.next();!l.done;l=a.next()){s=l.value;this.adapter.registerTextFieldInteractionHandler(s,this.textFieldInteractionHandler)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},t.prototype.destroy=function(){var e,t,n,i;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var r=vc(Mf),o=r.next();!o.done;o=r.next()){var s=o.value;this.adapter.deregisterInputInteractionHandler(s,this.setPointerXOffset)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}try{for(var a=vc(Ff),l=a.next();!l.done;l=a.next()){s=l.value;this.adapter.deregisterTextFieldInteractionHandler(s,this.textFieldInteractionHandler)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},t.prototype.handleTextFieldInteraction=function(){var e=this.adapter.getNativeInput();e&&e.disabled||(this.receivedUserInput=!0)},t.prototype.handleValidationAttributeChange=function(e){var t=this;e.some((function(e){return Lf.indexOf(e)>-1&&(t.styleValidity(!0),t.adapter.setLabelRequired(t.getNativeInput().required),!0)})),e.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},t.prototype.notchOutline=function(e){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(e){var t=this.adapter.getLabelWidth()*Pf.LABEL_SCALE;this.adapter.notchOutline(t)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText||!this.helperText.isPersistent()&&this.helperText.isValidation()&&this.valid||this.helperText.showToScreenReader()},t.prototype.setTransformOrigin=function(e){if(!this.isDisabled()&&!this.adapter.hasOutline()){var t=e.touches,n=t?t[0]:e,i=n.target.getBoundingClientRect(),r=n.clientX-i.left;this.adapter.setLineRippleTransformOrigin(r)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var e=this.isValid();this.styleValidity(e),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},t.prototype.getValue=function(){return this.getNativeInput().value},t.prototype.setValue=function(e){if(this.getValue()!==e&&(this.getNativeInput().value=e),this.setcharacterCounter(e.length),this.validateOnValueChange){var t=this.isValid();this.styleValidity(t)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},t.prototype.setValid=function(e){this.valid=e,this.styleValidity(e);var t=!e&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(t)},t.prototype.setValidateOnValueChange=function(e){this.validateOnValueChange=e},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},t.prototype.setUseNativeValidation=function(e){this.useNativeValidation=e},t.prototype.isDisabled=function(){return this.getNativeInput().disabled},t.prototype.setDisabled=function(e){this.getNativeInput().disabled=e,this.styleDisabled(e)},t.prototype.setHelperTextContent=function(e){this.helperText&&this.helperText.setContent(e)},t.prototype.setLeadingIconAriaLabel=function(e){this.leadingIcon&&this.leadingIcon.setAriaLabel(e)},t.prototype.setLeadingIconContent=function(e){this.leadingIcon&&this.leadingIcon.setContent(e)},t.prototype.setTrailingIconAriaLabel=function(e){this.trailingIcon&&this.trailingIcon.setAriaLabel(e)},t.prototype.setTrailingIconContent=function(e){this.trailingIcon&&this.trailingIcon.setContent(e)},t.prototype.setcharacterCounter=function(e){if(this.characterCounter){var t=this.getNativeInput().maxLength;if(-1===t)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(e,t)}},t.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},t.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},t.prototype.styleValidity=function(e){var n=t.cssClasses.INVALID;if(e?this.adapter.removeClass(n):this.adapter.addClass(n),this.helperText){if(this.helperText.setValidity(e),!this.helperText.isValidation())return;var i=this.helperText.isVisible(),r=this.helperText.getId();i&&r?this.adapter.setInputAttr(Nf.ARIA_DESCRIBEDBY,r):this.adapter.removeInputAttr(Nf.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused=function(e){var n=t.cssClasses.FOCUSED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.styleDisabled=function(e){var n=t.cssClasses,i=n.DISABLED,r=n.INVALID;e?(this.adapter.addClass(i),this.adapter.removeClass(r)):this.adapter.removeClass(i),this.leadingIcon&&this.leadingIcon.setDisabled(e),this.trailingIcon&&this.trailingIcon.setDisabled(e)},t.prototype.styleFloating=function(e){var n=t.cssClasses.LABEL_FLOATING;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.getNativeInput=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(xp),Hf={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},Uf={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+Hf.ROOT},qf=function(e){function t(n){return e.call(this,gc(gc({},t.defaultAdapter),n))||this}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Hf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Uf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.adapter.getAttr("id")},t.prototype.isVisible=function(){return"true"!==this.adapter.getAttr(Uf.ARIA_HIDDEN)},t.prototype.setContent=function(e){this.adapter.setContent(e)},t.prototype.isPersistent=function(){return this.adapter.hasClass(Hf.HELPER_TEXT_PERSISTENT)},t.prototype.setPersistent=function(e){e?this.adapter.addClass(Hf.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(Hf.HELPER_TEXT_PERSISTENT)},t.prototype.isValidation=function(){return this.adapter.hasClass(Hf.HELPER_TEXT_VALIDATION_MSG)},t.prototype.setValidation=function(e){e?this.adapter.addClass(Hf.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(Hf.HELPER_TEXT_VALIDATION_MSG)},t.prototype.showToScreenReader=function(){this.adapter.removeAttr(Uf.ARIA_HIDDEN)},t.prototype.setValidity=function(e){var t=this.adapter.hasClass(Hf.HELPER_TEXT_PERSISTENT),n=this.adapter.hasClass(Hf.HELPER_TEXT_VALIDATION_MSG)&&!e;n?(this.showToScreenReader(),"alert"===this.adapter.getAttr(Uf.ROLE)?this.refreshAlertRole():this.adapter.setAttr(Uf.ROLE,"alert")):this.adapter.removeAttr(Uf.ROLE),t||n||this.hide()},t.prototype.hide=function(){this.adapter.setAttr(Uf.ARIA_HIDDEN,"true")},t.prototype.refreshAlertRole=function(){var e=this;this.adapter.removeAttr(Uf.ROLE),requestAnimationFrame((function(){e.adapter.setAttr(Uf.ROLE,"alert")}))},t}(xp),Bf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this;return new qf({addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},hasClass:function(t){return e.root.classList.contains(t)},getAttr:function(t){return e.root.getAttribute(t)},setAttr:function(t,n){return e.root.setAttribute(t,n)},removeAttr:function(t){return e.root.removeAttribute(t)},setContent:function(t){e.root.textContent=t}})},t}(Ap),Vf={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},Wf={ROOT:"mdc-text-field__icon"},zf=["click","keydown"],$f=function(e){function t(n){var i=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return i.savedTabIndex=null,i.interactionHandler=function(e){i.handleInteraction(e)},i}return mc(t,e),Object.defineProperty(t,"strings",{get:function(){return Vf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Wf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e,t;this.savedTabIndex=this.adapter.getAttr("tabindex");try{for(var n=vc(zf),i=n.next();!i.done;i=n.next()){var r=i.value;this.adapter.registerInteractionHandler(r,this.interactionHandler)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.destroy=function(){var e,t;try{for(var n=vc(zf),i=n.next();!i.done;i=n.next()){var r=i.value;this.adapter.deregisterInteractionHandler(r,this.interactionHandler)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.setDisabled=function(e){this.savedTabIndex&&(e?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex),this.adapter.setAttr("role",Vf.ICON_ROLE)))},t.prototype.setAriaLabel=function(e){this.adapter.setAttr("aria-label",e)},t.prototype.setContent=function(e){this.adapter.setContent(e)},t.prototype.handleInteraction=function(e){var t="Enter"===e.key||13===e.keyCode;("click"===e.type||t)&&(e.preventDefault(),this.adapter.notifyIconAction())},t}(xp),Gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this,t={getAttr:function(t){return e.root.getAttribute(t)},setAttr:function(t,n){return e.root.setAttribute(t,n)},removeAttr:function(t){return e.root.removeAttribute(t)},setContent:function(t){e.root.textContent=t},registerInteractionHandler:function(t,n){return e.listen(t,n)},deregisterInteractionHandler:function(t,n){return e.unlisten(t,n)},notifyIconAction:function(){return e.emit($f.strings.ICON_EVENT,{},!0)}};return new $f(t)},t}(Ap),Kf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e,t,n,i,r,o,s){void 0===e&&(e=function(e,t){return new Hp(e,t)}),void 0===t&&(t=function(e){return new If(e)}),void 0===n&&(n=function(e){return new Bf(e)}),void 0===i&&(i=function(e){return new Of(e)}),void 0===r&&(r=function(e){return new Gf(e)}),void 0===o&&(o=function(e){return new vf(e)}),void 0===s&&(s=function(e){return new Sf(e)}),this.input=this.root.querySelector(Nf.INPUT_SELECTOR);var a=this.root.querySelector(Nf.LABEL_SELECTOR);this.label=a?o(a):null;var l=this.root.querySelector(Nf.LINE_RIPPLE_SELECTOR);this.lineRipple=l?t(l):null;var c=this.root.querySelector(Nf.OUTLINE_SELECTOR);this.outline=c?s(c):null;var u=qf.strings,d=this.root.nextElementSibling,h=d&&d.classList.contains(Rf.HELPER_LINE),p=h&&d&&d.querySelector(u.ROOT_SELECTOR);this.helperText=p?n(p):null;var f=kf.strings,m=this.root.querySelector(f.ROOT_SELECTOR);!m&&h&&d&&(m=d.querySelector(f.ROOT_SELECTOR)),this.characterCounter=m?i(m):null;var g=this.root.querySelector(Nf.LEADING_ICON_SELECTOR);this.leadingIcon=g?r(g):null;var y=this.root.querySelector(Nf.TRAILING_ICON_SELECTOR);this.trailingIcon=y?r(y):null,this.prefix=this.root.querySelector(Nf.PREFIX_SELECTOR),this.suffix=this.root.querySelector(Nf.SUFFIX_SELECTOR),this.ripple=this.createRipple(e)},t.prototype.destroy=function(){this.ripple&&this.ripple.destroy(),this.lineRipple&&this.lineRipple.destroy(),this.helperText&&this.helperText.destroy(),this.characterCounter&&this.characterCounter.destroy(),this.leadingIcon&&this.leadingIcon.destroy(),this.trailingIcon&&this.trailingIcon.destroy(),this.label&&this.label.destroy(),this.outline&&this.outline.destroy(),e.prototype.destroy.call(this)},t.prototype.initialSyncWithDOM=function(){this.disabled=this.input.disabled},Object.defineProperty(t.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(e){this.foundation.setValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.foundation.isDisabled()},set:function(e){this.foundation.setDisabled(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.foundation.isValid()},set:function(e){this.foundation.setValid(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this.input.required},set:function(e){this.input.required=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pattern",{get:function(){return this.input.pattern},set:function(e){this.input.pattern=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minLength",{get:function(){return this.input.minLength},set:function(e){this.input.minLength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.input.maxLength},set:function(e){e<0?this.input.removeAttribute("maxLength"):this.input.maxLength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.input.min},set:function(e){this.input.min=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.input.max},set:function(e){this.input.max=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this.input.step},set:function(e){this.input.step=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"helperTextContent",{set:function(e){this.foundation.setHelperTextContent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leadingIconAriaLabel",{set:function(e){this.foundation.setLeadingIconAriaLabel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leadingIconContent",{set:function(e){this.foundation.setLeadingIconContent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trailingIconAriaLabel",{set:function(e){this.foundation.setTrailingIconAriaLabel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trailingIconContent",{set:function(e){this.foundation.setTrailingIconContent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useNativeValidation",{set:function(e){this.foundation.setUseNativeValidation(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prefixText",{get:function(){return this.prefix?this.prefix.textContent:null},set:function(e){this.prefix&&(this.prefix.textContent=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"suffixText",{get:function(){return this.suffix?this.suffix.textContent:null},set:function(e){this.suffix&&(this.suffix.textContent=e)},enumerable:!1,configurable:!0}),t.prototype.focus=function(){this.input.focus()},t.prototype.layout=function(){var e=this.foundation.shouldFloat;this.foundation.notchOutline(e)},t.prototype.getDefaultFoundation=function(){var e=gc(gc(gc(gc(gc({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods());return new jf(e,this.getFoundationMap())},t.prototype.getRootAdapterMethods=function(){var e=this;return{addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},hasClass:function(t){return e.root.classList.contains(t)},registerTextFieldInteractionHandler:function(t,n){e.listen(t,n)},deregisterTextFieldInteractionHandler:function(t,n){e.unlisten(t,n)},registerValidationAttributeChangeHandler:function(t){var n=new MutationObserver((function(e){return t(function(e){return e.map((function(e){return e.attributeName})).filter((function(e){return e}))}(e))}));return n.observe(e.input,{attributes:!0}),n},deregisterValidationAttributeChangeHandler:function(e){e.disconnect()}}},t.prototype.getInputAdapterMethods=function(){var e=this;return{getNativeInput:function(){return e.input},setInputAttr:function(t,n){e.input.setAttribute(t,n)},removeInputAttr:function(t){e.input.removeAttribute(t)},isFocused:function(){return document.activeElement===e.input},registerInputInteractionHandler:function(t,n){e.input.addEventListener(t,n,kp())},deregisterInputInteractionHandler:function(t,n){e.input.removeEventListener(t,n,kp())}}},t.prototype.getLabelAdapterMethods=function(){var e=this;return{floatLabel:function(t){e.label&&e.label.float(t)},getLabelWidth:function(){return e.label?e.label.getWidth():0},hasLabel:function(){return Boolean(e.label)},shakeLabel:function(t){e.label&&e.label.shake(t)},setLabelRequired:function(t){e.label&&e.label.setRequired(t)}}},t.prototype.getLineRippleAdapterMethods=function(){var e=this;return{activateLineRipple:function(){e.lineRipple&&e.lineRipple.activate()},deactivateLineRipple:function(){e.lineRipple&&e.lineRipple.deactivate()},setLineRippleTransformOrigin:function(t){e.lineRipple&&e.lineRipple.setRippleCenter(t)}}},t.prototype.getOutlineAdapterMethods=function(){var e=this;return{closeOutline:function(){e.outline&&e.outline.closeNotch()},hasOutline:function(){return Boolean(e.outline)},notchOutline:function(t){e.outline&&e.outline.notch(t)}}},t.prototype.getFoundationMap=function(){return{characterCounter:this.characterCounter?this.characterCounter.foundationForTextField:void 0,helperText:this.helperText?this.helperText.foundationForTextField:void 0,leadingIcon:this.leadingIcon?this.leadingIcon.foundationForTextField:void 0,trailingIcon:this.trailingIcon?this.trailingIcon.foundationForTextField:void 0}},t.prototype.createRipple=function(e){var t=this,n=this.root.classList.contains(Rf.TEXTAREA),i=this.root.classList.contains(Rf.OUTLINED);if(n||i)return null;var r=gc(gc({},Hp.createAdapter(this)),{isSurfaceActive:function(){return Np(t.input,":active")},registerInteractionHandler:function(e,n){t.input.addEventListener(e,n,kp())},deregisterInteractionHandler:function(e,n){t.input.removeEventListener(e,n,kp())}});return e(this.root,new jp(r))},t}(Ap);
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function Yf(e,t,n){let i=e.inputtype,r=e.inputlabel,o=e.inputmodel,s=t.create("label",{class:"mdc-text-field mdc-text-field--outlined",style:"\r\n                width: 100%\r\n            "},t.create("span",{class:"mdc-notched-outline",style:"color:white;"},t.create("span",{class:"mdc-notched-outline__leading"}),t.create("span",{class:"mdc-notched-outline__notch"},t.create("span",{class:"mdc-floating-label",id:"my-label-id",style:"color:white;"},r)),t.create("span",{class:"mdc-notched-outline__trailing"})),t.create("input",{type:i,class:"mdc-text-field__input","x-model":o,"aria-labelledby":"my-label-id",style:"\r\n                color:white;\r\n                width:100%;\r\n                "}));return new Kf(s),s}function Xf(e,t,n){return t.create(t.fragment,null,t.create("div",{style:"\r\n    margin-top: 12px;\r\n"},t.create(Yf,{inputtype:"email",inputlabel:"Email",inputmodel:"email"})),t.create("div",{style:"\r\n    margin-top: 12px;\r\n"},t.create(Yf,{inputtype:"password",inputlabel:"Password",inputmodel:"password"})),t.create("div",{style:"margin-top: 12px;","x-show":"mode == 'signup'"},"If you forget your password, all account ",t.create("br",null),"data will be lost permanently."),t.create("div",{style:"margin-top: 16px;"},"Your account data is stored encrypted."),t.create("div",{"x-show":"mode == 'signup'"},t.create("div",{style:"\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    "},t.create("div",{"x-type":"--raised","x-label":"Sign up",style:"margin-top: 12px;","x-bind":"actions.signup","x-show":"!auth.authenticating"},t.create(Gp,{label:"Sign up",type:"--raised"})))),t.create("div",{"x-show":"mode == 'login'"},t.create("div",{style:"\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    "},t.create("div",{"x-type":"--raised","x-label":"Sign in",style:"margin-top: 12px;","x-bind":"actions.signin","x-show":"!auth.authenticating"},t.create(Gp,{label:"Sign in",type:"--raised"})))),t.create("div",{style:"\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        "},t.create("div",{"x-show":"auth.authenticating",style:"\r\n    margin-top: 16px;\r\n    color: var(--mdc-theme-primary);\r\n    height: 8px;\r\n    width: 95%;\r\n"},t.create(mf,null))))}function Jf(e,t,n){return t.create(t.fragment,null,t.create("div",{"x-show":"mode == 'signup'"},t.create("div",{style:"display: flex; align-items: center; justify-content: center"},t.create("div",{"x-type":"--raised","x-label":"Sign up / Sign in",style:"margin-top: 12px","x-bind":"actions.googlesignin","x-show":"!auth.authenticating"},t.create(Gp,{label:"Sign in",type:"--raised"})))),t.create("div",{style:"\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        "},t.create("div",{"x-show":"auth.authenticating",style:"\r\n    margin-top: 16px;\r\n    color: var(--mdc-theme-primary);\r\n    height: 8px;\r\n    width: 95%;\r\n"},t.create(mf,null))))}function Qf(e,t,n){return t.create(t.fragment,null,t.create("span",{class:"material-icons",style:"\r\n                                        width: 100%;\r\n                                        height: 100%;\r\n                                        margin-bottom: 24px;\r\n                                    ","x-show":"!auth.authenticating"},t.create("div",{"x-on:click":"() => {\r\n                                        if (loginwith == 'google') {\r\n                                            step = 'pickprovider'\r\n                                        } else {\r\n                                            step = 'loginorsignup'\r\n                                        }\r\n                                            \r\n                                        }"},"arrow_back")),t.create("div",{"x-show":"mode == 'signup'"},t.create("div",{style:"\r\n                                        display: flex;\r\n                                        align-items: center;\r\n                                        justify-content: center;\r\n                                        "},t.create("h2",null,"Welcome!"))),t.create("div",{"x-show":"mode == 'login'"},t.create("div",{style:"\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          "},t.create("h2",null,"Welcome back!"))))}function Zf(e,t,n){return t.create(t.fragment,null,t.create("span",{class:"material-icons",style:"width: 100%; height: 100%; margin-bottom: 24px"},t.create("div",{"x-on:click":"() => {\r\n        auth.dialogopen = false\r\n    }"},"arrow_back")),t.create("div",{style:"display: flex; align-items: center; justify-content: center"},t.create("div",{"x-on:click":"() => {\r\n                                            mode = 'login'\r\n                                            step = 'page'\r\n                                        }"},t.create(Gp,{label:"Sign in",type:"--raised"})),t.create("div",{style:"margin-left: 38px","x-on:click":"() => {\r\n                                            mode = 'signup'\r\n                                            step = 'page'\r\n                                        }"},t.create(Gp,{label:"Sign up",type:"--raised"}))),t.create("div",{"x-data":!0,"x-effect":"() => {\r\n    if (loginwith == 'google' && step == 'loginorsignup') {\r\n        step = 'page';\r\n        mode = 'signup';\r\n    }\r\n}"}))}function em(e,t,n){return t.create(t.fragment,null,t.create("div",{style:"\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n"},t.create("div",{"x-on:click":"() => {\r\n                                        loginwith = 'google';\r\n                                        step = 'loginorsignup';\r\n    }"},t.create(Gp,{label:"Google",type:"--raised"}))),t.create("div",{style:"\r\n       display: flex;\r\n       align-items: center;\r\n       justify-content: center;\r\n       margin-top: 8px;\r\n"},t.create("div",{"x-on:click":"() => {\r\n                                        loginwith = 'email';\r\n                                        step = 'loginorsignup';\r\n                                    }"},t.create(Gp,{label:"Email / Password",type:"--raised"}))))}let tm=new Worker(new URL("/assets/wasmhandler-8564a642.js",self.location),{type:"module"}),nm=[];const im=import.meta.url;function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rm.apply(this,arguments)}tm.onmessage=e=>{for(let t of nm)t(e.data);nm=[]};var om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm="object"===("undefined"==typeof window?"undefined":om(window))&&"object"===("undefined"==typeof document?"undefined":om(document))&&9===document.nodeType;function am(e){return am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(e)}function lm(e){var t=function(e,t){if("object"!==am(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==am(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===am(t)?t:String(t)}function cm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,lm(i.key),i)}}function um(e,t,n){return t&&cm(e.prototype,t),n&&cm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dm(e,t){return dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dm(e,t)}function hm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dm(e,t)}function pm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var fm={}.constructor;function mm(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(mm);if(e.constructor!==fm)return e;var t={};for(var n in e)t[n]=mm(e[n]);return t}function gm(e,t,n){void 0===e&&(e="unnamed");var i=n.jss,r=mm(t),o=i.plugins.onCreateRule(e,r,n);return o||(e[0],null)}var ym=function(e,t){for(var n="",i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=t),n+=e[i];return n},vm=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=ym(e[n]," ");else t=ym(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function _m(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function bm(e,t){for(var n="",i=0;i<t;i++)n+="  ";return n+e}function Im(e,t,n){void 0===n&&(n={});var i="";if(!t)return i;var r=n.indent,o=void 0===r?0:r,s=t.fallbacks;!1===n.format&&(o=-1/0);var a=_m(n),l=a.linebreak,c=a.space;if(e&&o++,s)if(Array.isArray(s))for(var u=0;u<s.length;u++){var d=s[u];for(var h in d){var p=d[h];null!=p&&(i&&(i+=l),i+=bm(h+":"+c+vm(p)+";",o))}}else for(var f in s){var m=s[f];null!=m&&(i&&(i+=l),i+=bm(f+":"+c+vm(m)+";",o))}for(var g in t){var y=t[g];null!=y&&"fallbacks"!==g&&(i&&(i+=l),i+=bm(g+":"+c+vm(y)+";",o))}return(i||n.allowEmpty)&&e?(i&&(i=""+l+i+l),bm(""+e+c+"{"+i,--o)+bm("}",o)):i}var Em=/([[\].#*$><+~=|^:(),"'`\s])/g,wm="undefined"!=typeof CSS&&CSS.escape,Tm=function(e){return wm?wm(e):e.replace(Em,"\\$1")},Cm=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var i=n.sheet,r=n.Renderer;this.key=e,this.options=n,this.style=t,i?this.renderer=i.renderer:r&&(this.renderer=new r)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var i=!!n&&n.force;if(!i&&this.style[e]===t)return this;var r=t;n&&!1===n.process||(r=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==r||!1===r,s=e in this.style;if(o&&!s&&!i)return this;var a=o&&s;if(a?delete this.style[e]:this.style[e]=r,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,r),this;var l=this.options.sheet;return l&&l.attached,this},e}(),Sm=function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var o=i.selector,s=i.scoped,a=i.sheet,l=i.generateId;return o?r.selectorText=o:!1!==s&&(r.id=l(pm(pm(r)),a),r.selectorText="."+Tm(r.id)),r}hm(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var i in n)t.setProperty(e,i,n[i])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=vm(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?rm({},e,{allowEmpty:!0}):e;return Im(this.selectorText,this.style,n)},um(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(Cm),xm={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new Sm(e,t,n)}},Am={indent:1,children:!0},km=/@([\w-]+)/,Om=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(km);for(var r in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new eg(rm({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),i):null},t.replaceRule=function(e,t,n){var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),i},t.toString=function(e){void 0===e&&(e=Am);var t=_m(e).linebreak;if(null==e.indent&&(e.indent=Am.indent),null==e.children&&(e.children=Am.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),Nm=/@container|@media|@supports\s+/,Rm={onCreateRule:function(e,t,n){return Nm.test(e)?new Om(e,t,n):null}},Pm={indent:1,children:!0},Lm=/@keyframes\s+([\w-]+)/,Dm=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(Lm);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var r=n.scoped,o=n.sheet,s=n.generateId;for(var a in this.id=!1===r?this.name:Tm(s(this,o)),this.rules=new eg(rm({},n,{parent:this})),t)this.rules.add(a,t[a],rm({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=Pm);var t=_m(e).linebreak;if(null==e.indent&&(e.indent=Pm.indent),null==e.children&&(e.children=Pm.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Mm=/@keyframes\s+/,Fm=/\$([\w-]+)/g,jm=function(e,t){return"string"==typeof e?e.replace(Fm,(function(e,n){return n in t?t[n]:e})):e},Hm=function(e,t,n){var i=e[t],r=jm(i,n);r!==i&&(e[t]=r)},Um={onCreateRule:function(e,t,n){return"string"==typeof e&&Mm.test(e)?new Dm(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Hm(e,"animation-name",n.keyframes),"animation"in e&&Hm(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var i=n.options.sheet;if(!i)return e;switch(t){case"animation":case"animation-name":return jm(e,i.keyframes);default:return e}}},qm=function(e){function t(){return e.apply(this,arguments)||this}return hm(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?rm({},e,{allowEmpty:!0}):e;return Im(this.key,this.style,n)},t}(Cm),Bm={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new qm(e,t,n):null}},Vm=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=_m(e).linebreak;if(Array.isArray(this.style)){for(var n="",i=0;i<this.style.length;i++)n+=Im(this.at,this.style[i]),this.style[i+1]&&(n+=t);return n}return Im(this.at,this.style,e)},e}(),Wm=/@font-face/,zm={onCreateRule:function(e,t,n){return Wm.test(e)?new Vm(e,t,n):null}},$m=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return Im(this.key,this.style,e)},e}(),Gm={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new $m(e,t,n):null}},Km=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Ym={"@charset":!0,"@import":!0,"@namespace":!0},Xm={onCreateRule:function(e,t,n){return e in Ym?new Km(e,t,n):null}},Jm=[xm,Rm,Um,Bm,zm,Gm,Xm],Qm={process:!0},Zm={force:!0,process:!0},eg=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,r=i.parent,o=i.sheet,s=i.jss,a=i.Renderer,l=i.generateId,c=i.scoped,u=rm({classes:this.classes,parent:r,sheet:o,jss:s,Renderer:a,generateId:l,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(u.selector="."+Tm(this.classes[d]));var h=gm(d,t,u);if(!h)return null;this.register(h);var p=void 0===u.index?this.index.length:u.index;return this.index.splice(p,0,h),h},t.replace=function(e,t,n){var i=this.get(e),r=this.index.indexOf(i);i&&this.remove(i);var o=n;return-1!==r&&(o=rm({},n,{index:r})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof Sm?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Dm&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof Sm?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Dm&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var i=0;i<this.index.length;i++)this.updateOne(this.index[i],t,n)},t.updateOne=function(t,n,i){void 0===i&&(i=Qm);var r=this.options,o=r.jss.plugins,s=r.sheet;if(t.rules instanceof e)t.rules.update(n,i);else{var a=t.style;if(o.onUpdate(n,t,s,i),i.process&&a&&a!==t.style){for(var l in o.onProcessStyle(t.style,t,s),t.style){var c=t.style[l];c!==a[l]&&t.prop(l,c,Zm)}for(var u in a){var d=t.style[u],h=a[u];null==d&&d!==h&&t.prop(u,null,Zm)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,i=!!n&&n.options.link,r=_m(e).linebreak,o=0;o<this.index.length;o++){var s=this.index[o].toString(e);(s||i)&&(t&&(t+=r),t+=s)}return t},e}(),tg=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=rm({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new eg(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var i=this.queue;this.attached&&!i&&(this.queue=[]);var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(i?i.push(r):(this.insertRule(r),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),r):r:(this.deployed=!1,r)):null},t.replaceRule=function(e,t,n){var i=this.rules.get(e);if(!i)return this.addRule(e,t,n);var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(this.renderer&&(r?i.renderable&&this.renderer.replaceRule(i.renderable,r):this.renderer.deleteRule(i)),r):r:(this.deployed=!1,r)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var i in e){var r=this.addRule(i,e[i],t);r&&n.push(r)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ng=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var i=0;i<this.registry.onCreateRule.length;i++){var r=this.registry.onCreateRule[i](e,t,n);if(r)return r}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var i=0;i<this.registry.onProcessStyle.length;i++)t.style=this.registry.onProcessStyle[i](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,i){for(var r=0;r<this.registry.onUpdate.length;r++)this.registry.onUpdate[r](e,t,n,i)},t.onChangeValue=function(e,t,n){for(var i=e,r=0;r<this.registry.onChangeValue.length;r++)i=this.registry.onChangeValue[r](i,t,n);return i},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ig=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var i=0;i<t.length;i++)if(t[i].options.index>n)return void t.splice(i,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,i=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["attached"]),r=_m(i).linebreak,o="",s=0;s<this.registry.length;s++){var a=this.registry[s];null!=n&&a.attached!==n||(o&&(o+=r),o+=a.toString(i))}return o},um(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),rg=new ig,og="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),sg="2f1acc6c3a606b082e5eef5e54414ffb";null==og[sg]&&(og[sg]=0);var ag=og[sg]++,lg=function(e){void 0===e&&(e={});var t=0;return function(n,i){t+=1;var r="",o="";return i&&(i.options.classNamePrefix&&(o=i.options.classNamePrefix),null!=i.options.jss.id&&(r=String(i.options.jss.id))),e.minify?""+(o||"c")+ag+r+t:o+n.key+"-"+ag+(r?"-"+r:"")+"-"+t}},cg=function(e){var t;return function(){return t||(t=e()),t}},ug=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},dg=function(e,t,n){try{var i=n;if(Array.isArray(n)&&(i=vm(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,i);else{var r=i?i.indexOf("!important"):-1,o=r>-1?i.substr(0,r-1):i;e.style.setProperty(t,o,r>-1?"important":"")}}catch(s){return!1}return!0},hg=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},pg=function(e,t){return e.selectorText=t,e.selectorText===t},fg=cg((function(){return document.querySelector("head")}));function mg(e){var t=rg.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.attached&&i.options.index>t.index&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.attached&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var i=e.insertionPoint;if(i&&"string"==typeof i){var r=function(e){for(var t=fg(),n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(8===i.nodeType&&i.nodeValue.trim()===e)return i}return null}(i);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}var gg,yg=cg((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),vg=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(i){return!1}return e.cssRules[n]},_g=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},bg=function(){function e(e){this.getPropertyValue=ug,this.setProperty=dg,this.removeProperty=hg,this.setSelector=pg,this.hasInsertedRules=!1,this.cssRules=[],e&&rg.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,i=t.meta,r=t.element;this.element=r||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),i&&this.element.setAttribute("data-meta",i);var o=yg();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,i=mg(t);if(!1!==i&&i.parent)i.parent.insertBefore(e,i.node);else if(n&&"number"==typeof n.nodeType){var r=n,o=r.parentNode;o&&o.insertBefore(e,r.nextSibling)}else fg().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var i=e,r=n;if("conditional"===e.type||"keyframes"===e.type){var o=_g(n,t);if(!1===(r=vg(n,i.toString({children:!1}),o)))return!1;this.refCssRule(e,o,r)}return this.insertRules(i.rules,r),r}var s=e.toString();if(!s)return!1;var a=_g(n,t),l=vg(n,s,a);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,a,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof tg&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Ig=0,Eg=function(){function e(e){this.id=Ig++,this.version="10.10.0",this.plugins=new ng,this.options={id:{minify:!1},createGenerateId:lg,Renderer:sm?bg:null,plugins:[]},this.generateId=lg({minify:!1});for(var t=0;t<Jm.length;t++)this.plugins.use(Jm[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=rm({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===rg.index?0:rg.index+1);var i=new tg(e,rm({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),rg.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var i=rm({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var r=gm(e,t,i);return r&&this.plugins.onProcessRule(r),r},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),wg="object"==typeof CSS&&null!=CSS&&"number"in CSS;const Tg=new Eg(gg);var Cg=Date.now(),Sg="fnValues"+Cg,xg="fnStyle"+ ++Cg;const Ag=function(){return{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var i=gm(e,{},n);return i[xg]=t,i},onProcessStyle:function(e,t){if(Sg in t||xg in t)return e;var n={};for(var i in e){var r=e[i];"function"==typeof r&&(delete e[i],n[i]=r)}return t[Sg]=n,e},onUpdate:function(e,t,n,i){var r=t,o=r[xg];o&&(r.style=o(e)||{});var s=r[Sg];if(s)for(var a in s)r.prop(a,s[a](e),i)}}};var kg=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()),Og=function(e){return e&&e[kg]&&e===e[kg]()};const Ng=function(e){return{onCreateRule:function(t,n,i){if(!Og(n))return null;var r=n,o=gm(t,{},i);return r.subscribe((function(t){for(var n in t)o.prop(n,t[n],e)})),o},onProcessRule:function(t){if(!t||"style"===t.type){var n=t,i=n.style,r=function(t){var r=i[t];if(!Og(r))return"continue";delete i[t],r.subscribe({next:function(i){n.prop(t,i,e)}})};for(var o in i)r(o)}}}};var Rg=/;\n/,Pg=function(e){"string"==typeof e.style&&(e.style=function(e){for(var t={},n=e.split(Rg),i=0;i<n.length;i++){var r=(n[i]||"").trim();if(r){var o=r.indexOf(":");if(-1!==o){var s=r.substr(0,o).trim(),a=r.substr(o+1).trim();t[s]=a}}}return t}(e.style))};var Lg="@global",Dg="@global ",Mg=function(){function e(e,t,n){for(var i in this.type="global",this.at=Lg,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new eg(rm({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),i},t.replaceRule=function(e,t,n){var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),i},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Fg=function(){function e(e,t,n){this.type="global",this.at=Lg,this.isProcessed=!1,this.key=e,this.options=n;var i=e.substr(8);this.rule=n.jss.createRule(i,t,rm({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),jg=/\s*,\s*/g;function Hg(e,t){for(var n=e.split(jg),i="",r=0;r<n.length;r++)i+=t+" "+n[r].trim(),n[r+1]&&(i+=", ");return i}function Ug(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Lg)return new Mg(e,t,n);if("@"===e[0]&&e.substr(0,8)===Dg)return new Fg(e,t,n);var i=n.parent;return i&&("global"===i.type||i.options.parent&&"global"===i.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,r=i?i[Lg]:null;if(r){for(var o in r)t.addRule(o,r[o],rm({},n,{selector:Hg(o,e.selector)}));delete i[Lg]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var r in i)if("@"===r[0]&&r.substr(0,Lg.length)===Lg){var o=Hg(r.substr(Lg.length),e.selector);t.addRule(o,i[r],rm({},n,{selector:o})),delete i[r]}}(e,t))}}}var qg=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},Bg="extendCurrValue"+Date.now();function Vg(e,t,n,i){return void 0===i&&(i={}),function(e,t,n,i){if("string"!=typeof e.extend)if(Array.isArray(e.extend))for(var r=0;r<e.extend.length;r++){var o=e.extend[r];Vg("string"==typeof o?rm({},e,{extend:o}):e.extend[r],t,n,i)}else for(var s in e.extend)"extend"!==s?qg(e.extend[s])?(s in i||(i[s]={}),Vg(e.extend[s],t,n,i[s])):i[s]=e.extend[s]:Vg(e.extend.extend,t,n,i);else{if(!n)return;var a=n.getRule(e.extend);if(!a)return;if(a===t)return;var l=a.options.parent;l&&Vg(l.rules.raw[e.extend],t,n,i)}}(e,t,n,i),function(e,t,n,i){for(var r in e)"extend"!==r&&(qg(i[r])&&qg(e[r])?Vg(e[r],t,n,i[r]):qg(e[r])?i[r]=Vg(e[r],t,n):i[r]=e[r])}(e,t,n,i),i}var Wg=/\s*,\s*/g,zg=/&/g,$g=/\$([\w-]+)/g;function Gg(){function e(e,t){return function(n,i){var r=e.getRule(i)||t&&t.getRule(i);return r?r.selector:i}}function t(e,t){for(var n=t.split(Wg),i=e.split(Wg),r="",o=0;o<n.length;o++)for(var s=n[o],a=0;a<i.length;a++){var l=i[a];r&&(r+=", "),r+=-1!==l.indexOf("&")?l.replace(zg,s):s+" "+l}return r}function n(e,t,n){if(n)return rm({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var r=rm({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete r.name,r}return{onProcessStyle:function(i,r,o){if("style"!==r.type)return i;var s,a,l=r,c=l.options.parent;for(var u in i){var d=-1!==u.indexOf("&"),h="@"===u[0];if(d||h){if(s=n(l,c,s),d){var p=t(u,l.selector);a||(a=e(c,o)),p=p.replace($g,a);var f=l.key+"-"+u;"replaceRule"in c?c.replaceRule(f,i[u],rm({},s,{selector:p})):c.addRule(f,i[u],rm({},s,{selector:p}))}else h&&c.addRule(u,{},s).addRule(l.key,i[u],{selector:l.selector});delete i[u]}}return i}}}function Kg(e,t){if(!t)return!0;if(Array.isArray(t)){for(var n=0;n<t.length;n++){if(!Kg(e,t[n]))return!1}return!0}if(t.indexOf(" ")>-1)return Kg(e,t.split(" "));var i=e.options.parent;if("$"===t[0]){var r=i.getRule(t.substr(1));return!!r&&(r!==e&&(i.classes[e.key]+=" "+i.classes[r.key],!0))}return i.classes[e.key]+=" "+t,!0}function Yg(){return{onProcessStyle:function(e,t){return"composes"in e?(Kg(t,e.composes),delete e.composes,e):e}}}var Xg=/[A-Z]/g,Jg=/^ms-/,Qg={};function Zg(e){return"-"+e.toLowerCase()}function ey(e){if(Qg.hasOwnProperty(e))return Qg[e];var t=e.replace(Xg,Zg);return Qg[e]=Jg.test(t)?"-"+t:t}function ty(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:ey(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ty):t.fallbacks=ty(e.fallbacks)),t}var ny=wg&&CSS?CSS.px:"px",iy=wg&&CSS?CSS.ms:"ms",ry=wg&&CSS?CSS.percent:"%";function oy(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},i={};for(var r in e)i[r]=e[r],i[r.replace(t,n)]=e[r];return i}var sy=oy({"animation-delay":iy,"animation-duration":iy,"background-position":ny,"background-position-x":ny,"background-position-y":ny,"background-size":ny,border:ny,"border-bottom":ny,"border-bottom-left-radius":ny,"border-bottom-right-radius":ny,"border-bottom-width":ny,"border-left":ny,"border-left-width":ny,"border-radius":ny,"border-right":ny,"border-right-width":ny,"border-top":ny,"border-top-left-radius":ny,"border-top-right-radius":ny,"border-top-width":ny,"border-width":ny,"border-block":ny,"border-block-end":ny,"border-block-end-width":ny,"border-block-start":ny,"border-block-start-width":ny,"border-block-width":ny,"border-inline":ny,"border-inline-end":ny,"border-inline-end-width":ny,"border-inline-start":ny,"border-inline-start-width":ny,"border-inline-width":ny,"border-start-start-radius":ny,"border-start-end-radius":ny,"border-end-start-radius":ny,"border-end-end-radius":ny,margin:ny,"margin-bottom":ny,"margin-left":ny,"margin-right":ny,"margin-top":ny,"margin-block":ny,"margin-block-end":ny,"margin-block-start":ny,"margin-inline":ny,"margin-inline-end":ny,"margin-inline-start":ny,padding:ny,"padding-bottom":ny,"padding-left":ny,"padding-right":ny,"padding-top":ny,"padding-block":ny,"padding-block-end":ny,"padding-block-start":ny,"padding-inline":ny,"padding-inline-end":ny,"padding-inline-start":ny,"mask-position-x":ny,"mask-position-y":ny,"mask-size":ny,height:ny,width:ny,"min-height":ny,"max-height":ny,"min-width":ny,"max-width":ny,bottom:ny,left:ny,top:ny,right:ny,inset:ny,"inset-block":ny,"inset-block-end":ny,"inset-block-start":ny,"inset-inline":ny,"inset-inline-end":ny,"inset-inline-start":ny,"box-shadow":ny,"text-shadow":ny,"column-gap":ny,"column-rule":ny,"column-rule-width":ny,"column-width":ny,"font-size":ny,"font-size-delta":ny,"letter-spacing":ny,"text-decoration-thickness":ny,"text-indent":ny,"text-stroke":ny,"text-stroke-width":ny,"word-spacing":ny,motion:ny,"motion-offset":ny,outline:ny,"outline-offset":ny,"outline-width":ny,perspective:ny,"perspective-origin-x":ry,"perspective-origin-y":ry,"transform-origin":ry,"transform-origin-x":ry,"transform-origin-y":ry,"transform-origin-z":ry,"transition-delay":iy,"transition-duration":iy,"vertical-align":ny,"flex-basis":ny,"shape-margin":ny,size:ny,gap:ny,grid:ny,"grid-gap":ny,"row-gap":ny,"grid-row-gap":ny,"grid-column-gap":ny,"grid-template-rows":ny,"grid-template-columns":ny,"grid-auto-rows":ny,"grid-auto-columns":ny,"box-shadow-x":ny,"box-shadow-y":ny,"box-shadow-blur":ny,"box-shadow-spread":ny,"font-line-height":ny,"text-shadow-x":ny,"text-shadow-y":ny,"text-shadow-blur":ny});function ay(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]=ay(e,t[i],n);else if("object"==typeof t)if("fallbacks"===e)for(var r in t)t[r]=ay(r,t[r],n);else for(var o in t)t[o]=ay(e+"-"+o,t[o],n);else if("number"==typeof t&&!1===isNaN(t)){var s=n[e]||sy[e];return!s||0===t&&s===ny?t.toString():"function"==typeof s?s(t).toString():""+t+s}return t}function ly(e){void 0===e&&(e={});var t=oy(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var i in e)e[i]=ay(i,e[i],t);return e},onChangeValue:function(e,n){return ay(n,e,t)}}}var cy={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},uy={position:!0,size:!0},dy={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},hy={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function py(e,t,n,i){return null==n[t]?e:0===e.length?[]:Array.isArray(e[0])?py(e[0],t,n,i):"object"==typeof e[0]?function(e,t,n){return e.map((function(e){return fy(e,t,n,!1,!0)}))}(e,t,i):[e]}function fy(e,t,n,i,r){if(!dy[t]&&!hy[t])return[];var o=[];if(hy[t]&&(e=function(e,t,n,i){for(var r in n){var o=n[r];if(void 0!==e[r]&&(i||!t.prop(o))){var s,a=my((s={},s[o]=e[r],s),t)[o];i?t.style.fallbacks[o]=a:t.style[o]=a}delete e[r]}return e}(e,n,hy[t],i)),Object.keys(e).length)for(var s in dy[t])e[s]?Array.isArray(e[s])?o.push(null===uy[s]?e[s]:e[s].join(" ")):o.push(e[s]):null!=dy[t][s]&&o.push(dy[t][s]);return!o.length||r?o:[o]}function my(e,t,n){for(var i in e){var r=e[i];if(Array.isArray(r)){if(!Array.isArray(r[0])){if("fallbacks"===i){for(var o=0;o<e.fallbacks.length;o++)e.fallbacks[o]=my(e.fallbacks[o],t,!0);continue}e[i]=py(r,i,cy,t),e[i].length||delete e[i]}}else if("object"==typeof r){if("fallbacks"===i){e.fallbacks=my(e.fallbacks,t,!0);continue}e[i]=fy(r,i,t,n),e[i].length||delete e[i]}else""===e[i]&&delete e[i]}return e}function gy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function yy(e){return function(e){if(Array.isArray(e))return gy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gy(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vy="",_y="",by="",Iy="",Ey=sm&&"ontouchstart"in document.documentElement;if(sm){var wy={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Ty=document.createElement("p").style;for(var Cy in wy)if(Cy+"Transform"in Ty){vy=Cy,_y=wy[Cy];break}"Webkit"===vy&&"msHyphens"in Ty&&(vy="ms",_y=wy.ms,Iy="edge"),"Webkit"===vy&&"-apple-trailing-word"in Ty&&(by="apple")}var Sy={js:vy,css:_y,vendor:by,browser:Iy,isTouch:Ey};var xy={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===Sy.js?"-webkit-"+e:Sy.css+e)}},Ay={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===Sy.js?Sy.css+"print-"+e:e)}},ky=/[-\s]+(.)?/g;function Oy(e,t){return t?t.toUpperCase():""}function Ny(e){return e.replace(ky,Oy)}function Ry(e){return Ny("-"+e)}var Py,Ly={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===Sy.js){var n="mask-image";if(Ny(n)in t)return e;if(Sy.js+Ry(n)in t)return Sy.css+e}return e}},Dy={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Sy.vendor||Sy.isTouch?e:Sy.css+e)}},My={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Sy.css+e)}},Fy={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Sy.css+e)}},jy={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===Sy.js||"ms"===Sy.js&&"edge"!==Sy.browser?Sy.css+e:e)}},Hy={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===Sy.js||"ms"===Sy.js||"apple"===Sy.vendor?Sy.css+e:e)}},Uy={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===Sy.js?"WebkitColumn"+Ry(e)in t&&Sy.css+"column-"+e:"Moz"===Sy.js&&("page"+Ry(e)in t&&"page-"+e))}},qy={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===Sy.js)return e;var n=e.replace("-inline","");return Sy.js+Ry(n)in t&&Sy.css+n}},By={supportedProperty:function(e,t){return Ny(e)in t&&e}},Vy={supportedProperty:function(e,t){var n=Ry(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:Sy.js+n in t?Sy.css+e:"Webkit"!==Sy.js&&"Webkit"+n in t&&"-webkit-"+e}},Wy={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===Sy.js?""+Sy.css+e:e)}},zy={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===Sy.js?Sy.css+"scroll-chaining":e)}},$y={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Gy={supportedProperty:function(e,t){var n=$y[e];return!!n&&(Sy.js+Ry(n)in t&&Sy.css+n)}},Ky={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Yy=Object.keys(Ky),Xy=function(e){return Sy.css+e},Jy={supportedProperty:function(e,t,n){var i=n.multiple;if(Yy.indexOf(e)>-1){var r=Ky[e];if(!Array.isArray(r))return Sy.js+Ry(r)in t&&Sy.css+r;if(!i)return!1;for(var o=0;o<r.length;o++)if(!(Sy.js+Ry(r[0])in t))return!1;return r.map(Xy)}return!1}},Qy=[xy,Ay,Ly,Dy,My,Fy,jy,Hy,Uy,qy,By,Vy,Wy,zy,Gy,Jy],Zy=Qy.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),ev=Qy.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,yy(t.noPrefill)),e}),[]),tv={};if(sm){Py=document.createElement("p");var nv=window.getComputedStyle(document.documentElement,"");for(var iv in nv)isNaN(iv)||(tv[nv[iv]]=nv[iv]);ev.forEach((function(e){return delete tv[e]}))}function rv(e,t){if(void 0===t&&(t={}),!Py)return e;if(null!=tv[e])return tv[e];"transition"!==e&&"transform"!==e||(t[e]=e in Py.style);for(var n=0;n<Zy.length&&(tv[e]=Zy[n](e,Py.style,t),!tv[e]);n++);try{Py.style[e]=""}catch(i){return!1}return tv[e]}var ov,sv={},av={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},lv=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function cv(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var i=t?rv(t):", "+rv(n);return i||(t||n)}function uv(e,t){var n=t;if(!ov||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var i=e+n;if(null!=sv[i])return sv[i];try{ov.style[e]=n}catch(r){return sv[i]=!1,!1}if(av[e])n=n.replace(lv,cv);else if(""===ov.style[e]&&("-ms-flex"===(n=Sy.css+n)&&(ov.style[e]="-ms-flexbox"),ov.style[e]=n,""===ov.style[e]))return sv[i]=!1,!1;return ov.style[e]="",sv[i]=n,sv[i]}function dv(){function e(t){for(var n in t){var i=t[n];if("fallbacks"===n&&Array.isArray(i))t[n]=i.map(e);else{var r=!1,o=rv(n);o&&o!==n&&(r=!0);var s=!1,a=uv(o,vm(i));a&&a!==i&&(s=!0),(r||s)&&(r&&delete t[n],t[o||n]=a||i)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===Sy.js?e:"@"+Sy.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return uv(t,vm(e))||e}}}sm&&(ov=document.createElement("p"));const hv=function(e){return void 0===e&&(e={}),{plugins:[Ag(),Ng(e.observable),{onProcessRule:Pg},Ug(),{onProcessStyle:function(e,t,n){return"extend"in e?Vg(e,t,n):e},onChangeValue:function(e,t,n){if("extend"!==t)return e;if(null==e||!1===e){for(var i in n[Bg])n.prop(i,null);return n[Bg]=null,null}if("object"==typeof e){for(var r in e)n.prop(r,e[r]);n[Bg]=e}return null}},Gg(),Yg(),{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=ty(e[t]);return e}return ty(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var i=ey(t);return t===i?e:(n.prop(i,e),null)}},ly(e.defaultUnit),{onProcessStyle:function(e,t){if(!e||"style"!==t.type)return e;if(Array.isArray(e)){for(var n=0;n<e.length;n++)e[n]=my(e[n],t);return e}return my(e,t)}},dv(),(t=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length},{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var i={},r=Object.keys(e).sort(t),o=0;o<r.length;o++)i[r[o]]=e[r[o]];return i}})]};var t};function pv(e,t,n){return t.create("div",{"x-bind:class":"'mdc-dialog' + (auth.dialogopen ? ' mdc-dialog--open' : '')","x-data":"loginModal"},t.create("div",{class:"mdc-dialog__container"},t.create("div",{class:"mdc-dialog__surface","aria-modal":"true","aria-labelledby":"my-dialog-title","aria-describedby":"my-dialog-content"},t.create("div",{class:"mdc-dialog__content",id:"my-dialog-content",style:"\r\n                            color: white;\r\n                            \r\n                        "},t.create("style",null,".layer1, .layer2{\n                grid-column: 1;\n                grid-row: 1;\n              }"),t.create(Zp,{attributes:{"x-transition:enter.duration.1000ms":"","x-transition:enter.delay.350ms":"","x-transition:leave.duration.250ms":""}},t.create("span",{class:"material-icons",style:"\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    margin-bottom: 24px;\r\n                ","x-show":"!auth.authenticating && step === 'pickprovider'"},t.create("div",{"x-on:click":"() => {\r\n                                auth.dialogopen = false;\r\n                            }"},"arrow_back")),t.create("p",{style:"\r\n                    margin-top: 8px;\r\n                    margin-bottom: 8px;\r\n                ","x-show":"step == 'pickprovider'"},"Please choose your authentication provider from the list below."),t.create("div",{"x-show":"step == 'pickprovider'"},t.create(em,null)),t.create("div",{"x-show":"step == 'loginorsignup'"},t.create(Zf,null)),t.create("div",{"x-show":"step == 'page'"},t.create(Qf,null),t.create("div",{"x-show":"loginwith == 'email'"},t.create(Xf,null)),t.create("div",{"x-show":"loginwith == 'google'"},t.create(Jf,null))))))),t.create("div",{class:"mdc-dialog__scrim"}))}function fv(e,t,n){return t.create(t.fragment,null,t.create("div",{style:"  \r\n  overflow-y: scroll;\r\n  height: calc(calc(var(--vh, 1vh) * 100) - 85px);\r\n  margin-top: 10px;\r\n  "},t.create("div",{style:"\r\n          height: 10px;\r\n          width: calc(100% - 20px);\r\n          margin-left: 10px;\r\n          margin-right: 10px;\r\n          \r\n        "},t.create("div",{style:"\r\n      display: flex;\r\n      background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);\r\n      width: 100%;\r\n      height: 85px;\r\n      padding: 20px;\r\n      border-radius: 5px;\r\n      position: relative;\r\n      align-items: center;\r\n    "},t.create("div",{style:"\r\n        width: 45px;\r\n        height: 45px;\r\n        border-radius: calc(45px / 2);\r\n        background-color: white;\r\n      "}),t.create("div",{"x-show":"!auth.authenticating"},t.create(Zp,{attributes:{"x-transition.duration.250ms":""}},t.create("div",{style:"\r\n                margin-left: 10px;\r\n              ","x-show":"auth.loggedIn","x-text":"auth.email"},"Main")),t.create("div",{style:"\r\n                margin-left: 10px;\r\n                "},t.create("div",{"x-show":"!auth.loggedIn","x-on:click":"() => {\r\n                    auth.dialogopen = true;\r\n                }"},t.create(Gp,{label:"Sign up / Sign in",type:"--raised"})),t.create("div",{"x-show":"auth.loggedIn","x-bind":"actions.signout"},t.create(Gp,{label:"Log out",type:"--raised"})))),t.create("div",{"x-show":"auth.authenticating",style:"\r\n    margin-left: 10px;\r\n    color: var(--mdc-theme-primary);\r\n    height: 8px;\r\n    width: 90%;\r\n"},t.create(mf,null))))),t.create(pv,null))}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Tg.setup(hv()),Tg.createStyleSheet({onedash:{backgroundColor:"white"}}).attach(),document.addEventListener("alpine:init",(()=>{window.Alpine.data("loginModal",(()=>({mode:"",loginwith:"email",step:"loginorsignup",email:"",password:"",actions:{googlesignin:{"@click"(){if(this.auth.authenticating)return;this.auth.authenticating=!0;let e=_p(this.firebaseapp);e.setPersistence(Hd),Th(e,new Yu).then((e=>{let t=e.user;this.auth.loggedIn=!0,this.auth.email=t.email,this.auth.displayName=t.displayName,this.auth.dialogopen=!1,this.auth.uid=t.uid,this.auth.authenticating=!1})).catch((e=>{alert(e.message),this.auth.authenticating=!1}))}},forgetpassword:{"@click"(){if(this.auth.authenticating)return;let e=_p(this.firebaseapp);e.setPersistence(Hd),yd(e,this.email)}},signup:{async"@click"(){if(this.auth.authenticating)return;this.auth.authenticating=!0;const e=cc(),t=btoa(this.email);let n=this.email.toString(),i=(await(r=this.password,new Promise(((e,t)=>{tm=new Worker(new URL("./wasmhandler.ts",im),{type:"module"}),tm.onmessage=t=>{"ready"==t.data?tm.postMessage({req:"newdatabase",password:r}):(e(t.data),tm.terminate())}})))).data;var r;Ul(Fl(e,"/users2/"+t)).then((r=>{null!=r.val()?(alert("User already exists on this service."),this.auth.authenticating=!1):(console.log(i),Hl(Fl(e,"/users2/"+t),{database:i.database}).then((()=>{_d(_p(this.firebaseapp),n,i.accessKey).then((e=>{Id(e.user,{displayName:btoa(JSON.stringify({openid:i.openid}))}).then((()=>{this.auth.dialogopen=!1}))}))})))})),console.log(i)}},signin:{async"@click"(){if(this.auth.authenticating)return;this.auth.authenticating=!0;const e=cc(),t=btoa(this.email);let n=this.email.toString();Ul(Fl(e,"/users2/"+t)).then((async e=>{if(null!=e.val()){let i=e.val().database;try{let e=(await function(e,t){return new Promise(((n,i)=>{nm.push(n),tm.postMessage({req:"getaccesskey",database:e,password:t})}))}(i,this.password)).data;"PASSFAILED"==e?console.log("KeePass was unable to open the database."):console.log("KeePass opened.");let t=_p(this.firebaseapp);await bd(t,n,e);this.auth.authenticating=!1,this.auth.dialogopen=!1}catch(t){this.auth.authenticating=!1,alert(t)}}else alert("User does not exist on this service."),this.auth.authenticating=!1}))}}}})))}));var mv,gv,yv,vv,_v={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},bv={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",OPENING_EVENT:"MDCMenuSurface:opening",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},Iv={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67,TOUCH_EVENT_WAIT_MS:30};!function(e){e[e.BOTTOM=1]="BOTTOM",e[e.CENTER=2]="CENTER",e[e.RIGHT=4]="RIGHT",e[e.FLIP_RTL=8]="FLIP_RTL"}(mv||(mv={})),function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=4]="TOP_RIGHT",e[e.BOTTOM_LEFT=1]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",e[e.TOP_START=8]="TOP_START",e[e.TOP_END=12]="TOP_END",e[e.BOTTOM_START=9]="BOTTOM_START",e[e.BOTTOM_END=13]="BOTTOM_END"}(gv||(gv={}));var Ev={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},wv=((yv={})[""+Ev.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",yv[""+Ev.LIST_ITEM_CLASS]="mdc-list-item",yv[""+Ev.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",yv[""+Ev.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",yv[""+Ev.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",yv[""+Ev.ROOT]="mdc-list",yv),Tv=((vv={})[""+Ev.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",vv[""+Ev.LIST_ITEM_CLASS]="mdc-deprecated-list-item",vv[""+Ev.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",vv[""+Ev.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",vv[""+Ev.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",vv[""+Ev.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",vv[""+Ev.ROOT]="mdc-deprecated-list",vv),Cv={ACTION_EVENT:"MDCList:action",SELECTION_CHANGE_EVENT:"MDCList:selectionChange",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+Ev.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+Ev.LIST_ITEM_CLASS+" a,\n    ."+Tv[Ev.LIST_ITEM_CLASS]+" button:not(:disabled),\n    ."+Tv[Ev.LIST_ITEM_CLASS]+" a\n  ",DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+Ev.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+Ev.LIST_ITEM_CLASS+" a,\n    ."+Ev.LIST_ITEM_CLASS+' input[type="radio"]:not(:disabled),\n    .'+Ev.LIST_ITEM_CLASS+' input[type="checkbox"]:not(:disabled),\n    .'+Tv[Ev.LIST_ITEM_CLASS]+" button:not(:disabled),\n    ."+Tv[Ev.LIST_ITEM_CLASS]+" a,\n    ."+Tv[Ev.LIST_ITEM_CLASS]+' input[type="radio"]:not(:disabled),\n    .'+Tv[Ev.LIST_ITEM_CLASS]+' input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},Sv={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300},xv={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape",TAB:"Tab"},Av=new Set;Av.add(xv.BACKSPACE),Av.add(xv.ENTER),Av.add(xv.SPACEBAR),Av.add(xv.PAGE_UP),Av.add(xv.PAGE_DOWN),Av.add(xv.END),Av.add(xv.HOME),Av.add(xv.ARROW_LEFT),Av.add(xv.ARROW_UP),Av.add(xv.ARROW_RIGHT),Av.add(xv.ARROW_DOWN),Av.add(xv.DELETE),Av.add(xv.ESCAPE),Av.add(xv.TAB);var kv=8,Ov=13,Nv=32,Rv=33,Pv=34,Lv=35,Dv=36,Mv=37,Fv=38,jv=39,Hv=40,Uv=46,qv=27,Bv=9,Vv=new Map;Vv.set(kv,xv.BACKSPACE),Vv.set(Ov,xv.ENTER),Vv.set(Nv,xv.SPACEBAR),Vv.set(Rv,xv.PAGE_UP),Vv.set(Pv,xv.PAGE_DOWN),Vv.set(Lv,xv.END),Vv.set(Dv,xv.HOME),Vv.set(Mv,xv.ARROW_LEFT),Vv.set(Fv,xv.ARROW_UP),Vv.set(jv,xv.ARROW_RIGHT),Vv.set(Hv,xv.ARROW_DOWN),Vv.set(Uv,xv.DELETE),Vv.set(qv,xv.ESCAPE),Vv.set(Bv,xv.TAB);var Wv=new Set;function zv(e){var t=e.key;if(Av.has(t))return t;var n=Vv.get(e.keyCode);return n||xv.UNKNOWN}
/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Wv.add(xv.PAGE_UP),Wv.add(xv.PAGE_DOWN),Wv.add(xv.END),Wv.add(xv.HOME),Wv.add(xv.ARROW_LEFT),Wv.add(xv.ARROW_UP),Wv.add(xv.ARROW_RIGHT),Wv.add(xv.ARROW_DOWN);var $v=["input","button","textarea","select"],Gv=function(e){var t=e.target;if(t){var n=(""+t.tagName).toLowerCase();-1===$v.indexOf(n)&&e.preventDefault()}};function Kv(e,t){var n,i=e.nextChar,r=e.focusItemAtIndex,o=e.sortedIndexByFirstChar,s=e.focusedItemIndex,a=e.skipFocus,l=e.isItemAtIndexDisabled;return clearTimeout(t.bufferClearTimeout),t.bufferClearTimeout=setTimeout((function(){Xv(t)}),Sv.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),t.typeaheadBuffer=t.typeaheadBuffer+i,n=1===t.typeaheadBuffer.length?function(e,t,n,i){var r=i.typeaheadBuffer[0],o=e.get(r);if(!o)return-1;if(r===i.currentFirstChar&&o[i.sortedIndexCursor].index===t){i.sortedIndexCursor=(i.sortedIndexCursor+1)%o.length;var s=o[i.sortedIndexCursor].index;if(!n(s))return s}i.currentFirstChar=r;var a,l=-1;for(a=0;a<o.length;a++)if(!n(o[a].index)){l=a;break}for(;a<o.length;a++)if(o[a].index>t&&!n(o[a].index)){l=a;break}if(-1!==l)return i.sortedIndexCursor=l,o[i.sortedIndexCursor].index;return-1}(o,s,l,t):function(e,t,n){var i=n.typeaheadBuffer[0],r=e.get(i);if(!r)return-1;var o=r[n.sortedIndexCursor];if(0===o.text.lastIndexOf(n.typeaheadBuffer,0)&&!t(o.index))return o.index;var s=(n.sortedIndexCursor+1)%r.length,a=-1;for(;s!==n.sortedIndexCursor;){var l=r[s],c=0===l.text.lastIndexOf(n.typeaheadBuffer,0),u=!t(l.index);if(c&&u){a=s;break}s=(s+1)%r.length}if(-1!==a)return n.sortedIndexCursor=a,r[n.sortedIndexCursor].index;return-1}(o,l,t),-1===n||a||r(n),n}function Yv(e){return e.typeaheadBuffer.length>0}function Xv(e){e.typeaheadBuffer=""}function Jv(e,t){var n=e.event,i=e.isTargetListItem,r=e.focusedItemIndex,o=e.focusItemAtIndex,s=e.sortedIndexByFirstChar,a=e.isItemAtIndexDisabled,l="ArrowLeft"===zv(n),c="ArrowUp"===zv(n),u="ArrowRight"===zv(n),d="ArrowDown"===zv(n),h="Home"===zv(n),p="End"===zv(n),f="Enter"===zv(n),m="Spacebar"===zv(n);return n.altKey||n.ctrlKey||n.metaKey||l||c||u||d||h||p||f?-1:m||1!==n.key.length?m?(i&&Gv(n),i&&Yv(t)?Kv({focusItemAtIndex:o,focusedItemIndex:r,nextChar:" ",sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:a},t):-1):-1:(Gv(n),Kv({focusItemAtIndex:o,focusedItemIndex:r,nextChar:n.key.toLowerCase(),sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:a},t))}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Qv=["Alt","Control","Meta","Shift"];function Zv(e){var t=new Set(e?Qv.filter((function(t){return e.getModifierState(t)})):[]);return function(e){return e.every((function(e){return t.has(e)}))&&e.length===t.size}}var e_,t_=function(e){function t(n){var i=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return i.wrapFocus=!1,i.isVertical=!0,i.isSingleSelectionList=!1,i.areDisabledItemsFocusable=!0,i.selectedIndex=Sv.UNSET_INDEX,i.focusedItemIndex=Sv.UNSET_INDEX,i.useActivatedClass=!1,i.useSelectedAttr=!1,i.ariaCurrentAttrValue=null,i.isCheckboxList=!1,i.isRadioList=!1,i.lastSelectedIndex=null,i.hasTypeahead=!1,i.typeaheadState={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""},i.sortedIndexByFirstChar=new Map,i}return mc(t,e),Object.defineProperty(t,"strings",{get:function(){return Cv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Ev},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Sv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},notifySelectionChange:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!1,configurable:!0}),t.prototype.layout=function(){0!==this.adapter.getListItemCount()&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},t.prototype.getFocusedItemIndex=function(){return this.focusedItemIndex},t.prototype.setWrapFocus=function(e){this.wrapFocus=e},t.prototype.setVerticalOrientation=function(e){this.isVertical=e},t.prototype.setSingleSelection=function(e){this.isSingleSelectionList=e,e&&(this.maybeInitializeSingleSelection(),this.selectedIndex=this.getSelectedIndexFromDOM())},t.prototype.setDisabledItemsFocusable=function(e){this.areDisabledItemsFocusable=e},t.prototype.maybeInitializeSingleSelection=function(){var e=this.getSelectedIndexFromDOM();e!==Sv.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(e,Ev.LIST_ITEM_ACTIVATED_CLASS)&&this.setUseActivatedClass(!0),this.isSingleSelectionList=!0,this.selectedIndex=e)},t.prototype.getSelectedIndexFromDOM=function(){for(var e=Sv.UNSET_INDEX,t=this.adapter.getListItemCount(),n=0;n<t;n++){var i=this.adapter.listItemAtIndexHasClass(n,Ev.LIST_ITEM_SELECTED_CLASS),r=this.adapter.listItemAtIndexHasClass(n,Ev.LIST_ITEM_ACTIVATED_CLASS);if(i||r){e=n;break}}return e},t.prototype.setHasTypeahead=function(e){this.hasTypeahead=e,e&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},t.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&Yv(this.typeaheadState)},t.prototype.setUseActivatedClass=function(e){this.useActivatedClass=e},t.prototype.setUseSelectedAttribute=function(e){this.useSelectedAttr=e},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.setSelectedIndex=function(e,t){void 0===t&&(t={}),this.isIndexValid(e)&&(this.isCheckboxList?this.setCheckboxAtIndex(e,t):this.isRadioList?this.setRadioAtIndex(e,t):this.setSingleSelectionAtIndex(e,t))},t.prototype.handleFocusIn=function(e){e>=0&&(this.focusedItemIndex=e,this.adapter.setAttributeForElementIndex(e,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(e,"0"))},t.prototype.handleFocusOut=function(e){var t=this;e>=0&&(this.adapter.setAttributeForElementIndex(e,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(e,"-1")),setTimeout((function(){t.adapter.isFocusInsideList()||t.setTabindexToFirstSelectedOrFocusedItem()}),0)},t.prototype.isIndexDisabled=function(e){return this.adapter.listItemAtIndexHasClass(e,Ev.LIST_ITEM_DISABLED_CLASS)},t.prototype.handleKeydown=function(e,t,n){var i,r=this,o="ArrowLeft"===zv(e),s="ArrowUp"===zv(e),a="ArrowRight"===zv(e),l="ArrowDown"===zv(e),c="Home"===zv(e),u="End"===zv(e),d="Enter"===zv(e),h="Spacebar"===zv(e),p=this.isVertical&&l||!this.isVertical&&a,f=this.isVertical&&s||!this.isVertical&&o,m="A"===e.key||"a"===e.key,g=Zv(e);if(this.adapter.isRootFocused()){if((f||u)&&g([]))e.preventDefault(),this.focusLastElement();else if((p||c)&&g([]))e.preventDefault(),this.focusFirstElement();else if(f&&g(["Shift"])&&this.isCheckboxList){e.preventDefault(),-1!==(_=this.focusLastElement())&&this.setSelectedIndexOnAction(_,!1)}else if(p&&g(["Shift"])&&this.isCheckboxList){e.preventDefault(),-1!==(_=this.focusFirstElement())&&this.setSelectedIndexOnAction(_,!1)}if(this.hasTypeahead){var y={event:e,focusItemAtIndex:function(e){r.focusItemAtIndex(e)},focusedItemIndex:-1,isTargetListItem:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(e){return r.isIndexDisabled(e)}};Jv(y,this.typeaheadState)}}else{var v=this.adapter.getFocusedElementIndex();if(!(-1===v&&(v=n)<0)){if(p&&g([]))Gv(e),this.focusNextElement(v);else if(f&&g([]))Gv(e),this.focusPrevElement(v);else if(p&&g(["Shift"])&&this.isCheckboxList){Gv(e),-1!==(_=this.focusNextElement(v))&&this.setSelectedIndexOnAction(_,!1)}else if(f&&g(["Shift"])&&this.isCheckboxList){var _;Gv(e),-1!==(_=this.focusPrevElement(v))&&this.setSelectedIndexOnAction(_,!1)}else if(c&&g([]))Gv(e),this.focusFirstElement();else if(u&&g([]))Gv(e),this.focusLastElement();else if(c&&g(["Control","Shift"])&&this.isCheckboxList){if(Gv(e),this.isIndexDisabled(v))return;this.focusFirstElement(),this.toggleCheckboxRange(0,v,v)}else if(u&&g(["Control","Shift"])&&this.isCheckboxList){if(Gv(e),this.isIndexDisabled(v))return;this.focusLastElement(),this.toggleCheckboxRange(v,this.adapter.getListItemCount()-1,v)}else if(m&&g(["Control"])&&this.isCheckboxList)e.preventDefault(),this.checkboxListToggleAll(this.selectedIndex===Sv.UNSET_INDEX?[]:this.selectedIndex,!0);else if((d||h)&&g([])){if(t){if((b=e.target)&&"A"===b.tagName&&d)return;if(Gv(e),this.isIndexDisabled(v))return;this.isTypeaheadInProgress()||(this.isSelectableList()&&this.setSelectedIndexOnAction(v,!1),this.adapter.notifyAction(v))}}else if((d||h)&&g(["Shift"])&&this.isCheckboxList){var b;if((b=e.target)&&"A"===b.tagName&&d)return;if(Gv(e),this.isIndexDisabled(v))return;this.isTypeaheadInProgress()||(this.toggleCheckboxRange(null!==(i=this.lastSelectedIndex)&&void 0!==i?i:v,v,v),this.adapter.notifyAction(v))}if(this.hasTypeahead){y={event:e,focusItemAtIndex:function(e){r.focusItemAtIndex(e)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(e){return r.isIndexDisabled(e)}};Jv(y,this.typeaheadState)}}}},t.prototype.handleClick=function(e,t,n){var i,r=Zv(n);e!==Sv.UNSET_INDEX&&(this.isIndexDisabled(e)||(r([])?(this.isSelectableList()&&this.setSelectedIndexOnAction(e,t),this.adapter.notifyAction(e)):this.isCheckboxList&&r(["Shift"])&&(this.toggleCheckboxRange(null!==(i=this.lastSelectedIndex)&&void 0!==i?i:e,e,e),this.adapter.notifyAction(e))))},t.prototype.focusNextElement=function(e){var t=this.adapter.getListItemCount(),n=e,i=null;do{if(++n>=t){if(!this.wrapFocus)return e;n=0}if(n===i)return-1;i=null!=i?i:n}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(n));return this.focusItemAtIndex(n),n},t.prototype.focusPrevElement=function(e){var t=this.adapter.getListItemCount(),n=e,i=null;do{if(--n<0){if(!this.wrapFocus)return e;n=t-1}if(n===i)return-1;i=null!=i?i:n}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(n));return this.focusItemAtIndex(n),n},t.prototype.focusFirstElement=function(){return this.focusNextElement(-1)},t.prototype.focusLastElement=function(){return this.focusPrevElement(this.adapter.getListItemCount())},t.prototype.focusInitialElement=function(){var e=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(e),e},t.prototype.setEnabled=function(e,t){this.isIndexValid(e,!1)&&(t?(this.adapter.removeClassForElementIndex(e,Ev.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,Cv.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(e,Ev.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,Cv.ARIA_DISABLED,"true")))},t.prototype.setSingleSelectionAtIndex=function(e,t){if(void 0===t&&(t={}),this.selectedIndex!==e||t.forceUpdate){var n=Ev.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass&&(n=Ev.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex!==Sv.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex,n),this.setAriaForSingleSelectionAtIndex(e),this.setTabindexAtIndex(e),e!==Sv.UNSET_INDEX&&this.adapter.addClassForElementIndex(e,n),this.selectedIndex=e,t.isUserInteraction&&!t.forceUpdate&&this.adapter.notifySelectionChange([e])}},t.prototype.setAriaForSingleSelectionAtIndex=function(e){this.selectedIndex===Sv.UNSET_INDEX&&(this.ariaCurrentAttrValue=this.adapter.getAttributeForElementIndex(e,Cv.ARIA_CURRENT));var t=null!==this.ariaCurrentAttrValue,n=t?Cv.ARIA_CURRENT:Cv.ARIA_SELECTED;if(this.selectedIndex!==Sv.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,n,"false"),e!==Sv.UNSET_INDEX){var i=t?this.ariaCurrentAttrValue:"true";this.adapter.setAttributeForElementIndex(e,n,i)}},t.prototype.getSelectionAttribute=function(){return this.useSelectedAttr?Cv.ARIA_SELECTED:Cv.ARIA_CHECKED},t.prototype.setRadioAtIndex=function(e,t){void 0===t&&(t={});var n=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(e,!0),(this.selectedIndex!==e||t.forceUpdate)&&(this.selectedIndex!==Sv.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,n,"false"),this.adapter.setAttributeForElementIndex(e,n,"true"),this.selectedIndex=e,t.isUserInteraction&&!t.forceUpdate&&this.adapter.notifySelectionChange([e]))},t.prototype.setCheckboxAtIndex=function(e,t){void 0===t&&(t={});for(var n=this.selectedIndex,i=t.isUserInteraction?new Set(n===Sv.UNSET_INDEX?[]:n):null,r=this.getSelectionAttribute(),o=[],s=0;s<this.adapter.getListItemCount();s++){var a=null==i?void 0:i.has(s),l=e.indexOf(s)>=0;l!==a&&o.push(s),this.adapter.setCheckedCheckboxOrRadioAtIndex(s,l),this.adapter.setAttributeForElementIndex(s,r,l?"true":"false")}this.selectedIndex=e,t.isUserInteraction&&o.length&&this.adapter.notifySelectionChange(o)},t.prototype.toggleCheckboxRange=function(e,t,n){this.lastSelectedIndex=n;for(var i=new Set(this.selectedIndex===Sv.UNSET_INDEX?[]:this.selectedIndex),r=!(null==i?void 0:i.has(n)),o=_c([e,t].sort(),2),s=o[0],a=o[1],l=this.getSelectionAttribute(),c=[],u=s;u<=a;u++){if(!this.isIndexDisabled(u))r!==i.has(u)&&(c.push(u),this.adapter.setCheckedCheckboxOrRadioAtIndex(u,r),this.adapter.setAttributeForElementIndex(u,l,""+r),r?i.add(u):i.delete(u))}c.length&&(this.selectedIndex=bc([],_c(i)),this.adapter.notifySelectionChange(c))},t.prototype.setTabindexAtIndex=function(e){this.focusedItemIndex===Sv.UNSET_INDEX&&0!==e?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==e&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),this.selectedIndex instanceof Array||this.selectedIndex===e||this.adapter.setAttributeForElementIndex(this.selectedIndex,"tabindex","-1"),e!==Sv.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(e,"tabindex","0")},t.prototype.isSelectableList=function(){return this.isSingleSelectionList||this.isCheckboxList||this.isRadioList},t.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var e=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(e)},t.prototype.getFirstSelectedOrFocusedItemIndex=function(){return this.isSelectableList()?"number"==typeof this.selectedIndex&&this.selectedIndex!==Sv.UNSET_INDEX?this.selectedIndex:this.selectedIndex instanceof Array&&this.selectedIndex.length>0?this.selectedIndex.reduce((function(e,t){return Math.min(e,t)})):0:Math.max(this.focusedItemIndex,0)},t.prototype.isIndexValid=function(e,t){var n=this;if(void 0===t&&(t=!0),e instanceof Array){if(!this.isCheckboxList&&t)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return 0===e.length||e.some((function(e){return n.isIndexInRange(e)}))}if("number"==typeof e){if(this.isCheckboxList&&t)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return this.isIndexInRange(e)||this.isSingleSelectionList&&e===Sv.UNSET_INDEX}return!1},t.prototype.isIndexInRange=function(e){var t=this.adapter.getListItemCount();return e>=0&&e<t},t.prototype.setSelectedIndexOnAction=function(e,t){this.lastSelectedIndex=e,this.isCheckboxList?(this.toggleCheckboxAtIndex(e,t),this.adapter.notifySelectionChange([e])):this.setSelectedIndex(e,{isUserInteraction:!0})},t.prototype.toggleCheckboxAtIndex=function(e,t){var n,i=this.getSelectionAttribute(),r=this.adapter.isCheckboxCheckedAtIndex(e);t?n=r:(n=!r,this.adapter.setCheckedCheckboxOrRadioAtIndex(e,n)),this.adapter.setAttributeForElementIndex(e,i,n?"true":"false");var o=this.selectedIndex===Sv.UNSET_INDEX?[]:this.selectedIndex.slice();n?o.push(e):o=o.filter((function(t){return t!==e})),this.selectedIndex=o},t.prototype.focusItemAtIndex=function(e){this.adapter.focusItemAtIndex(e),this.focusedItemIndex=e},t.prototype.checkboxListToggleAll=function(e,t){var n=this.adapter.getListItemCount();if(e.length===n)this.setCheckboxAtIndex([],{isUserInteraction:t});else{for(var i=[],r=0;r<n;r++)(!this.isIndexDisabled(r)||e.indexOf(r)>-1)&&i.push(r);this.setCheckboxAtIndex(i,{isUserInteraction:t})}},t.prototype.typeaheadMatchItem=function(e,t,n){var i=this;void 0===n&&(n=!1);var r={focusItemAtIndex:function(e){i.focusItemAtIndex(e)},focusedItemIndex:t||this.focusedItemIndex,nextChar:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:n,isItemAtIndexDisabled:function(e){return i.isIndexDisabled(e)}};return Kv(r,this.typeaheadState)},t.prototype.typeaheadInitSortedIndex=function(){return function(e,t){for(var n=new Map,i=0;i<e;i++){var r=t(i).trim();if(r){var o=r[0].toLowerCase();n.has(o)||n.set(o,[]),n.get(o).push({text:r.toLowerCase(),index:i})}}return n.forEach((function(e){e.sort((function(e,t){return e.index-t.index}))})),n}(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},t.prototype.clearTypeaheadBuffer=function(){Xv(this.typeaheadState)},t}(xp),n_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),Object.defineProperty(t.prototype,"vertical",{set:function(e){this.foundation.setVerticalOrientation(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listElements",{get:function(){return Array.from(this.root.querySelectorAll("."+this.classNameMap[Ev.LIST_ITEM_CLASS]))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapFocus",{set:function(e){this.foundation.setWrapFocus(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeaheadInProgress",{get:function(){return this.foundation.isTypeaheadInProgress()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTypeahead",{set:function(e){this.foundation.setHasTypeahead(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"singleSelection",{set:function(e){this.foundation.setSingleSelection(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabledItemsFocusable",{set:function(e){this.foundation.setDisabledItemsFocusable(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(e){this.foundation.setSelectedIndex(e)},enumerable:!1,configurable:!0}),t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){this.isEvolutionEnabled="evolution"in this.root.dataset,this.isEvolutionEnabled?this.classNameMap=wv:Np(this.root,Cv.DEPRECATED_SELECTOR)?this.classNameMap=Tv:this.classNameMap=Object.values(Ev).reduce((function(e,t){return e[t]=t,e}),{}),this.handleClick=this.handleClickEvent.bind(this),this.handleKeydown=this.handleKeydownEvent.bind(this),this.focusInEventListener=this.handleFocusInEvent.bind(this),this.focusOutEventListener=this.handleFocusOutEvent.bind(this),this.listen("keydown",this.handleKeydown),this.listen("click",this.handleClick),this.listen("focusin",this.focusInEventListener),this.listen("focusout",this.focusOutEventListener),this.layout(),this.initializeListType(),this.ensureFocusable()},t.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten("click",this.handleClick),this.unlisten("focusin",this.focusInEventListener),this.unlisten("focusout",this.focusOutEventListener)},t.prototype.layout=function(){var e=this.root.getAttribute(Cv.ARIA_ORIENTATION);this.vertical=e!==Cv.ARIA_ORIENTATION_HORIZONTAL;var t="."+this.classNameMap[Ev.LIST_ITEM_CLASS]+":not([tabindex])",n=Cv.FOCUSABLE_CHILD_ELEMENTS,i=this.root.querySelectorAll(t);i.length&&Array.prototype.forEach.call(i,(function(e){e.setAttribute("tabindex","-1")}));var r=this.root.querySelectorAll(n);r.length&&Array.prototype.forEach.call(r,(function(e){e.setAttribute("tabindex","-1")})),this.isEvolutionEnabled&&this.foundation.setUseSelectedAttribute(!0),this.foundation.layout()},t.prototype.getPrimaryText=function(e){var t,n=e.querySelector("."+this.classNameMap[Ev.LIST_ITEM_PRIMARY_TEXT_CLASS]);if(this.isEvolutionEnabled||n)return null!==(t=null==n?void 0:n.textContent)&&void 0!==t?t:"";var i=e.querySelector("."+this.classNameMap[Ev.LIST_ITEM_TEXT_CLASS]);return i&&i.textContent||""},t.prototype.initializeListType=function(){var e=this;if(this.isInteractive=Np(this.root,Cv.ARIA_INTERACTIVE_ROLES_SELECTOR),this.isEvolutionEnabled&&this.isInteractive){var t=Array.from(this.root.querySelectorAll(Cv.SELECTED_ITEM_SELECTOR),(function(t){return e.listElements.indexOf(t)}));Np(this.root,Cv.ARIA_MULTI_SELECTABLE_SELECTOR)?this.selectedIndex=t:t.length>0&&(this.selectedIndex=t[0])}else{var n=this.root.querySelectorAll(Cv.ARIA_ROLE_CHECKBOX_SELECTOR),i=this.root.querySelector(Cv.ARIA_CHECKED_RADIO_SELECTOR);if(n.length){var r=this.root.querySelectorAll(Cv.ARIA_CHECKED_CHECKBOX_SELECTOR);this.selectedIndex=Array.from(r,(function(t){return e.listElements.indexOf(t)}))}else i&&(this.selectedIndex=this.listElements.indexOf(i))}},t.prototype.setEnabled=function(e,t){this.foundation.setEnabled(e,t)},t.prototype.typeaheadMatchItem=function(e,t){return this.foundation.typeaheadMatchItem(e,t,!0)},t.prototype.getDefaultFoundation=function(){var e=this,t={addClassForElementIndex:function(t,n){var i=e.listElements[t];i&&i.classList.add(e.classNameMap[n])},focusItemAtIndex:function(t){var n=e.listElements[t];n&&n.focus()},getAttributeForElementIndex:function(t,n){return e.listElements[t].getAttribute(n)},getFocusedElementIndex:function(){return e.listElements.indexOf(document.activeElement)},getListItemCount:function(){return e.listElements.length},getPrimaryTextAtIndex:function(t){return e.getPrimaryText(e.listElements[t])},hasCheckboxAtIndex:function(t){return!!e.listElements[t].querySelector(Cv.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(t){return!!e.listElements[t].querySelector(Cv.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(t){return e.listElements[t].querySelector(Cv.CHECKBOX_SELECTOR).checked},isFocusInsideList:function(){return e.root!==document.activeElement&&e.root.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===e.root},listItemAtIndexHasClass:function(t,n){return e.listElements[t].classList.contains(e.classNameMap[n])},notifyAction:function(t){e.emit(Cv.ACTION_EVENT,{index:t},!0)},notifySelectionChange:function(t){e.emit(Cv.SELECTION_CHANGE_EVENT,{changedIndices:t},!0)},removeClassForElementIndex:function(t,n){var i=e.listElements[t];i&&i.classList.remove(e.classNameMap[n])},setAttributeForElementIndex:function(t,n,i){var r=e.listElements[t];r&&r.setAttribute(n,i)},setCheckedCheckboxOrRadioAtIndex:function(t,n){var i=e.listElements[t].querySelector(Cv.CHECKBOX_RADIO_SELECTOR);i.checked=n;var r=document.createEvent("Event");r.initEvent("change",!0,!0),i.dispatchEvent(r)},setTabIndexForListItemChildren:function(t,n){var i=e.listElements[t],r=Cv.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX;Array.prototype.forEach.call(i.querySelectorAll(r),(function(e){e.setAttribute("tabindex",n)}))}};return new t_(t)},t.prototype.ensureFocusable=function(){if(this.isEvolutionEnabled&&this.isInteractive&&!this.root.querySelector("."+this.classNameMap[Ev.LIST_ITEM_CLASS]+'[tabindex="0"]')){var e=this.initialFocusIndex();-1!==e&&(this.listElements[e].tabIndex=0)}},t.prototype.initialFocusIndex=function(){if(this.selectedIndex instanceof Array&&this.selectedIndex.length>0)return this.selectedIndex[0];if("number"==typeof this.selectedIndex&&this.selectedIndex!==Sv.UNSET_INDEX)return this.selectedIndex;var e=this.root.querySelector("."+this.classNameMap[Ev.LIST_ITEM_CLASS]+":not(."+this.classNameMap[Ev.LIST_ITEM_DISABLED_CLASS]+")");return null===e?-1:this.getListItemIndex(e)},t.prototype.getListItemIndex=function(e){var t=Op(e,"."+this.classNameMap[Ev.LIST_ITEM_CLASS]+", ."+this.classNameMap[Ev.ROOT]);return t&&Np(t,"."+this.classNameMap[Ev.LIST_ITEM_CLASS])?this.listElements.indexOf(t):-1},t.prototype.handleFocusInEvent=function(e){var t=this.getListItemIndex(e.target);this.foundation.handleFocusIn(t)},t.prototype.handleFocusOutEvent=function(e){var t=this.getListItemIndex(e.target);this.foundation.handleFocusOut(t)},t.prototype.handleKeydownEvent=function(e){var t=this.getListItemIndex(e.target),n=e.target;this.foundation.handleKeydown(e,n.classList.contains(this.classNameMap[Ev.LIST_ITEM_CLASS]),t)},t.prototype.handleClickEvent=function(e){var t=this.getListItemIndex(e.target),n=!Np(e.target,Cv.CHECKBOX_RADIO_SELECTOR);this.foundation.handleClick(t,n,e)},t}(Ap),i_=function(e){function t(n){var i=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return i.isSurfaceOpen=!1,i.isQuickOpen=!1,i.isHoistedElement=!1,i.isFixedPosition=!1,i.isHorizontallyCenteredOnViewport=!1,i.maxHeight=0,i.openBottomBias=0,i.openAnimationEndTimerId=0,i.closeAnimationEndTimerId=0,i.animationRequestId=0,i.anchorCorner=gv.TOP_START,i.originCorner=gv.TOP_START,i.anchorMargin={top:0,right:0,bottom:0,left:0},i.position={x:0,y:0},i}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return _v},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return bv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Iv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Corner",{get:function(){return gv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyClosing:function(){},notifyOpen:function(){},notifyOpening:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=t.cssClasses,n=e.ROOT,i=e.OPEN;if(!this.adapter.hasClass(n))throw new Error(n+" class required in root element.");this.adapter.hasClass(i)&&(this.isSurfaceOpen=!0)},t.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},t.prototype.setAnchorCorner=function(e){this.anchorCorner=e},t.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^mv.RIGHT},t.prototype.setAnchorMargin=function(e){this.anchorMargin.top=e.top||0,this.anchorMargin.right=e.right||0,this.anchorMargin.bottom=e.bottom||0,this.anchorMargin.left=e.left||0},t.prototype.setIsHoisted=function(e){this.isHoistedElement=e},t.prototype.setFixedPosition=function(e){this.isFixedPosition=e},t.prototype.isFixed=function(){return this.isFixedPosition},t.prototype.setAbsolutePosition=function(e,t){this.position.x=this.isFinite(e)?e:0,this.position.y=this.isFinite(t)?t:0},t.prototype.setIsHorizontallyCenteredOnViewport=function(e){this.isHorizontallyCenteredOnViewport=e},t.prototype.setQuickOpen=function(e){this.isQuickOpen=e},t.prototype.setMaxHeight=function(e){this.maxHeight=e},t.prototype.setOpenBottomBias=function(e){this.openBottomBias=e},t.prototype.isOpen=function(){return this.isSurfaceOpen},t.prototype.open=function(){var e=this;this.isSurfaceOpen||(this.adapter.notifyOpening(),this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(t.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(t.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame((function(){e.dimensions=e.adapter.getInnerDimensions(),e.autoposition(),e.adapter.addClass(t.cssClasses.OPEN),e.openAnimationEndTimerId=setTimeout((function(){e.openAnimationEndTimerId=0,e.adapter.removeClass(t.cssClasses.ANIMATING_OPEN),e.adapter.notifyOpen()}),Iv.TRANSITION_OPEN_DURATION)})),this.isSurfaceOpen=!0))},t.prototype.close=function(e){var n=this;if(void 0===e&&(e=!1),this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen)return this.isSurfaceOpen=!1,e||this.maybeRestoreFocus(),this.adapter.removeClass(t.cssClasses.OPEN),this.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),void this.adapter.notifyClose();this.adapter.addClass(t.cssClasses.ANIMATING_CLOSED),requestAnimationFrame((function(){n.adapter.removeClass(t.cssClasses.OPEN),n.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),n.closeAnimationEndTimerId=setTimeout((function(){n.closeAnimationEndTimerId=0,n.adapter.removeClass(t.cssClasses.ANIMATING_CLOSED),n.adapter.notifyClose()}),Iv.TRANSITION_CLOSE_DURATION)})),this.isSurfaceOpen=!1,e||this.maybeRestoreFocus()}},t.prototype.handleBodyClick=function(e){var t=e.target;this.adapter.isElementInContainer(t)||this.close()},t.prototype.handleKeydown=function(e){var t=e.keyCode;("Escape"===e.key||27===t)&&this.close()},t.prototype.autoposition=function(){var e;this.measurements=this.getAutoLayoutmeasurements();var n=this.getoriginCorner(),i=this.getMenuSurfaceMaxHeight(n),r=this.hasBit(n,mv.BOTTOM)?"bottom":"top",o=this.hasBit(n,mv.RIGHT)?"right":"left",s=this.getHorizontalOriginOffset(n),a=this.getVerticalOriginOffset(n),l=this.measurements,c=l.anchorSize,u=l.surfaceSize,d=((e={})[o]=s,e[r]=a,e);c.width/u.width>Iv.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(o="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(d),this.adapter.setTransformOrigin(o+" "+r),this.adapter.setPosition(d),this.adapter.setMaxHeight(i?i+"px":""),this.hasBit(n,mv.BOTTOM)||this.adapter.addClass(t.cssClasses.IS_OPEN_BELOW)},t.prototype.getAutoLayoutmeasurements=function(){var e=this.adapter.getAnchorDimensions(),t=this.adapter.getBodyDimensions(),n=this.adapter.getWindowDimensions(),i=this.adapter.getWindowScroll();return e||(e={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:e,bodySize:t,surfaceSize:this.dimensions,viewportDistance:{top:e.top,right:n.width-e.right,bottom:n.height-e.bottom,left:e.left},viewportSize:n,windowScroll:i}},t.prototype.getoriginCorner=function(){var e,n,i=this.originCorner,r=this.measurements,o=r.viewportDistance,s=r.anchorSize,a=r.surfaceSize,l=t.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,mv.BOTTOM)?(e=o.top-l+this.anchorMargin.bottom,n=o.bottom-l-this.anchorMargin.bottom):(e=o.top-l+this.anchorMargin.top,n=o.bottom-l+s.height-this.anchorMargin.top),!(n-a.height>0)&&e>n+this.openBottomBias&&(i=this.setBit(i,mv.BOTTOM));var c,u,d=this.adapter.isRtl(),h=this.hasBit(this.anchorCorner,mv.FLIP_RTL),p=this.hasBit(this.anchorCorner,mv.RIGHT)||this.hasBit(i,mv.RIGHT),f=!1;(f=d&&h?!p:p)?(c=o.left+s.width+this.anchorMargin.right,u=o.right-this.anchorMargin.right):(c=o.left+this.anchorMargin.left,u=o.right+s.width-this.anchorMargin.left);var m=c-a.width>0,g=u-a.width>0,y=this.hasBit(i,mv.FLIP_RTL)&&this.hasBit(i,mv.RIGHT);return g&&y&&d||!m&&y?i=this.unsetBit(i,mv.RIGHT):(m&&f&&d||m&&!f&&p||!g&&c>=u)&&(i=this.setBit(i,mv.RIGHT)),i},t.prototype.getMenuSurfaceMaxHeight=function(e){if(this.maxHeight>0)return this.maxHeight;var n=this.measurements.viewportDistance,i=0,r=this.hasBit(e,mv.BOTTOM),o=this.hasBit(this.anchorCorner,mv.BOTTOM),s=t.numbers.MARGIN_TO_EDGE;return r?(i=n.top+this.anchorMargin.top-s,o||(i+=this.measurements.anchorSize.height)):(i=n.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-s,o&&(i-=this.measurements.anchorSize.height)),i},t.prototype.getHorizontalOriginOffset=function(e){var t=this.measurements.anchorSize,n=this.hasBit(e,mv.RIGHT),i=this.hasBit(this.anchorCorner,mv.RIGHT);if(n){var r=i?t.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?r-(this.measurements.viewportSize.width-this.measurements.bodySize.width):r}return i?t.width-this.anchorMargin.right:this.anchorMargin.left},t.prototype.getVerticalOriginOffset=function(e){var t=this.measurements.anchorSize,n=this.hasBit(e,mv.BOTTOM),i=this.hasBit(this.anchorCorner,mv.BOTTOM);return n?i?t.height-this.anchorMargin.top:-this.anchorMargin.bottom:i?t.height+this.anchorMargin.bottom:this.anchorMargin.top},t.prototype.adjustPositionForHoistedElement=function(e){var t,n,i=this.measurements,r=i.windowScroll,o=i.viewportDistance,s=i.surfaceSize,a=i.viewportSize,l=Object.keys(e);try{for(var c=vc(l),u=c.next();!u.done;u=c.next()){var d=u.value,h=e[d]||0;!this.isHorizontallyCenteredOnViewport||"left"!==d&&"right"!==d?(h+=o[d],this.isFixedPosition||("top"===d?h+=r.y:"bottom"===d?h-=r.y:"left"===d?h+=r.x:h-=r.x),e[d]=h):e[d]=(a.width-s.width)/2}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}},t.prototype.maybeRestoreFocus=function(){var e=this,t=this.adapter.isFocused(),n=this.adapter.getOwnerDocument?this.adapter.getOwnerDocument():document,i=n.activeElement&&this.adapter.isElementInContainer(n.activeElement);(t||i)&&setTimeout((function(){e.adapter.restoreFocus()}),Iv.TOUCH_EVENT_WAIT_MS)},t.prototype.hasBit=function(e,t){return Boolean(e&t)},t.prototype.setBit=function(e,t){return e|t},t.prototype.unsetBit=function(e,t){return e^t},t.prototype.isFinite=function(e){return"number"==typeof e&&isFinite(e)},t}(xp),r_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){var e=this,t=this.root.parentElement;this.anchorElement=t&&t.classList.contains(_v.ANCHOR)?t:null,this.root.classList.contains(_v.FIXED)&&this.setFixedPosition(!0),this.handleKeydown=function(t){e.foundation.handleKeydown(t)},this.handleBodyClick=function(t){e.foundation.handleBodyClick(t)},this.registerBodyClickListener=function(){document.body.addEventListener("click",e.handleBodyClick,{capture:!0})},this.deregisterBodyClickListener=function(){document.body.removeEventListener("click",e.handleBodyClick,{capture:!0})},this.listen("keydown",this.handleKeydown),this.listen(bv.OPENED_EVENT,this.registerBodyClickListener),this.listen(bv.CLOSED_EVENT,this.deregisterBodyClickListener)},t.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten(bv.OPENED_EVENT,this.registerBodyClickListener),this.unlisten(bv.CLOSED_EVENT,this.deregisterBodyClickListener),e.prototype.destroy.call(this)},t.prototype.isOpen=function(){return this.foundation.isOpen()},t.prototype.open=function(){this.foundation.open()},t.prototype.close=function(e){void 0===e&&(e=!1),this.foundation.close(e)},Object.defineProperty(t.prototype,"quickOpen",{set:function(e){this.foundation.setQuickOpen(e)},enumerable:!1,configurable:!0}),t.prototype.setIsHoisted=function(e){this.foundation.setIsHoisted(e)},t.prototype.setMenuSurfaceAnchorElement=function(e){this.anchorElement=e},t.prototype.setFixedPosition=function(e){e?this.root.classList.add(_v.FIXED):this.root.classList.remove(_v.FIXED),this.foundation.setFixedPosition(e)},t.prototype.setAbsolutePosition=function(e,t){this.foundation.setAbsolutePosition(e,t),this.setIsHoisted(!0)},t.prototype.setAnchorCorner=function(e){this.foundation.setAnchorCorner(e)},t.prototype.setAnchorMargin=function(e){this.foundation.setAnchorMargin(e)},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},hasClass:function(t){return e.root.classList.contains(t)},hasAnchor:function(){return!!e.anchorElement},notifyClose:function(){return e.emit(i_.strings.CLOSED_EVENT,{})},notifyClosing:function(){e.emit(i_.strings.CLOSING_EVENT,{})},notifyOpen:function(){return e.emit(i_.strings.OPENED_EVENT,{})},notifyOpening:function(){return e.emit(i_.strings.OPENING_EVENT,{})},isElementInContainer:function(t){return e.root.contains(t)},isRtl:function(){return"rtl"===getComputedStyle(e.root).getPropertyValue("direction")},setTransformOrigin:function(t){var n=rf(window,"transform")+"-origin";e.root.style.setProperty(n,t)},isFocused:function(){return document.activeElement===e.root},saveFocus:function(){e.previousFocus=document.activeElement},restoreFocus:function(){e.root.contains(document.activeElement)&&e.previousFocus&&e.previousFocus.focus&&e.previousFocus.focus()},getInnerDimensions:function(){return{width:e.root.offsetWidth,height:e.root.offsetHeight}},getAnchorDimensions:function(){return e.anchorElement?e.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(t){var n=e.root;n.style.left="left"in t?t.left+"px":"",n.style.right="right"in t?t.right+"px":"",n.style.top="top"in t?t.top+"px":"",n.style.bottom="bottom"in t?t.bottom+"px":""},setMaxHeight:function(t){e.root.style.maxHeight=t}};return new i_(t)},t}(Ap),o_={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},s_={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},a_={FOCUS_ROOT_INDEX:-1};
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */!function(e){e[e.NONE=0]="NONE",e[e.LIST_ROOT=1]="LIST_ROOT",e[e.FIRST_ITEM=2]="FIRST_ITEM",e[e.LAST_ITEM=3]="LAST_ITEM"}(e_||(e_={}));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var l_=function(e){function t(n){var i=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return i.closeAnimationEndTimerId=0,i.defaultFocusState=e_.LIST_ROOT,i.selectedIndex=-1,i}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return o_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return s_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return a_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},t.prototype.handleKeydown=function(e){var t=e.key,n=e.keyCode;("Tab"===t||9===n)&&this.adapter.closeSurface(!0)},t.prototype.handleItemAction=function(e){var t=this,n=this.adapter.getElementIndex(e);if(!(n<0)){this.adapter.notifySelected({index:n});var i="true"===this.adapter.getAttributeFromElementAtIndex(n,s_.SKIP_RESTORE_FOCUS);this.adapter.closeSurface(i),this.closeAnimationEndTimerId=setTimeout((function(){var n=t.adapter.getElementIndex(e);n>=0&&t.adapter.isSelectableItemAtIndex(n)&&t.setSelectedIndex(n)}),i_.numbers.TRANSITION_CLOSE_DURATION)}},t.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case e_.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case e_.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case e_.NONE:break;default:this.adapter.focusListRoot()}},t.prototype.setDefaultFocusState=function(e){this.defaultFocusState=e},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.setSelectedIndex=function(e){if(this.validatedIndex(e),!this.adapter.isSelectableItemAtIndex(e))throw new Error("MDCMenuFoundation: No selection group at specified index.");var t=this.adapter.getSelectedSiblingOfItemAtIndex(e);t>=0&&(this.adapter.removeAttributeFromElementAtIndex(t,s_.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(t,o_.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(e,o_.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(e,s_.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=e},t.prototype.setEnabled=function(e,t){this.validatedIndex(e),t?(this.adapter.removeClassFromElementAtIndex(e,Ev.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,s_.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(e,Ev.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,s_.ARIA_DISABLED_ATTR,"true"))},t.prototype.validatedIndex=function(e){var t=this.adapter.getMenuItemCount();if(!(e>=0&&e<t))throw new Error("MDCMenuFoundation: No list item at specified index.")},t}(xp),c_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e,t){void 0===e&&(e=function(e){return new r_(e)}),void 0===t&&(t=function(e){return new n_(e)}),this.menuSurfaceFactory=e,this.listFactory=t},t.prototype.initialSyncWithDOM=function(){var e=this;this.menuSurface=this.menuSurfaceFactory(this.root);var t=this.root.querySelector(s_.LIST_SELECTOR);t?(this.list=this.listFactory(t),this.list.wrapFocus=!0):this.list=null,this.handleKeydown=function(t){e.foundation.handleKeydown(t)},this.handleItemAction=function(t){e.foundation.handleItemAction(e.items[t.detail.index])},this.handleMenuSurfaceOpened=function(){e.foundation.handleMenuSurfaceOpened()},this.menuSurface.listen(i_.strings.OPENED_EVENT,this.handleMenuSurfaceOpened),this.listen("keydown",this.handleKeydown),this.listen(t_.strings.ACTION_EVENT,this.handleItemAction)},t.prototype.destroy=function(){this.list&&this.list.destroy(),this.menuSurface.destroy(),this.menuSurface.unlisten(i_.strings.OPENED_EVENT,this.handleMenuSurfaceOpened),this.unlisten("keydown",this.handleKeydown),this.unlisten(t_.strings.ACTION_EVENT,this.handleItemAction),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"open",{get:function(){return this.menuSurface.isOpen()},set:function(e){e?this.menuSurface.open():this.menuSurface.close()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapFocus",{get:function(){return!!this.list&&this.list.wrapFocus},set:function(e){this.list&&(this.list.wrapFocus=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTypeahead",{set:function(e){this.list&&(this.list.hasTypeahead=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeaheadInProgress",{get:function(){return!!this.list&&this.list.typeaheadInProgress},enumerable:!1,configurable:!0}),t.prototype.typeaheadMatchItem=function(e,t){return this.list?this.list.typeaheadMatchItem(e,t):-1},t.prototype.layout=function(){this.list&&this.list.layout()},Object.defineProperty(t.prototype,"items",{get:function(){return this.list?this.list.listElements:[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"singleSelection",{set:function(e){this.list&&(this.list.singleSelection=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.list?this.list.selectedIndex:Sv.UNSET_INDEX},set:function(e){this.list&&(this.list.selectedIndex=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quickOpen",{set:function(e){this.menuSurface.quickOpen=e},enumerable:!1,configurable:!0}),t.prototype.setDefaultFocusState=function(e){this.foundation.setDefaultFocusState(e)},t.prototype.setAnchorCorner=function(e){this.menuSurface.setAnchorCorner(e)},t.prototype.setAnchorMargin=function(e){this.menuSurface.setAnchorMargin(e)},t.prototype.setSelectedIndex=function(e){this.foundation.setSelectedIndex(e)},t.prototype.setEnabled=function(e,t){this.foundation.setEnabled(e,t)},t.prototype.getOptionByIndex=function(e){return e<this.items.length?this.items[e]:null},t.prototype.getPrimaryTextAtIndex=function(e){var t=this.getOptionByIndex(e);return t&&this.list&&this.list.getPrimaryText(t)||""},t.prototype.setFixedPosition=function(e){this.menuSurface.setFixedPosition(e)},t.prototype.setIsHoisted=function(e){this.menuSurface.setIsHoisted(e)},t.prototype.setAbsolutePosition=function(e,t){this.menuSurface.setAbsolutePosition(e,t)},t.prototype.setAnchorElement=function(e){this.menuSurface.anchorElement=e},t.prototype.getDefaultFoundation=function(){var e=this,t={addClassToElementAtIndex:function(t,n){e.items[t].classList.add(n)},removeClassFromElementAtIndex:function(t,n){e.items[t].classList.remove(n)},addAttributeToElementAtIndex:function(t,n,i){e.items[t].setAttribute(n,i)},removeAttributeFromElementAtIndex:function(t,n){e.items[t].removeAttribute(n)},getAttributeFromElementAtIndex:function(t,n){return e.items[t].getAttribute(n)},elementContainsClass:function(e,t){return e.classList.contains(t)},closeSurface:function(t){e.menuSurface.close(t)},getElementIndex:function(t){return e.items.indexOf(t)},notifySelected:function(t){e.emit(s_.SELECTED_EVENT,{index:t.index,item:e.items[t.index]})},getMenuItemCount:function(){return e.items.length},focusItemAtIndex:function(t){e.items[t].focus()},focusListRoot:function(){e.root.querySelector(s_.LIST_SELECTOR).focus()},isSelectableItemAtIndex:function(t){return!!Op(e.items[t],"."+o_.MENU_SELECTION_GROUP)},getSelectedSiblingOfItemAtIndex:function(t){var n=Op(e.items[t],"."+o_.MENU_SELECTION_GROUP).querySelector("."+o_.MENU_SELECTED_LIST_ITEM);return n?e.items.indexOf(n):-1}};return new l_(t)},t}(Ap);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function u_(e,t,n){return t.create(zp,{func:t=>{new c_(t).open=e.menuvisible}},t.create("div",{class:"mdc-menu mdc-menu-surface",style:`\n            opacity: ${e.menuvisible?1:0}\n          `},t.create("ul",{class:"mdc-deprecated-list","aria-hidden":"true","aria-orientation":"vertical",tabindex:"-1"},t.create("div",{_content:`<template x-for="item in ${Xp((function(){return e.menulist}))}">\n          ${t.create("li",{class:"mdc-deprecated-list-item"},t.create("span",{class:"mdc-deprecated-list-item__ripple"}),t.create("span",{class:"mdc-deprecated-list-item__text"},"A Menu Item")).outerHTML}\n          </template>`}))))[0]}function d_(e,t,n){return t.create(t.fragment,null,t.create("style",{_content:"\n  .container_row {\n    display: grid;\n  }\n\n  .layer1,\n  .layer2 {\n    grid-column: 1;\n    grid-row: 1;\n  }\n\n  .layer1 span {\n    color: #fff;\n    background: #000cf6;\n  }\n\n  .layer2 {\n    background: rgba(255, 0, 0, 0.4);\n  }\n            "}),t.create("div",{"x-init":"() => {\n        var vh = $store.appData.fontsize\n        document.documentElement.style.setProperty('--fontsize', `${vh}px`);\n}"}),t.create("div",{style:"overflow-y: scroll; \n  height: calc(calc(var(--vh, 1vh) * 100) - 85px)"},t.create("div",{style:"\n    width:100%;\n    height: 100%;\n    \n  "},t.create("div",{class:"container_row"},t.create("div",{style:"\n  display: flex;\n   justify-content: center;\n  ",class:"layer1"},t.create("img",{style:"\n            width: 100%;\n            height: calc(var(--vh, 1vh) * 35);\n            filter: blur(2px);\n            z-index: 0;\n          ","x-bind:src":"currentprogram.imageurl"})),t.create("div",{id:"resizetarget"}),t.create("div",{class:"layer1",style:"\n        z-index: 1;\n      "},t.create("div",{style:"\n                height: calc(var(--vh, 1vh) * 35);\n                width: calc(100% - 36px);\n                display: block;\n                flex-wrap: wrap;\n                padding-top: 16px;\n                margin-left: 18px;\n                margin-right: 18px;\n                align-content: baseline;\n                justify-content: center;\n                z-index: 1;\n              "},t.create("h2",{"x-text":"currentprogram.title"}),t.create("div",{"x-text":"currentprogram.description"})))),t.create("div",{class:"mdc-menu-surface--anchor"},t.create("div",{"x-data":"{menulist:[\n                {'name': 'test'}\n              ],menuvisible: false}","x-html":Jp((function(){return t.create("div",null,t.create("div",{style:"\n                          width: fit-content;\n                      ","x-on:click":Xp((function(){this.menuvisible=!0}))}),t.create(zp,{func:e=>{Hp.attachTo(e)}},t.create("div",{style:"\n                        border: 2px solid var(--mdc-theme-primary);\n                        border-radius: 4px;\n                        width: fit-content;\n                        --mdc-text-button-label-text-color: var(--mdc-theme-secondary);\n                        margin: 4px;\n                        display: flex;\n                        align-content: center;\n                      ",class:"mdc-ripple-surface mdc-ripple-surface--accent","x-on:click":Xp((function(){console.log(1)}))},t.create(Gp,{label:t.create("div",{style:"\n                              display: flex;\n                            "},t.create("div",{style:"\n                                height: 24px;\n                                vertical-align: center;\n                                padding-top: 2px;\n                              "},"1234"),t.create("span",{class:"material-symbols-outlined material-icons"},"arrow_drop_down")),type:"--text"}))),t.create(u_,{menulist:this.menulist,menuvisible:this.menuvisible}))}))},"2132131")))))}
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var h_,p_="mdc-dom-focus-sentinel",f_=function(){function e(e,t){void 0===t&&(t={}),this.root=e,this.options=t,this.elFocusedBeforeTrapFocus=null}return e.prototype.trapFocus=function(){var e=this.getFocusableElements(this.root);if(0===e.length)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root),this.options.skipInitialFocus||this.focusInitialElement(e,this.options.initialFocusEl)},e.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+p_)).forEach((function(e){e.parentElement.removeChild(e)})),!this.options.skipRestoreFocus&&this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},e.prototype.wrapTabFocus=function(e){var t=this,n=this.createSentinel(),i=this.createSentinel();n.addEventListener("focus",(function(){var n=t.getFocusableElements(e);n.length>0&&n[n.length-1].focus()})),i.addEventListener("focus",(function(){var n=t.getFocusableElements(e);n.length>0&&n[0].focus()})),e.insertBefore(n,e.children[0]),e.appendChild(i)},e.prototype.focusInitialElement=function(e,t){var n=0;t&&(n=Math.max(e.indexOf(t),0)),e[n].focus()},e.prototype.getFocusableElements=function(e){return[].slice.call(e.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button")).filter((function(e){var t="true"===e.getAttribute("aria-disabled")||null!=e.getAttribute("disabled")||null!=e.getAttribute("hidden")||"true"===e.getAttribute("aria-hidden"),n=e.tabIndex>=0&&e.getBoundingClientRect().width>0&&!e.classList.contains(p_)&&!t,i=!1;if(n){var r=getComputedStyle(e);i="none"===r.display||"hidden"===r.visibility}return n&&!i}))},e.prototype.createSentinel=function(){var e=document.createElement("div");return e.setAttribute("tabindex","0"),e.setAttribute("aria-hidden","true"),e.classList.add(p_),e},e}(),m_=function(){function e(){this.rafIDs=new Map}return e.prototype.request=function(e,t){var n=this;this.cancel(e);var i=requestAnimationFrame((function(i){n.rafIDs.delete(e),t(i)}));this.rafIDs.set(e,i)},e.prototype.cancel=function(e){var t=this.rafIDs.get(e);t&&(cancelAnimationFrame(t),this.rafIDs.delete(e))},e.prototype.cancelAll=function(){var e=this;this.rafIDs.forEach((function(t,n){e.cancel(n)}))},e.prototype.getQueue=function(){var e=[];return this.rafIDs.forEach((function(t,n){e.push(n)})),e},e}(),g_={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked",FULLSCREEN:"mdc-dialog--fullscreen",SCROLL_DIVIDER_HEADER:"mdc-dialog-scroll-divider-header",SCROLL_DIVIDER_FOOTER:"mdc-dialog-scroll-divider-footer",SURFACE_SCRIM_SHOWN:"mdc-dialog__surface-scrim--shown",SURFACE_SCRIM_SHOWING:"mdc-dialog__surface-scrim--showing",SURFACE_SCRIM_HIDING:"mdc-dialog__surface-scrim--hiding",SCRIM_HIDDEN:"mdc-dialog__scrim--hidden"},y_={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},v_={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150};!function(e){e.POLL_SCROLL_POS="poll_scroll_position",e.POLL_LAYOUT_CHANGE="poll_layout_change"}(h_||(h_={}));var __=function(e){function t(n){var i=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return i.dialogOpen=!1,i.isFullscreen=!1,i.animationFrame=0,i.animationTimer=0,i.escapeKeyAction=y_.CLOSE_ACTION,i.scrimClickAction=y_.CLOSE_ACTION,i.autoStackButtons=!0,i.areButtonsStacked=!1,i.suppressDefaultPressSelector=y_.SUPPRESS_DEFAULT_PRESS_SELECTOR,i.animFrame=new m_,i.contentScrollHandler=function(){i.handleScrollEvent()},i.windowResizeHandler=function(){i.layout()},i.windowOrientationChangeHandler=function(){i.layout()},i}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return g_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return y_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return v_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){},registerContentEventHandler:function(){},deregisterContentEventHandler:function(){},isScrollableContentAtTop:function(){return!1},isScrollableContentAtBottom:function(){return!1},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.hasClass(g_.STACKED)&&this.setAutoStackButtons(!1),this.isFullscreen=this.adapter.hasClass(g_.FULLSCREEN)},t.prototype.destroy=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.handleAnimationTimerEnd()),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.animFrame.cancelAll(),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler)},t.prototype.open=function(e){var t=this;this.dialogOpen=!0,this.adapter.notifyOpening(),this.adapter.addClass(g_.OPENING),this.isFullscreen&&this.adapter.registerContentEventHandler("scroll",this.contentScrollHandler),e&&e.isAboveFullscreenDialog&&this.adapter.addClass(g_.SCRIM_HIDDEN),this.adapter.registerWindowEventHandler("resize",this.windowResizeHandler),this.adapter.registerWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),this.runNextAnimationFrame((function(){t.adapter.addClass(g_.OPEN),t.adapter.addBodyClass(g_.SCROLL_LOCK),t.layout(),t.animationTimer=setTimeout((function(){t.handleAnimationTimerEnd(),t.adapter.trapFocus(t.adapter.getInitialFocusEl()),t.adapter.notifyOpened()}),v_.DIALOG_ANIMATION_OPEN_TIME_MS)}))},t.prototype.close=function(e){var t=this;void 0===e&&(e=""),this.dialogOpen&&(this.dialogOpen=!1,this.adapter.notifyClosing(e),this.adapter.addClass(g_.CLOSING),this.adapter.removeClass(g_.OPEN),this.adapter.removeBodyClass(g_.SCROLL_LOCK),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){t.adapter.releaseFocus(),t.handleAnimationTimerEnd(),t.adapter.notifyClosed(e)}),v_.DIALOG_ANIMATION_CLOSE_TIME_MS))},t.prototype.showSurfaceScrim=function(){var e=this;this.adapter.addClass(g_.SURFACE_SCRIM_SHOWING),this.runNextAnimationFrame((function(){e.adapter.addClass(g_.SURFACE_SCRIM_SHOWN)}))},t.prototype.hideSurfaceScrim=function(){this.adapter.removeClass(g_.SURFACE_SCRIM_SHOWN),this.adapter.addClass(g_.SURFACE_SCRIM_HIDING)},t.prototype.handleSurfaceScrimTransitionEnd=function(){this.adapter.removeClass(g_.SURFACE_SCRIM_HIDING),this.adapter.removeClass(g_.SURFACE_SCRIM_SHOWING)},t.prototype.isOpen=function(){return this.dialogOpen},t.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction},t.prototype.setEscapeKeyAction=function(e){this.escapeKeyAction=e},t.prototype.getScrimClickAction=function(){return this.scrimClickAction},t.prototype.setScrimClickAction=function(e){this.scrimClickAction=e},t.prototype.getAutoStackButtons=function(){return this.autoStackButtons},t.prototype.setAutoStackButtons=function(e){this.autoStackButtons=e},t.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},t.prototype.setSuppressDefaultPressSelector=function(e){this.suppressDefaultPressSelector=e},t.prototype.layout=function(){var e=this;this.animFrame.request(h_.POLL_LAYOUT_CHANGE,(function(){e.layoutInternal()}))},t.prototype.handleClick=function(e){if(this.adapter.eventTargetMatches(e.target,y_.SCRIM_SELECTOR)&&""!==this.scrimClickAction)this.close(this.scrimClickAction);else{var t=this.adapter.getActionFromEvent(e);t&&this.close(t)}},t.prototype.handleKeydown=function(e){var t="Enter"===e.key||13===e.keyCode;if(t&&!this.adapter.getActionFromEvent(e)){var n=e.composedPath?e.composedPath()[0]:e.target,i=!this.suppressDefaultPressSelector||!this.adapter.eventTargetMatches(n,this.suppressDefaultPressSelector);t&&i&&this.adapter.clickDefaultButton()}},t.prototype.handleDocumentKeydown=function(e){("Escape"===e.key||27===e.keyCode)&&""!==this.escapeKeyAction&&this.close(this.escapeKeyAction)},t.prototype.handleScrollEvent=function(){var e=this;this.animFrame.request(h_.POLL_SCROLL_POS,(function(){e.toggleScrollDividerHeader(),e.toggleScrollDividerFooter()}))},t.prototype.layoutInternal=function(){this.autoStackButtons&&this.detectStackedButtons(),this.toggleScrollableClasses()},t.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(g_.OPENING),this.adapter.removeClass(g_.CLOSING)},t.prototype.runNextAnimationFrame=function(e){var t=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((function(){t.animationFrame=0,clearTimeout(t.animationTimer),t.animationTimer=setTimeout(e,0)}))},t.prototype.detectStackedButtons=function(){this.adapter.removeClass(g_.STACKED);var e=this.adapter.areButtonsStacked();e&&this.adapter.addClass(g_.STACKED),e!==this.areButtonsStacked&&(this.adapter.reverseButtons(),this.areButtonsStacked=e)},t.prototype.toggleScrollableClasses=function(){this.adapter.removeClass(g_.SCROLLABLE),this.adapter.isContentScrollable()&&(this.adapter.addClass(g_.SCROLLABLE),this.isFullscreen&&(this.toggleScrollDividerHeader(),this.toggleScrollDividerFooter()))},t.prototype.toggleScrollDividerHeader=function(){this.adapter.isScrollableContentAtTop()?this.adapter.hasClass(g_.SCROLL_DIVIDER_HEADER)&&this.adapter.removeClass(g_.SCROLL_DIVIDER_HEADER):this.adapter.addClass(g_.SCROLL_DIVIDER_HEADER)},t.prototype.toggleScrollDividerFooter=function(){this.adapter.isScrollableContentAtBottom()?this.adapter.hasClass(g_.SCROLL_DIVIDER_FOOTER)&&this.adapter.removeClass(g_.SCROLL_DIVIDER_FOOTER):this.adapter.addClass(g_.SCROLL_DIVIDER_FOOTER)},t}(xp),b_=__.strings,I_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"escapeKeyAction",{get:function(){return this.foundation.getEscapeKeyAction()},set:function(e){this.foundation.setEscapeKeyAction(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrimClickAction",{get:function(){return this.foundation.getScrimClickAction()},set:function(e){this.foundation.setScrimClickAction(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoStackButtons",{get:function(){return this.foundation.getAutoStackButtons()},set:function(e){this.foundation.setAutoStackButtons(e)},enumerable:!1,configurable:!0}),t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e){var t,n;void 0===e&&(e=function(e,t){return new f_(e,t)});var i=this.root.querySelector(b_.CONTAINER_SELECTOR);if(!i)throw new Error("Dialog component requires a "+b_.CONTAINER_SELECTOR+" container element");this.container=i,this.content=this.root.querySelector(b_.CONTENT_SELECTOR),this.buttons=[].slice.call(this.root.querySelectorAll(b_.BUTTON_SELECTOR)),this.defaultButton=this.root.querySelector("["+b_.BUTTON_DEFAULT_ATTRIBUTE+"]"),this.focusTrapFactory=e,this.buttonRipples=[];try{for(var r=vc(this.buttons),o=r.next();!o.done;o=r.next()){var s=o.value;this.buttonRipples.push(new Hp(s))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.initialSyncWithDOM=function(){var e,t,n,i=this;this.focusTrap=(e=this.container,t=this.focusTrapFactory,n=this.getInitialFocusEl()||void 0,t(e,{initialFocusEl:n})),this.handleClick=this.foundation.handleClick.bind(this.foundation),this.handleKeydown=this.foundation.handleKeydown.bind(this.foundation),this.handleDocumentKeydown=this.foundation.handleDocumentKeydown.bind(this.foundation),this.handleOpening=function(){document.addEventListener("keydown",i.handleDocumentKeydown)},this.handleClosing=function(){document.removeEventListener("keydown",i.handleDocumentKeydown)},this.listen("click",this.handleClick),this.listen("keydown",this.handleKeydown),this.listen(b_.OPENING_EVENT,this.handleOpening),this.listen(b_.CLOSING_EVENT,this.handleClosing)},t.prototype.destroy=function(){this.unlisten("click",this.handleClick),this.unlisten("keydown",this.handleKeydown),this.unlisten(b_.OPENING_EVENT,this.handleOpening),this.unlisten(b_.CLOSING_EVENT,this.handleClosing),this.handleClosing(),this.buttonRipples.forEach((function(e){e.destroy()})),e.prototype.destroy.call(this)},t.prototype.layout=function(){this.foundation.layout()},t.prototype.open=function(){this.foundation.open()},t.prototype.close=function(e){void 0===e&&(e=""),this.foundation.close(e)},t.prototype.getDefaultFoundation=function(){var e=this,t={addBodyClass:function(e){return document.body.classList.add(e)},addClass:function(t){return e.root.classList.add(t)},areButtonsStacked:function(){return t=e.buttons,n=new Set,[].forEach.call(t,(function(e){return n.add(e.offsetTop)})),n.size>1;var t,n},clickDefaultButton:function(){e.defaultButton&&!e.defaultButton.disabled&&e.defaultButton.click()},eventTargetMatches:function(e,t){return!!e&&Np(e,t)},getActionFromEvent:function(e){if(!e.target)return"";var t=Op(e.target,"["+b_.ACTION_ATTRIBUTE+"]");return t&&t.getAttribute(b_.ACTION_ATTRIBUTE)},getInitialFocusEl:function(){return e.getInitialFocusEl()},hasClass:function(t){return e.root.classList.contains(t)},isContentScrollable:function(){return function(e){return!!e&&e.scrollHeight>e.offsetHeight}(e.content)},notifyClosed:function(t){return e.emit(b_.CLOSED_EVENT,t?{action:t}:{})},notifyClosing:function(t){return e.emit(b_.CLOSING_EVENT,t?{action:t}:{})},notifyOpened:function(){return e.emit(b_.OPENED_EVENT,{})},notifyOpening:function(){return e.emit(b_.OPENING_EVENT,{})},releaseFocus:function(){e.focusTrap.releaseFocus()},removeBodyClass:function(e){return document.body.classList.remove(e)},removeClass:function(t){return e.root.classList.remove(t)},reverseButtons:function(){e.buttons.reverse(),e.buttons.forEach((function(e){e.parentElement.appendChild(e)}))},trapFocus:function(){e.focusTrap.trapFocus()},registerContentEventHandler:function(t,n){e.content instanceof HTMLElement&&e.content.addEventListener(t,n)},deregisterContentEventHandler:function(t,n){e.content instanceof HTMLElement&&e.content.removeEventListener(t,n)},isScrollableContentAtTop:function(){return function(e){return!!e&&0===e.scrollTop}(e.content)},isScrollableContentAtBottom:function(){return function(e){return!!e&&Math.ceil(e.scrollHeight-e.scrollTop)===e.clientHeight}(e.content)},registerWindowEventHandler:function(e,t){window.addEventListener(e,t)},deregisterWindowEventHandler:function(e,t){window.removeEventListener(e,t)}};return new __(t)},t.prototype.getInitialFocusEl=function(){return this.root.querySelector("["+b_.INITIAL_FOCUS_ATTRIBUTE+"]")},t}(Ap);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function E_(e,t,n){return console.log(e.title.get()),t.create(Zp,{attributes:{"x-transition:enter.duration.250ms":"","x-transition:leave.duration.250ms":""}},t.create(zp,{func:e=>{new I_(e)}},t.create("div",{class:"mdc-dialog mdc-dialog--fullscreen mdc-dialog--open","x-show":e.dialogopen.get(),"x-data":!0},t.create("div",{class:"mdc-dialog__container"},t.create("div",{class:"mdc-dialog__surface","aria-modal":"true","aria-labelledby":"my-dialog-title","aria-describedby":"my-dialog-content"},t.create("div",{class:"mdc-dialog__header"},t.create("div",{style:"\n                  width: 24px;\n                ","x-show":"!"+e.closeable.get()}),t.create("div",{style:"\n                --mdc-text-button-label-text-color: var(--mdc-theme-secondary);\n                display: flex;\n                ","x-on:click":e.dialogopen.set(!1),"x-show":e.closeable.get()},t.create(zp,{func:e=>{Hp.attachTo(e)}},t.create(Gp,{label:t.create("span",{class:"material-symbols-outlined material-icons"},"close"),type:"--text"}))),t.create("h2",{class:"mdc-dialog__title",id:"my-dialog-title",style:"color: var(--mdc-theme-secondary)","x-text":e.title.get()})),t.create("div",{class:"mdc-dialog__content",id:"my-dialog-content"},n),t.create("div",{class:"mdc-dialog__actions",style:"\n                margin-right: 12px;\n              "},e.dialogactions))),t.create("div",{class:"mdc-dialog__scrim"}))))}function w_(e,t,n){return t.create(zp,{func:e=>{new Kf(e)}},t.create("label",{class:"mdc-text-field mdc-text-field--outlined mdc-text-field--textarea mdc-text-field--no-label"},t.create("span",{class:"mdc-notched-outline"},t.create("span",{class:"mdc-notched-outline__leading"}),t.create("span",{class:"mdc-notched-outline__notch"},t.create("span",{class:"mdc-floating-label",style:"color:white;"},e.label.get())),t.create("span",{class:"mdc-notched-outline__trailing"})),t.create("span",{class:"mdc-text-field__resizer"},t.create("textarea",{class:"mdc-text-field__input",rows:"8",cols:"40","aria-label":"Label","x-model":e.model.get(),style:"\n                color:white;\n                "}))))}function T_(e){return{get:()=>e,set:t=>e+" = "+t}}function C_(e){return{cloned:structuredClone(e),get(){return this.cloned},set(e){this.cloned=e}}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var S_={ROOT:"mdc-form-field"},x_={LABEL_SELECTOR:".mdc-form-field > label"},A_=function(e){function t(n){var i=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return i.click=function(){i.handleClick()},i}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return S_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return x_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{activateInputRipple:function(){},deactivateInputRipple:function(){},deregisterInteractionHandler:function(){},registerInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("click",this.click)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("click",this.click)},t.prototype.handleClick=function(){var e=this;this.adapter.activateInputRipple(),requestAnimationFrame((function(){e.adapter.deactivateInputRipple()}))},t}(xp),k_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.attachTo=function(e){return new t(e)},t.prototype.labelEl=function(){var e=A_.strings.LABEL_SELECTOR;return this.root.querySelector(e)},t.prototype.getDefaultFoundation=function(){var e=this,t={activateInputRipple:function(){e.input&&e.input.ripple&&e.input.ripple.activate()},deactivateInputRipple:function(){e.input&&e.input.ripple&&e.input.ripple.deactivate()},deregisterInteractionHandler:function(t,n){var i=e.labelEl();i&&i.removeEventListener(t,n)},registerInteractionHandler:function(t,n){var i=e.labelEl();i&&i.addEventListener(t,n)}};return new A_(t)},t}(Ap),O_={ANIM_CHECKED_INDETERMINATE:"mdc-checkbox--anim-checked-indeterminate",ANIM_CHECKED_UNCHECKED:"mdc-checkbox--anim-checked-unchecked",ANIM_INDETERMINATE_CHECKED:"mdc-checkbox--anim-indeterminate-checked",ANIM_INDETERMINATE_UNCHECKED:"mdc-checkbox--anim-indeterminate-unchecked",ANIM_UNCHECKED_CHECKED:"mdc-checkbox--anim-unchecked-checked",ANIM_UNCHECKED_INDETERMINATE:"mdc-checkbox--anim-unchecked-indeterminate",BACKGROUND:"mdc-checkbox__background",CHECKED:"mdc-checkbox--checked",CHECKMARK:"mdc-checkbox__checkmark",CHECKMARK_PATH:"mdc-checkbox__checkmark-path",DISABLED:"mdc-checkbox--disabled",INDETERMINATE:"mdc-checkbox--indeterminate",MIXEDMARK:"mdc-checkbox__mixedmark",NATIVE_CONTROL:"mdc-checkbox__native-control",ROOT:"mdc-checkbox",SELECTED:"mdc-checkbox--selected",UPGRADED:"mdc-checkbox--upgraded"},N_={ARIA_CHECKED_ATTR:"aria-checked",ARIA_CHECKED_INDETERMINATE_VALUE:"mixed",DATA_INDETERMINATE_ATTR:"data-indeterminate",NATIVE_CONTROL_SELECTOR:".mdc-checkbox__native-control",TRANSITION_STATE_CHECKED:"checked",TRANSITION_STATE_INDETERMINATE:"indeterminate",TRANSITION_STATE_INIT:"init",TRANSITION_STATE_UNCHECKED:"unchecked"},R_={ANIM_END_LATCH_MS:250},P_=function(e){function t(n){var i=e.call(this,gc(gc({},t.defaultAdapter),n))||this;return i.currentCheckState=N_.TRANSITION_STATE_INIT,i.currentAnimationClass="",i.animEndLatchTimer=0,i.enableAnimationEndHandler=!1,i}return mc(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return O_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return N_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return R_},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},forceLayout:function(){},hasNativeControl:function(){return!1},isAttachedToDOM:function(){return!1},isChecked:function(){return!1},isIndeterminate:function(){return!1},removeClass:function(){},removeNativeControlAttr:function(){},setNativeControlAttr:function(){},setNativeControlDisabled:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.currentCheckState=this.determineCheckState(),this.updateAriaChecked(),this.adapter.addClass(O_.UPGRADED)},t.prototype.destroy=function(){clearTimeout(this.animEndLatchTimer)},t.prototype.setDisabled=function(e){this.adapter.setNativeControlDisabled(e),e?this.adapter.addClass(O_.DISABLED):this.adapter.removeClass(O_.DISABLED)},t.prototype.handleAnimationEnd=function(){var e=this;this.enableAnimationEndHandler&&(clearTimeout(this.animEndLatchTimer),this.animEndLatchTimer=setTimeout((function(){e.adapter.removeClass(e.currentAnimationClass),e.enableAnimationEndHandler=!1}),R_.ANIM_END_LATCH_MS))},t.prototype.handleChange=function(){this.transitionCheckState()},t.prototype.transitionCheckState=function(){if(this.adapter.hasNativeControl()){var e=this.currentCheckState,t=this.determineCheckState();if(e!==t){this.updateAriaChecked();var n=O_.SELECTED;t===N_.TRANSITION_STATE_UNCHECKED?this.adapter.removeClass(n):this.adapter.addClass(n),this.currentAnimationClass.length>0&&(clearTimeout(this.animEndLatchTimer),this.adapter.forceLayout(),this.adapter.removeClass(this.currentAnimationClass)),this.currentAnimationClass=this.getTransitionAnimationClass(e,t),this.currentCheckState=t,this.adapter.isAttachedToDOM()&&this.currentAnimationClass.length>0&&(this.adapter.addClass(this.currentAnimationClass),this.enableAnimationEndHandler=!0)}}},t.prototype.determineCheckState=function(){var e=N_.TRANSITION_STATE_INDETERMINATE,t=N_.TRANSITION_STATE_CHECKED,n=N_.TRANSITION_STATE_UNCHECKED;return this.adapter.isIndeterminate()?e:this.adapter.isChecked()?t:n},t.prototype.getTransitionAnimationClass=function(e,n){var i=N_.TRANSITION_STATE_INIT,r=N_.TRANSITION_STATE_CHECKED,o=N_.TRANSITION_STATE_UNCHECKED,s=t.cssClasses,a=s.ANIM_UNCHECKED_CHECKED,l=s.ANIM_UNCHECKED_INDETERMINATE,c=s.ANIM_CHECKED_UNCHECKED,u=s.ANIM_CHECKED_INDETERMINATE,d=s.ANIM_INDETERMINATE_CHECKED,h=s.ANIM_INDETERMINATE_UNCHECKED;switch(e){case i:return n===o?"":n===r?d:h;case o:return n===r?a:l;case r:return n===o?c:u;default:return n===r?d:h}},t.prototype.updateAriaChecked=function(){this.adapter.isIndeterminate()?this.adapter.setNativeControlAttr(N_.ARIA_CHECKED_ATTR,N_.ARIA_CHECKED_INDETERMINATE_VALUE):this.adapter.removeNativeControlAttr(N_.ARIA_CHECKED_ATTR)},t}(xp),L_=["checked","indeterminate"],D_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rippleSurface=t.createRipple(),t}return mc(t,e),t.attachTo=function(e){return new t(e)},Object.defineProperty(t.prototype,"ripple",{get:function(){return this.rippleSurface},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this.getNativeControl().checked},set:function(e){this.getNativeControl().checked=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indeterminate",{get:function(){return this.getNativeControl().indeterminate},set:function(e){this.getNativeControl().indeterminate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.getNativeControl().disabled},set:function(e){this.foundation.setDisabled(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getNativeControl().value},set:function(e){this.getNativeControl().value=e},enumerable:!1,configurable:!0}),t.prototype.initialize=function(){var e=N_.DATA_INDETERMINATE_ATTR;this.getNativeControl().indeterminate="true"===this.getNativeControl().getAttribute(e),this.getNativeControl().removeAttribute(e)},t.prototype.initialSyncWithDOM=function(){var e=this;this.handleChange=function(){e.foundation.handleChange()},this.handleAnimationEnd=function(){e.foundation.handleAnimationEnd()},this.getNativeControl().addEventListener("change",this.handleChange),this.listen(of(window,"animationend"),this.handleAnimationEnd),this.installPropertyChangeHooks()},t.prototype.destroy=function(){this.rippleSurface.destroy(),this.getNativeControl().removeEventListener("change",this.handleChange),this.unlisten(of(window,"animationend"),this.handleAnimationEnd),this.uninstallPropertyChangeHooks(),e.prototype.destroy.call(this)},t.prototype.getDefaultFoundation=function(){var e=this;return new P_({addClass:function(t){return e.root.classList.add(t)},forceLayout:function(){return e.root.offsetWidth},hasNativeControl:function(){return!!e.getNativeControl()},isAttachedToDOM:function(){return Boolean(e.root.parentNode)},isChecked:function(){return e.checked},isIndeterminate:function(){return e.indeterminate},removeClass:function(t){e.root.classList.remove(t)},removeNativeControlAttr:function(t){e.getNativeControl().removeAttribute(t)},setNativeControlAttr:function(t,n){e.getNativeControl().setAttribute(t,n)},setNativeControlDisabled:function(t){e.getNativeControl().disabled=t}})},t.prototype.createRipple=function(){var e=this,t=gc(gc({},Hp.createAdapter(this)),{deregisterInteractionHandler:function(t,n){e.getNativeControl().removeEventListener(t,n,kp())},isSurfaceActive:function(){return Np(e.getNativeControl(),":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(t,n){e.getNativeControl().addEventListener(t,n,kp())}});return new Hp(this.root,new jp(t))},t.prototype.installPropertyChangeHooks=function(){var e,t,n=this,i=this.getNativeControl(),r=Object.getPrototypeOf(i),o=function(e){var t=Object.getOwnPropertyDescriptor(r,e);if(!M_(t))return{value:void 0};var o=t.get,s={configurable:t.configurable,enumerable:t.enumerable,get:o,set:function(e){t.set.call(i,e),n.foundation.handleChange()}};Object.defineProperty(i,e,s)};try{for(var s=vc(L_),a=s.next();!a.done;a=s.next()){var l=o(a.value);if("object"==typeof l)return l.value}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}},t.prototype.uninstallPropertyChangeHooks=function(){var e,t,n=this.getNativeControl(),i=Object.getPrototypeOf(n);try{for(var r=vc(L_),o=r.next();!o.done;o=r.next()){var s=o.value,a=Object.getOwnPropertyDescriptor(i,s);if(!M_(a))return;Object.defineProperty(n,s,a)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype.getNativeControl=function(){var e=N_.NATIVE_CONTROL_SELECTOR,t=this.root.querySelector(e);if(!t)throw new Error("Checkbox component requires a "+e+" element");return t},t}(Ap);function M_(e){return!!e&&"function"==typeof e.set}function F_(e,t,n){let i="ID"+Math.floor(999999*Math.random()).toString();return t.create(zp,{func:e=>{console.log(e);const t=new D_(e.children[0]);new k_(e).input=t}},t.create("div",{class:"mdc-form-field"},t.create("div",{class:"mdc-checkbox"},t.create("input",{type:"checkbox",class:"mdc-checkbox__native-control",id:i,"x-model":e.inputmodel}),t.create("div",{class:"mdc-checkbox__background"},t.create("svg",{class:"mdc-checkbox__checkmark",viewBox:"0 0 24 24"},t.create("path",{class:"mdc-checkbox__checkmark-path",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})),t.create("div",{class:"mdc-checkbox__mixedmark"})),t.create("div",{class:"mdc-checkbox__ripple"})),t.create("label",{for:i},e.label)))}function j_(e,t){let n=[];return e.forEach(((e,i)=>{t!==i&&n.push(e)})),n}function H_(e){let t=[],n=!0,i=Object.keys(e).length,r=Object.keys(e);for(let o=0;o<i;o++){const i=e[r[o]];let s=i;if("Object"==i.constructor.name&&(s=H_(i)),n){let e=Number(r[o]);if(Number.isNaN(e)){n=!1,t={},o=0;continue}t[e]=s}else t[r[o]]=s}return t}function U_(e){let t={};for(let n in e){let i=e[n];if("Array"==i.constructor.name){let e={};i.forEach(((t,n)=>{e[n]=t})),i=e}"Object"==i.constructor.name&&(i=U_(i)),t[n]=i}return t}function q_(e,t,n){return t.create("div",{"x-data":Xp((function(){return{dialogopen:!1,videodialogopen:!1,sending:!1,status:{message:""},add_programme:{submitcallback:()=>{},title:"",featured:!1,imageurl:"",creatorname:"",description:"",serieses:[]},videomanager:{callback:()=>{},data:[]}}}))},t.create("h2",{style:"\n         padding: 10px\n        "},"Programme List"),t.create("div",{style:"\n          height: 10px;\n          width: calc(100% - 20px);\n          background-color: var(--mdc-theme-secondary);\n          margin-left: 10px;\n          margin-right: 10px;\n          border-radius: 2.5px;\n        "}),t.create("div",{_content:`\n      <template x-for="(item, index) in programmes.data">\n          ${t.create("div",{style:"\n          width: calc(100% - 20px);\n          margin-left: 10px;\n          margin-right: 10px;\n          justify-content: center;\n        "},t.create("div",{style:"\n                            display:flex\n                            "},t.create("img",{style:"\n                          width: 150px;\n                          height: 150px;\n                          margin-top: 10px;\n                        ","x-bind:src":"item.imageurl"}),t.create("div",{style:"\n                                height: 100%;\n                                display: block;\n                              "},t.create("div",{style:"\n                          font-family: BlinkMacSystemFont,-apple-system,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',Helvetica,Arial,sans-serif;\n                          font-size: 2em;\n                          margin-left: 10px;\n                          margin-bottom: 5px;\n                          ","x-text":"item.title"},"Southeast Gear"),t.create("div",{"x-html":Jp((function(){return t.create("div",{style:"\n                                  margin-left: 10px;\n                                  float: bottom;\n                                ","x-on:click":Xp((function(){this.add_programme=H_({submitcallback:()=>{},title:"",featured:!1,imageurl:"",creatorname:"",description:"",serieses:[],...this.item}),this.dialogopen=!0,this.add_programme.submitcallback=e=>{this.sending=!0;let t=cc();e=U_(e),console.log(e),delete e.submitcallback,Hl(Fl(t,"programmes/"+this.index.toString()),e).then((e=>{this.sending=!1,this.dialogopen=!1,this.status.message=""})).catch((e=>{this.sending=!1,this.status.message=e}))}}))},t.create(Gp,{label:"Edit",type:"--raised"}))}))})))).outerHTML}\n        </template>\n        `}),t.create("div",null,t.create(Zp,{attributes:{"x-transition:enter.duration.250ms":"","x-transition:leave.duration.250ms":""}},t.create(E_,{closeable:C_("true"),dialogactions:t.create("div",{style:"\n                display: flex;\n              "},t.create("div",{"x-text":"status.message",style:"\n                  width: 280px;\n                ","x-show":"!sending"}),t.create("div",{style:"\n                  padding-top: 18px;\n                  width: 180px;\n                ","x-show":"sending"},t.create(mf,null)),t.create("div",{style:"\n                          width: fit-content;\n                        ","x-on:click":Xp((function(){this.add_programme.submitcallback(this.add_programme)})),"x-show":"!sending"},t.create(Gp,{label:"Submit",type:"--text"}))),dialogopen:T_("dialogopen"),title:C_("'Add / Edit programme'")},t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create(F_,{inputmodel:"add_programme['featured']",label:"Featured"})),t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create(Yf,{inputlabel:"Programme name",inputmodel:"add_programme['title']",inputtype:"text"})),t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create(Yf,{inputlabel:"Image URL",inputmodel:"add_programme['imageurl']",inputtype:"text"})),t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create(Yf,{inputlabel:"Creator Name",inputmodel:"add_programme['creatorname']",inputtype:"text"})),t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create(w_,{label:C_("Description"),model:C_("add_programme['description']")})),t.create("div",{style:"\n                margin-top: 12px;\n              "},t.create("div",{style:"\n                    display: flex;\n                    background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);\n                    width: 100%;\n                    min-height: 85px;\n                    padding: 20px;\n                    border-radius: 5px;\n                    position: relative;\n                    align-items: center;\n                  ","x-html":Jp((function(){return t.create("div",{style:"\n                      width: 100%;"},t.create("div",{_content:`<template x-for="(item, index3) in ${Xp((function(){return this.add_programme.serieses}))}">\n                          ${t.create("div",{style:"\n                                  display: block;\n                                  background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);\n                                  width: 100%;\n                                  min-height: 85px;\n                                  padding: 20px;\n                                  border-radius: 5px;\n                                  position: relative;\n                                  align-items: center;\n                                  margin-bottom: 10px;\n                                "},t.create("h3",{style:"\n                                      color: var(--mdc-theme-secondary)\n                                    "},"Series"),t.create("div",{style:"\n                                margin-top: 12px;\n                                width: 100%;\n                                height: 100%;\n                              "},t.create(Yf,{inputlabel:"",inputmodel:"item['seriesname']",inputtype:"text"})),t.create("div",{style:"\n                                margin-top: 12px;\n                                width: 100%;\n                              "},t.create(Yf,{inputlabel:"",inputmodel:"item['imageurl']",inputtype:"text"})),t.create("div",{style:"\n                          width: fit-content;\n                          margin-top: 12px;\n                        ","x-on:click":Xp((function(){this.videomanager.data=this.item.videos,this.videodialogopen=!0,this.videomanager.callback=()=>{this.item.videos=this.videomanager.data,this.videodialogopen=!1}}))},t.create(Gp,{label:"Edit Videos",type:"--raised"})),t.create("div",{style:"\n                                margin-top: 12px;\n                                width: fit-content;\n                              ","x-on:click":Xp((function(){this.add_programme.serieses=j_(this.add_programme.serieses,this.index3)}))},t.create(Gp,{label:"Remove series",type:"--raised"}))).outerHTML}\n                          </template>\n                          `}),t.create("div",{style:"\n                          width: fit-content;\n                        ","x-on:click":Xp((function(){this.add_programme.serieses.push({seriesname:"(series name)",imageurl:"(direct image URL, https ONLY)",videos:[]})}))},t.create(Gp,{label:"Add series",type:"--raised"})))}))})))),t.create(Zp,{attributes:{"x-transition:enter.duration.250ms":"","x-transition:leave.duration.250ms":""}},t.create(E_,{closeable:C_("false"),dialogactions:t.create("div",null,t.create("div",{style:"\n                          width: fit-content;\n                        ","x-on:click":Xp((function(){this.videomanager.callback()}))},t.create(Gp,{label:"Apply",type:"--text"}))),dialogopen:T_("videodialogopen"),title:C_("'Video Manager'")},t.create("div",{style:"\n                    display: block;\n                    background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);\n                    width: 100%;\n                    min-height: 85px;\n                    padding: 20px;\n                    border-radius: 5px;\n                    position: relative;\n                    align-items: center;\n                  ",_content:`<template x-for="(item, index2) in videomanager.data">\n                ${t.create("div",null,t.create("div",{style:"\n                                margin-top: 12px;\n                                width: 100%;\n                                display: block;\n                                background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);\n                                width: 100%;\n                                min-height: 85px;\n                                padding: 20px;\n                                border-radius: 5px;\n                                position: relative;\n                                align-items: center;\n                              "},t.create("div",{style:"\n                      margin-top: 12px;\n                    "},t.create(Yf,{inputlabel:"",inputmodel:"item['videourl']",inputtype:"text"})),t.create("div",{style:"\n                      margin-top: 12px;\n                    "},t.create(Yf,{inputlabel:"",inputmodel:"item['directurl']",inputtype:"text"})),t.create("div",{style:"\n                      margin-top: 12px;\n                    "},t.create(Yf,{inputlabel:"",inputmodel:"item['videotitle']",inputtype:"text"})),t.create("div",{"x-html":Jp((function(){return t.create("div",{style:"\n                width: fit-content;\n                margin-top: 12px;\n              ","x-on:click":Xp((function(){this.videomanager.data=j_(this.videomanager.data,this.index2)}))},t.create(Gp,{label:"Remove video",type:"--raised"}))}))}))).outerHTML}\n              </template>`}),t.create("div",{"x-html":Jp((function(){return t.create("div",{style:"\n                width: fit-content;\n                margin-top: 12px;\n              ","x-on:click":Xp((function(){this.videomanager.data.push({videourl:"(youtube URL)",directurl:"(direct https url to the video, optional)",videotitle:"(video title)"})}))},t.create(Gp,{label:"Add video",type:"--raised"}))}))})))),t.create("div",{"x-html":Jp((function(){return t.create("div",{style:"\n                width: fit-content;\n                margin-top: 12px;\n                margin-left: 12px;\n              ","x-on:click":Xp((function(){let e=0;for(let t in this.programmes.data)e++;this.add_programme=H_({submitcallback:()=>{},title:"",featured:!1,imageurl:"",creatorname:"",description:"",serieses:[]}),this.dialogopen=!0,this.add_programme.submitcallback=t=>{this.sending=!0;let n=cc();t=U_(t),console.log(t),delete t.submitcallback,Hl(Fl(n,"programmes/"+e.toString()),t).then((e=>{this.sending=!1,this.dialogopen=!1,this.status.message=""})).catch((e=>{this.sending=!1,this.status.message=e}))}}))},t.create(Gp,{label:"Add programme",type:"--raised"}))}))}),t.create("div",{style:"\n                width: fit-content;\n                margin-top: 12px;\n                margin-left: 12px;\n              ","x-on:click":Xp((function(){window.abc(),console.log("complete")}))},t.create(Gp,{label:"WASM test",type:"--raised"})),t.create("div",{style:"\n                width: fit-content;\n                margin-top: 12px;\n                margin-left: 12px;\n              ","x-on:click":Xp((function(){Hl(Fl(cc(),"/users2/abc"),{abc:1}).then((e=>{console.log(e)})).catch((e=>{alert(e)}))}))},t.create(Gp,{label:"firebase test",type:"--raised"})))}const B_={apiKey:"AIzaSyASnaeaC-FLvGoHKneasPInl12JC9jX27Q",authDomain:"mytsbc-a2d97.firebaseapp.com",projectId:"mytsbc-a2d97",storageBucket:"mytsbc-a2d97.appspot.com",messagingSenderId:"267158378243",appId:"1:267158378243:web:31d94cda2ae697a0be7b36",measurementId:"G-2RQNS9T3W0",databaseURL:"https://mytsbc-a2d97-default-rtdb.asia-southeast1.firebasedatabase.app/"},V_=new class extends I{constructor(e=window){super(e,(()=>new d),(()=>new h),(()=>new v),(()=>new l),(()=>new a),(()=>new C),(()=>new x),(()=>new S),(()=>new T),(()=>new k))}},W_={"--mdc-theme-primary-rgb":"13,188,196","--mdc-theme-primary":"rgb(var(--mdc-theme-primary-rgb))","--mdc-theme-secondary":"#fff","--mdc-theme-text-primary-on-background":"#fff","--mdc-theme-surface":"#2c2931","--mdc-theme-background":"#2c2931","--navbar":"#332f3a",color:"#ffffff"};window.colors=W_;var z_=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${z_}px`),V_.render(V_.create(V_.fragment,null,V_.create("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"}),V_.create("script",null,"\n            async function getembed(url) {\n            return await (await fetch(url)).text()\n            }\n\n            function safeGet(name) {\n            console.log(typeof name)\n            }\n        "),V_.create(wp,null))).on(document.head),document.addEventListener("alpine:init",(()=>{window.Alpine.data("mainData",(()=>({currentprogram:{imageurl:"123",title:"REALLLLLLLLLLY LONG TITLE",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",featured:!1},firebaseapp:null,firebasedatabase:null,currentseries:{},currentvideo:{},testres:{},programmes:{loading:!0,data:{}},serieses:{loading:!1,data:{}},initialized:!1,fontsize:20,auth:{authenticating:!0,dialogopen:!1,loggedIn:!1,email:"",displayName:"",idToken:"",uid:"",firebaseuser:null},actions:{signout:{"@click"(){if(this.auth.authenticating)return;this.auth={authenticating:!1,dialogopen:!1,loggedIn:!1,email:"",displayName:"",idToken:"",uid:"",firebaseuser:null};let e=_p(this.firebaseapp);e.setPersistence(Hd),Nd(e)}}},firebasemanager:{"x-init"(){const e=yt(B_);Zn(e),_p(e);const t=cc(e);return Wl(Fl(t,"/programmes"),(e=>{this.programmes.data=e.val()})),this.firebasedatabase=t,this.firebaseapp=e,null}},authmanager:{"x-init"(){let e=_p(this.firebaseapp);e.setPersistence(Hd),e.onAuthStateChanged((e=>{console.log("authManager called"),null==e?this.auth.authenticating=!1:(this.auth.authenticating=!1,this.auth.loggedIn=!0,this.auth.email=e.email,this.auth.displayName=e.displayName,e.getIdToken().then((e=>{this.auth.idToken=e})),this.auth.uid=e.uid,this.auth.firebaseuser=e)}))}}})))})),V_.render(V_.create(V_.fragment,null,V_.create(Cp,{colors:W_,style:"\n            display:inline-block;\n\n            /*set the div in the top-left corner of the screen*/\n            position:absolute;\n            top:0;\n            left:0;\n\n            /*set the width and height to 100% of the screen*/\n            width:100%;\n            height:100%;\n            background-color: var(--mdc-theme-background);\n        "},V_.create("div",{"x-data":"mainData"},V_.create("div",{"x-bind":"firebasemanager"}),V_.create("div",{"x-bind":"authmanager"}),V_.create(Wp,null,V_.create(Vp,{page:"home"},V_.create(Qp,null)),V_.create(Vp,{page:"settings"},V_.create(fv,null)),V_.create(Vp,{page:"series"},V_.create(d_,null)),V_.create(Vp,{page:"thatnerdlabs"},V_.create(q_,null))),V_.create(Up,null))))).on(document.body);var $_,G_,K_,Y_,X_=Object.create,J_=Object.defineProperty,Q_=Object.getPrototypeOf,Z_=Object.prototype.hasOwnProperty,eb=Object.getOwnPropertyNames,tb=Object.getOwnPropertyDescriptor,nb=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ib=nb((e=>{function t(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}Object.defineProperty(e,"__esModule",{value:!0});var n={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},i={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},r=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");var o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",s=t(o),a=t(o+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),l=/[>/="'\u0009\u000a\u000c\u0020]/,c={};var u=t("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),d=t("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");var h=/;(?![^(]*\))/g,p=/:(.+)/;function f(e){const t={};return e.split(h).forEach((e=>{if(e){const n=e.split(p);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}var m=t("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),g=t("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),y=t("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),v=/["'&<>]/;var _=/^-?>|<!--|-->|--!>|<!-$/g;function b(e,t){if(e===t)return!0;let n=N(e),i=N(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=A(e),i=A(t),n||i)return!(!n||!i)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=b(e[i],t[i]);return n}(e,t);if(n=L(e),i=L(t),n||i){if(!n||!i)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const i=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(i&&!r||!i&&r||!b(e[n],t[n]))return!1}}return String(e)===String(t)}var I,E=(e,t)=>k(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:O(t)?{[`Set(${t.size})`]:[...t.values()]}:!L(t)||A(t)||F(t)?t:String(t),w=Object.freeze({}),T=Object.freeze([]),C=/^on[^a-z]/,S=Object.assign,x=Object.prototype.hasOwnProperty,A=Array.isArray,k=e=>"[object Map]"===M(e),O=e=>"[object Set]"===M(e),N=e=>e instanceof Date,R=e=>"function"==typeof e,P=e=>"string"==typeof e,L=e=>null!==e&&"object"==typeof e,D=Object.prototype.toString,M=e=>D.call(e),F=e=>"[object Object]"===M(e),j=t(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),H=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},U=/-(\w)/g,q=H((e=>e.replace(U,((e,t)=>t?t.toUpperCase():"")))),B=/\B([A-Z])/g,V=H((e=>e.replace(B,"-$1").toLowerCase())),W=H((e=>e.charAt(0).toUpperCase()+e.slice(1))),z=H((e=>e?`on${W(e)}`:""));e.EMPTY_ARR=T,e.EMPTY_OBJ=w,e.NO=()=>!1,e.NOOP=()=>{},e.PatchFlagNames=n,e.babelParserDefaultPlugins=["bigInt","optionalChaining","nullishCoalescingOperator"],e.camelize=q,e.capitalize=W,e.def=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},e.escapeHtml=function(e){const t=""+e,n=v.exec(t);if(!n)return t;let i,r,o="",s=0;for(r=n.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}s!==r&&(o+=t.substring(s,r)),s=r+1,o+=i}return s!==r?o+t.substring(s,r):o},e.escapeHtmlComment=function(e){return e.replace(_,"")},e.extend=S,e.generateCodeFrame=function(e,t=0,n=e.length){const i=e.split(/\r?\n/);let r=0;const o=[];for(let s=0;s<i.length;s++)if(r+=i[s].length+1,r>=t){for(let e=s-2;e<=s+2||n>r;e++){if(e<0||e>=i.length)continue;const a=e+1;o.push(`${a}${" ".repeat(Math.max(3-String(a).length,0))}|  ${i[e]}`);const l=i[e].length;if(e===s){const e=t-(r-l)+1,i=Math.max(1,n>r?l-e:n-t);o.push("   |  "+" ".repeat(e)+"^".repeat(i))}else if(e>s){if(n>r){const e=Math.max(Math.min(n-r,l),1);o.push("   |  "+"^".repeat(e))}r+=l+1}}break}return o.join("\n")},e.getGlobalThis=()=>I||(I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),e.hasChanged=(e,t)=>e!==t&&(e==e||t==t),e.hasOwn=(e,t)=>x.call(e,t),e.hyphenate=V,e.invokeArrayFns=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},e.isArray=A,e.isBooleanAttr=a,e.isDate=N,e.isFunction=R,e.isGloballyWhitelisted=r,e.isHTMLTag=m,e.isIntegerKey=e=>P(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,e.isKnownAttr=d,e.isMap=k,e.isModelListener=e=>e.startsWith("onUpdate:"),e.isNoUnitNumericStyleProp=u,e.isObject=L,e.isOn=e=>C.test(e),e.isPlainObject=F,e.isPromise=e=>L(e)&&R(e.then)&&R(e.catch),e.isReservedProp=j,e.isSSRSafeAttrName=function(e){if(c.hasOwnProperty(e))return c[e];const t=l.test(e);return t&&console.error(`unsafe attribute name: ${e}`),c[e]=!t},e.isSVGTag=g,e.isSet=O,e.isSpecialBooleanAttr=s,e.isString=P,e.isSymbol=e=>"symbol"==typeof e,e.isVoidTag=y,e.looseEqual=b,e.looseIndexOf=function(e,t){return e.findIndex((e=>b(e,t)))},e.makeMap=t,e.normalizeClass=function e(t){let n="";if(P(t))n=t;else if(A(t))for(let i=0;i<t.length;i++){const r=e(t[i]);r&&(n+=r+" ")}else if(L(t))for(const i in t)t[i]&&(n+=i+" ");return n.trim()},e.normalizeStyle=function e(t){if(A(t)){const n={};for(let i=0;i<t.length;i++){const r=t[i],o=e(P(r)?f(r):r);if(o)for(const e in o)n[e]=o[e]}return n}if(L(t))return t},e.objectToString=D,e.parseStringStyle=f,e.propsToAttrMap={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},e.remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},e.slotFlagsText=i,e.stringifyStyle=function(e){let t="";if(!e)return t;for(const n in e){const i=e[n],r=n.startsWith("--")?n:V(n);(P(i)||"number"==typeof i&&u(r))&&(t+=`${r}:${i};`)}return t},e.toDisplayString=e=>null==e?"":L(e)?JSON.stringify(e,E,2):String(e),e.toHandlerKey=z,e.toNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},e.toRawType=e=>M(e).slice(8,-1),e.toTypeString=M})),rb=nb(((e,t)=>{t.exports=ib()})),ob=nb((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t,n=rb(),i=new WeakMap,r=[],o=Symbol("iterate"),s=Symbol("Map key iterate");function a(e,i=n.EMPTY_OBJ){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const o=function(e,n){const i=function(){if(!i.active)return e();if(!r.includes(i)){c(i);try{return p(),r.push(i),t=i,e()}finally{r.pop(),f(),t=r[r.length-1]}}};return i.id=l++,i.allowRecurse=!!n.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=e,i.deps=[],i.options=n,i}(e,i);return i.lazy||o(),o}var l=0;function c(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var u=!0,d=[];function h(){d.push(u),u=!1}function p(){d.push(u),u=!0}function f(){const e=d.pop();u=void 0===e||e}function m(e,n,r){if(!u||void 0===t)return;let o=i.get(e);o||i.set(e,o=new Map);let s=o.get(r);s||o.set(r,s=new Set),s.has(t)||(s.add(t),t.deps.push(s),t.options.onTrack&&t.options.onTrack({effect:t,target:e,type:n,key:r}))}function g(e,r,a,l,c,u){const d=i.get(e);if(!d)return;const h=new Set,p=e=>{e&&e.forEach((e=>{(e!==t||e.allowRecurse)&&h.add(e)}))};if("clear"===r)d.forEach(p);else if("length"===a&&n.isArray(e))d.forEach(((e,t)=>{("length"===t||t>=l)&&p(e)}));else switch(void 0!==a&&p(d.get(a)),r){case"add":n.isArray(e)?n.isIntegerKey(a)&&p(d.get("length")):(p(d.get(o)),n.isMap(e)&&p(d.get(s)));break;case"delete":n.isArray(e)||(p(d.get(o)),n.isMap(e)&&p(d.get(s)));break;case"set":n.isMap(e)&&p(d.get(o))}h.forEach((t=>{t.options.onTrigger&&t.options.onTrigger({effect:t,target:e,key:a,type:r,newValue:l,oldValue:c,oldTarget:u}),t.options.scheduler?t.options.scheduler(t):t()}))}var y=n.makeMap("__proto__,__v_isRef,__isVue"),v=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(n.isSymbol)),_=T(),b=T(!1,!0),I=T(!0),E=T(!0,!0),w={};function T(e=!1,t=!1){return function(i,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&o===(e?t?oe:re:t?ie:ne).get(i))return i;const s=n.isArray(i);if(!e&&s&&n.hasOwn(w,r))return Reflect.get(w,r,o);const a=Reflect.get(i,r,o);if(n.isSymbol(r)?v.has(r):y(r))return a;if(e||m(i,"get",r),t)return a;if(fe(a)){return!s||!n.isIntegerKey(r)?a.value:a}return n.isObject(a)?e?ae(a):se(a):a}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];w[e]=function(...e){const n=he(this);for(let t=0,r=this.length;t<r;t++)m(n,"get",t+"");const i=t.apply(n,e);return-1===i||!1===i?t.apply(n,e.map(he)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];w[e]=function(...e){h();const n=t.apply(this,e);return f(),n}}));var C=x(),S=x(!0);function x(e=!1){return function(t,i,r,o){let s=t[i];if(!e&&(r=he(r),s=he(s),!n.isArray(t)&&fe(s)&&!fe(r)))return s.value=r,!0;const a=n.isArray(t)&&n.isIntegerKey(i)?Number(i)<t.length:n.hasOwn(t,i),l=Reflect.set(t,i,r,o);return t===he(o)&&(a?n.hasChanged(r,s)&&g(t,"set",i,r,s):g(t,"add",i,r)),l}}var A={get:_,set:C,deleteProperty:function(e,t){const i=n.hasOwn(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&i&&g(e,"delete",t,void 0,r),o},has:function(e,t){const i=Reflect.has(e,t);return n.isSymbol(t)&&v.has(t)||m(e,"has",t),i},ownKeys:function(e){return m(e,"iterate",n.isArray(e)?"length":o),Reflect.ownKeys(e)}},k={get:I,set:(e,t)=>(console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0),deleteProperty:(e,t)=>(console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0)},O=n.extend({},A,{get:b,set:S}),N=n.extend({},k,{get:E}),R=e=>n.isObject(e)?se(e):e,P=e=>n.isObject(e)?ae(e):e,L=e=>e,D=e=>Reflect.getPrototypeOf(e);function M(e,t,n=!1,i=!1){const r=he(e=e.__v_raw),o=he(t);t!==o&&!n&&m(r,"get",t),!n&&m(r,"get",o);const{has:s}=D(r),a=i?L:n?P:R;return s.call(r,t)?a(e.get(t)):s.call(r,o)?a(e.get(o)):void(e!==r&&e.get(t))}function F(e,t=!1){const n=this.__v_raw,i=he(n),r=he(e);return e!==r&&!t&&m(i,"has",e),!t&&m(i,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function j(e,t=!1){return e=e.__v_raw,!t&&m(he(e),"iterate",o),Reflect.get(e,"size",e)}function H(e){e=he(e);const t=he(this);return D(t).has.call(t,e)||(t.add(e),g(t,"add",e,e)),this}function U(e,t){t=he(t);const i=he(this),{has:r,get:o}=D(i);let s=r.call(i,e);s?te(i,r,e):(e=he(e),s=r.call(i,e));const a=o.call(i,e);return i.set(e,t),s?n.hasChanged(t,a)&&g(i,"set",e,t,a):g(i,"add",e,t),this}function q(e){const t=he(this),{has:n,get:i}=D(t);let r=n.call(t,e);r?te(t,n,e):(e=he(e),r=n.call(t,e));const o=i?i.call(t,e):void 0,s=t.delete(e);return r&&g(t,"delete",e,void 0,o),s}function B(){const e=he(this),t=0!==e.size,i=n.isMap(e)?new Map(e):new Set(e),r=e.clear();return t&&g(e,"clear",void 0,void 0,i),r}function V(e,t){return function(n,i){const r=this,s=r.__v_raw,a=he(s),l=t?L:e?P:R;return!e&&m(a,"iterate",o),s.forEach(((e,t)=>n.call(i,l(e),l(t),r)))}}function W(e,t,i){return function(...r){const a=this.__v_raw,l=he(a),c=n.isMap(l),u="entries"===e||e===Symbol.iterator&&c,d="keys"===e&&c,h=a[e](...r),p=i?L:t?P:R;return!t&&m(l,"iterate",d?s:o),{next(){const{value:e,done:t}=h.next();return t?{value:e,done:t}:{value:u?[p(e[0]),p(e[1])]:p(e),done:t}},[Symbol.iterator](){return this}}}}function z(e){return function(...t){{const i=t[0]?`on key "${t[0]}" `:"";console.warn(`${n.capitalize(e)} operation ${i}failed: target is readonly.`,he(this))}return"delete"!==e&&this}}var $={get(e){return M(this,e)},get size(){return j(this)},has:F,add:H,set:U,delete:q,clear:B,forEach:V(!1,!1)},G={get(e){return M(this,e,!1,!0)},get size(){return j(this)},has:F,add:H,set:U,delete:q,clear:B,forEach:V(!1,!0)},K={get(e){return M(this,e,!0)},get size(){return j(this,!0)},has(e){return F.call(this,e,!0)},add:z("add"),set:z("set"),delete:z("delete"),clear:z("clear"),forEach:V(!0,!1)},Y={get(e){return M(this,e,!0,!0)},get size(){return j(this,!0)},has(e){return F.call(this,e,!0)},add:z("add"),set:z("set"),delete:z("delete"),clear:z("clear"),forEach:V(!0,!0)};function X(e,t){const i=t?e?Y:G:e?K:$;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(n.hasOwn(i,r)&&r in t?i:t,r,o)}["keys","values","entries",Symbol.iterator].forEach((e=>{$[e]=W(e,!1,!1),K[e]=W(e,!0,!1),G[e]=W(e,!1,!0),Y[e]=W(e,!0,!0)}));var J={get:X(!1,!1)},Q={get:X(!1,!0)},Z={get:X(!0,!1)},ee={get:X(!0,!0)};function te(e,t,i){const r=he(i);if(r!==i&&t.call(e,r)){const t=n.toRawType(e);console.warn(`Reactive ${t} contains both the raw and reactive versions of the same object${"Map"===t?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var ne=new WeakMap,ie=new WeakMap,re=new WeakMap,oe=new WeakMap;function se(e){return e&&e.__v_isReadonly?e:le(e,!1,A,J,ne)}function ae(e){return le(e,!0,k,Z,re)}function le(e,t,i,r,o){if(!n.isObject(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=(l=e).__v_skip||!Object.isExtensible(l)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(n.toRawType(l));var l;if(0===a)return e;const c=new Proxy(e,2===a?r:i);return o.set(e,c),c}function ce(e){return ue(e)?ce(e.__v_raw):!(!e||!e.__v_isReactive)}function ue(e){return!(!e||!e.__v_isReadonly)}function de(e){return ce(e)||ue(e)}function he(e){return e&&he(e.__v_raw)||e}var pe=e=>n.isObject(e)?se(e):e;function fe(e){return Boolean(e&&!0===e.__v_isRef)}var me=class{constructor(e,t=!1){this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:pe(e)}get value(){return m(he(this),"get","value"),this._value}set value(e){n.hasChanged(he(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:pe(e),g(he(this),"set","value",e))}};function ge(e,t=!1){return fe(e)?e:new me(e,t)}function ye(e){return fe(e)?e.value:e}var ve={get:(e,t,n)=>ye(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return fe(r)&&!fe(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};var _e=class{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}};function be(e,t){return fe(e[t])?e[t]:new _e(e,t)}e.ITERATE_KEY=o,e.computed=function(e){let t,i;return n.isFunction(e)?(t=e,i=()=>{console.warn("Write operation failed: computed value is readonly")}):(t=e.get,i=e.set),new class{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=a(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,g(he(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const e=he(this);return e._dirty&&(e._value=this.effect(),e._dirty=!1),m(e,"get","value"),e._value}set value(e){this._setter(e)}}(t,i,n.isFunction(e)||!e.set)},e.customRef=function(e){return new class{constructor(e){this.__v_isRef=!0;const{get:t,set:n}=e((()=>m(this,"get","value")),(()=>g(this,"set","value")));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}(e)},e.effect=a,e.enableTracking=p,e.isProxy=de,e.isReactive=ce,e.isReadonly=ue,e.isRef=fe,e.markRaw=function(e){return n.def(e,"__v_skip",!0),e},e.pauseTracking=h,e.proxyRefs=function(e){return ce(e)?e:new Proxy(e,ve)},e.reactive=se,e.readonly=ae,e.ref=function(e){return ge(e)},e.resetTracking=f,e.shallowReactive=function(e){return le(e,!1,O,Q,ie)},e.shallowReadonly=function(e){return le(e,!0,N,ee,oe)},e.shallowRef=function(e){return ge(e,!0)},e.stop=function(e){e.active&&(c(e),e.options.onStop&&e.options.onStop(),e.active=!1)},e.toRaw=he,e.toRef=be,e.toRefs=function(e){de(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const t=n.isArray(e)?new Array(e.length):{};for(const n in e)t[n]=be(e,n);return t},e.track=m,e.trigger=g,e.triggerRef=function(e){g(he(e),"set","value",e.value)},e.unref=ye})),sb=nb(((e,t)=>{t.exports=ob()})),ab=!1,lb=!1,cb=[];function ub(e){!function(e){cb.includes(e)||cb.push(e);lb||ab||(ab=!0,queueMicrotask(db))}(e)}function db(){ab=!1,lb=!0;for(let e=0;e<cb.length;e++)cb[e]();cb.length=0,lb=!1}var hb=!0;function pb(e){G_=e}var fb=[],mb=[],gb=[];function yb(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach((([n,i])=>{(void 0===t||t.includes(n))&&(i.forEach((e=>e())),delete e._x_attributeCleanups[n])}))}var vb=new MutationObserver(xb),_b=!1;function bb(){vb.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),_b=!0}function Ib(){(Eb=Eb.concat(vb.takeRecords())).length&&!wb&&(wb=!0,queueMicrotask((()=>{xb(Eb),Eb.length=0,wb=!1}))),vb.disconnect(),_b=!1}var Eb=[],wb=!1;function Tb(e){if(!_b)return e();Ib();let t=e();return bb(),t}var Cb=!1,Sb=[];function xb(e){if(Cb)return void(Sb=Sb.concat(e));let t=[],n=[],i=new Map,r=new Map;for(let o=0;o<e.length;o++)if(!e[o].target._x_ignoreMutationObserver&&("childList"===e[o].type&&(e[o].addedNodes.forEach((e=>1===e.nodeType&&t.push(e))),e[o].removedNodes.forEach((e=>1===e.nodeType&&n.push(e)))),"attributes"===e[o].type)){let t=e[o].target,n=e[o].attributeName,s=e[o].oldValue,a=()=>{i.has(t)||i.set(t,[]),i.get(t).push({name:n,value:t.getAttribute(n)})},l=()=>{r.has(t)||r.set(t,[]),r.get(t).push(n)};t.hasAttribute(n)&&null===s?a():t.hasAttribute(n)?(l(),a()):l()}r.forEach(((e,t)=>{yb(t,e)})),i.forEach(((e,t)=>{fb.forEach((n=>n(t,e)))}));for(let o of n)t.includes(o)||mb.forEach((e=>e(o)));t.forEach((e=>{e._x_ignoreSelf=!0,e._x_ignore=!0}));for(let o of t)n.includes(o)||o.isConnected&&(delete o._x_ignoreSelf,delete o._x_ignore,gb.forEach((e=>e(o))),o._x_ignore=!0,o._x_ignoreSelf=!0);t.forEach((e=>{delete e._x_ignoreSelf,delete e._x_ignore})),t=null,n=null,i=null,r=null}function Ab(e){return Rb(Nb(e))}function kb(e,t,n){return e._x_dataStack=[t,...Nb(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter((e=>e!==t))}}function Ob(e,t){let n=e._x_dataStack[0];Object.entries(t).forEach((([e,t])=>{n[e]=t}))}function Nb(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?Nb(e.host):e.parentNode?Nb(e.parentNode):[]}function Rb(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap((e=>Object.keys(e))))),has:(t,n)=>e.some((e=>e.hasOwnProperty(n))),get:(n,i)=>(e.find((e=>{if(e.hasOwnProperty(i)){let n=Object.getOwnPropertyDescriptor(e,i);if(n.get&&n.get._x_alreadyBound||n.set&&n.set._x_alreadyBound)return!0;if((n.get||n.set)&&n.enumerable){let r=n.get,o=n.set,s=n;r=r&&r.bind(t),o=o&&o.bind(t),r&&(r._x_alreadyBound=!0),o&&(o._x_alreadyBound=!0),Object.defineProperty(e,i,{...s,get:r,set:o})}return!0}return!1}))||{})[i],set:(t,n,i)=>{let r=e.find((e=>e.hasOwnProperty(n)));return r?r[n]=i:e[e.length-1][n]=i,!0}});return t}function Pb(e){let t=(n,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach((([r,{value:o,enumerable:s}])=>{if(!1===s||void 0===o)return;let a=""===i?r:`${i}.${r}`;"object"==typeof o&&null!==o&&o._x_interceptor?n[r]=o.initialize(e,a,r):!(e=>"object"==typeof e&&!Array.isArray(e)&&null!==e)(o)||o===n||o instanceof Element||t(o,a)}))};return t(e)}function Lb(e,t=(()=>{})){let n={initialValue:void 0,_x_interceptor:!0,initialize(t,n,i){return e(this.initialValue,(()=>function(e,t){return t.split(".").reduce(((e,t)=>e[t]),e)}(t,n)),(e=>Db(t,n,e)),n,i)}};return t(n),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=n.initialize.bind(n);n.initialize=(i,r,o)=>{let s=e.initialize(i,r,o);return n.initialValue=s,t(i,r,o)}}else n.initialValue=e;return n}}function Db(e,t,n){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),Db(e[t[0]],t.slice(1),n)}e[t[0]]=n}var Mb={};function Fb(e,t){Mb[e]=t}function jb(e,t){return Object.entries(Mb).forEach((([n,i])=>{Object.defineProperty(e,`$${n}`,{get:()=>i(t,{Alpine:$I,interceptor:Lb}),enumerable:!1})})),e}function Hb(e,t,n,...i){try{return n(...i)}catch(r){Ub(r,e,t)}}function Ub(e,t,n=void 0){Object.assign(e,{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}\n\n${n?'Expression: "'+n+'"\n\n':""}`,t),setTimeout((()=>{throw e}),0)}function qb(e,t,n={}){let i;return Bb(e,t)((e=>i=e),n),i}function Bb(...e){return Vb(...e)}var Vb=Wb;function Wb(e,t){let n={};jb(n,e);let i=[n,...Nb(e)];if("function"==typeof t)return function(e,t){return(n=(()=>{}),{scope:i={},params:r=[]}={})=>{$b(n,t.apply(Rb([i,...e]),r))}}(i,t);let r=function(e,t,n){let i=function(e,t){if(zb[e])return zb[e];let n=Object.getPrototypeOf((async function(){})).constructor,i=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(() => { ${e} })()`:e;const r=()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`)}catch(r){return Ub(r,t,e),Promise.resolve()}};let o=r();return zb[e]=o,o}(t,n);return(r=(()=>{}),{scope:o={},params:s=[]}={})=>{i.result=void 0,i.finished=!1;let a=Rb([o,...e]);if("function"==typeof i){let e=i(i,a).catch((e=>Ub(e,n,t)));i.finished?($b(r,i.result,a,s,n),i.result=void 0):e.then((e=>{$b(r,e,a,s,n)})).catch((e=>Ub(e,n,t))).finally((()=>i.result=void 0))}}}(i,t,e);return Hb.bind(null,e,t,r)}var zb={};function $b(e,t,n,i,r){if("function"==typeof t){let o=t.apply(n,i);o instanceof Promise?o.then((t=>$b(e,t,n,i))).catch((e=>Ub(e,r,t))):e(o)}else e(t)}var Gb="x-";function Kb(e=""){return Gb+e}var Yb={};function Xb(e,t){Yb[e]=t}function Jb(e,t,n){let i={},r=Array.from(t).map(nI(((e,t)=>i[e]=t))).filter(oI).map(function(e,t){return({name:n,value:i})=>{let r=n.match(sI()),o=n.match(/:([a-zA-Z0-9\-:]+)/),s=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[n]||n;return{type:r?r[1]:null,value:o?o[1]:null,modifiers:s.map((e=>e.replace(".",""))),expression:i,original:a}}}(i,n)).sort(cI);return r.map((t=>function(e,t){let n=()=>{},i=Yb[t.type]||n,r=[],o=e=>r.push(e),[s,a]=function(e){let t=()=>{};return[n=>{let i=G_(n);e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((e=>e()))}),e._x_effects.add(i),t=()=>{void 0!==i&&(e._x_effects.delete(i),K_(i))}},()=>{t()}]}(e);r.push(a);let l={Alpine:$I,effect:s,cleanup:o,evaluateLater:Bb.bind(Bb,e),evaluate:qb.bind(qb,e)},c=()=>r.forEach((e=>e()));!function(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}(e,t.original,c);let u=()=>{e._x_ignore||e._x_ignoreSelf||(i.inline&&i.inline(e,t,l),i=i.bind(i,e,t,l),Qb?Zb.get(eI).push(i):i())};return u.runCleanups=c,u}(e,t)))}var Qb=!1,Zb=new Map,eI=Symbol();var tI=(e,t)=>({name:n,value:i})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:i});function nI(e=(()=>{})){return({name:t,value:n})=>{let{name:i,value:r}=iI.reduce(((e,t)=>t(e)),{name:t,value:n});return i!==t&&e(i,t),{name:i,value:r}}}var iI=[];function rI(e){iI.push(e)}function oI({name:e}){return sI().test(e)}var sI=()=>new RegExp(`^${Gb}([^:^.]+)\\b`);var aI="DEFAULT",lI=["ignore","ref","data","id","bind","init","for","model","transition","show","if",aI,"teleport","element"];function cI(e,t){let n=-1===lI.indexOf(e.type)?aI:e.type,i=-1===lI.indexOf(t.type)?aI:t.type;return lI.indexOf(n)-lI.indexOf(i)}function uI(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}var dI=[],hI=!1;function pI(e){dI.push(e),queueMicrotask((()=>{hI||setTimeout((()=>{fI()}))}))}function fI(){for(hI=!1;dI.length;)dI.shift()()}function mI(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach((e=>mI(e,t)));let n=!1;if(t(e,(()=>n=!0)),n)return;let i=e.firstElementChild;for(;i;)mI(i,t),i=i.nextElementSibling}function gI(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var yI=[],vI=[];function _I(){return yI.map((e=>e()))}function bI(){return yI.concat(vI).map((e=>e()))}function II(e){yI.push(e)}function EI(e){vI.push(e)}function wI(e,t=!1){return TI(e,(e=>{if((t?bI():_I()).some((t=>e.matches(t))))return!0}))}function TI(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return TI(e.parentElement,t)}}function CI(e,t=mI){!function(e){Qb=!0;let t=Symbol();eI=t,Zb.set(t,[]);let n=()=>{for(;Zb.get(t).length;)Zb.get(t).shift()();Zb.delete(t)};e(n),Qb=!1,n()}((()=>{t(e,((e,t)=>{Jb(e,e.attributes).forEach((e=>e())),e._x_ignore&&t()}))}))}function SI(e,t){return Array.isArray(t)?xI(e,t.join(" ")):"object"==typeof t&&null!==t?function(e,t){let n=e=>e.split(" ").filter(Boolean),i=Object.entries(t).flatMap((([e,t])=>!!t&&n(e))).filter(Boolean),r=Object.entries(t).flatMap((([e,t])=>!t&&n(e))).filter(Boolean),o=[],s=[];return r.forEach((t=>{e.classList.contains(t)&&(e.classList.remove(t),s.push(t))})),i.forEach((t=>{e.classList.contains(t)||(e.classList.add(t),o.push(t))})),()=>{s.forEach((t=>e.classList.add(t))),o.forEach((t=>e.classList.remove(t)))}}(e,t):"function"==typeof t?SI(e,t()):xI(e,t)}function xI(e,t){return t=!0===t?t="":t||"",n=t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean),e.classList.add(...n),()=>{e.classList.remove(...n)};var n}function AI(e,t){return"object"==typeof t&&null!==t?function(e,t){let n={};return Object.entries(t).forEach((([t,i])=>{n[t]=e.style[t],e.style.setProperty(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i)})),setTimeout((()=>{0===e.style.length&&e.removeAttribute("style")})),()=>{AI(e,n)}}(e,t):function(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}(e,t)}function kI(e,t=(()=>{})){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function OI(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(n=(()=>{}),i=(()=>{})){RI(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,i)},out(n=(()=>{}),i=(()=>{})){RI(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,i)}})}function NI(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:NI(t)}function RI(e,t,{during:n,start:i,end:r}={},o=(()=>{}),s=(()=>{})){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(n).length&&0===Object.keys(i).length&&0===Object.keys(r).length)return o(),void s();let a,l,c;!function(e,t){let n,i,r,o=kI((()=>{Tb((()=>{n=!0,i||t.before(),r||(t.end(),fI()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning}))}));e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:kI((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()})),finish:o},Tb((()=>{t.start(),t.during()})),hI=!0,requestAnimationFrame((()=>{if(n)return;let o=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),s=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===o&&(o=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),Tb((()=>{t.before()})),i=!0,requestAnimationFrame((()=>{n||(Tb((()=>{t.end()})),fI(),setTimeout(e._x_transitioning.finish,o+s),r=!0)}))}))}(e,{start(){a=t(e,i)},during(){l=t(e,n)},before:o,end(){a(),c=t(e,r)},after:s,cleanup(){l(),c()}})}function PI(e,t,n){if(-1===e.indexOf(t))return n;const i=e[e.indexOf(t)+1];if(!i)return n;if("scale"===t&&isNaN(i))return n;if("duration"===t){let e=i.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[i,e[e.indexOf(t)+2]].join(" "):i}Xb("transition",((e,{value:t,modifiers:n,expression:i},{evaluate:r})=>{"function"==typeof i&&(i=r(i)),i?function(e,t,n){OI(e,SI,"");let i={enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}};i[n](t)}(e,i,t):function(e,t,n){OI(e,AI);let i=!t.includes("in")&&!t.includes("out")&&!n,r=i||t.includes("in")||["enter"].includes(n),o=i||t.includes("out")||["leave"].includes(n);t.includes("in")&&!i&&(t=t.filter(((e,n)=>n<t.indexOf("out"))));t.includes("out")&&!i&&(t=t.filter(((e,n)=>n>t.indexOf("out"))));let s=!t.includes("opacity")&&!t.includes("scale"),a=s||t.includes("opacity"),l=s||t.includes("scale"),c=a?0:1,u=l?PI(t,"scale",95)/100:1,d=PI(t,"delay",0),h=PI(t,"origin","center"),p="opacity, transform",f=PI(t,"duration",150)/1e3,m=PI(t,"duration",75)/1e3,g="cubic-bezier(0.4, 0.0, 0.2, 1)";r&&(e._x_transition.enter.during={transformOrigin:h,transitionDelay:d,transitionProperty:p,transitionDuration:`${f}s`,transitionTimingFunction:g},e._x_transition.enter.start={opacity:c,transform:`scale(${u})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"});o&&(e._x_transition.leave.during={transformOrigin:h,transitionDelay:d,transitionProperty:p,transitionDuration:`${m}s`,transitionTimingFunction:g},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:c,transform:`scale(${u})`})}(e,n,t)})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,i){let r=()=>{"visible"===document.visibilityState?requestAnimationFrame(n):setTimeout(n)};t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):r():e._x_transition?e._x_transition.in(n):r():(e._x_hidePromise=e._x_transition?new Promise(((t,n)=>{e._x_transition.out((()=>{}),(()=>t(i))),e._x_transitioning.beforeCancel((()=>n({isFromCancelledTransition:!0})))})):Promise.resolve(i),queueMicrotask((()=>{let t=NI(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):queueMicrotask((()=>{let t=e=>{let n=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then((([e])=>e()));return delete e._x_hidePromise,delete e._x_hideChildren,n};t(e).catch((e=>{if(!e.isFromCancelledTransition)throw e}))}))})))};var LI=!1;function DI(e,t=(()=>{})){return(...n)=>LI?t(...n):e(...n)}function MI(e,t,n,i=[]){switch(e._x_bindings||(e._x_bindings=$_({})),e._x_bindings[t]=n,t=i.includes("camel")?t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase())):t){case"value":!function(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked=FI(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Number.isInteger(t)||Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?Array.isArray(t)?e.checked=t.some((t=>FI(t,e.value))):e.checked=!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){const n=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=n.includes(e.value)}))}(e,t);else{if(e.value===t)return;e.value=t}}(e,n);break;case"style":!function(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles();e._x_undoAddedStyles=AI(e,t)}(e,n);break;case"class":!function(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses();e._x_undoAddedClasses=SI(e,t)}(e,n);break;default:!function(e,t,n){[null,void 0,!1].includes(n)&&function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}(t)?e.removeAttribute(t):(jI(t)&&(n=t),function(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}(e,t,n))}(e,t,n)}}function FI(e,t){return e==t}function jI(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function HI(e,t){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){n=null,e.apply(i,r)}),t)}}function UI(e,t){let n;return function(){let i=this,r=arguments;n||(e.apply(i,r),n=!0,setTimeout((()=>n=!1),t))}}var qI={},BI=!1;var VI={};var WI={};var zI={get reactive(){return $_},get release(){return K_},get effect(){return G_},get raw(){return Y_},version:"3.8.1",flushAndStopDeferringMutations:function(){Cb=!1,xb(Sb),Sb=[]},disableEffectScheduling:function(e){hb=!1,e(),hb=!0},setReactivityEngine:function(e){$_=e.reactive,K_=e.release,G_=t=>e.effect(t,{scheduler:e=>{hb?ub(e):e()}}),Y_=e.raw},closestDataStack:Nb,skipDuringClone:DI,addRootSelector:II,addInitSelector:EI,addScopeToNode:kb,deferMutations:function(){Cb=!0},mapAttributes:rI,evaluateLater:Bb,setEvaluator:function(e){Vb=e},mergeProxies:Rb,findClosest:TI,closestRoot:wI,interceptor:Lb,transition:RI,setStyles:AI,mutateDom:Tb,directive:Xb,throttle:UI,debounce:HI,evaluate:qb,initTree:CI,nextTick:pI,prefixed:Kb,prefix:function(e){Gb=e},plugin:function(e){e($I)},magic:Fb,store:function(e,t){if(BI||(qI=$_(qI),BI=!0),void 0===t)return qI[e];qI[e]=t,"object"==typeof t&&null!==t&&t.hasOwnProperty("init")&&"function"==typeof t.init&&qI[e].init(),Pb(qI[e])},start:function(){document.body||gI("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),uI(document,"alpine:init"),uI(document,"alpine:initializing"),bb(),function(e){gb.push(e)}((e=>CI(e,mI))),function(e){mb.push(e)}((e=>function(e){mI(e,(e=>yb(e)))}(e))),function(e){fb.push(e)}(((e,t)=>{Jb(e,t).forEach((e=>e()))})),Array.from(document.querySelectorAll(bI())).filter((e=>!wI(e.parentElement,!0))).forEach((e=>{CI(e)})),uI(document,"alpine:initialized")},clone:function(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),LI=!0,function(e){let t=G_;pb(((e,n)=>{let i=t(e);return K_(i),()=>{}})),e(),pb(t)}((()=>{!function(e){let t=!1,n=(e,n)=>{mI(e,((e,i)=>{if(t&&function(e){return _I().some((t=>e.matches(t)))}(e))return i();t=!0,n(e,i)}))};CI(e,n)}(t)})),LI=!1},bound:function(e,t,n){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];let i=e.getAttribute(t);return null===i?"function"==typeof n?n():n:jI(t)?!![t,"true"].includes(i):""===i||i},$data:Ab,data:function(e,t){WI[e]=t},bind:function(e,t){VI[e]="function"!=typeof t?()=>t:t}},$I=zI,GI=(e=>{return((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of eb(t))Z_.call(e,i)||"default"===i||J_(e,i,{get:()=>t[i],enumerable:!(n=tb(t,i))||n.enumerable});return e})((t=J_(null!=e?X_(Q_(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),J_(t,"__esModule",{value:!0})),e);var t})(sb());Fb("nextTick",(()=>pI)),Fb("dispatch",(e=>uI.bind(uI,e))),Fb("watch",(e=>(t,n)=>{let i,r=Bb(e,t),o=!0;G_((()=>r((e=>{JSON.stringify(e),o?i=e:queueMicrotask((()=>{n(e,i),i=e})),o=!1}))))})),Fb("store",(function(){return qI})),Fb("data",(e=>Ab(e))),Fb("root",(e=>wI(e))),Fb("refs",(e=>(e._x_refs_proxy||(e._x_refs_proxy=Rb(function(e){let t=[],n=e;for(;n;)n._x_refs&&t.push(n._x_refs),n=n.parentNode;return t}(e))),e._x_refs_proxy)));var KI={};function YI(e){return KI[e]||(KI[e]=0),++KI[e]}Fb("id",(e=>(t,n=null)=>{let i=function(e,t){return TI(e,(e=>{if(e._x_ids&&e._x_ids[t])return!0}))}(e,t),r=i?i._x_ids[t]:YI(t);return n?`${t}-${r}-${n}`:`${t}-${r}`})),Fb("el",(e=>e)),Xb("teleport",((e,{expression:t},{cleanup:n})=>{"template"!==e.tagName.toLowerCase()&&gI("x-teleport can only be used on a <template> tag",e);let i=document.querySelector(t);i||gI(`Cannot find x-teleport element for selector: "${t}"`);let r=e.content.cloneNode(!0).firstElementChild;e._x_teleport=r,r._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach((t=>{r.addEventListener(t,(t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))}))})),kb(r,{},e),Tb((()=>{i.appendChild(r),CI(r),r._x_ignore=!0})),n((()=>r.remove()))}));var XI=()=>{};function JI(e,t,n,i){let r=e,o=e=>i(e),s={},a=(e,t)=>n=>t(e,n);if(n.includes("dot")&&(t=t.replace(/-/g,".")),n.includes("camel")&&(t=function(e){return e.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}(t)),n.includes("passive")&&(s.passive=!0),n.includes("capture")&&(s.capture=!0),n.includes("window")&&(r=window),n.includes("document")&&(r=document),n.includes("prevent")&&(o=a(o,((e,t)=>{t.preventDefault(),e(t)}))),n.includes("stop")&&(o=a(o,((e,t)=>{t.stopPropagation(),e(t)}))),n.includes("self")&&(o=a(o,((t,n)=>{n.target===e&&t(n)}))),(n.includes("away")||n.includes("outside"))&&(r=document,o=a(o,((t,n)=>{e.contains(n.target)||e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(n)}))),o=a(o,((e,i)=>{(function(e){return["keydown","keyup"].includes(e)})(t)&&function(e,t){let n=t.filter((e=>!["window","document","prevent","stop","once"].includes(e)));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,QI((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length)return!1;if(1===n.length&&ZI(e.key).includes(n[0]))return!1;const i=["ctrl","shift","alt","meta","cmd","super"].filter((e=>n.includes(e)));if(n=n.filter((e=>!i.includes(e))),i.length>0){if(i.filter((t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`]))).length===i.length&&ZI(e.key).includes(n[0]))return!1}return!0}(i,n)||e(i)})),n.includes("debounce")){let e=n[n.indexOf("debounce")+1]||"invalid-wait",t=QI(e.split("ms")[0])?Number(e.split("ms")[0]):250;o=HI(o,t)}if(n.includes("throttle")){let e=n[n.indexOf("throttle")+1]||"invalid-wait",t=QI(e.split("ms")[0])?Number(e.split("ms")[0]):250;o=UI(o,t)}return n.includes("once")&&(o=a(o,((e,n)=>{e(n),r.removeEventListener(t,o,s)}))),r.addEventListener(t,o,s),()=>{r.removeEventListener(t,o,s)}}function QI(e){return!Array.isArray(e)&&!isNaN(e)}function ZI(e){if(!e)return[];e=e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let t={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return t[e]=e,Object.keys(t).map((n=>{if(t[n]===e)return n})).filter((e=>e))}function eE(e){let t=e?parseFloat(e):null;return n=t,Array.isArray(n)||isNaN(n)?e:t;var n}function tE(e,t,n,i){let r={};if(/^\[.*\]$/.test(e.item)&&Array.isArray(t)){e.item.replace("[","").replace("]","").split(",").map((e=>e.trim())).forEach(((e,n)=>{r[e]=t[n]}))}else if(/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t){e.item.replace("{","").replace("}","").split(",").map((e=>e.trim())).forEach((e=>{r[e]=t[e]}))}else r[e.item]=t;return e.index&&(r[e.index]=n),e.collection&&(r[e.collection]=i),r}function nE(){}XI.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n((()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore}))},Xb("ignore",XI),Xb("effect",((e,{expression:t},{effect:n})=>n(Bb(e,t)))),Xb("model",((e,{modifiers:t,expression:n},{effect:i,cleanup:r})=>{let o=Bb(e,n),s=Bb(e,`${n} = rightSideOfExpression($event, ${n})`);var a="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let l=function(e,t,n){"radio"===e.type&&Tb((()=>{e.hasAttribute("name")||e.setAttribute("name",n)}));return(n,i)=>Tb((()=>{if(n instanceof CustomEvent&&void 0!==n.detail)return n.detail||n.target.value;if("checkbox"===e.type){if(Array.isArray(i)){let e=t.includes("number")?eE(n.target.value):n.target.value;return n.target.checked?i.concat([e]):i.filter((t=>!(t==e)))}return n.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map((e=>eE(e.value||e.text))):Array.from(n.target.selectedOptions).map((e=>e.value||e.text));{let e=n.target.value;return t.includes("number")?eE(e):t.includes("trim")?e.trim():e}}))}(e,t,n),c=JI(e,a,t,(e=>{s((()=>{}),{scope:{$event:e,rightSideOfExpression:l}})}));r((()=>c()));let u=Bb(e,`${n} = __placeholder`);e._x_model={get(){let e;return o((t=>e=t)),e},set(e){u((()=>{}),{scope:{__placeholder:e}})}},e._x_forceModelUpdate=()=>{o((t=>{void 0===t&&n.match(/\./)&&(t=""),window.fromModel=!0,Tb((()=>MI(e,"value",t))),delete window.fromModel}))},i((()=>{t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate()}))})),Xb("cloak",(e=>queueMicrotask((()=>Tb((()=>e.removeAttribute(Kb("cloak")))))))),EI((()=>`[${Kb("init")}]`)),Xb("init",DI(((e,{expression:t})=>"string"==typeof t?!!t.trim()&&qb(e,t,{}):qb(e,t,{})))),Xb("text",((e,{expression:t},{effect:n,evaluateLater:i})=>{let r=i(t);n((()=>{r((t=>{Tb((()=>{e.textContent=t}))}))}))})),Xb("html",((e,{expression:t},{effect:n,evaluateLater:i})=>{let r=i(t);n((()=>{r((t=>{e.innerHTML=t}))}))})),rI(tI(":",Kb("bind:"))),Xb("bind",((e,{value:t,modifiers:n,expression:i,original:r},{effect:o})=>{if(!t)return function(e,t,n,i){let r={};o=r,Object.entries(VI).forEach((([e,t])=>{Object.defineProperty(o,e,{get:()=>(...e)=>t(...e)})}));var o;let s=Bb(e,t),a=[];for(;a.length;)a.pop()();s((t=>{let i=Object.entries(t).map((([e,t])=>({name:e,value:t}))),r=function(e){return Array.from(e).map(nI()).filter((e=>!oI(e)))}(i);i=i.map((e=>r.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),Jb(e,i,n).map((e=>{a.push(e.runCleanups),e()}))}),{scope:r})}(e,i,r);if("key"===t)return function(e,t){e._x_keyExpression=t}(e,i);let s=Bb(e,i);o((()=>s((r=>{void 0===r&&i.match(/\./)&&(r=""),Tb((()=>MI(e,t,r,n)))}))))})),II((()=>`[${Kb("data")}]`)),Xb("data",DI(((e,{expression:t},{cleanup:n})=>{t=""===t?"{}":t;let i={};jb(i,e);let r={};var o,s;o=r,s=i,Object.entries(WI).forEach((([e,t])=>{Object.defineProperty(o,e,{get:()=>(...e)=>t.bind(s)(...e),enumerable:!1})}));let a=qb(e,t,{scope:r});void 0===a&&(a={}),jb(a,e);let l=$_(a);Pb(l);let c=kb(e,l);l.init&&qb(e,l.init),n((()=>{c(),l.destroy&&qb(e,l.destroy)}))}))),Xb("show",((e,{modifiers:t,expression:n},{effect:i})=>{let r,o=Bb(e,n),s=()=>Tb((()=>{e.style.display="none",e._x_isShown=!1})),a=()=>Tb((()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display"),e._x_isShown=!0})),l=()=>setTimeout(a),c=kI((e=>e?a():s()),(t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,a,s):t?l():s()})),u=!0;i((()=>o((e=>{(u||e!==r)&&(t.includes("immediate")&&(e?l():s()),c(e),r=e,u=!1)}))))})),Xb("for",((e,{expression:t},{effect:n,cleanup:i})=>{let r=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,r=e.match(i);if(!r)return;let o={};o.items=r[2].trim();let s=r[1].replace(n,"").trim(),a=s.match(t);a?(o.item=s.replace(t,"").trim(),o.index=a[1].trim(),a[2]&&(o.collection=a[2].trim())):o.item=s;return o}(t),o=Bb(e,r.items),s=Bb(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n((()=>function(e,t,n,i){let r=e=>"object"==typeof e&&!Array.isArray(e),o=e;n((n=>{var s;s=n,!Array.isArray(s)&&!isNaN(s)&&n>=0&&(n=Array.from(Array(n).keys(),(e=>e+1))),void 0===n&&(n=[]);let a=e._x_lookup,l=e._x_prevKeys,c=[],u=[];if(r(n))n=Object.entries(n).map((([e,r])=>{let o=tE(t,r,e,n);i((e=>u.push(e)),{scope:{index:e,...o}}),c.push(o)}));else for(let e=0;e<n.length;e++){let r=tE(t,n[e],e,n);i((e=>u.push(e)),{scope:{index:e,...r}}),c.push(r)}let d=[],h=[],p=[],f=[];for(let e=0;e<l.length;e++){let t=l[e];-1===u.indexOf(t)&&p.push(t)}l=l.filter((e=>!p.includes(e)));let m="template";for(let e=0;e<u.length;e++){let t=u[e],n=l.indexOf(t);if(-1===n)l.splice(e,0,t),d.push([m,e]);else if(n!==e){let t=l.splice(e,1)[0],i=l.splice(n-1,1)[0];l.splice(e,0,i),l.splice(n,0,t),h.push([t,i])}else f.push(t);m=t}for(let e=0;e<p.length;e++){let t=p[e];a[t].remove(),a[t]=null,delete a[t]}for(let e=0;e<h.length;e++){let[t,n]=h[e],i=a[t],r=a[n],o=document.createElement("div");Tb((()=>{r.after(o),i.after(r),r._x_currentIfEl&&r.after(r._x_currentIfEl),o.before(i),i._x_currentIfEl&&i.after(i._x_currentIfEl),o.remove()})),Ob(r,c[u.indexOf(n)])}for(let e=0;e<d.length;e++){let[t,n]=d[e],i="template"===t?o:a[t];i._x_currentIfEl&&(i=i._x_currentIfEl);let r=c[n],s=u[n],l=document.importNode(o.content,!0).firstElementChild;kb(l,$_(r),o),Tb((()=>{i.after(l),CI(l)})),"object"==typeof s&&gI("x-for key cannot be an object, it must be a string or an integer",o),a[s]=l}for(let e=0;e<f.length;e++)Ob(a[f[e]],c[u.indexOf(f[e])]);o._x_prevKeys=u}))}(e,r,o,s))),i((()=>{Object.values(e._x_lookup).forEach((e=>e.remove())),delete e._x_prevKeys,delete e._x_lookup}))})),nE.inline=(e,{expression:t},{cleanup:n})=>{let i=wI(e);i._x_refs||(i._x_refs={}),i._x_refs[t]=e,n((()=>delete i._x_refs[t]))},Xb("ref",nE),Xb("if",((e,{expression:t},{effect:n,cleanup:i})=>{let r=Bb(e,t);n((()=>r((t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;kb(t,{},e),Tb((()=>{e.after(t),CI(t)})),e._x_currentIfEl=t,e._x_undoIf=()=>{t.remove(),delete e._x_currentIfEl}})():e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)})))),i((()=>e._x_undoIf&&e._x_undoIf()))})),Xb("id",((e,{expression:t},{evaluate:n})=>{n(t).forEach((t=>function(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=YI(t))}(e,t)))})),rI(tI("@",Kb("on:"))),Xb("on",DI(((e,{value:t,modifiers:n,expression:i},{cleanup:r})=>{let o=i?Bb(e,i):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=JI(e,t,n,(e=>{o((()=>{}),{scope:{$event:e},params:[e]})}));r((()=>s()))}))),$I.setEvaluator(Wb),$I.setReactivityEngine({reactive:GI.reactive,effect:GI.effect,release:GI.stop,raw:GI.toRaw});var iE=$I,rE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},oE={};
/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */
!function(e){!function(t,n){e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}}("undefined"!=typeof window?window:rE,(function(e,t){var n=[],i=Object.getPrototypeOf,r=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},s=n.push,a=n.indexOf,l={},c=l.toString,u=l.hasOwnProperty,d=u.toString,h=d.call(Object),p={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},g=e.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,n){var i,r,o=(n=n||g).createElement("script");if(o.text=e,t)for(i in y)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var b="3.6.4",I=function(e,t){return new I.fn.init(e,t)};function E(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!f(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}I.fn=I.prototype={jquery:b,constructor:I,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=I.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return I.each(this,e)},map:function(e){return this.pushStack(I.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(I.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(I.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},I.extend=I.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||f(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(c&&i&&(I.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[t],o=r&&!Array.isArray(n)?[]:r||I.isPlainObject(n)?n:{},r=!1,s[t]=I.extend(c,o,i)):void 0!==i&&(s[t]=i));return s},I.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=u.call(t,"constructor")&&t.constructor)&&d.call(n)===h)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){v(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(E(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?I.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,s=0,a=[];if(E(e))for(i=e.length;s<i;s++)null!=(r=t(e[s],s,n))&&a.push(r);else for(s in e)null!=(r=t(e[s],s,n))&&a.push(r);return o(a)},guid:1,support:p}),"function"==typeof Symbol&&(I.fn[Symbol.iterator]=n[Symbol.iterator]),I.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var w=
/*!
	 * Sizzle CSS Selector Engine v2.3.10
	 * https://sizzlejs.com/
	 *
	 * Copyright JS Foundation and other contributors
	 * Released under the MIT license
	 * https://js.foundation/
	 *
	 * Date: 2023-02-14
	 */
function(e){var t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,y,v,_,b="sizzle"+1*new Date,I=e.document,E=0,w=0,T=le(),C=le(),S=le(),x=le(),A=function(e,t){return e===t&&(d=!0),0},k={}.hasOwnProperty,O=[],N=O.pop,R=O.push,P=O.push,L=O.slice,D=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\["+F+"*("+j+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+F+"*\\]",U=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",q=new RegExp(F+"+","g"),B=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),V=new RegExp("^"+F+"*,"+F+"*"),W=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),z=new RegExp(F+"|>"),$=new RegExp(U),G=new RegExp("^"+j+"$"),K={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){h()},se=be((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(O=L.call(I.childNodes),I.childNodes),O[I.childNodes.length].nodeType}catch(Ce){P={apply:O.length?function(e,t){R.apply(e,L.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ae(e,t,i,r){var o,a,c,u,d,f,y,v=t&&t.ownerDocument,I=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==I&&9!==I&&11!==I)return i;if(!r&&(h(t),t=t||p,m)){if(11!==I&&(d=Z.exec(e)))if(o=d[1]){if(9===I){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(v&&(c=v.getElementById(o))&&_(t,c)&&c.id===o)return i.push(c),i}else{if(d[2])return P.apply(i,t.getElementsByTagName(e)),i;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!x[e+" "]&&(!g||!g.test(e))&&(1!==I||"object"!==t.nodeName.toLowerCase())){if(y=e,v=t,1===I&&(z.test(e)||W.test(e))){for((v=ee.test(e)&&ye(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(ie,re):t.setAttribute("id",u=b)),a=(f=s(e)).length;a--;)f[a]=(u?"#"+u:":scope")+" "+_e(f[a]);y=f.join(",")}try{return P.apply(i,v.querySelectorAll(y)),i}catch(E){x(e,!0)}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(B,"$1"),t,i,r)}function le(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[b]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(Ce){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function he(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},o=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},h=ae.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:I;return s!=p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,m=!o(p),I!=p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",oe,!1):r.attachEvent&&r.attachEvent("onunload",oe)),n.scope=ue((function(e){return f.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.cssHas=ue((function(){try{return p.querySelector(":has(*,:jqfake)"),!1}catch(Ce){return!0}})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=ue((function(e){return f.appendChild(e).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(ue((function(e){var t;f.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),y.push("!=",U)})),n.cssHas||g.push(":has"),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=Q.test(f.compareDocumentPosition),_=t||Q.test(f.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==p||e.ownerDocument==I&&_(I,e)?-1:t==p||t.ownerDocument==I&&_(I,t)?1:u?D(u,e)-D(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e==p?-1:t==p?1:r?-1:o?1:u?D(u,e)-D(u,t):0;if(r===o)return he(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?he(s[i],a[i]):s[i]==I?-1:a[i]==I?1:0},p):p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(h(e),n.matchesSelector&&m&&!x[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var i=v.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(Ce){x(t,!0)}return ae(t,p,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=p&&h(e),_(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=p&&h(e);var r=i.attrHandle[t.toLowerCase()],o=r&&k.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(ie,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(A),d){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return u=null,e},r=ae.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},i=ae.selectors={cacheLength:50,createPseudo:ce,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&T(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=ae.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(q," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a,_=!1;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(_=(p=(c=(u=(d=(h=g)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===E&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(_=p=0)||f.pop();)if(1===h.nodeType&&++_&&h===t){u[e]=[E,p,_];break}}else if(v&&(_=p=(c=(u=(d=(h=t)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===E&&c[1]),!1===_)for(;(h=++p&&h&&h[m]||(_=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++_||(v&&((u=(d=h[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[E,_]),h!==t)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=D(e,o[s])]=!(n[i]=o[s])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ce((function(e){var t=[],n=[],i=a(e.replace(B,"$1"));return i[b]?ce((function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return ae(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:ce((function(e){return G.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:ge((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=fe(t);function ve(){}function _e(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function be(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=w++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var c,u,d,h=[E,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(u=(d=t[b]||(t[b]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[o])&&c[0]===E&&c[1]===a)return h[2]=c[2];if(u[o]=h,h[2]=e(t,n,l))return!0}return!1}}function Ie(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function Ee(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),c&&t.push(a)));return s}function we(e,t,n,i,r,o){return i&&!i[b]&&(i=we(i)),r&&!r[b]&&(r=we(r,o)),ce((function(o,s,a,l){var c,u,d,h=[],p=[],f=s.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ae(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?m:Ee(m,h,e,a,l),y=n?r||(o?e:f||i)?[]:s:g;if(n&&n(g,y,a,l),i)for(c=Ee(y,p),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(g[p[u]]=d));if(o){if(r||e){if(r){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(g[u]=d);r(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=r?D(o,d):h[u])>-1&&(o[c]=!(s[c]=d))}}else y=Ee(y===s?y.splice(f,y.length):y),r?r(null,s,y,l):P.apply(s,y)}))}function Te(e){for(var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,u=be((function(e){return e===t}),a,!0),d=be((function(e){return D(t,e)>-1}),a,!0),h=[function(e,n,i){var r=!s&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])h=[be(Ie(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return we(l>1&&Ie(h),l>1&&_e(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(B,"$1"),n,l<r&&Te(e.slice(l,r)),r<o&&Te(e=e.slice(r)),r<o&&_e(e))}h.push(n)}return Ie(h)}return ve.prototype=i.filters=i.pseudos,i.setFilters=new ve,s=ae.tokenize=function(e,t){var n,r,o,s,a,l,c,u=C[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=i.preFilter;a;){for(s in n&&!(r=V.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=W.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),i.filter)!(r=K[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):C(e,l).slice(0)},a=ae.compile=function(e,t){var n,r=[],o=[],a=S[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=Te(t[n]))[b]?r.push(a):o.push(a);a=S(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,s,a,l,u){var d,f,g,y=0,v="0",_=o&&[],b=[],I=c,w=o||r&&i.find.TAG("*",u),T=E+=null==I?1:Math.random()||.1,C=w.length;for(u&&(c=s==p||s||u);v!==C&&null!=(d=w[v]);v++){if(r&&d){for(f=0,s||d.ownerDocument==p||(h(d),a=!m);g=e[f++];)if(g(d,s||p,a)){l.push(d);break}u&&(E=T)}n&&((d=!g&&d)&&y--,o&&_.push(d))}if(y+=v,n&&v!==y){for(f=0;g=t[f++];)g(_,b,s,a);if(o){if(y>0)for(;v--;)_[v]||b[v]||(b[v]=N.call(l));b=Ee(b)}P.apply(l,b),u&&!o&&b.length>0&&y+t.length>1&&ae.uniqueSort(l)}return u&&(E=T,c=I),_};return n?ce(o):o}(o,r)),a.selector=e}return a},l=ae.select=function(e,t,n,r){var o,l,c,u,d,h="function"==typeof e&&e,p=!r&&s(e=h.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=K.needsContext.test(e)?0:l.length;o--&&(c=l[o],!i.relative[u=c.type]);)if((d=i.find[u])&&(r=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ye(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&_e(l)))return P.apply(n,r),n;break}}return(h||a(e,p))(r,t,!m,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=b.split("").sort(A).join("")===b,n.detectDuplicates=!!d,h(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(M,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),ae}(e);I.find=w,I.expr=w.selectors,I.expr[":"]=I.expr.pseudos,I.uniqueSort=I.unique=w.uniqueSort,I.text=w.getText,I.isXMLDoc=w.isXML,I.contains=w.contains,I.escapeSelector=w.escape;var T=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&I(e).is(n))break;i.push(e)}return i},C=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},S=I.expr.match.needsContext;function x(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function k(e,t,n){return f(t)?I.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?I.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?I.grep(e,(function(e){return a.call(t,e)>-1!==n})):I.filter(t,e,n)}I.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?I.find.matchesSelector(i,e)?[i]:[]:I.find.matches(e,I.grep(t,(function(e){return 1===e.nodeType})))},I.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(I(e).filter((function(){for(t=0;t<i;t++)if(I.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)I.find(e,r[t],n);return i>1?I.uniqueSort(n):n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&S.test(e)?I(e):e||[],!1).length}});var O,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,R=I.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||O,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:N.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof I?t[0]:t,I.merge(this,I.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),A.test(i[1])&&I.isPlainObject(t))for(i in t)f(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=g.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==n.ready?n.ready(e):e(I):I.makeArray(e,this)};R.prototype=I.fn,O=I(g);var P=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function D(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}I.fn.extend({has:function(e){var t=I(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(I.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&I(e);if(!S.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&I.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?I.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?a.call(I(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(I.uniqueSort(I.merge(this.get(),I(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),I.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(x(e,"template")&&(e=e.content||e),I.merge([],e.childNodes))}},(function(e,t){I.fn[e]=function(n,i){var r=I.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=I.filter(i,r)),this.length>1&&(L[e]||I.uniqueSort(r),P.test(e)&&r.reverse()),this.pushStack(r)}}));var M=/[^\x20\t\r\n\f]+/g;function F(e){return e}function j(e){throw e}function H(e,t,n,i){var r;try{e&&f(r=e.promise)?r.call(e).done(t).fail(n):e&&f(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}I.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return I.each(e.match(M)||[],(function(e,n){t[n]=!0})),t}(e):I.extend({},e);var t,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){I.each(n,(function(n,i){f(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==_(i)&&t(i)}))}(arguments),n&&!t&&l()),this},remove:function(){return I.each(arguments,(function(e,t){for(var n;(n=I.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?I.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},I.extend({Deferred:function(t){var n=[["notify","progress",I.Callbacks("memory"),I.Callbacks("memory"),2],["resolve","done",I.Callbacks("once memory"),I.Callbacks("once memory"),0,"resolved"],["reject","fail",I.Callbacks("once memory"),I.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return I.Deferred((function(t){I.each(n,(function(n,i){var r=f(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(t,i,r){var o=0;function s(t,n,i,r){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<o)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,f(c)?r?c.call(e,s(o,n,F,r),s(o,n,j,r)):(o++,c.call(e,s(o,n,F,r),s(o,n,j,r),s(o,n,F,n.notifyWith))):(i!==F&&(a=void 0,l=[e]),(r||n.resolveWith)(a,l))}},u=r?c:function(){try{c()}catch(e){I.Deferred.exceptionHook&&I.Deferred.exceptionHook(e,u.stackTrace),t+1>=o&&(i!==j&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?u():(I.Deferred.getStackHook&&(u.stackTrace=I.Deferred.getStackHook()),e.setTimeout(u))}}return I.Deferred((function(e){n[0][3].add(s(0,e,f(r)?r:F,e.notifyWith)),n[1][3].add(s(0,e,f(t)?t:F)),n[2][3].add(s(0,e,f(i)?i:j))})).promise()},promise:function(e){return null!=e?I.extend(e,r):r}},o={};return I.each(n,(function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add,a&&s.add((function(){i=a}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),o=r.call(arguments),s=I.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?r.call(arguments):n,--t||s.resolveWith(i,o)}};if(t<=1&&(H(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||f(o[n]&&o[n].then)))return s.then();for(;n--;)H(o[n],a(n),s.reject);return s.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;I.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&U.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},I.readyException=function(t){e.setTimeout((function(){throw t}))};var q=I.Deferred();function B(){g.removeEventListener("DOMContentLoaded",B),e.removeEventListener("load",B),I.ready()}I.fn.ready=function(e){return q.then(e).catch((function(e){I.readyException(e)})),this},I.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--I.readyWait:I.isReady)||(I.isReady=!0,!0!==e&&--I.readyWait>0||q.resolveWith(g,[I]))}}),I.ready.then=q.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(I.ready):(g.addEventListener("DOMContentLoaded",B),e.addEventListener("load",B));var V=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===_(n))for(a in r=!0,n)V(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,f(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(I(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},W=/^-ms-/,z=/-([a-z])/g;function $(e,t){return t.toUpperCase()}function G(e){return e.replace(W,"ms-").replace(z,$)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=I.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[G(t)]=n;else for(i in t)r[G(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in i?[t]:t.match(M)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||I.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!I.isEmptyObject(t)}};var X=new Y,J=new Y,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}(n)}catch(r){}J.set(e,t,n)}else n=void 0;return n}I.extend({hasData:function(e){return J.hasData(e)||X.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),I.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=J.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=G(i.slice(5)),ee(o,i,r[i]));X.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){J.set(this,e)})):V(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))||void 0!==(n=ee(o,e))?n:void 0;this.each((function(){J.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){J.remove(this,e)}))}}),I.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=X.get(e,t),n&&(!i||Array.isArray(n)?i=X.access(e,t,I.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=I.queue(e,t),i=n.length,r=n.shift(),o=I._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){I.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:I.Callbacks("once memory").add((function(){X.remove(e,[t+"queue",n])}))})}}),I.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?I.queue(this[0],e):void 0===t?this:this.each((function(){var n=I.queue(this,e,t);I._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&I.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){I.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=I.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=X.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],re=g.documentElement,oe=function(e){return I.contains(e.ownerDocument,e)},se={composed:!0};re.getRootNode&&(oe=function(e){return I.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===I.css(e,"display")};function le(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return I.css(e,t,"")},l=a(),c=n&&n[3]||(I.cssNumber[t]?"":"px"),u=e.nodeType&&(I.cssNumber[t]||"px"!==c&&+l)&&ne.exec(I.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)I.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,I.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var ce={};function ue(e){var t,n=e.ownerDocument,i=e.nodeName,r=ce[i];return r||(t=n.body.appendChild(n.createElement(i)),r=I.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ce[i]=r,r)}function de(e,t){for(var n,i,r=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=X.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ae(i)&&(r[o]=ue(i))):"none"!==n&&(r[o]="none",X.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}I.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ae(this)?I(this).show():I(this).hide()}))}});var he,pe,fe=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;he=g.createDocumentFragment().appendChild(g.createElement("div")),(pe=g.createElement("input")).setAttribute("type","radio"),pe.setAttribute("checked","checked"),pe.setAttribute("name","t"),he.appendChild(pe),p.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue,he.innerHTML="<option></option>",p.option=!!he.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&x(e,t)?I.merge([e],n):n}function _e(e,t){for(var n=0,i=e.length;n<i;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,p.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function Ie(e,t,n,i,r){for(var o,s,a,l,c,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===_(o))I.merge(h,o.nodeType?[o]:o);else if(be.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(me.exec(o)||["",""])[1].toLowerCase(),l=ye[a]||ye._default,s.innerHTML=l[1]+I.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;I.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",p=0;o=h[p++];)if(i&&I.inArray(o,i)>-1)r&&r.push(o);else if(c=oe(o),s=ve(d.appendChild(o),"script"),c&&_e(s),n)for(u=0;o=s[u++];)ge.test(o.type||"")&&n.push(o);return d}var Ee=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function Se(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Se(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Te;else if(!r)return e;return 1===o&&(s=r,r=function(e){return I().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=I.guid++)),e.each((function(){I.event.add(this,t,r,i,n)}))}function xe(e,t,n){n?(X.set(e,t,!1),I.event.add(e,t,{namespace:!1,handler:function(e){var i,o,s=X.get(this,t);if(1&e.isTrigger&&this[t]){if(s.length)(I.event.special[t]||{}).delegateType&&e.stopPropagation();else if(s=r.call(arguments),X.set(this,t,s),i=n(this,t),this[t](),s!==(o=X.get(this,t))||i?X.set(this,t,!1):o={},s!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else s.length&&(X.set(this,t,{value:I.event.trigger(I.extend(s[0],I.Event.prototype),s.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&I.event.add(e,t,we)}I.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,m,g=X.get(e);if(K(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&I.find.matchesSelector(re,r),n.guid||(n.guid=I.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==I&&I.event.triggered!==t.type?I.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(M)||[""]).length;c--;)p=m=(a=Ee.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=I.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=I.event.special[p]||{},u=I.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&I.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),I.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,m,g=X.hasData(e)&&X.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(M)||[""]).length;c--;)if(p=m=(a=Ee.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=I.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)u=h[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||I.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)I.event.remove(e,p+t[c],n,i,!0);I.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=new Array(arguments.length),l=I.event.fix(e),c=(X.get(this,"events")||Object.create(null))[l.type]||[],u=I.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=I.event.handlers.call(this,l,c),t=0;(r=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(i=((I.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?I(r,this).index(c)>-1:I.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(I.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[I.expando]?e:new I.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&x(t,"input")&&xe(t,"click",we),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&x(t,"input")&&xe(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&x(t,"input")&&X.get(t,"click")||x(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},I.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},I.Event=function(e,t){if(!(this instanceof I.Event))return new I.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&I.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[I.expando]=!0},I.Event.prototype={constructor:I.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},I.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},I.event.addProp),I.each({focus:"focusin",blur:"focusout"},(function(e,t){I.event.special[e]={setup:function(){return xe(this,e,Ce),!1},trigger:function(){return xe(this,e),!0},_default:function(t){return X.get(t.target,e)},delegateType:t}})),I.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){I.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||I.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),I.fn.extend({on:function(e,t,n,i){return Se(this,e,t,n,i)},one:function(e,t,n,i){return Se(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,I(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each((function(){I.event.remove(this,e,n,t)}))}});var Ae=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ne(e,t){return x(e,"table")&&x(11!==t.nodeType?t:t.firstChild,"tr")&&I(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Pe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,i,r,o,s,a;if(1===t.nodeType){if(X.hasData(e)&&(a=X.get(e).events))for(r in X.remove(t,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)I.event.add(t,r,a[r][n]);J.hasData(e)&&(o=J.access(e),s=I.extend({},o),J.set(t,s))}}function De(e,t){var n=t.nodeName.toLowerCase();"input"===n&&fe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Me(e,t,n,i){t=o(t);var r,s,a,l,c,u,d=0,h=e.length,m=h-1,g=t[0],y=f(g);if(y||h>1&&"string"==typeof g&&!p.checkClone&&ke.test(g))return e.each((function(r){var o=e.eq(r);y&&(t[0]=g.call(this,r,o.html())),Me(o,t,n,i)}));if(h&&(s=(r=Ie(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(l=(a=I.map(ve(r,"script"),Re)).length;d<h;d++)c=r,d!==m&&(c=I.clone(c,!0,!0),l&&I.merge(a,ve(c,"script"))),n.call(e[d],c,d);if(l)for(u=a[a.length-1].ownerDocument,I.map(a,Pe),d=0;d<l;d++)c=a[d],ge.test(c.type||"")&&!X.access(c,"globalEval")&&I.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?I._evalUrl&&!c.noModule&&I._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):v(c.textContent.replace(Oe,""),c,u))}return e}function Fe(e,t,n){for(var i,r=t?I.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||I.cleanData(ve(i)),i.parentNode&&(n&&oe(i)&&_e(ve(i,"script")),i.parentNode.removeChild(i));return e}I.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=oe(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||I.isXMLDoc(e)))for(s=ve(a),i=0,r=(o=ve(e)).length;i<r;i++)De(o[i],s[i]);if(t)if(n)for(o=o||ve(e),s=s||ve(a),i=0,r=o.length;i<r;i++)Le(o[i],s[i]);else Le(e,a);return(s=ve(a,"script")).length>0&&_e(s,!l&&ve(e,"script")),a},cleanData:function(e){for(var t,n,i,r=I.event.special,o=0;void 0!==(n=e[o]);o++)if(K(n)){if(t=n[X.expando]){if(t.events)for(i in t.events)r[i]?I.event.remove(n,i):I.removeEvent(n,i,t.handle);n[X.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),I.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return V(this,(function(e){return void 0===e?I.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Me(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)}))},prepend:function(){return Me(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(I.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return I.clone(this,e,t)}))},html:function(e){return V(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ye[(me.exec(e)||["",""])[1].toLowerCase()]){e=I.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(I.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,(function(t){var n=this.parentNode;I.inArray(this,e)<0&&(I.cleanData(ve(this)),n&&n.replaceChild(t,this))}),e)}}),I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){I.fn[e]=function(e){for(var n,i=[],r=I(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),I(r[a])[t](n),s.apply(i,n.get());return this.pushStack(i)}}));var je=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),He=/^--/,Ue=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},qe=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},Be=new RegExp(ie.join("|"),"i"),Ve="[\\x20\\t\\r\\n\\f]",We=new RegExp("^"+Ve+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ve+"+$","g");function ze(e,t,n){var i,r,o,s,a=He.test(t),l=e.style;return(n=n||Ue(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(We,"$1")||void 0),""!==s||oe(e)||(s=I.style(e,t)),!p.pixelBoxStyles()&&je.test(s)&&Be.test(t)&&(i=l.width,r=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=i,l.minWidth=r,l.maxWidth=o)),void 0!==s?s+"":s}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);i="1%"!==t.top,l=12===n(t.marginLeft),u.style.right="60%",s=36===n(t.right),r=36===n(t.width),u.style.position="absolute",o=12===n(u.offsetWidth/3),re.removeChild(c),u=null}}function n(e){return Math.round(parseFloat(e))}var i,r,o,s,a,l,c=g.createElement("div"),u=g.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===u.style.backgroundClip,I.extend(p,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,i,r;return null==a&&(t=g.createElement("table"),n=g.createElement("tr"),i=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",re.appendChild(t).appendChild(n).appendChild(i),r=e.getComputedStyle(n),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===n.offsetHeight,re.removeChild(t)),a}}))}();var Ge=["Webkit","Moz","ms"],Ke=g.createElement("div").style,Ye={};function Xe(e){var t=I.cssProps[e]||Ye[e];return t||(e in Ke?e:Ye[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if((e=Ge[n]+t)in Ke)return e}(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,Qe={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var i=ne.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function tt(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=I.css(e,n+ie[s],!0,r)),i?("content"===n&&(l-=I.css(e,"padding"+ie[s],!0,r)),"margin"!==n&&(l-=I.css(e,"border"+ie[s]+"Width",!0,r))):(l+=I.css(e,"padding"+ie[s],!0,r),"padding"!==n?l+=I.css(e,"border"+ie[s]+"Width",!0,r):a+=I.css(e,"border"+ie[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function nt(e,t,n){var i=Ue(e),r=(!p.boxSizingReliable()||n)&&"border-box"===I.css(e,"boxSizing",!1,i),o=r,s=ze(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(je.test(s)){if(!n)return s;s="auto"}return(!p.boxSizingReliable()&&r||!p.reliableTrDimensions()&&x(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===I.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===I.css(e,"boxSizing",!1,i),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+tt(e,t,n||(r?"border":"content"),o,i,s)+"px"}function it(e,t,n,i,r){return new it.prototype.init(e,t,n,i,r)}I.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=G(t),l=He.test(t),c=e.style;if(l||(t=Xe(a)),s=I.cssHooks[t]||I.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=ne.exec(n))&&r[1]&&(n=le(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(I.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,s,a=G(t);return He.test(t)||(t=Xe(a)),(s=I.cssHooks[t]||I.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=ze(e,t,i)),"normal"===r&&t in Ze&&(r=Ze[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),I.each(["height","width"],(function(e,t){I.cssHooks[t]={get:function(e,n,i){if(n)return!Je.test(I.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,i):qe(e,Qe,(function(){return nt(e,t,i)}))},set:function(e,n,i){var r,o=Ue(e),s=!p.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===I.css(e,"boxSizing",!1,o),l=i?tt(e,t,i,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-tt(e,t,"border",!1,o)-.5)),l&&(r=ne.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=I.css(e,t)),et(0,n,l)}}})),I.cssHooks.marginLeft=$e(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),I.each({margin:"",padding:"",border:"Width"},(function(e,t){I.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+ie[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(I.cssHooks[e+t].set=et)})),I.fn.extend({css:function(e,t){return V(this,(function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=Ue(e),r=t.length;s<r;s++)o[t[s]]=I.css(e,t[s],!1,i);return o}return void 0!==n?I.style(e,t,n):I.css(e,t)}),e,t,arguments.length>1)}}),I.Tween=it,it.prototype={constructor:it,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||I.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(I.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,n=it.propHooks[this.prop];return this.options.duration?this.pos=t=I.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=I.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){I.fx.step[e.prop]?I.fx.step[e.prop](e):1!==e.elem.nodeType||!I.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:I.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},I.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},I.fx=it.prototype.init,I.fx.step={};var rt,ot,st=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function lt(){ot&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(lt):e.setTimeout(lt,I.fx.interval),I.fx.tick())}function ct(){return e.setTimeout((function(){rt=void 0})),rt=Date.now()}function ut(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ie[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function dt(e,t,n){for(var i,r=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function ht(e,t,n){var i,r,o=0,s=ht.prefilters.length,a=I.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=rt||ct(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(e,[c,i,n]),i<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:I.extend({},t),opts:I.extend(!0,{specialEasing:{},easing:I.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var i=I.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=G(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=I.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<s;o++)if(i=ht.prefilters[o].call(c,e,u,c.opts))return f(i.stop)&&(I._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return I.map(u,dt,c),f(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),I.fx.timer(I.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}I.Animation=I.extend(ht,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(M);for(var n,i=0,r=e.length;i<r;i++)n=e[i],ht.tweeners[n]=ht.tweeners[n]||[],ht.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,c,u,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&ae(e),g=X.get(e,"fxshow");for(i in n.queue||(null==(s=I._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always((function(){h.always((function(){s.unqueued--,I.queue(e,"fx").length||s.empty.fire()}))}))),t)if(r=t[i],st.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||I.style(e,i)}if((l=!I.isEmptyObject(t))||!I.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=X.get(e,"display")),"none"===(u=I.css(e,"display"))&&(c?u=c:(de([e],!0),c=e.style.display||c,u=I.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===I.css(e,"float")&&(l||(h.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=X.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&de([e],!0),h.done((function(){for(i in m||de([e]),X.remove(e,"fxshow"),p)I.style(e,i,p[i])}))),l=dt(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),I.speed=function(e,t,n){var i=e&&"object"==typeof e?I.extend({},e):{complete:n||!n&&t||f(e)&&e,duration:e,easing:n&&t||t&&!f(t)&&t};return I.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in I.fx.speeds?i.duration=I.fx.speeds[i.duration]:i.duration=I.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){f(i.old)&&i.old.call(this),i.queue&&I.dequeue(this,i.queue)},i},I.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=I.isEmptyObject(e),o=I.speed(t,n,i),s=function(){var t=ht(this,I.extend({},e),o);(r||X.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=I.timers,s=X.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&at.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||I.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=X.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=I.timers,s=i?i.length:0;for(n.finish=!0,I.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),I.each(["toggle","show","hide"],(function(e,t){var n=I.fn[t];I.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,i,r)}})),I.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){I.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),I.timers=[],I.fx.tick=function(){var e,t=0,n=I.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||I.fx.stop(),rt=void 0},I.fx.timer=function(e){I.timers.push(e),I.fx.start()},I.fx.interval=13,I.fx.start=function(){ot||(ot=!0,lt())},I.fx.stop=function(){ot=null},I.fx.speeds={slow:600,fast:200,_default:400},I.fn.delay=function(t,n){return t=I.fx&&I.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}}))},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var pt,ft=I.expr.attrHandle;I.fn.extend({attr:function(e,t){return V(this,I.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){I.removeAttr(this,e)}))}}),I.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?I.prop(e,t,n):(1===o&&I.isXMLDoc(e)||(r=I.attrHooks[t.toLowerCase()]||(I.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void I.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=I.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&x(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(M);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?I.removeAttr(e,n):e.setAttribute(n,n),n}},I.each(I.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ft[t]||I.find.attr;ft[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=ft[s],ft[s]=r,r=null!=n(e,t,i)?s:null,ft[s]=o),r}}));var mt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function yt(e){return(e.match(M)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function _t(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(M)||[]}I.fn.extend({prop:function(e,t){return V(this,I.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[I.propFix[e]||e]}))}}),I.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&I.isXMLDoc(e)||(t=I.propFix[t]||t,r=I.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=I.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(I.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),I.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){I.propFix[this.toLowerCase()]=this})),I.fn.extend({addClass:function(e){var t,n,i,r,o,s;return f(e)?this.each((function(t){I(this).addClass(e.call(this,t,vt(this)))})):(t=_t(e)).length?this.each((function(){if(i=vt(this),n=1===this.nodeType&&" "+yt(i)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=yt(n),i!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,i,r,o,s;return f(e)?this.each((function(t){I(this).removeClass(e.call(this,t,vt(this)))})):arguments.length?(t=_t(e)).length?this.each((function(){if(i=vt(this),n=1===this.nodeType&&" "+yt(i)+" "){for(o=0;o<t.length;o++)for(r=t[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s=yt(n),i!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,o,s=typeof e,a="string"===s||Array.isArray(e);return f(e)?this.each((function(n){I(this).toggleClass(e.call(this,n,vt(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=_t(e),this.each((function(){if(a)for(o=I(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==s||((i=vt(this))&&X.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":X.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+yt(vt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;I.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=f(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,I(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=I.map(r,(function(e){return null==e?"":e+""}))),(t=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=I.valHooks[r.type]||I.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(bt,""):null==n?"":n:void 0}}),I.extend({valHooks:{option:{get:function(e){var t=I.find.attr(e,"value");return null!=t?t:yt(I.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!x(n.parentNode,"optgroup"))){if(t=I(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=I.makeArray(t),s=r.length;s--;)((i=r[s]).selected=I.inArray(I.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),I.each(["radio","checkbox"],(function(){I.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=I.inArray(I(e).val(),t)>-1}},p.checkOn||(I.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.focusin="onfocusin"in e;var It=/^(?:focusinfocus|focusoutblur)$/,Et=function(e){e.stopPropagation()};I.extend(I.event,{trigger:function(t,n,i,r){var o,s,a,l,c,d,h,p,y=[i||g],v=u.call(t,"type")?t.type:t,_=u.call(t,"namespace")?t.namespace.split("."):[];if(s=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!It.test(v+I.event.triggered)&&(v.indexOf(".")>-1&&(_=v.split("."),v=_.shift(),_.sort()),c=v.indexOf(":")<0&&"on"+v,(t=t[I.expando]?t:new I.Event(v,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=_.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:I.makeArray(n,[t]),h=I.event.special[v]||{},r||!h.trigger||!1!==h.trigger.apply(i,n))){if(!r&&!h.noBubble&&!m(i)){for(l=h.delegateType||v,It.test(l+v)||(s=s.parentNode);s;s=s.parentNode)y.push(s),a=s;a===(i.ownerDocument||g)&&y.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=y[o++])&&!t.isPropagationStopped();)p=s,t.type=o>1?l:h.bindType||v,(d=(X.get(s,"events")||Object.create(null))[t.type]&&X.get(s,"handle"))&&d.apply(s,n),(d=c&&s[c])&&d.apply&&K(s)&&(t.result=d.apply(s,n),!1===t.result&&t.preventDefault());return t.type=v,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(y.pop(),n)||!K(i)||c&&f(i[v])&&!m(i)&&((a=i[c])&&(i[c]=null),I.event.triggered=v,t.isPropagationStopped()&&p.addEventListener(v,Et),i[v](),t.isPropagationStopped()&&p.removeEventListener(v,Et),I.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(e,t,n){var i=I.extend(new I.Event,n,{type:e,isSimulated:!0});I.event.trigger(i,null,t)}}),I.fn.extend({trigger:function(e,t){return this.each((function(){I.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return I.event.trigger(e,t,n,!0)}}),p.focusin||I.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){I.event.simulate(t,e.target,I.event.fix(e))};I.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,t);r||i.addEventListener(e,n,!0),X.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,t)-1;r?X.access(i,t,r):(i.removeEventListener(e,n,!0),X.remove(i,t))}}}));var wt=e.location,Tt={guid:Date.now()},Ct=/\?/;I.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||I.error("Invalid XML: "+(i?I.map(i.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var St=/\[\]$/,xt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function Ot(e,t,n,i){var r;if(Array.isArray(t))I.each(t,(function(t,r){n||St.test(e)?i(e,r):Ot(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==_(t))i(e,t);else for(r in t)Ot(e+"["+r+"]",t[r],n,i)}I.param=function(e,t){var n,i=[],r=function(e,t){var n=f(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!I.isPlainObject(e))I.each(e,(function(){r(this.name,this.value)}));else for(n in e)Ot(n,e[n],t,r);return i.join("&")},I.fn.extend({serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=I.prop(this,"elements");return e?I.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!I(this).is(":disabled")&&kt.test(this.nodeName)&&!At.test(e)&&(this.checked||!fe.test(e))})).map((function(e,t){var n=I(this).val();return null==n?null:Array.isArray(n)?I.map(n,(function(e){return{name:t.name,value:e.replace(xt,"\r\n")}})):{name:t.name,value:n.replace(xt,"\r\n")}})).get()}});var Nt=/%20/g,Rt=/#.*$/,Pt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Dt=/^(?:GET|HEAD)$/,Mt=/^\/\//,Ft={},jt={},Ht="*/".concat("*"),Ut=g.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(M)||[];if(f(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Bt(e,t,n,i){var r={},o=e===jt;function s(a){var l;return r[a]=!0,I.each(e[a]||[],(function(e,a){var c=a(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Vt(e,t){var n,i,r=I.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&I.extend(!0,e,i),e}Ut.href=wt.href,I.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":I.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,I.ajaxSettings),t):Vt(I.ajaxSettings,e)},ajaxPrefilter:qt(Ft),ajaxTransport:qt(jt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,r,o,s,a,l,c,u,d,h,p=I.ajaxSetup({},n),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?I(f):I.event,y=I.Deferred(),v=I.Callbacks("once memory"),_=p.statusCode||{},b={},E={},w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Lt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=E[e.toLowerCase()]=E[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)T.always(e[T.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||w;return i&&i.abort(t),C(0,t),this}};if(y.promise(T),p.url=((t||p.url||wt.href)+"").replace(Mt,wt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(M)||[""],null==p.crossDomain){l=g.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ut.protocol+"//"+Ut.host!=l.protocol+"//"+l.host}catch(S){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=I.param(p.data,p.traditional)),Bt(Ft,p,n,T),c)return T;for(d in(u=I.event&&p.global)&&0==I.active++&&I.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Dt.test(p.type),r=p.url.replace(Rt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Nt,"+")):(h=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Ct.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Pt,"$1"),h=(Ct.test(r)?"&":"?")+"_="+Tt.guid+++h),p.url=r+h),p.ifModified&&(I.lastModified[r]&&T.setRequestHeader("If-Modified-Since",I.lastModified[r]),I.etag[r]&&T.setRequestHeader("If-None-Match",I.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ht+"; q=0.01":""):p.accepts["*"]),p.headers)T.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(f,T,p)||c))return T.abort();if(w="abort",v.add(p.complete),T.done(p.success),T.fail(p.error),i=Bt(jt,p,n,T)){if(T.readyState=1,u&&m.trigger("ajaxSend",[T,p]),c)return T;p.async&&p.timeout>0&&(a=e.setTimeout((function(){T.abort("timeout")}),p.timeout));try{c=!1,i.send(b,C)}catch(S){if(c)throw S;C(-1,S)}}else C(-1,"No Transport");function C(t,n,s,l){var d,h,g,b,E,w=n;c||(c=!0,a&&e.clearTimeout(a),i=void 0,o=l||"",T.readyState=t>0?4:0,d=t>=200&&t<300||304===t,s&&(b=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,T,s)),!d&&I.inArray("script",p.dataTypes)>-1&&I.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=function(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(S){return{state:"parsererror",error:s?S:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,b,T,d),d?(p.ifModified&&((E=T.getResponseHeader("Last-Modified"))&&(I.lastModified[r]=E),(E=T.getResponseHeader("etag"))&&(I.etag[r]=E)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=b.state,h=b.data,d=!(g=b.error))):(g=w,!t&&w||(w="error",t<0&&(t=0))),T.status=t,T.statusText=(n||w)+"",d?y.resolveWith(f,[h,w,T]):y.rejectWith(f,[T,w,g]),T.statusCode(_),_=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[T,p,d?h:g]),v.fireWith(f,[T,w]),u&&(m.trigger("ajaxComplete",[T,p]),--I.active||I.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return I.get(e,t,n,"json")},getScript:function(e,t){return I.get(e,void 0,t,"script")}}),I.each(["get","post"],(function(e,t){I[t]=function(e,n,i,r){return f(n)&&(r=r||i,i=n,n=void 0),I.ajax(I.extend({url:e,type:t,dataType:r,data:n,success:i},I.isPlainObject(e)&&e))}})),I.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),I._evalUrl=function(e,t,n){return I.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){I.globalEval(e,t,n)}})},I.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=I(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){I(this).wrapInner(e.call(this,t))})):this.each((function(){var t=I(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(n){I(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){I(this).replaceWith(this.childNodes)})),this}}),I.expr.pseudos.hidden=function(e){return!I.expr.pseudos.visible(e)},I.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},I.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Wt={0:200,1223:204},zt=I.ajaxSettings.xhr();p.cors=!!zt&&"withCredentials"in zt,p.ajax=zt=!!zt,I.ajaxTransport((function(t){var n,i;if(p.cors||zt&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Wt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){n&&i()}))},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}})),I.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return I.globalEval(e),e}}}),I.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),I.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=I("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}}));var $t,Gt=[],Kt=/(=)\?(?=&|$)|\?\?/;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||I.expando+"_"+Tt.guid++;return this[e]=!0,e}}),I.ajaxPrefilter("json jsonp",(function(t,n,i){var r,o,s,a=!1!==t.jsonp&&(Kt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Kt,"$1"+r):!1!==t.jsonp&&(t.url+=(Ct.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||I.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always((function(){void 0===o?I(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Gt.push(r)),s&&f(o)&&o(s[0]),s=o=void 0})),"script"})),p.createHTMLDocument=(($t=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$t.childNodes.length),I.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((i=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(i)):t=g),o=!n&&[],(r=A.exec(e))?[t.createElement(r[1])]:(r=Ie([e],t,o),o&&o.length&&I(o).remove(),I.merge([],r.childNodes)));var i,r,o},I.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=yt(e.slice(a)),e=e.slice(0,a)),f(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&I.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(i?I("<div>").append(I.parseHTML(e)).find(i):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},I.expr.pseudos.animated=function(e){return I.grep(I.timers,(function(t){return e===t.elem})).length},I.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c=I.css(e,"position"),u=I(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=I.css(e,"top"),l=I.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),f(t)&&(t=t.call(e,n,I.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):u.css(d)}},I.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){I.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===I.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===I.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=I(e).offset()).top+=I.css(e,"borderTopWidth",!0),r.left+=I.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-I.css(i,"marginTop",!0),left:t.left-r.left-I.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===I.css(e,"position");)e=e.offsetParent;return e||re}))}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;I.fn[e]=function(i){return V(this,(function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),I.each(["top","left"],(function(e,t){I.cssHooks[t]=$e(p.pixelPosition,(function(e,n){if(n)return n=ze(e,t),je.test(n)?I(e).position()[t]+"px":n}))})),I.each({Height:"height",Width:"width"},(function(e,t){I.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){I.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return V(this,(function(t,n,r){var o;return m(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?I.css(t,n,a):I.style(t,n,r,a)}),t,s?r:void 0,s)}}))})),I.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){I.fn[t]=function(e){return this.on(t,e)}})),I.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),I.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){I.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Yt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;I.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),f(e))return i=r.call(arguments,2),o=function(){return e.apply(t||this,i.concat(r.call(arguments)))},o.guid=e.guid=e.guid||I.guid++,o},I.holdReady=function(e){e?I.readyWait++:I.ready(!0)},I.isArray=Array.isArray,I.parseJSON=JSON.parse,I.nodeName=x,I.isFunction=f,I.isWindow=m,I.camelCase=G,I.type=_,I.now=Date.now,I.isNumeric=function(e){var t=I.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},I.trim=function(e){return null==e?"":(e+"").replace(Yt,"$1")};var Xt=e.jQuery,Jt=e.$;return I.noConflict=function(t){return e.$===I&&(e.$=Jt),t&&e.jQuery===I&&(e.jQuery=Xt),I},void 0===t&&(e.jQuery=e.$=I),I}))}({get exports(){return oE},set exports(e){oE=e}});const sE=oE;window.$=sE,window.Alpine=iE,iE.start();
