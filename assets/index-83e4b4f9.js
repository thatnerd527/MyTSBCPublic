let ea,yk=(async()=>{(function(){const n=document.createElement("link").relList;if(!(n&&n.supports&&n.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const i=function(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}(t);fetch(t.href,i)}})();class pl extends Error{constructor(e){super("Referenced value read before it was resolved."),this.ref=e,Object.setPrototypeOf(this,pl.prototype)}}class fl extends Error{constructor(e){super("Attempting to resolve an already-resolved reference."),this.ref=e,Object.setPrototypeOf(this,fl.prototype)}}class ml{constructor(){this._resolved=!1}get resolved(){return this.isResolved()}isResolved(){return this._resolved}get $(){if(!this.isResolved())throw new pl(this);return this._$}resolve(e){if(this.isResolved())throw new fl(this);this._$=e,this._resolved=!0}}class nt{constructor(){this._renderer=new ml}plug(e){this._renderer.resolve(e)}renderer(){return this._renderer.$}}function gl(n){return!!n.plugins&&Array.isArray(n.plugins)}function Dp(n){return!!n.postRender&&typeof n.postRender=="function"}nt.PriorityMax=1,nt.PriorityFallback=0;class QE{constructor(...e){this._appendPlugins=[],this._createPlugins=[],this._propPlugins=[],this._contentPlugins=[],this._postCreatePlugins=[],this._postRenderPlugins=[],this._factories=e}_buildPlugins(){return this._plugins||(this._plugins=this._factories.map(e=>e()).sort((e,t)=>t.priority()-e.priority()),this._plugins.forEach(e=>{e.plug(this),function(t){return!!t.append&&typeof t.append=="function"}(e)&&this._appendPlugins.push(e),function(t){return!!t.setContent&&typeof t.setContent=="function"}(e)&&this._contentPlugins.push(e),function(t){return!!t.setProp&&typeof t.setProp=="function"}(e)&&this._propPlugins.push(e),function(t){return!!t.create&&typeof t.create=="function"}(e)&&this._createPlugins.push(e),function(t){return!!t.postCreate&&typeof t.postCreate=="function"}(e)&&this._postCreatePlugins.push(e),Dp(e)&&this._postRenderPlugins.push(e),function(t){return!!t.leaf&&typeof t.leaf=="function"}(e)&&!this._leafPlugin&&(this._leafPlugin=e),function(t){return!!t.fragment&&typeof t.fragment=="function"}(e)&&!this._fragmentPlugin&&(this._fragmentPlugin=e)})),this}get plugins(){return this._buildPlugins()&&this._plugins}get appendPlugins(){return this._buildPlugins()&&this._appendPlugins}get contentPlugins(){return this._buildPlugins()&&this._contentPlugins}get propPlugins(){return this._buildPlugins()&&this._propPlugins}get createPlugins(){return this._buildPlugins()&&this._createPlugins}get postCreatePlugins(){return this._buildPlugins()&&this._postCreatePlugins}get postRenderPlugins(){return this._buildPlugins()&&this._postRenderPlugins}get leafPlugin(){return this._buildPlugins()&&this._leafPlugin}get fragmentPlugin(){return this._buildPlugins()&&this._fragmentPlugin}plug(...e){return this.clone(...this._factories,...e)}append(e,t){this.appendPlugins.some(i=>i.append(e,t))||this.fallbackAppend(e,t)}setProp(e,t,i){this.propPlugins.some(r=>r.setProp(e,t,i))||this.fallbackSetProp(e,t,i)}setContent(e,t){this.contentPlugins.some(i=>i.setContent(e,t))||this.fallbackSetContent(e,t)}get fragment(){const e=this.fragmentPlugin;return e?e.fragment():this.fallbackFragment()}leaf(){const e=this.leafPlugin;return e?e.leaf():this.fallbackLeaf()}create(e,t,...i){let r;for(const o of this.createPlugins)if(r=o.create(e,t,...i),r)break;return r||(r=this.fallbackCreate(e,t),t&&Object.entries(t).forEach(([o,s])=>this.setProp(r,o,s)),i.forEach(o=>this.append(o,r))),this.postCreatePlugins.forEach(o=>o.postCreate(r)),r}render(e){if(typeof e=="function")return this.render(e.apply(void 0,[this]));const t=this,i=this.postRender(e);return{after(r){t.renderAfter(e,r),i()},before(r){t.renderBefore(e,r),i()},on(r){t.renderOn(e,r),i()},target:e}}postRender(e){return()=>this.postRenderPlugins.forEach(t=>t.postRender(e))}}class JE extends nt{setProp(e,t,i){return t==="_content"&&(this.renderer().setContent(e,i),!0)}priority(){return nt.PriorityFallback}}class ZE extends nt{setProp(e,t,i){return t==="_ref"&&i instanceof ml&&(i.resolve(e),!0)}priority(){return nt.PriorityFallback}}class Hi extends nt{}class Mp extends nt{constructor(...e){super(),this.processors=e}plug(e){super.plug(e),this.processors.forEach(t=>t.plug(this.renderer())),gl(e)&&e.plugins.forEach(t=>{t instanceof Hi&&this.processors.push(t)}),this.processors=this.processors.sort((t,i)=>t.priority()-i.priority())}create(e,t,...i){const r={tag:e,props:t||{},children:i};if(this.match(r)){let o={};const s=[];this.processors.forEach(u=>u.process(d=>o=Object.assign(Object.assign({},o),d),d=>s.push(d),r));const c=this.createComponent(r,o);return s.reverse().forEach(u=>u(c)),c}}}class ew extends Mp{createComponent(e,t){return e.tag.apply(t,[e.props,this.renderer(),e.children])}match(e){return typeof e.tag=="function"}priority(){return Mp.PriorityFallback}}class tw extends Hi{process(e,t){const i=this.renderer(),r=[];e({onBind:o=>r.push({bind:o}),onClear:o=>r.push({clear:o})}),t(o=>{r.forEach(s=>i.hook(o,s))})}priority(){return Hi.PriorityFallback}}function To(n,e=!1){const t=n;return n.nodeType===n.DOCUMENT_FRAGMENT_NODE?function(i,r){var o;let s=function(c){return c.lifecycleMarker}(i);if(s)return To(s,r);if(r)return s=(o=i.ownerDocument)===null||o===void 0?void 0:o.createTextNode(""),Fp(i,s),To(s,!0)}(n,e):t.lifecycle?t.lifecycle:e?(t.lifecycle={bound:!1},t.lifecycle):void 0}function Fp(n,e){n.lifecycleMarker=e,n.contains(e)||n.appendChild(e)}function jp(n){const e=To(n);if(e){if(e.cleared)return;if(e.cleared=!0,e.clears){for(let i=0,r=e.clears[i];i<e.clears.length;r=e.clears[++i])r();e.clears=void 0}}const t=n.childNodes;for(let i=0,r=t.item(i);i<t.length;r=t.item(++i))jp(r)}function Up(n){const e=To(n);if(e){if(e.bound)return;if(e.bound=!0,e.binds)for(let i=0,r=e.binds[i];i<e.binds.length;r=e.binds[++i])r();e.binds=void 0}const t=n.childNodes;for(let i=0,r=t.item(i);i<t.length;r=t.item(++i))Up(r)}function yl(n){if(n.nodeName==="INPUT")return n.type==="number"?parseFloat(n.value):n.type==="checkbox"||n.type==="radio"?n.checked:n.value;if(n.nodeName==="SELECT"){const e=n,t=Array.from(e.selectedOptions).map(i=>function(r){return r._value}(i)||i.value||i.text);return e.multiple?t:t[0]}return n.value}class nw extends Hi{process(e,t){let i;e({setLifeCycleMarker:r=>i=r}),t(r=>{r.nodeType===r.DOCUMENT_FRAGMENT_NODE&&i&&Fp(r,i instanceof ml?i.$:i)})}priority(){return Hi.PriorityFallback+(Hi.PriorityMax-Hi.PriorityFallback)/100}}class iw extends Error{constructor(e){super(`Given tag is not recognized: ${e}`)}}class vl extends QE{constructor(e=window,...t){super(...typeof e=="function"?[e,...t]:t),this.dom=e&&typeof e!="function"?e:window}get document(){return this.dom.document}fallbackAppend(e,t){e instanceof this.dom.Node?t.appendChild(e):Array.isArray(e)?e.forEach(i=>this.append(i,t)):t.appendChild(this.document.createTextNode(`${e}`))}fallbackSetProp(e,t,i){e instanceof this.dom.HTMLElement&&(typeof i=="boolean"?i?e.setAttribute(t,""):e.removeAttribute(t):e.setAttribute(t,`${i}`))}fallbackSetContent(e,t){e instanceof this.dom.HTMLElement?e.innerHTML=`${t}`:e.textContent=`${t}`}fallbackFragment(){return this.document.createDocumentFragment()}fallbackLeaf(){return this.document.createTextNode("")}fallbackCreate(e,t){if(!(e instanceof this.dom.Node||typeof e=="string"))throw new iw(e);return e instanceof this.dom.Node?e:t&&t.xmlns?this.document.createElementNS(`${t.xmlns}`,e):this.document.createElement(e)}renderOn(e,t){t.appendChild(e)}renderAfter(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}renderBefore(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)}postRender(e){const t=this.plugins.filter(Dp);if(e instanceof this.dom.DocumentFragment){const i=Array.from(e.childNodes);return()=>i.forEach(r=>{this.postRender(r)()})}return()=>t.forEach(i=>i.postRender(e))}remove(e){var t;(t=e.parentNode)===null||t===void 0||t.removeChild(e)}clone(...e){return new vl(this.dom,...e)}}class _l extends vl{hook(e,t){(function(i,r){const o=To(r,!0);i.bind&&(o.binds||(o.binds=[])).push(i.bind),i.clear&&(o.clears||(o.clears=[])).push(i.clear)})(t,e)}postRender(e){return e instanceof this.dom.DocumentFragment?super.postRender(e):()=>{this.document.contains(e)&&Up(e),super.postRender(e)()}}plug(...e){return super.plug(...e)}clone(...e){return new _l(this.dom,...e)}remove(e,t){super.remove(e),t||jp(e)}}function Hp(n){return!!n.addClass&&typeof n.addClass=="function"}function Bp(n){return!!n.addClassToggle&&typeof n.addClassToggle=="function"}class rw extends nt{plug(e){super.plug(e),gl(e)&&(this.addClassPlugins=e.plugins.filter(Hp),this.toggleClassPlugins=e.plugins.filter(Bp))}priority(){return nt.PriorityFallback}setProp(e,t,i){if(t==="class"){if(Array.isArray(i))return i.forEach(r=>{let o="";const s=c=>{e.classList.contains(o)&&e.classList.remove(o),e.classList.add(o=c)};this.addClassPlugins&&this.addClassPlugins.some(c=>Hp(c)&&c.addClass(e,r,s))||(typeof r=="string"?e.classList.add(r):this.setToggleMap(r,e))}),!0;if((i==null?void 0:i.constructor)===Object)return this.setToggleMap(i,e),!0}return!1}setToggleMap(e,t){Object.entries(e).forEach(([i,r])=>{this.toggleClassPlugins&&this.toggleClassPlugins.some(o=>Bp(o)&&o.addClassToggle(t,i,r,s=>{s?t.classList.add(i):t.classList.remove(i)}))||(r?t.classList.add(i):t.classList.remove(i))})}}class ow extends nt{priority(){return nt.PriorityFallback}setProp(e,t,i){if(t.startsWith("on")&&typeof i=="function"){const r=t.substr(2).toLowerCase();return e.addEventListener(r,i),!0}return!1}}class sw extends nt{priority(){return nt.PriorityFallback}setProp(e,t,i){if(t==="_state"&&(e.nodeName==="INPUT"||e.nodeName==="TEXTAREA"||e.nodeName==="SELECT")&&typeof i=="function"){const r=this.renderer();return r.hook(e,{bind(){if(e.nodeName==="INPUT"&&e.type==="radio"&&e.name){const o=e;(o.form||r.document).querySelectorAll(`input[name="${o.name}"]`).forEach(s=>{s.form===o.form&&s.addEventListener("input",()=>i(yl(o)))})}else e.addEventListener("input",()=>i(yl(e)));i(yl(e))}}),!0}return!1}}class aw extends nt{priority(){return nt.PriorityFallback}setProp(e,t,i){return t==="_value"&&e.nodeName==="OPTION"&&(function(r,o){r._value=o}(e,i),!0)}}function qp(n){return!!n.setStyle&&typeof n.setStyle=="function"}class cw extends nt{plug(e){super.plug(e),gl(e)&&(this.stylePlugins=e.plugins.filter(qp))}priority(){return nt.PriorityFallback}setProp(e,t,i){return t==="style"&&(i==null?void 0:i.constructor)===Object&&(Object.entries(i).forEach(([r,o])=>{this.stylePlugins&&this.stylePlugins.some(s=>qp(s)&&s.setStyle(e,r,o,c=>this.setStyle(e,r,c)))||this.setStyle(e,r,o)}),!0)}format(e,t){const i=e.split(".");return{key:i[0],val:t,unit:i[1]||""}}setStyle(e,t,i){if(t==="transform"&&typeof i=="object")e.style.transform=Object.entries(i).map(r=>this.format(...r)).map(({key:r,val:o,unit:s})=>`${r}(${o}${s})`).join(" ");else if(t==="transition"&&typeof i=="object")e.style.transition=Object.entries(i).map(r=>this.format(...r)).map(({key:r,val:o,unit:s})=>`${r} ${o}${s}`).join(", ");else{const{key:r,val:o,unit:s}=this.format(t,`${i}`);e.style[r]=`${o}${s}`}}}const lw=!1,uw="${JSCORE_VERSION}",B=function(n,e){if(!n)throw Nr(e)},Nr=function(n){return new Error("Firebase Database ("+uw+") INTERNAL ASSERT FAILED: "+n)},Vp=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):(64512&r)==55296&&i+1<n.length&&(64512&n.charCodeAt(i+1))==56320?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},bl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,c=s?n[r+1]:0,u=r+2<n.length,d=u?n[r+2]:0,m=o>>2,y=(3&o)<<4|c>>4;let g=(15&c)<<2|d>>6,b=63&d;u||(b=64,s||(g=64)),i.push(t[m],t[y],t[g],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Vp(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(t){const i=[];let r=0,o=0;for(;r<t.length;){const s=t[r++];if(s<128)i[o++]=String.fromCharCode(s);else if(s>191&&s<224){const c=t[r++];i[o++]=String.fromCharCode((31&s)<<6|63&c)}else if(s>239&&s<365){const c=((7&s)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536;i[o++]=String.fromCharCode(55296+(c>>10)),i[o++]=String.fromCharCode(56320+(1023&c))}else{const c=t[r++],u=t[r++];i[o++]=String.fromCharCode((15&s)<<12|(63&c)<<6|63&u)}}return i.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],s=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const u=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||s==null||c==null||u==null)throw new dw;const d=o<<2|s>>4;if(i.push(d),c!==64){const m=s<<4&240|c>>2;if(i.push(m),u!==64){const y=c<<6&192|u;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wp=function(n){const e=Vp(n);return bl.encodeByteArray(e,!0)},ta=function(n){return Wp(n).replace(/\./g,"")},na=function(n){try{return bl.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hw(n){return $p(void 0,n)}function $p(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)e.hasOwnProperty(t)&&pw(t)&&(n[t]=$p(n[t],e[t]));return n}function pw(n){return n!=="__proto__"}const fw=()=>function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,El=()=>{try{return fw()||(()=>{if(typeof process>"u"||process.env===void 0)return;const n={}.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&na(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},zp=n=>{var e,t;return(t=(e=El())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},mw=n=>{const e=zp(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Gp=()=>{var n;return(n=El())===null||n===void 0?void 0:n.config},Kp=n=>{var e;return(e=El())===null||e===void 0?void 0:e[`_${n}`]};class Ft{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function Yp(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Xp(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qp(){return lw===!0}function Jp(){try{return typeof indexedDB=="object"}catch{return!1}}function Zp(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}class fn extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bi.prototype.create)}}class Bi{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function(u,d){return u.replace(gw,(m,y)=>{const g=d[y];return g!=null?String(g):`<${y}?>`})}(o,i):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new fn(r,c,i)}}const gw=/\{\$([^}]+)}/g;function xo(n){return JSON.parse(n)}function Ze(n){return JSON.stringify(n)}const ef=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=xo(na(o[0])||""),t=xo(na(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function en(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function qi(n,e){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0}function ia(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ra(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function So(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(tf(o)&&tf(s)){if(!So(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function tf(n){return n!==null&&typeof n=="object"}function Vi(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ao(n){const e={};return n.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[i,r]=t.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function ko(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class yw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let y=0;y<16;y++)i[y]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let y=16;y<80;y++){const g=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=4294967295&(g<<1|g>>>31)}let r,o,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],d=this.chain_[3],m=this.chain_[4];for(let y=0;y<80;y++){y<40?y<20?(r=d^c&(u^d),o=1518500249):(r=c^u^d,o=1859775393):y<60?(r=c&u|d&(c|u),o=2400959708):(r=c^u^d,o=3395469782);const g=(s<<5|s>>>27)+r+m+o+i[y]&4294967295;m=d,d=u,u=4294967295&(c<<30|c>>>2),c=s,s=g}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<t;){if(s===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}class vw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");r=function(s,c){if(typeof s!="object"||s===null)return!1;for(const u of c)if(u in s&&typeof s[u]=="function")return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},r.next===void 0&&(r.next=Il),r.error===void 0&&(r.error=Il),r.complete===void 0&&(r.complete=Il);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers!==void 0&&this.observers[e]!==void 0&&(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Il(){}function Wi(n,e){return`${n} failed: ${e} argument `}const oa=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e},_w=1e3,bw=2,Ew=144e5,ww=.5;function nf(n,e=_w,t=bw){const i=e*Math.pow(t,n),r=Math.round(ww*i*(Math.random()-.5)*2);return Math.min(Ew,i+r)}function X(n){return n&&n._delegate?n._delegate:n}class tn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $i="[DEFAULT]";class Iw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Ft;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(t){return t.instantiationMode==="EAGER"}(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===$i?void 0:r),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var r;return i||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}class Cw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Iw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xe||(xe={}));const Tw={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},xw=xe.INFO,Sw={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Aw=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=Sw[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class sa{constructor(e){this.name=e,this._logLevel=xw,this._logHandler=Aw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const kw=(n,e)=>e.some(t=>n instanceof t);let rf,of;const sf=new WeakMap,Cl=new WeakMap,af=new WeakMap,Tl=new WeakMap,xl=new WeakMap;let Sl={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Cl.get(n);if(e==="objectStoreNames")return n.objectStoreNames||af.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return oi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&(e==="done"||e==="store")||e in n};function Ow(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(of||(of=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...e){return n.apply(Al(this),e),oi(sf.get(this))}:function(...e){return oi(n.apply(Al(this),e))}:function(e,...t){const i=n.call(Al(this),e,...t);return af.set(i,e.sort?e.sort():[e]),oi(i)}}function Nw(n){return typeof n=="function"?Ow(n):(n instanceof IDBTransaction&&function(e){if(Cl.has(e))return;const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",c),e.removeEventListener("abort",c)},s=()=>{i(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",c),e.addEventListener("abort",c)});Cl.set(e,t)}(n),kw(n,rf||(rf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(n,Sl):n)}function oi(n){if(n instanceof IDBRequest)return function(t){const i=new Promise((r,o)=>{const s=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{r(oi(t.result)),s()},u=()=>{o(t.error),s()};t.addEventListener("success",c),t.addEventListener("error",u)});return i.then(r=>{r instanceof IDBCursor&&sf.set(r,t)}).catch(()=>{}),xl.set(i,t),i}(n);if(Tl.has(n))return Tl.get(n);const e=Nw(n);return e!==n&&(Tl.set(n,e),xl.set(e,n)),e}const Al=n=>xl.get(n),Rw=["get","getKey","getAll","getAllKeys","count"],Pw=["put","add","delete","clear"],kl=new Map;function cf(n,e){if(!(n instanceof IDBDatabase)||e in n||typeof e!="string")return;if(kl.get(e))return kl.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Pw.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Rw.includes(t))return;const o=async function(s,...c){const u=this.transaction(s,r?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),r&&u.done]))[0]};return kl.set(e,o),o}Sl=(n=>({...n,get:(e,t,i)=>cf(e,t)||n.get(e,t,i),has:(e,t)=>!!cf(e,t)||n.has(e,t)}))(Sl);class Lw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(t){const i=t.getComponent();return(i==null?void 0:i.type)==="VERSION"}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Ol="@firebase/app",lf="0.9.12",zi=new sa("@firebase/app"),Nl="[DEFAULT]",Dw={[Ol]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},aa=new Map,Rl=new Map;function Mw(n,e){try{n.container.addComponent(e)}catch(t){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mn(n){const e=n.name;if(Rl.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;Rl.set(e,n);for(const t of aa.values())Mw(t,n);return!0}function Gi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const si=new Bi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fw{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}const Rr="9.22.2";function Pl(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Nl,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw si.create("bad-app-name",{appName:String(r)});if(t||(t=Gp()),!t)throw si.create("no-options");const o=aa.get(r);if(o){if(So(t,o.options)&&So(i,o.config))return o;throw si.create("duplicate-app",{appName:r})}const s=new Cw(r);for(const u of Rl.values())s.addComponent(u);const c=new Fw(t,i,s);return aa.set(r,c),c}function Ll(n=Nl){const e=aa.get(n);if(!e&&n===Nl&&Gp())return Pl();if(!e)throw si.create("no-app",{appName:n});return e}function Vt(n,e,t){var i;let r=(i=Dw[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const c=[`Unable to register library "${r}" with version "${e}":`];return o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void zi.warn(c.join(" "))}mn(new tn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const jw="firebase-heartbeat-database",Uw=1,Oo="firebase-heartbeat-store";let Dl=null;function uf(){return Dl||(Dl=function(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),c=oi(s);return i&&s.addEventListener("upgradeneeded",u=>{i(oi(s.result),u.oldVersion,u.newVersion,oi(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}(jw,Uw,{upgrade:(n,e)=>{e===0&&n.createObjectStore(Oo)}}).catch(n=>{throw si.create("idb-open",{originalErrorMessage:n.message})})),Dl}async function df(n,e){try{const t=(await uf()).transaction(Oo,"readwrite");await t.objectStore(Oo).put(e,hf(n)),await t.done}catch(t){if(t instanceof fn)zi.warn(t.message);else{const i=si.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});zi.warn(i.message)}}}function hf(n){return`${n.name}!${n.options.appId}`}class Hw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Bw(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=pf();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(i=>i.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const r=new Date(i.date).valueOf();return Date.now()-r<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pf(),{heartbeatsToSend:t,unsentEntries:i}=function(o,s=1024){const c=[];let u=o.slice();for(const d of o){const m=c.find(y=>y.agent===d.agent);if(m){if(m.dates.push(d.date),ff(c)>s){m.dates.pop();break}}else if(c.push({agent:d.agent,dates:[d.date]}),ff(c)>s){c.pop();break}u=u.slice(1)}return{heartbeatsToSend:c,unsentEntries:u}}(this._heartbeatsCache.heartbeats),r=ta(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function pf(){return new Date().toISOString().substring(0,10)}class Bw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Jp()&&Zp().then(()=>!0).catch(()=>!1)}async read(){return await this._canUseIndexedDBPromise?await async function(e){try{return await(await uf()).transaction(Oo).objectStore(Oo).get(hf(e))}catch(t){if(t instanceof fn)zi.warn(t.message);else{const i=si.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zi.warn(i.message)}}}(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return df(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return df(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}}}function ff(n){return ta(JSON.stringify({version:2,heartbeats:n})).length}var mf;mf="",mn(new tn("platform-logger",n=>new Lw(n),"PRIVATE")),mn(new tn("heartbeat",n=>new Hw(n),"PRIVATE")),Vt(Ol,lf,mf),Vt(Ol,lf,"esm2017"),Vt("fire-js",""),Vt("firebase","9.22.2","app");const qw=(n,e)=>e.some(t=>n instanceof t);let gf,yf;const vf=new WeakMap,Ml=new WeakMap,_f=new WeakMap,Fl=new WeakMap,jl=new WeakMap;let Ul={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ml.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_f.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ai(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&(e==="done"||e==="store")||e in n};function Vw(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yf||(yf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...e){return n.apply(Hl(this),e),ai(vf.get(this))}:function(...e){return ai(n.apply(Hl(this),e))}:function(e,...t){const i=n.call(Hl(this),e,...t);return _f.set(i,e.sort?e.sort():[e]),ai(i)}}function Ww(n){return typeof n=="function"?Vw(n):(n instanceof IDBTransaction&&function(e){if(Ml.has(e))return;const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",c),e.removeEventListener("abort",c)},s=()=>{i(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",c),e.addEventListener("abort",c)});Ml.set(e,t)}(n),qw(n,gf||(gf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(n,Ul):n)}function ai(n){if(n instanceof IDBRequest)return function(t){const i=new Promise((r,o)=>{const s=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{r(ai(t.result)),s()},u=()=>{o(t.error),s()};t.addEventListener("success",c),t.addEventListener("error",u)});return i.then(r=>{r instanceof IDBCursor&&vf.set(r,t)}).catch(()=>{}),jl.set(i,t),i}(n);if(Fl.has(n))return Fl.get(n);const e=Ww(n);return e!==n&&(Fl.set(n,e),jl.set(e,n)),e}const Hl=n=>jl.get(n),$w=["get","getKey","getAll","getAllKeys","count"],zw=["put","add","delete","clear"],Bl=new Map;function bf(n,e){if(!(n instanceof IDBDatabase)||e in n||typeof e!="string")return;if(Bl.get(e))return Bl.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=zw.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!$w.includes(t))return;const o=async function(s,...c){const u=this.transaction(s,r?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),r&&u.done]))[0]};return Bl.set(e,o),o}(function(n){Ul=n(Ul)})(n=>({...n,get:(e,t,i)=>bf(e,t)||n.get(e,t,i),has:(e,t)=>!!bf(e,t)||n.has(e,t)}));const Ef="@firebase/installations",ql="0.6.4",wf=1e4,If=`w:${ql}`,Cf="FIS_v2",Gw="https://firebaseinstallations.googleapis.com/v1",Kw=36e5,Ki=new Bi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tf(n){return n instanceof fn&&n.code.includes("request-failed")}function xf({projectId:n}){return`${Gw}/projects/${n}/installations`}function Sf(n){return{token:n.token,requestStatus:2,expiresIn:(e=n.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function Af(n,e){const t=(await e.json()).error;return Ki.create("request-failed",{requestName:n,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function kf({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Yw(n,{refreshToken:e}){const t=kf(n);return t.append("Authorization",function(i){return`${Cf} ${i}`}(e)),t}async function Of(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Nf(n){return new Promise(e=>{setTimeout(e,n)})}const Xw=/^[cdef][\w-]{21}$/,Vl="";function Qw(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=function(t){const i=(r=t,btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_"));var r;return i.substr(0,22)}(n);return Xw.test(e)?e:Vl}catch{return Vl}}function ca(n){return`${n.appName}!${n.appId}`}const Rf=new Map;function Pf(n,e){const t=ca(n);Lf(t,e),function(i,r){const o=function(){return!Yi&&"BroadcastChannel"in self&&(Yi=new BroadcastChannel("[Firebase] FID Change"),Yi.onmessage=s=>{Lf(s.data.key,s.data.fid)}),Yi}();o&&o.postMessage({key:i,fid:r}),Rf.size===0&&Yi&&(Yi.close(),Yi=null)}(t,e)}function Lf(n,e){const t=Rf.get(n);if(t)for(const i of t)i(e)}let Yi=null;const Jw="firebase-installations-database",Zw=1,Xi="firebase-installations-store";let Wl=null;function $l(){return Wl||(Wl=function(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),c=ai(s);return i&&s.addEventListener("upgradeneeded",u=>{i(ai(s.result),u.oldVersion,u.newVersion,ai(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),c.then(u=>{o&&u.addEventListener("close",()=>o()),r&&u.addEventListener("versionchange",()=>r())}).catch(()=>{}),c}(Jw,Zw,{upgrade:(n,e)=>{e===0&&n.createObjectStore(Xi)}})),Wl}async function la(n,e){const t=ca(n),i=(await $l()).transaction(Xi,"readwrite"),r=i.objectStore(Xi),o=await r.get(t);return await r.put(e,t),await i.done,o&&o.fid===e.fid||Pf(n,e.fid),e}async function Df(n){const e=ca(n),t=(await $l()).transaction(Xi,"readwrite");await t.objectStore(Xi).delete(e),await t.done}async function ua(n,e){const t=ca(n),i=(await $l()).transaction(Xi,"readwrite"),r=i.objectStore(Xi),o=await r.get(t),s=e(o);return s===void 0?await r.delete(t):await r.put(s,t),await i.done,!s||o&&o.fid===s.fid||Pf(n,s.fid),s}async function zl(n){let e;const t=await ua(n.appConfig,i=>{const r=function(s){const c=s||{fid:Qw(),registrationStatus:0};return Ff(c)}(i),o=function(s,c){if(c.registrationStatus===0){if(!navigator.onLine)return{installationEntry:c,registrationPromise:Promise.reject(Ki.create("app-offline"))};const u={fid:c.fid,registrationStatus:1,registrationTime:Date.now()},d=async function(m,y){try{const g=await async function({appConfig:b,heartbeatServiceProvider:w},{fid:C}){const k=xf(b),A=kf(b),F=w.getImmediate({optional:!0});if(F){const Z=await F.getHeartbeatsHeader();Z&&A.append("x-firebase-client",Z)}const V={fid:C,authVersion:Cf,appId:b.appId,sdkVersion:If},H={method:"POST",headers:A,body:JSON.stringify(V)},$=await Of(()=>fetch(k,H));if($.ok){const Z=await $.json();return{fid:Z.fid||C,registrationStatus:2,refreshToken:Z.refreshToken,authToken:Sf(Z.authToken)}}throw await Af("Create Installation",$)}(m,y);return la(m.appConfig,g)}catch(g){throw Tf(g)&&g.customData.serverCode===409?await Df(m.appConfig):await la(m.appConfig,{fid:y.fid,registrationStatus:0}),g}}(s,u);return{installationEntry:u,registrationPromise:d}}return c.registrationStatus===1?{installationEntry:c,registrationPromise:eI(s)}:{installationEntry:c}}(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===Vl?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}async function eI(n){let e=await Mf(n.appConfig);for(;e.registrationStatus===1;)await Nf(100),e=await Mf(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await zl(n);return i||t}return e}function Mf(n){return ua(n,e=>{if(!e)throw Ki.create("installation-not-found");return Ff(e)})}function Ff(n){return(e=n).registrationStatus===1&&e.registrationTime+wf<Date.now()?{fid:n.fid,registrationStatus:0}:n;var e}async function tI({appConfig:n,heartbeatServiceProvider:e},t){const i=function(d,{fid:m}){return`${xf(d)}/${m}/authTokens:generate`}(n,t),r=Yw(n,t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const s={installation:{sdkVersion:If,appId:n.appId}},c={method:"POST",headers:r,body:JSON.stringify(s)},u=await Of(()=>fetch(i,c));if(u.ok)return Sf(await u.json());throw await Af("Generate Auth Token",u)}async function Gl(n,e=!1){let t;const i=await ua(n.appConfig,r=>{if(!Uf(r))throw Ki.create("not-registered");const o=r.authToken;if(!e&&function(s){return s.requestStatus===2&&!function(c){const u=Date.now();return u<c.creationTime||c.creationTime+c.expiresIn<u+Kw}(s)}(o))return r;if(o.requestStatus===1)return t=async function(s,c){let u=await jf(s.appConfig);for(;u.authToken.requestStatus===1;)await Nf(100),u=await jf(s.appConfig);const d=u.authToken;return d.requestStatus===0?Gl(s,c):d}(n,e),r;{if(!navigator.onLine)throw Ki.create("app-offline");const s=function(c){const u={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},c),{authToken:u})}(r);return t=async function(c,u){try{const d=await tI(c,u),m=Object.assign(Object.assign({},u),{authToken:d});return await la(c.appConfig,m),d}catch(d){if(!Tf(d)||d.customData.serverCode!==401&&d.customData.serverCode!==404){const m=Object.assign(Object.assign({},u),{authToken:{requestStatus:0}});await la(c.appConfig,m)}else await Df(c.appConfig);throw d}}(n,s),s}});return t?await t:i.authToken}function jf(n){return ua(n,e=>{if(!Uf(e))throw Ki.create("not-registered");return(i=e.authToken).requestStatus===1&&i.requestTime+wf<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var i})}function Uf(n){return n!==void 0&&n.registrationStatus===2}async function nI(n,e=!1){const t=n;return await async function(i){const{registrationPromise:r}=await zl(i);r&&await r}(t),(await Gl(t,e)).token}function Kl(n){return Ki.create("missing-app-config-values",{valueName:n})}const Hf="installations",iI=n=>{const e=Gi(n.getProvider("app").getImmediate(),Hf).getImmediate();return{getId:()=>async function(t){const i=t,{installationEntry:r,registrationPromise:o}=await zl(i);return o?o.catch(console.error):Gl(i).catch(console.error),r.fid}(e),getToken:t=>nI(e,t)}};mn(new tn(Hf,n=>{const e=n.getProvider("app").getImmediate(),t=function(i){if(!i||!i.options)throw Kl("App Configuration");if(!i.name)throw Kl("App Name");const r=["projectId","apiKey","appId"];for(const o of r)if(!i.options[o])throw Kl(o);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Gi(e,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),mn(new tn("installations-internal",iI,"PRIVATE")),Vt(Ef,ql),Vt(Ef,ql,"esm2017");const da="analytics",rI="firebase_id",oI="origin",sI=6e4,aI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yl="https://www.googletagmanager.com/gtag/js",St=new sa("@firebase/analytics"),jt=new Bi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cI(n){if(!n.startsWith(Yl)){const e=jt.create("invalid-gtag-resource",{gtagURL:n});return St.warn(e.message),""}return n}function Bf(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function lI(n,e){const t=function(o,s){let c;return window.trustedTypes&&(c=window.trustedTypes.createPolicy(o,s)),c}("firebase-js-sdk-policy",{createScriptURL:cI}),i=document.createElement("script"),r=`${Yl}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function uI(n,e,t,i){return async function(r,...o){try{if(r==="event"){const[s,c]=o;await async function(u,d,m,y,g){try{let b=[];if(g&&g.send_to){let w=g.send_to;Array.isArray(w)||(w=[w]);const C=await Bf(m);for(const k of w){const A=C.find(V=>V.measurementId===k),F=A&&d[A.appId];if(!F){b=[];break}b.push(F)}}b.length===0&&(b=Object.values(d)),await Promise.all(b),u("event",y,g||{})}catch(b){St.error(b)}}(n,e,t,s,c)}else if(r==="config"){const[s,c]=o;await async function(u,d,m,y,g,b){const w=y[g];try{if(w)await d[w];else{const C=(await Bf(m)).find(k=>k.measurementId===g);C&&await d[C.appId]}}catch(C){St.error(C)}u("config",g,b)}(n,e,t,i,s,c)}else if(r==="consent"){const[s]=o;n("consent","update",s)}else if(r==="get"){const[s,c,u]=o;n("get",s,c,u)}else if(r==="set"){const[s]=o;n("set",s)}else n(r,...o)}catch(s){St.error(s)}}}const dI=30,qf=new class{constructor(n={},e=1e3){this.throttleMetadata=n,this.intervalMillis=e}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,e){this.throttleMetadata[n]=e}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}};function hI(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function pI(n,e=qf,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw jt.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw jt.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new fI;return setTimeout(async()=>{c.abort()},t!==void 0?t:sI),Vf({appId:i,apiKey:r,measurementId:o},s,c,e)}async function Vf(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=qf){var o;const{appId:s,measurementId:c}=n;try{await function(u,d){return new Promise((m,y)=>{const g=Math.max(d-Date.now(),0),b=setTimeout(m,g);u.addEventListener(()=>{clearTimeout(b),y(jt.create("fetch-throttle",{throttleEndTimeMillis:d}))})})}(i,e)}catch(u){if(c)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:c};throw u}try{const u=await async function(d){var m;const{appId:y,apiKey:g}=d,b={method:"GET",headers:hI(g)},w=aI.replace("{app-id}",y),C=await fetch(w,b);if(C.status!==200&&C.status!==304){let k="";try{const A=await C.json();!((m=A.error)===null||m===void 0)&&m.message&&(k=A.error.message)}catch{}throw jt.create("config-fetch-failed",{httpStatus:C.status,responseMessage:k})}return C.json()}(n);return r.deleteThrottleMetadata(s),u}catch(u){const d=u;if(!function(g){if(!(g instanceof fn&&g.customData))return!1;const b=Number(g.customData.httpStatus);return b===429||b===500||b===503||b===504}(d)){if(r.deleteThrottleMetadata(s),c)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:s,measurementId:c};throw u}const m=Number((o=d==null?void 0:d.customData)===null||o===void 0?void 0:o.httpStatus)===503?nf(t,r.intervalMillis,dI):nf(t,r.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return r.setThrottleMetadata(s,y),St.debug(`Calling attemptFetch again in ${m} millis`),Vf(n,y,i,r)}}class fI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mI(n,e,t,i,r,o,s){var c;const u=pI(n);u.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>St.error(b)),e.push(u);const d=async function(){if(!Jp())return St.warn(jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Zp()}catch(b){return St.warn(jt.create("indexeddb-unavailable",{errorInfo:b==null?void 0:b.toString()}).message),!1}return!0}().then(b=>b?i.getId():void 0),[m,y]=await Promise.all([u,d]);(function(b){const w=window.document.getElementsByTagName("script");for(const C of Object.values(w))if(C.src&&C.src.includes(Yl)&&C.src.includes(b))return C;return null})(o)||lI(o,m.measurementId),r("js",new Date);const g=(c=s==null?void 0:s.config)!==null&&c!==void 0?c:{};return g[oI]="firebase",g.update=!0,y!=null&&(g[rI]=y),r("config",m.measurementId,g),m.measurementId}class gI{constructor(e){this.app=e}_delete(){return delete No[this.app.options.appId],Promise.resolve()}}let No={},Wf=[];const $f={};let zf,Gf,Xl="dataLayer",yI="gtag",Kf=!1;function vI(){const n=[];if(Yp()&&n.push("This is a browser extension environment."),typeof navigator<"u"&&navigator.cookieEnabled||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=jt.create("invalid-analytics-context",{errorInfo:e});St.warn(t.message)}}function _I(n,e,t){vI();const i=n.options.appId;if(!i)throw jt.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw jt.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(No[i]!=null)throw jt.create("already-exists",{id:i});if(!Kf){(function(s){let c=[];Array.isArray(window[s])?c=window[s]:window[s]=c})(Xl);const{wrappedGtag:r,gtagCore:o}=function(s,c,u,d,m){let y=function(...g){window[d].push(arguments)};return window[m]&&typeof window[m]=="function"&&(y=window[m]),window[m]=uI(y,s,c,u),{gtagCore:y,wrappedGtag:window[m]}}(No,Wf,$f,Xl,yI);Gf=r,zf=o,Kf=!0}return No[i]=mI(n,Wf,$f,e,zf,Xl,t),new gI(n)}function Yf(n=Ll()){const e=Gi(n=X(n),da);return e.isInitialized()?e.getImmediate():function(t,i={}){const r=Gi(t,da);if(r.isInitialized()){const s=r.getImmediate();if(So(i,r.getOptions()))return s;throw jt.create("already-initialized")}return r.initialize({options:i})}(n)}function bI(n,e,t,i){n=X(n),async function(r,o,s,c,u){if(u&&u.global)r("event",s,c);else{const d=await o;r("event",s,Object.assign(Object.assign({},c),{send_to:d}))}}(Gf,No[n.app.options.appId],e,t,i).catch(r=>St.error(r))}const Xf="@firebase/analytics",Qf="0.10.0";mn(new tn(da,(n,{options:e})=>_I(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),mn(new tn("analytics-internal",function(n){try{const e=n.getProvider(da).getImmediate();return{logEvent:(t,i,r)=>bI(e,t,i,r)}}catch(e){throw jt.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),Vt(Xf,Qf),Vt(Xf,Qf,"esm2017");const Jf="@firebase/database",Zf="0.14.4";let em="";function tm(n){em=n}class EI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:xo(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class wI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return en(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const nm=function(n){try{if(typeof window<"u"&&window[n]!==void 0){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new EI(e)}}catch{}return new wI},Qi=nm("localStorage"),Ql=nm("sessionStorage"),Pr=new sa("@firebase/database"),im=function(){let n=1;return function(){return n++}}(),rm=function(n){const e=function(r){const o=[];let s=0;for(let c=0;c<r.length;c++){let u=r.charCodeAt(c);if(u>=55296&&u<=56319){const d=u-55296;c++,B(c<r.length,"Surrogate pair missing trail surrogate."),u=65536+(d<<10)+(r.charCodeAt(c)-56320)}u<128?o[s++]=u:u<2048?(o[s++]=u>>6|192,o[s++]=63&u|128):u<65536?(o[s++]=u>>12|224,o[s++]=u>>6&63|128,o[s++]=63&u|128):(o[s++]=u>>18|240,o[s++]=u>>12&63|128,o[s++]=u>>6&63|128,o[s++]=63&u|128)}return o}(n),t=new yw;t.update(e);const i=t.digest();return bl.encodeByteArray(i)},Ro=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ro.apply(null,i):e+=typeof i=="object"?Ze(i):i,e+=" "}return e};let Ji=null,om=!0;const sm=function(n,e){B(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Pr.logLevel=xe.VERBOSE,Ji=Pr.log.bind(Pr),e&&Ql.set("logging_enabled",!0)):typeof n=="function"?Ji=n:(Ji=null,Ql.remove("logging_enabled"))},it=function(...n){if(om===!0&&(om=!1,Ji===null&&Ql.get("logging_enabled")===!0&&sm(!0)),Ji){const e=Ro.apply(null,n);Ji(e)}},Po=function(n){return function(...e){it(n,...e)}},Jl=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ro(...n);Pr.error(e)},gn=function(...n){const e=`FIREBASE FATAL ERROR: ${Ro(...n)}`;throw Pr.error(e),new Error(e)},ht=function(...n){const e="FIREBASE WARNING: "+Ro(...n);Pr.warn(e)},ha=function(n){return typeof n=="number"&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ci="[MIN_NAME]",Un="[MAX_NAME]",Zi=function(n,e){if(n===e)return 0;if(n===ci||e===Un)return-1;if(e===ci||n===Un)return 1;{const t=lm(n),i=lm(e);return t!==null?i!==null?t-i==0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},II=function(n,e){return n===e?0:n<e?-1:1},Lo=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ze(e))},Zl=function(n){if(typeof n!="object"||n===null)return Ze(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Ze(e[i]),t+=":",t+=Zl(n[e[i]]);return t+="}",t},am=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function rt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const cm=function(n){B(!ha(n),"Invalid JSON number");const e=1023;let t,i,r,o,s;n===0?(i=0,r=0,t=1/n==-1/0?1:0):(t=n<0,(n=Math.abs(n))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(n)/Math.LN2),e),i=o+e,r=Math.round(n*Math.pow(2,52-o)-Math.pow(2,52))):(i=0,r=Math.round(n/Math.pow(2,-1074))));const c=[];for(s=52;s;s-=1)c.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(t?1:0),c.reverse();const u=c.join("");let d="";for(s=0;s<64;s+=8){let m=parseInt(u.substr(s,8),2).toString(16);m.length===1&&(m="0"+m),d+=m}return d.toLowerCase()},CI=new RegExp("^-?(0*)\\d{1,10}$"),lm=function(n){if(CI.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Lr=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ht("Exception was thrown by user callback.",t),e},Math.floor(0))}},Do=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};class TI{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class xI{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(it("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(e)}}class Dr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Dr.OWNER="owner";const um=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eu="ac",dm="websocket",hm="long_polling";class pm{constructor(e,t,i,r,o=!1,s="",c=!1,u=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function fm(n,e,t){let i;if(B(typeof e=="string","typeof type must == string"),B(typeof t=="object","typeof params must == object"),e===dm)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==hm)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return rt(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class SI{constructor(){this.counters_={}}incrementCounter(e,t=1){en(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return hw(this.counters_)}}const tu={},nu={};function iu(n){const e=n.toString();return tu[e]||(tu[e]=new SI),tu[e]}class AI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Lr(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const mm="start";class li{constructor(e,t,i,r,o,s,c){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Po(e),this.stats_=iu(t),this.urlFn=u=>(this.appCheckToken&&(u[eu]=this.appCheckToken),fm(t,hm,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new AI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if(document.readyState==="complete")i();else{let r=!1;const o=function(){document.body?r||(r=!0,i()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ru((...o)=>{const[s,c,u,d,m]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===mm)this.id=c,this.password=u;else{if(s!=="close")throw new Error("Unrecognized command received: "+s);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[mm]="t",i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i[eu]=this.appCheckToken),typeof location<"u"&&location.hostname&&um.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){li.forceAllow_=!0}static forceDisallow(){li.forceDisallow_=!0}static isAvailable(){return!!li.forceAllow_||!(li.forceDisallow_||typeof document>"u"||document.createElement==null||typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||typeof Windows=="object"&&typeof Windows.UI=="object")}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ze(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=Wp(t),r=am(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ze(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ru{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=im(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ru.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(c){it("frame writing exception"),c.stack&&it(c.stack),it(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||it("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;r&&r!=="loaded"&&r!=="complete"||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{it("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let pa=null;typeof MozWebSocket<"u"?pa=MozWebSocket:typeof WebSocket<"u"&&(pa=WebSocket);class Wt{constructor(e,t,i,r,o,s,c){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Po(this.connId),this.stats_=iu(t),this.connURL=Wt.connectionURL_(t,s,c,r,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,r,o){const s={v:"5"};return typeof location<"u"&&location.hostname&&um.test(location.hostname)&&(s.r="f"),t&&(s.s=t),i&&(s.ls=i),r&&(s[eu]=r),o&&(s.p=o),fm(e,dm,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qi.set("previous_websocket_failure",!0);try{let i;Qp(),this.mySock=new pa(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;return r&&this.log_(r),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&pa!==null&&!Wt.forceDisallow_}static previouslyFailed(){return Qi.isInMemoryStorage||Qi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=xo(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Ze(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=am(t,16384);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2,Wt.healthyTimeout=3e4;class Mr{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[li,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Wt&&Wt.isAvailable();let i=t&&!Wt.previouslyFailed();if(e.webSocketOnly&&(t||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Wt];else{const r=this.transports_=[];for(const o of Mr.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Mr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Mr.globalTransportInitialized_=!1;class kI{constructor(e,t,i,r,o,s,c,u,d,m){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=c,this.onDisconnect_=u,this.onKill_=d,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Po("c:"+this.id+":"),this.transportManager_=new Mr(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Do(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;t==="a"?this.upgradeIfSecondaryHealthy_():t==="r"?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t==="o"&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Lo("t",e),i=Lo("d",e);if(t==="c")this.onSecondaryControl_(i);else{if(t!=="d")throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Lo("t",e),i=Lo("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Lo("t",e);if("d"in e){const i=e.d;if(t==="h"){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t==="n"){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t==="s"?this.onConnectionShutdown_(i):t==="r"?this.onReset_(i):t==="e"?Jl("Server Error: "+i):t==="o"?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jl("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),i!=="5"&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Do(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Do(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||this.state_!==1||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||this.state_!==0?this.state_===1&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gm{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class ym{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){B(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class fa extends ym{constructor(){super(["online"]),this.online_=!0,typeof window>"u"||window.addEventListener===void 0||wl()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new fa}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const vm=32,_m=768;class Ce{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function we(){return new Ce("")}function he(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ui(n){return n.pieces_.length-n.pieceNum_}function Ae(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ce(n.pieces_,e)}function ou(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Mo(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function bm(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ce(e,0)}function Me(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ce)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ce(t,0)}function pe(n){return n.pieceNum_>=n.pieces_.length}function _t(n,e){const t=he(n),i=he(e);if(t===null)return e;if(t===i)return _t(Ae(n),Ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function OI(n,e){const t=Mo(n,0),i=Mo(e,0);for(let r=0;r<t.length&&r<i.length;r++){const o=Zi(t[r],i[r]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function su(n,e){if(ui(n)!==ui(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function $t(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(ui(n)>ui(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class NI{constructor(e,t){this.errorPrefix_=t,this.parts_=Mo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=oa(this.parts_[i]);Em(this)}}function Em(n){if(n.byteLength_>_m)throw new Error(n.errorPrefix_+"has a key path longer than "+_m+" bytes ("+n.byteLength_+").");if(n.parts_.length>vm)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vm+") or object contains a cycle "+er(n))}function er(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class au extends ym{constructor(){let e,t;super(["visible"]),typeof document<"u"&&document.addEventListener!==void 0&&(document.hidden!==void 0?(t="visibilitychange",e="hidden"):document.mozHidden!==void 0?(t="mozvisibilitychange",e="mozHidden"):document.msHidden!==void 0?(t="msvisibilitychange",e="msHidden"):document.webkitHidden!==void 0&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new au}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}const Fo=1e3;class zt extends gm{constructor(e,t,i,r,o,s,c,u){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=zt.nextPersistentConnectionId_++,this.log_=Po("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fo,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!Qp())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");au.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const r=++this.requestNumber_,o={r,a:e,b:t};this.log_(Ze(o)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const t=new Ft,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const s=o.d;o.s==="ok"?t.resolve(s):t.reject(s)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,i,r){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const c={onComplete:r,hashFn:t,query:e,tag:i};this.listens.get(s).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i};e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,s=>{const c=s.d,u=s.s;zt.warnOnListenWarnings_(c,t),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",s),u!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&en(e,"w")){const i=qi(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||function(t){const i=ef(t).claims;return typeof i=="object"&&i.admin===!0}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(r){const o=ef(r).claims;return!!o&&typeof o=="object"&&o.hasOwnProperty("iat")}(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,r=>{const o=r.s,s=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,t)}sendUnlisten_(e,t,i,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e};r&&(o.q=i,o.t=r),this.sendRequest("n",o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,r){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{r&&setTimeout(()=>{r(s.s,s.d)},Math.floor(0))})}put(e,t,i,r){this.putInternal("p",e,t,i,r)}merge(e,t,i,r){this.putInternal("m",e,t,i,r)}putInternal(e,t,i,r,o){this.initConnection_();const s={p:t,d:i};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ze(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Jl("Unrecognized action received from server: "+Ze(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Fo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+zt.nextConnectionId_++,o=this.lastSessionId;let s=!1,c=null;const u=function(){c?c.close():(s=!0,i())},d=function(y){B(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:u,sendRequest:d};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,g]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);s?it("getToken() completed but was canceled"):(it("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=g&&g.token,c=new kI(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,b=>{ht(b+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},o))}catch(y){this.log_("Failed to get token: "+y),s||(this.repoInfo_.nodeAdmin&&ht(y),u())}}}interrupt(e){it("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){it("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ia(this.interruptReasons_)&&(this.reconnectDelay_=Fo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;i=t?t.map(o=>Zl(o)).join("$"):"default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const i=new Ce(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,t){it("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),e!=="invalid_token"&&e!=="permission_denied"||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){it("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,e!=="invalid_token"&&e!=="permission_denied"||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};e["sdk.js."+em.replace(/\./g,"-")]=1,wl()?e["framework.cordova"]=1:Xp()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fa.getInstance().currentlyOnline();return ia(this.interruptReasons_)&&e}}zt.nextPersistentConnectionId_=0,zt.nextConnectionId_=0;class me{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new me(e,t)}}class ma{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new me(ci,e),r=new me(ci,t);return this.compare(i,r)!==0}minPost(){return me.MIN}}let ga;class wm extends ma{static get __EMPTY_NODE(){return ga}static set __EMPTY_NODE(e){ga=e}compare(e,t){return Zi(e.name,t.name)}isDefinedOn(e){throw Nr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return me.MIN}maxPost(){return new me(Un,ga)}makePost(e,t){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new me(e,ga)}toString(){return".key"}}const yn=new wm;class ya{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(s===0){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(this.nodeStack_.length===0)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??ot.RED,this.left=r??At.EMPTY_NODE,this.right=o??At.EMPTY_NODE}copy(e,t,i,r,o){return new ot(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,r;if(i=this,t(e,i.key)<0)i.left.isEmpty()||i.left.isRed_()||i.left.left.isRed_()||(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),i.right.isEmpty()||i.right.isRed_()||i.right.left.isRed_()||(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0,ot.BLACK=!1;class At{constructor(e,t=At.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new At(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new At(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ya(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ya(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ya(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ya(this.root_,null,this.comparator_,!0,e)}}function RI(n,e){return Zi(n.name,e.name)}function cu(n,e){return Zi(n,e)}let lu;At.EMPTY_NODE=new class{copy(n,e,t,i,r){return this}insert(n,e,t){return new ot(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Im=function(n){return typeof n=="number"?"number:"+cm(n):"string:"+n},Cm=function(n){if(n.isLeafNode()){const e=n.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&en(e,".sv"),"Priority must be a string or number.")}else B(n===lu||n.isEmpty(),"priority of unexpected type.");B(n===lu||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Tm,xm,Sm;class st{constructor(e,t=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Cm(this.priorityNode_)}static set __childrenNodeConstructor(e){Tm=e}static get __childrenNodeConstructor(){return Tm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new st(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:he(e)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=he(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(B(i!==".priority"||ui(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Im(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+=t==="number"?cm(this.value_):this.value_,this.lazyHash_=rm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===st.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof st.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,r=st.VALUE_TYPE_ORDER.indexOf(t),o=st.VALUE_TYPE_ORDER.indexOf(i);return B(r>=0,"Unknown leaf type: "+t),B(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Oe=new class extends ma{compare(n,e){const t=n.node.getPriority(),i=e.node.getPriority(),r=t.compareTo(i);return r===0?Zi(n.name,e.name):r}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return me.MIN}maxPost(){return new me(Un,new st("[PRIORITY-POST]",Sm))}makePost(n,e){const t=xm(n);return new me(e,new st("[PRIORITY-POST]",t))}toString(){return".priority"}},PI=Math.log(2);class LI{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/PI,10)),this.current_=this.count-1;const i=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const va=function(n,e,t,i){n.sort(e);const r=function(s,c){const u=c-s;let d,m;if(u===0)return null;if(u===1)return d=n[s],m=t?t(d):d,new ot(m,d.node,ot.BLACK,null,null);{const y=parseInt(u/2,10)+s,g=r(s,y),b=r(y+1,c);return d=n[y],m=t?t(d):d,new ot(m,d.node,ot.BLACK,g,b)}},o=function(s){let c=null,u=null,d=n.length;const m=function(g,b){const w=d-g,C=d;d-=g;const k=r(w+1,C),A=n[w],F=t?t(A):A;y(new ot(F,A.node,b,null,k))},y=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<s.count;++g){const b=s.nextBitIsOne(),w=Math.pow(2,s.count-(g+1));b?m(w,ot.BLACK):(m(w,ot.BLACK),m(w,ot.RED))}return u}(new LI(n.length));return new At(i||e,o)};let uu;const Fr={};class Hn{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return B(Fr&&Oe,"ChildrenNode.ts has not been loaded"),uu=uu||new Hn({".priority":Fr},{".priority":Oe}),uu}get(e){const t=qi(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof At?t:null}hasIndex(e){return en(this.indexSet_,e.toString())}addIndex(e,t){B(e!==yn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(me.Wrap);let s,c=o.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=o.getNext();s=r?va(i,e.getCompare()):Fr;const u=e.toString(),d=Object.assign({},this.indexSet_);d[u]=e;const m=Object.assign({},this.indexes_);return m[u]=s,new Hn(m,d)}addToIndexes(e,t){const i=ra(this.indexes_,(r,o)=>{const s=qi(this.indexSet_,o);if(B(s,"Missing index implementation for "+o),r===Fr){if(s.isDefinedOn(e.node)){const c=[],u=t.getIterator(me.Wrap);let d=u.getNext();for(;d;)d.name!==e.name&&c.push(d),d=u.getNext();return c.push(e),va(c,s.getCompare())}return Fr}{const c=t.get(e.name);let u=r;return c&&(u=u.remove(new me(e.name,c))),u.insert(e,e.node)}});return new Hn(i,this.indexSet_)}removeFromIndexes(e,t){const i=ra(this.indexes_,r=>{if(r===Fr)return r;{const o=t.get(e.name);return o?r.remove(new me(e.name,o)):r}});return new Hn(i,this.indexSet_)}}let jo;class ne{constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Cm(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return jo||(jo=new ne(new At(cu),null,Hn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jo}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?jo:t}}getChild(e){const t=he(e);return t===null?this:this.getImmediateChild(t).getChild(Ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(B(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new me(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const s=r.isEmpty()?jo:this.priorityNode_;return new ne(r,s,o)}}updateChild(e,t){const i=he(e);if(i===null)return t;{B(he(e)!==".priority"||ui(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Ae(e),t);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,r=0,o=!0;if(this.forEachChild(Oe,(s,c)=>{t[s]=c.val(e),i++,o&&ne.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1}),!e&&o&&r<2*i){const s=[];for(const c in t)s[c]=t[c];return s}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Im(this.getPriority().val())+":"),this.forEachChild(Oe,(t,i)=>{const r=i.hash();r!==""&&(e+=":"+t+":"+r)}),this.lazyHash_=e===""?"":rm(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new me(e,t));return o?o.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new me(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new me(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>t(r.name,r.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,me.Wrap);let o=r.peek();for(;o!=null&&t.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,me.Wrap);let o=r.peek();for(;o!=null&&t.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uo?-1:0}withIndex(e){if(e===yn||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===yn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const i=this.getIterator(Oe),r=t.getIterator(Oe);let o=i.getNext(),s=r.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=i.getNext(),s=r.getNext()}return o===null&&s===null}return!1}return!1}}resolveIndex_(e){return e===yn?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Uo=new class extends ne{constructor(){super(new At(cu),ne.EMPTY_NODE,Hn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ne.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(me,{MIN:{value:new me(ci,ne.EMPTY_NODE)},MAX:{value:new me(Un,Uo)}}),wm.__EMPTY_NODE=ne.EMPTY_NODE,st.__childrenNodeConstructor=ne,lu=Uo,function(n){Sm=n}(Uo);const DI=!0;function Ue(n,e=null){if(n===null)return ne.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n)return new st(n,Ue(e));if(n instanceof Array||!DI){let t=ne.EMPTY_NODE;return rt(n,(i,r)=>{if(en(n,i)&&i.substring(0,1)!=="."){const o=Ue(r);!o.isLeafNode()&&o.isEmpty()||(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Ue(e))}{const t=[];let i=!1;if(rt(n,(o,s)=>{if(o.substring(0,1)!=="."){const c=Ue(s);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new me(o,c)))}}),t.length===0)return ne.EMPTY_NODE;const r=va(t,RI,o=>o.name,cu);if(i){const o=va(t,Oe.getCompare());return new ne(r,Ue(e),new Hn({".priority":o},{".priority":Oe}))}return new ne(r,Ue(e),Hn.Default)}}(function(n){xm=n})(Ue);class du extends ma{constructor(e){super(),this.indexPath_=e,B(!pe(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return o===0?Zi(e.name,t.name):o}makePost(e,t){const i=Ue(e),r=ne.EMPTY_NODE.updateChild(this.indexPath_,i);return new me(t,r)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,Uo);return new me(Un,e)}toString(){return Mo(this.indexPath_,0).join("/")}}const hu=new class extends ma{compare(n,e){const t=n.node.compareTo(e.node);return t===0?Zi(n.name,e.name):t}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return me.MIN}maxPost(){return me.MAX}makePost(n,e){const t=Ue(n);return new me(e,t)}toString(){return".value"}};function Am(n){return{type:"value",snapshotNode:n}}function jr(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Ho(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Bo(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class pu{constructor(e){this.index_=e}updateChild(e,t,i,r,o,s){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()?e:(s!=null&&(i.isEmpty()?e.hasChild(t)?s.trackChildChange(Ho(t,c)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?s.trackChildChange(jr(t,i)):s.trackChildChange(Bo(t,i,c))),e.isLeafNode()&&i.isEmpty()?e:e.updateImmediateChild(t,i).withIndex(this.index_))}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Oe,(r,o)=>{t.hasChild(r)||i.trackChildChange(Ho(r,o))}),t.isLeafNode()||t.forEachChild(Oe,(r,o)=>{if(e.hasChild(r)){const s=e.getImmediateChild(r);s.equals(o)||i.trackChildChange(Bo(r,o,s))}else i.trackChildChange(jr(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qo{constructor(e){this.indexedFilter_=new pu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qo.getStartPost_(e),this.endPost_=qo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,s){return this.matches(new me(t,i))||(i=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,s)}updateFullNode(e,t,i){t.isLeafNode()&&(t=ne.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ne.EMPTY_NODE);const o=this;return t.forEachChild(Oe,(s,c)=>{o.matches(new me(s,c))||(r=r.updateImmediateChild(s,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class MI{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new qo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,s){return this.rangedFilter_.matches(new me(t,i))||(i=ne.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,s):this.fullLimitUpdateChild_(e,t,i,o,s)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=ne.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;r=ne.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c)){if(!this.withinDirectionalEnd(c))break;r=r.updateImmediateChild(c.name,c.node),s++}}}else{let o;r=t.withIndex(this.index_),r=r.updatePriority(ne.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const c=o.getNext();s<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?s++:r=r.updateImmediateChild(c.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let s;if(this.reverse_){const y=this.index_.getCompare();s=(g,b)=>y(b,g)}else s=this.index_.getCompare();const c=e;B(c.numChildren()===this.limit_,"");const u=new me(t,i),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),m=this.rangedFilter_.matches(u);if(c.hasChild(t)){const y=c.getImmediateChild(t);let g=r.getChildAfterChild(this.index_,d,this.reverse_);for(;g!=null&&(g.name===t||c.hasChild(g.name));)g=r.getChildAfterChild(this.index_,g,this.reverse_);const b=g==null?1:s(g,u);if(m&&!i.isEmpty()&&b>=0)return o!=null&&o.trackChildChange(Bo(t,i,y)),c.updateImmediateChild(t,i);{o!=null&&o.trackChildChange(Ho(t,y));const w=c.updateImmediateChild(t,ne.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(o!=null&&o.trackChildChange(jr(g.name,g.node)),w.updateImmediateChild(g.name,g.node)):w}}return i.isEmpty()?e:m&&s(d,u)>=0?(o!=null&&(o.trackChildChange(Ho(d.name,d.node)),o.trackChildChange(jr(t,i))),c.updateImmediateChild(t,i).updateImmediateChild(d.name,ne.EMPTY_NODE)):e}}class _a{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ci}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Un}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oe}copy(){const e=new _a;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function fu(n,e,t){const i=n.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,t!=null?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function mu(n,e,t){const i=n.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,t!==void 0?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function ba(n,e){const t=n.copy();return t.index_=e,t}function km(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Oe?t="$priority":n.index_===hu?t="$value":n.index_===yn?t="$key":(B(n.index_ instanceof du,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ze(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Ze(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Ze(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Ze(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Ze(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Om(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Oe&&(e.i=n.index_.toString()),e}class Ea extends gm{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Po("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Ea.getListenId_(e,i),c={};this.listens_[s]=c;const u=km(e._queryParams);this.restRequest_(o+".json",u,(d,m)=>{let y=m;if(d===404&&(y=null,d=null),d===null&&this.onDataUpdate_(o,y,!1,i),qi(this.listens_,s)===c){let g;g=d?d===401?"permission_denied":"rest_error:"+d:"ok",r(g,null)}})}unlisten(e,t){const i=Ea.getListenId_(e,t);delete this.listens_[i]}get(e){const t=km(e._queryParams),i=e._path.toString(),r=new Ft;return this.restRequest_(i+".json",t,(o,s)=>{let c=s;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Vi(t);this.log_("Sending REST request for "+s);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=xo(c.responseText)}catch{ht("Failed to parse JSON response for "+s+": "+c.responseText)}i(null,u)}else c.status!==401&&c.status!==404&&ht("Got unsuccessful REST response for "+s+" Status: "+c.status),i(c.status);i=null}},c.open("GET",s,!0),c.send()})}}class FI{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function wa(){return{value:null,children:new Map}}function Ur(n,e,t){if(pe(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=he(e);n.children.has(i)||n.children.set(i,wa()),Ur(n.children.get(i),e=Ae(e),t)}}function gu(n,e){if(pe(e))return n.value=null,n.children.clear(),!0;if(n.value!==null){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Oe,(i,r)=>{Ur(n,new Ce(i),r)}),gu(n,e)}}if(n.children.size>0){const t=he(e);return e=Ae(e),n.children.has(t)&&gu(n.children.get(t),e)&&n.children.delete(t),n.children.size===0}return!0}function yu(n,e,t){n.value!==null?t(e,n.value):function(i,r){i.children.forEach((o,s)=>{r(s,o)})}(n,(i,r)=>{yu(r,new Ce(e.toString()+"/"+i),t)})}class jI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&rt(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class UI{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new jI(e);const i=1e4+2e4*Math.random();Do(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;rt(e,(r,o)=>{o>0&&en(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),Do(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var nn;function vu(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(nn||(nn={}));class Ia{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=nn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ce(e));return new Ia(we(),t,this.revert)}}return B(he(this.path)===e,"operationForChild called for unrelated child."),new Ia(Ae(this.path),this.affectedTree,this.revert)}}class Vo{constructor(e,t){this.source=e,this.path=t,this.type=nn.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new Vo(this.source,we()):new Vo(this.source,Ae(this.path))}}class tr{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=nn.OVERWRITE}operationForChild(e){return pe(this.path)?new tr(this.source,we(),this.snap.getImmediateChild(e)):new tr(this.source,Ae(this.path),this.snap)}}class Hr{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=nn.MERGE}operationForChild(e){if(pe(this.path)){const t=this.children.subtree(new Ce(e));return t.isEmpty()?null:t.value?new tr(this.source,we(),t.value):new Hr(this.source,we(),t)}return B(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hr(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class di{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const t=he(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class HI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Wo(n,e,t,i,r,o){const s=i.filter(c=>c.type===t);s.sort((c,u)=>function(d,m,y){if(m.childName==null||y.childName==null)throw Nr("Should only compare child_ events.");const g=new me(m.childName,m.snapshotNode),b=new me(y.childName,y.snapshotNode);return d.index_.compare(g,b)}(n,c,u)),s.forEach(c=>{const u=function(d,m,y){return m.type==="value"||m.type==="child_removed"||(m.prevName=y.getPredecessorChildName(m.childName,m.snapshotNode,d.index_)),m}(n,c,o);r.forEach(d=>{d.respondsTo(c.type)&&e.push(d.createEvent(u,n.query_))})})}function Ca(n,e){return{eventCache:n,serverCache:e}}function $o(n,e,t,i){return Ca(new di(e,t,i),n.serverCache)}function Nm(n,e,t,i){return Ca(n.eventCache,new di(e,t,i))}function Ta(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function nr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let _u;class Ne{constructor(e,t=(()=>(_u||(_u=new At(II)),_u))()){this.value=e,this.children=t}static fromObject(e){let t=new Ne(null);return rt(e,(i,r)=>{t=t.set(new Ce(i),r)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:we(),value:this.value};if(pe(e))return null;{const i=he(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(Ae(e),t);return o!=null?{path:Me(new Ce(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const t=he(e),i=this.children.get(t);return i!==null?i.subtree(Ae(e)):new Ne(null)}}set(e,t){if(pe(e))return new Ne(t,this.children);{const i=he(e),r=(this.children.get(i)||new Ne(null)).set(Ae(e),t),o=this.children.insert(i,r);return new Ne(this.value,o)}}remove(e){if(pe(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const t=he(e),i=this.children.get(t);if(i){const r=i.remove(Ae(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),this.value===null&&o.isEmpty()?new Ne(null):new Ne(this.value,o)}return this}}get(e){if(pe(e))return this.value;{const t=he(e),i=this.children.get(t);return i?i.get(Ae(e)):null}}setTree(e,t){if(pe(e))return t;{const i=he(e),r=(this.children.get(i)||new Ne(null)).setTree(Ae(e),t);let o;return o=r.isEmpty()?this.children.remove(i):this.children.insert(i,r),new Ne(this.value,o)}}fold(e){return this.fold_(we(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Me(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,we(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(pe(e))return null;{const o=he(e),s=this.children.get(o);return s?s.findOnPath_(Ae(e),Me(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,we(),t)}foreachOnPath_(e,t,i){if(pe(e))return this;{this.value&&i(t,this.value);const r=he(e),o=this.children.get(r);return o?o.foreachOnPath_(Ae(e),Me(t,r),i):new Ne(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Me(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class vn{constructor(e){this.writeTree_=e}static empty(){return new vn(new Ne(null))}}function zo(n,e,t){if(pe(e))return new vn(new Ne(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const s=_t(r,e);return o=o.updateChild(s,t),new vn(n.writeTree_.set(r,o))}{const r=new Ne(t),o=n.writeTree_.setTree(e,r);return new vn(o)}}}function bu(n,e,t){let i=n;return rt(t,(r,o)=>{i=zo(i,Me(e,r),o)}),i}function Rm(n,e){if(pe(e))return vn.empty();{const t=n.writeTree_.setTree(e,new Ne(null));return new vn(t)}}function Eu(n,e){return ir(n,e)!=null}function ir(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(_t(t.path,e)):null}function Pm(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Oe,(i,r)=>{e.push(new me(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new me(i,r.value))}),e}function hi(n,e){if(pe(e))return n;{const t=ir(n,e);return new vn(t!=null?new Ne(t):n.writeTree_.subtree(e))}}function wu(n){return n.writeTree_.isEmpty()}function Br(n,e){return Lm(we(),n.writeTree_,e)}function Lm(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(B(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=Lm(Me(n,r),o,t)}),t.getChild(n).isEmpty()||i===null||(t=t.updateChild(Me(n,".priority"),i)),t}}function xa(n,e){return Um(e,n)}function BI(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);B(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const c=n.allWrites[s];c.visible&&(s>=t&&qI(c,i.path)?r=!1:$t(i.path,c.path)&&(o=!0)),s--}return r?o?(function(c){c.visibleWrites=Dm(c.allWrites,VI,we()),c.allWrites.length>0?c.lastWriteId=c.allWrites[c.allWrites.length-1].writeId:c.lastWriteId=-1}(n),!0):(i.snap?n.visibleWrites=Rm(n.visibleWrites,i.path):rt(i.children,c=>{n.visibleWrites=Rm(n.visibleWrites,Me(i.path,c))}),!0):!1}function qI(n,e){if(n.snap)return $t(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&$t(Me(n.path,t),e))return!0;return!1}function VI(n){return n.visible}function Dm(n,e,t){let i=vn.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const s=o.path;let c;if(o.snap)$t(t,s)?(c=_t(t,s),i=zo(i,c,o.snap)):$t(s,t)&&(c=_t(s,t),i=zo(i,we(),o.snap.getChild(c)));else{if(!o.children)throw Nr("WriteRecord should have .snap or .children");if($t(t,s))c=_t(t,s),i=bu(i,c,o.children);else if($t(s,t))if(c=_t(s,t),pe(c))i=bu(i,we(),o.children);else{const u=qi(o.children,he(c));if(u){const d=u.getChild(Ae(c));i=zo(i,we(),d)}}}}}return i}function Mm(n,e,t,i,r){if(i||r){const o=hi(n.visibleWrites,e);if(!r&&wu(o))return t;if(r||t!=null||Eu(o,we())){const s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&($t(c.path,e)||$t(e,c.path))};return Br(Dm(n.allWrites,s,e),t||ne.EMPTY_NODE)}return null}{const o=ir(n.visibleWrites,e);if(o!=null)return o;{const s=hi(n.visibleWrites,e);return wu(s)?t:t!=null||Eu(s,we())?Br(s,t||ne.EMPTY_NODE):null}}}function Sa(n,e,t,i){return Mm(n.writeTree,n.treePath,e,t,i)}function Iu(n,e){return function(t,i,r){let o=ne.EMPTY_NODE;const s=ir(t.visibleWrites,i);if(s)return s.isLeafNode()||s.forEachChild(Oe,(c,u)=>{o=o.updateImmediateChild(c,u)}),o;if(r){const c=hi(t.visibleWrites,i);return r.forEachChild(Oe,(u,d)=>{const m=Br(hi(c,new Ce(u)),d);o=o.updateImmediateChild(u,m)}),Pm(c).forEach(u=>{o=o.updateImmediateChild(u.name,u.node)}),o}return Pm(hi(t.visibleWrites,i)).forEach(c=>{o=o.updateImmediateChild(c.name,c.node)}),o}(n.writeTree,n.treePath,e)}function Fm(n,e,t,i){return function(r,o,s,c,u){B(c||u,"Either existingEventSnap or existingServerSnap must exist");const d=Me(o,s);if(Eu(r.visibleWrites,d))return null;{const m=hi(r.visibleWrites,d);return wu(m)?u.getChild(s):Br(m,u.getChild(s))}}(n.writeTree,n.treePath,e,t,i)}function Aa(n,e){return function(t,i){return ir(t.visibleWrites,i)}(n.writeTree,Me(n.treePath,e))}function WI(n,e,t,i,r,o){return function(s,c,u,d,m,y,g){let b;const w=hi(s.visibleWrites,c),C=ir(w,we());if(C!=null)b=C;else{if(u==null)return[];b=Br(w,u)}if(b=b.withIndex(g),b.isEmpty()||b.isLeafNode())return[];{const k=[],A=g.getCompare(),F=y?b.getReverseIteratorFrom(d,g):b.getIteratorFrom(d,g);let V=F.getNext();for(;V&&k.length<m;)A(V,d)!==0&&k.push(V),V=F.getNext();return k}}(n.writeTree,n.treePath,e,t,i,r,o)}function Cu(n,e,t){return function(i,r,o,s){const c=Me(r,o),u=ir(i.visibleWrites,c);return u??(s.isCompleteForChild(o)?Br(hi(i.visibleWrites,c),s.getNode().getImmediateChild(o)):null)}(n.writeTree,n.treePath,e,t)}function jm(n,e){return Um(Me(n.treePath,e),n.writeTree)}function Um(n,e){return{treePath:n,writeTree:e}}class $I{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;B(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),B(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,Bo(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,Ho(i,r.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,jr(i,e.snapshotNode));else{if(t!=="child_changed"||o!=="child_changed")throw Nr("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Bo(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const Hm=new class{getCompleteChild(n){return null}getChildAfterChild(n,e,t){return null}};class Tu{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cu(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:nr(this.viewCache_),o=WI(this.writes_,r,t,1,i,e);return o.length===0?null:o[0]}}function zI(n,e,t,i,r){const o=new $I;let s,c;if(t.type===nn.OVERWRITE){const d=t;d.source.fromUser?s=xu(n,e,d.path,d.snap,i,r,o):(B(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered()&&!pe(d.path),s=ka(n,e,d.path,d.snap,i,r,c,o))}else if(t.type===nn.MERGE){const d=t;d.source.fromUser?s=function(m,y,g,b,w,C,k){let A=y;return b.foreach((F,V)=>{const H=Me(g,F);qm(y,he(H))&&(A=xu(m,A,H,V,w,C,k))}),b.foreach((F,V)=>{const H=Me(g,F);qm(y,he(H))||(A=xu(m,A,H,V,w,C,k))}),A}(n,e,d.path,d.children,i,r,o):(B(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered(),s=Su(n,e,d.path,d.children,i,r,c,o))}else if(t.type===nn.ACK_USER_WRITE){const d=t;s=d.revert?function(m,y,g,b,w,C){let k;if(Aa(b,g)!=null)return y;{const A=new Tu(b,y,w),F=y.eventCache.getNode();let V;if(pe(g)||he(g)===".priority"){let H;if(y.serverCache.isFullyInitialized())H=Sa(b,nr(y));else{const $=y.serverCache.getNode();B($ instanceof ne,"serverChildren would be complete if leaf node"),H=Iu(b,$)}V=m.filter.updateFullNode(F,H,C)}else{const H=he(g);let $=Cu(b,H,y.serverCache);$==null&&y.serverCache.isCompleteForChild(H)&&($=F.getImmediateChild(H)),V=$!=null?m.filter.updateChild(F,H,$,Ae(g),A,C):y.eventCache.getNode().hasChild(H)?m.filter.updateChild(F,H,ne.EMPTY_NODE,Ae(g),A,C):F,V.isEmpty()&&y.serverCache.isFullyInitialized()&&(k=Sa(b,nr(y)),k.isLeafNode()&&(V=m.filter.updateFullNode(V,k,C)))}return k=y.serverCache.isFullyInitialized()||Aa(b,we())!=null,$o(y,V,k,m.filter.filtersNodes())}}(n,e,d.path,i,r,o):function(m,y,g,b,w,C,k){if(Aa(w,g)!=null)return y;const A=y.serverCache.isFiltered(),F=y.serverCache;if(b.value!=null){if(pe(g)&&F.isFullyInitialized()||F.isCompleteForPath(g))return ka(m,y,g,F.getNode().getChild(g),w,C,A,k);if(pe(g)){let V=new Ne(null);return F.getNode().forEachChild(yn,(H,$)=>{V=V.set(new Ce(H),$)}),Su(m,y,g,V,w,C,A,k)}return y}{let V=new Ne(null);return b.foreach((H,$)=>{const Z=Me(g,H);F.isCompleteForPath(Z)&&(V=V.set(H,F.getNode().getChild(Z)))}),Su(m,y,g,V,w,C,A,k)}}(n,e,d.path,d.affectedTree,i,r,o)}else{if(t.type!==nn.LISTEN_COMPLETE)throw Nr("Unknown operation type: "+t.type);s=function(d,m,y,g,b){const w=m.serverCache,C=Nm(m,w.getNode(),w.isFullyInitialized()||pe(y),w.isFiltered());return Bm(d,C,y,g,Hm,b)}(n,e,t.path,i,o)}const u=o.getChanges();return function(d,m,y){const g=m.eventCache;if(g.isFullyInitialized()){const b=g.getNode().isLeafNode()||g.getNode().isEmpty(),w=Ta(d);(y.length>0||!d.eventCache.isFullyInitialized()||b&&!g.getNode().equals(w)||!g.getNode().getPriority().equals(w.getPriority()))&&y.push(Am(Ta(m)))}}(e,s,u),{viewCache:s,changes:u}}function Bm(n,e,t,i,r,o){const s=e.eventCache;if(Aa(i,t)!=null)return e;{let c,u;if(pe(t))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=nr(e),m=Iu(i,d instanceof ne?d:ne.EMPTY_NODE);c=n.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{const d=Sa(i,nr(e));c=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=he(t);if(d===".priority"){B(ui(t)===1,"Can't have a priority with additional path components");const m=s.getNode();u=e.serverCache.getNode();const y=Fm(i,t,m,u);c=y!=null?n.filter.updatePriority(m,y):s.getNode()}else{const m=Ae(t);let y;if(s.isCompleteForChild(d)){u=e.serverCache.getNode();const g=Fm(i,t,s.getNode(),u);y=g!=null?s.getNode().getImmediateChild(d).updateChild(m,g):s.getNode().getImmediateChild(d)}else y=Cu(i,d,e.serverCache);c=y!=null?n.filter.updateChild(s.getNode(),d,y,m,r,o):s.getNode()}}return $o(e,c,s.isFullyInitialized()||pe(t),n.filter.filtersNodes())}}function ka(n,e,t,i,r,o,s,c){const u=e.serverCache;let d;const m=s?n.filter:n.filter.getIndexedFilter();if(pe(t))d=m.updateFullNode(u.getNode(),i,null);else if(m.filtersNodes()&&!u.isFiltered()){const g=u.getNode().updateChild(t,i);d=m.updateFullNode(u.getNode(),g,null)}else{const g=he(t);if(!u.isCompleteForPath(t)&&ui(t)>1)return e;const b=Ae(t),w=u.getNode().getImmediateChild(g).updateChild(b,i);d=g===".priority"?m.updatePriority(u.getNode(),w):m.updateChild(u.getNode(),g,w,b,Hm,null)}const y=Nm(e,d,u.isFullyInitialized()||pe(t),m.filtersNodes());return Bm(n,y,t,r,new Tu(r,y,o),c)}function xu(n,e,t,i,r,o,s){const c=e.eventCache;let u,d;const m=new Tu(r,e,o);if(pe(t))d=n.filter.updateFullNode(e.eventCache.getNode(),i,s),u=$o(e,d,!0,n.filter.filtersNodes());else{const y=he(t);if(y===".priority")d=n.filter.updatePriority(e.eventCache.getNode(),i),u=$o(e,d,c.isFullyInitialized(),c.isFiltered());else{const g=Ae(t),b=c.getNode().getImmediateChild(y);let w;if(pe(g))w=i;else{const C=m.getCompleteChild(y);w=C!=null?ou(g)===".priority"&&C.getChild(bm(g)).isEmpty()?C:C.updateChild(g,i):ne.EMPTY_NODE}b.equals(w)?u=e:u=$o(e,n.filter.updateChild(c.getNode(),y,w,g,m,s),c.isFullyInitialized(),n.filter.filtersNodes())}}return u}function qm(n,e){return n.eventCache.isCompleteForChild(e)}function Vm(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Su(n,e,t,i,r,o,s,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,d=e;u=pe(t)?i:new Ne(null).setTree(t,i);const m=e.serverCache.getNode();return u.children.inorderTraversal((y,g)=>{if(m.hasChild(y)){const b=Vm(0,e.serverCache.getNode().getImmediateChild(y),g);d=ka(n,d,new Ce(y),b,r,o,s,c)}}),u.children.inorderTraversal((y,g)=>{const b=!e.serverCache.isCompleteForChild(y)&&g.value===null;if(!m.hasChild(y)&&!b){const w=Vm(0,e.serverCache.getNode().getImmediateChild(y),g);d=ka(n,d,new Ce(y),w,r,o,s,c)}}),d}class GI{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new pu(i.getIndex()),o=(s=i).loadsAllData()?new pu(s.getIndex()):s.hasLimit()?new MI(s):new qo(s);var s;this.processor_=function(b){return{filter:b}}(o);const c=t.serverCache,u=t.eventCache,d=r.updateFullNode(ne.EMPTY_NODE,c.getNode(),null),m=o.updateFullNode(ne.EMPTY_NODE,u.getNode(),null),y=new di(d,c.isFullyInitialized(),r.filtersNodes()),g=new di(m,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ca(g,y),this.eventGenerator_=new HI(this.query_)}get query(){return this.query_}}function KI(n,e){const t=nr(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!pe(e)&&!t.getImmediateChild(he(e)).isEmpty())?t.getChild(e):null}function Wm(n){return n.eventRegistrations_.length===0}function $m(n,e,t){const i=[];if(t){B(e==null,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(t,r);s&&i.push(s)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const s=n.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(s)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function zm(n,e,t,i){e.type===nn.MERGE&&e.source.queryId!==null&&(B(nr(n.viewCache_),"We should always have a full cache before handling merges"),B(Ta(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=zI(n.processor_,r,e,t,i);var s,c;return s=n.processor_,c=o.viewCache,B(c.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),B(c.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),B(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,Gm(n,o.changes,o.viewCache.eventCache.getNode(),null)}function Gm(n,e,t,i){const r=i?[i]:n.eventRegistrations_;return function(o,s,c,u){const d=[],m=[];return s.forEach(y=>{var g;y.type==="child_changed"&&o.index_.indexedValueChanged(y.oldSnap,y.snapshotNode)&&m.push((g=y.childName,{type:"child_moved",snapshotNode:y.snapshotNode,childName:g}))}),Wo(o,d,"child_removed",s,u,c),Wo(o,d,"child_added",s,u,c),Wo(o,d,"child_moved",m,u,c),Wo(o,d,"child_changed",s,u,c),Wo(o,d,"value",s,u,c),d}(n.eventGenerator_,e,t,r)}let Oa,Na;class Km{constructor(){this.views=new Map}}function Au(n,e,t,i){const r=e.source.queryId;if(r!==null){const o=n.views.get(r);return B(o!=null,"SyncTree gave us an op for an invalid query."),zm(o,e,t,i)}{let o=[];for(const s of n.views.values())o=o.concat(zm(s,e,t,i));return o}}function Ym(n,e,t,i,r){const o=e._queryIdentifier,s=n.views.get(o);if(!s){let c=Sa(t,r?i:null),u=!1;c?u=!0:i instanceof ne?(c=Iu(t,i),u=!1):(c=ne.EMPTY_NODE,u=!1);const d=Ca(new di(c,u,!1),new di(i,r,!1));return new GI(e,d)}return s}function YI(n,e,t,i,r,o){const s=Ym(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,s),function(c,u){c.eventRegistrations_.push(u)}(s,t),function(c,u){const d=c.viewCache_.eventCache,m=[];return d.getNode().isLeafNode()||d.getNode().forEachChild(Oe,(y,g)=>{m.push(jr(y,g))}),d.isFullyInitialized()&&m.push(Am(d.getNode())),Gm(c,m,d.getNode(),u)}(s,t)}function XI(n,e,t,i){const r=e._queryIdentifier,o=[];let s=[];const c=fi(n);if(r==="default")for(const[u,d]of n.views.entries())s=s.concat($m(d,t,i)),Wm(d)&&(n.views.delete(u),d.query._queryParams.loadsAllData()||o.push(d.query));else{const u=n.views.get(r);u&&(s=s.concat($m(u,t,i)),Wm(u)&&(n.views.delete(r),u.query._queryParams.loadsAllData()||o.push(u.query)))}return c&&!fi(n)&&o.push(new(B(Oa,"Reference.ts has not been loaded"),Oa)(e._repo,e._path)),{removed:o,events:s}}function Xm(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function pi(n,e){let t=null;for(const i of n.views.values())t=t||KI(i,e);return t}function Qm(n,e){if(e._queryParams.loadsAllData())return Ra(n);{const t=e._queryIdentifier;return n.views.get(t)}}function Jm(n,e){return Qm(n,e)!=null}function fi(n){return Ra(n)!=null}function Ra(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let QI=1;class Zm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_={visibleWrites:vn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ku(n,e,t,i,r){return function(o,s,c,u,d){B(u>o.lastWriteId,"Stacking an older write on top of newer ones"),d===void 0&&(d=!0),o.allWrites.push({path:s,snap:c,writeId:u,visible:d}),d&&(o.visibleWrites=zo(o.visibleWrites,s,c)),o.lastWriteId=u}(n.pendingWriteTree_,e,t,i,r),r?qr(n,new tr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function JI(n,e,t,i){(function(o,s,c,u){B(u>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:s,children:c,writeId:u,visible:!0}),o.visibleWrites=bu(o.visibleWrites,s,c),o.lastWriteId=u})(n.pendingWriteTree_,e,t,i);const r=Ne.fromObject(t);return qr(n,new Hr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}function mi(n,e,t=!1){const i=function(r,o){for(let s=0;s<r.allWrites.length;s++){const c=r.allWrites[s];if(c.writeId===o)return c}return null}(n.pendingWriteTree_,e);if(BI(n.pendingWriteTree_,e)){let r=new Ne(null);return i.snap!=null?r=r.set(we(),!0):rt(i.children,o=>{r=r.set(new Ce(o),!0)}),qr(n,new Ia(i.path,r,t))}return[]}function Go(n,e,t){return qr(n,new tr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Pa(n,e,t,i,r=!1){const o=e._path,s=n.syncPointTree_.get(o);let c=[];if(s&&(e._queryIdentifier==="default"||Jm(s,e))){const u=XI(s,e,t,i);s.views.size===0&&(n.syncPointTree_=n.syncPointTree_.remove(o));const d=u.removed;if(c=u.events,!r){const m=d.findIndex(g=>g._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(o,(g,b)=>fi(b));if(m&&!y){const g=n.syncPointTree_.subtree(o);if(!g.isEmpty()){const b=function(w){return w.fold((C,k,A)=>{if(k&&fi(k))return[Ra(k)];{let F=[];return k&&(F=Xm(k)),rt(A,(V,H)=>{F=F.concat(H)}),F}})}(g);for(let w=0;w<b.length;++w){const C=b[w],k=C.query,A=ig(n,C);n.listenProvider_.startListening(Yo(k),Ko(n,k),A.hashFn,A.onComplete)}}}!y&&d.length>0&&!i&&(m?n.listenProvider_.stopListening(Yo(e),null):d.forEach(g=>{const b=n.queryToTagMap.get(Da(g));n.listenProvider_.stopListening(Yo(g),b)}))}(function(m,y){for(let g=0;g<y.length;++g){const b=y[g];if(!b._queryParams.loadsAllData()){const w=Da(b),C=m.queryToTagMap.get(w);m.queryToTagMap.delete(w),m.tagToQueryMap.delete(C)}}})(n,d)}return c}function eg(n,e,t,i){const r=Nu(n,i);if(r!=null){const o=Ru(r),s=o.path,c=o.queryId,u=_t(s,e);return Pu(n,s,new tr(vu(c),u,t))}return[]}function Ou(n,e,t,i=!1){const r=e._path;let o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(y,g)=>{const b=_t(y,r);o=o||pi(g,b),s=s||fi(g)});let c,u=n.syncPointTree_.get(r);u?(s=s||fi(u),o=o||pi(u,we())):(u=new Km,n.syncPointTree_=n.syncPointTree_.set(r,u)),o!=null?c=!0:(c=!1,o=ne.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((y,g)=>{const b=pi(g,we());b&&(o=o.updateImmediateChild(y,b))}));const d=Jm(u,e);if(!d&&!e._queryParams.loadsAllData()){const y=Da(e);B(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const g=QI++;n.queryToTagMap.set(y,g),n.tagToQueryMap.set(g,y)}let m=YI(u,e,t,xa(n.pendingWriteTree_,r),o,c);if(!d&&!s&&!i){const y=Qm(u,e);m=m.concat(function(g,b,w){const C=b._path,k=Ko(g,b),A=ig(g,w),F=g.listenProvider_.startListening(Yo(b),k,A.hashFn,A.onComplete),V=g.syncPointTree_.subtree(C);if(k)B(!fi(V.value),"If we're adding a query, it shouldn't be shadowed");else{const H=V.fold(($,Z,p)=>{if(!pe($)&&Z&&fi(Z))return[Ra(Z).query];{let Q=[];return Z&&(Q=Q.concat(Xm(Z).map(Y=>Y.query))),rt(p,(Y,Pe)=>{Q=Q.concat(Pe)}),Q}});for(let $=0;$<H.length;++$){const Z=H[$];g.listenProvider_.stopListening(Yo(Z),Ko(g,Z))}}return F}(n,e,y))}return m}function La(n,e,t){const i=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(e,(o,s)=>{const c=pi(s,_t(o,e));if(c)return c});return Mm(i,e,r,t,!0)}function ZI(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(c,u)=>{const d=_t(c,t);i=i||pi(u,d)});let r=n.syncPointTree_.get(t);r?i=i||pi(r,we()):(r=new Km,n.syncPointTree_=n.syncPointTree_.set(t,r));const o=i!=null,s=o?new di(i,!0,!1):null;return function(c){return Ta(c.viewCache_)}(Ym(r,e,xa(n.pendingWriteTree_,e._path),o?s.getNode():ne.EMPTY_NODE,o))}function qr(n,e){return tg(e,n.syncPointTree_,null,xa(n.pendingWriteTree_,we()))}function tg(n,e,t,i){if(pe(n.path))return ng(n,e,t,i);{const r=e.get(we());t==null&&r!=null&&(t=pi(r,we()));let o=[];const s=he(n.path),c=n.operationForChild(s),u=e.children.get(s);if(u&&c){const d=t?t.getImmediateChild(s):null,m=jm(i,s);o=o.concat(tg(c,u,d,m))}return r&&(o=o.concat(Au(r,n,i,t))),o}}function ng(n,e,t,i){const r=e.get(we());t==null&&r!=null&&(t=pi(r,we()));let o=[];return e.children.inorderTraversal((s,c)=>{const u=t?t.getImmediateChild(s):null,d=jm(i,s),m=n.operationForChild(s);m&&(o=o.concat(ng(m,c,u,d)))}),r&&(o=o.concat(Au(r,n,i,t))),o}function ig(n,e){const t=e.query,i=Ko(n,t);return{hashFn:()=>(function(o){return o.viewCache_.serverCache.getNode()}(e)||ne.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?function(o,s,c){const u=Nu(o,c);if(u){const d=Ru(u),m=d.path,y=d.queryId,g=_t(m,s);return Pu(o,m,new Vo(vu(y),g))}return[]}(n,t._path,i):function(o,s){return qr(o,new Vo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s))}(n,t._path);{const o=function(s,c){let u="Unknown Error";s==="too_big"?u="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?u="Client doesn't have permission to access the desired data.":s==="unavailable"&&(u="The service is unavailable");const d=new Error(s+" at "+c._path.toString()+": "+u);return d.code=s.toUpperCase(),d}(r,t);return Pa(n,t,null,o)}}}}function Ko(n,e){const t=Da(e);return n.queryToTagMap.get(t)}function Da(n){return n._path.toString()+"$"+n._queryIdentifier}function Nu(n,e){return n.tagToQueryMap.get(e)}function Ru(n){const e=n.indexOf("$");return B(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ce(n.substr(0,e))}}function Pu(n,e,t){const i=n.syncPointTree_.get(e);return B(i,"Missing sync point for query tag that we're tracking"),Au(i,t,xa(n.pendingWriteTree_,e),null)}function Yo(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(B(Na,"Reference.ts has not been loaded"),Na)(n._repo,n._path):n}class Lu{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Lu(t)}node(){return this.node_}}class Du{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Me(this.path_,e);return new Du(this.syncTree_,t)}node(){return La(this.syncTree_,this.path_)}}const eC=function(n){return(n=n||{}).timestamp=n.timestamp||new Date().getTime(),n},rg=function(n,e,t){return n&&typeof n=="object"?(B(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string"?tC(n[".sv"],e,t):typeof n[".sv"]=="object"?nC(n[".sv"],e):void B(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},tC=function(n,e,t){if(n==="timestamp")return t.timestamp;B(!1,"Unexpected server value: "+n)},nC=function(n,e,t){n.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&B(!1,"Unexpected increment value: "+i);const r=e.node();if(B(r!=null,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},og=function(n,e,t,i){return Fu(e,new Du(t,n),i)},Mu=function(n,e,t){return Fu(n,new Lu(e),t)};function Fu(n,e,t){const i=n.getPriority().val(),r=rg(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,c=rg(s.getValue(),e,t);return c!==s.getValue()||r!==s.getPriority().val()?new st(c,Ue(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new st(r))),s.forEachChild(Oe,(c,u)=>{const d=Fu(u,e.getImmediateChild(c),t);d!==u&&(o=o.updateImmediateChild(c,d))}),o}}class ju{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Ma(n,e){let t=e instanceof Ce?e:new Ce(e),i=n,r=he(t);for(;r!==null;){const o=qi(i.node.children,r)||{children:{},childCount:0};i=new ju(r,i,o),t=Ae(t),r=he(t)}return i}function rr(n){return n.node.value}function Uu(n,e){n.node.value=e,Hu(n)}function sg(n){return n.node.childCount>0}function Fa(n,e){rt(n.node.children,(t,i)=>{e(new ju(t,n,i))})}function ag(n,e,t,i){t&&!i&&e(n),Fa(n,r=>{ag(r,e,!0,i)}),t&&i&&e(n)}function Xo(n){return new Ce(n.parent===null?n.name:Xo(n.parent)+"/"+n.name)}function Hu(n){n.parent!==null&&function(e,t,i){const r=function(s){return rr(s)===void 0&&!sg(s)}(i),o=en(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,Hu(e)):r||o||(e.node.children[t]=i.node,e.node.childCount++,Hu(e))}(n.parent,n.name,n)}const iC=/[\[\].#$\/\u0000-\u001F\u007F]/,rC=/[\[\].#$\u0000-\u001F\u007F]/,Bu=10485760,ja=function(n){return typeof n=="string"&&n.length!==0&&!iC.test(n)},cg=function(n){return typeof n=="string"&&n.length!==0&&!rC.test(n)},Qo=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!ha(n)||n&&typeof n=="object"&&en(n,".sv")},_n=function(n,e,t,i){i&&e===void 0||Jo(Wi(n,"value"),e,t)},Jo=function(n,e,t){const i=t instanceof Ce?new NI(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+er(i));if(typeof e=="function")throw new Error(n+"contains a function "+er(i)+" with contents = "+e.toString());if(ha(e))throw new Error(n+"contains "+e.toString()+" "+er(i));if(typeof e=="string"&&e.length>Bu/3&&oa(e)>Bu)throw new Error(n+"contains a string greater than "+Bu+" utf8 bytes "+er(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(rt(e,(s,c)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!ja(s)))throw new Error(n+" contains an invalid key ("+s+") "+er(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);(function(u,d){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(d),u.byteLength_+=oa(d),Em(u)})(i,s),Jo(n,c,i),function(u){const d=u.parts_.pop();u.byteLength_-=oa(d),u.parts_.length>0&&(u.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+er(i)+" in addition to actual children.")}},lg=function(n,e,t,i){if(i&&e===void 0)return;const r=Wi(n,"values");if(!e||typeof e!="object"||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];rt(e,(s,c)=>{const u=new Ce(s);if(Jo(r,c,Me(t,u)),ou(u)===".priority"&&!Qo(c))throw new Error(r+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(u)}),function(s,c){let u,d;for(u=0;u<c.length;u++){d=c[u];const y=Mo(d);for(let g=0;g<y.length;g++)if(!(y[g]===".priority"&&g===y.length-1)){if(!ja(y[g]))throw new Error(s+"contains an invalid key ("+y[g]+") in path "+d.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}c.sort(OI);let m=null;for(u=0;u<c.length;u++){if(d=c[u],m!==null&&$t(m,d))throw new Error(s+"contains a path "+m.toString()+" that is ancestor of another path "+d.toString());m=d}}(r,o)},qu=function(n,e,t){if(!t||e!==void 0){if(ha(e))throw new Error(Wi(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qo(e))throw new Error(Wi(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Zo=function(n,e,t,i){if(!(i&&t===void 0||ja(t)))throw new Error(Wi(n,e)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Ua=function(n,e,t,i){if(!(i&&t===void 0||cg(t)))throw new Error(Wi(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oC=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ua(n,e,t,i)},rn=function(n,e){if(he(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},ug=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ja(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),cg(i)}(t))throw new Error(Wi(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class sC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ha(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();t===null||su(o,t.path)||(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function dg(n,e,t){Ha(n,t),hg(n,i=>su(i,e))}function Ut(n,e,t){Ha(n,t),hg(n,i=>$t(i,e)||$t(e,i))}function hg(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(aC(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function aC(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Ji&&it("event: "+t.toString()),Lr(i)}}}const pg="repo_interrupt",cC=25;class lC{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wa(),this.transactionQueueTree_=new ju,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uC(n,e,t){if(n.stats_=iu(n.repoInfo_),n.forceRestClient_||(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Ea(n.repoInfo_,(i,r,o,s)=>{mg(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>gg(n,!0),0);else{if(t!=null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new zt(n.repoInfo_,e,(i,r,o,s)=>{mg(n,i,r,o,s)},i=>{gg(n,i)},i=>{(function(r,o){rt(o,(s,c)=>{Vu(r,s,c)})})(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(i,r){const o=i.toString();return nu[o]||(nu[o]=r()),nu[o]}(n.repoInfo_,()=>new UI(n.stats_,n.server_)),n.infoData_=new FI,n.infoSyncTree_=new Zm({startListening:(i,r,o,s)=>{let c=[];const u=n.infoData_.getNode(i._path);return u.isEmpty()||(c=Go(n.infoSyncTree_,i._path,u),setTimeout(()=>{s("ok")},0)),c},stopListening:()=>{}}),Vu(n,"connected",!1),n.serverSyncTree_=new Zm({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(c,u)=>{const d=s(c,u);Ut(n.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function fg(n){const e=n.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function es(n){return eC({timestamp:fg(n)})}function mg(n,e,t,i,r){n.dataUpdateCount++;const o=new Ce(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){const u=ra(t,d=>Ue(d));s=function(d,m,y,g){const b=Nu(d,g);if(b){const w=Ru(b),C=w.path,k=w.queryId,A=_t(C,m),F=Ne.fromObject(y);return Pu(d,C,new Hr(vu(k),A,F))}return[]}(n.serverSyncTree_,o,u,r)}else{const u=Ue(t);s=eg(n.serverSyncTree_,o,u,r)}else if(i){const u=ra(t,d=>Ue(d));s=function(d,m,y){const g=Ne.fromObject(y);return qr(d,new Hr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},m,g))}(n.serverSyncTree_,o,u)}else{const u=Ue(t);s=Go(n.serverSyncTree_,o,u)}let c=o;s.length>0&&(c=Wr(n,o)),Ut(n.eventQueue_,c,s)}function gg(n,e){Vu(n,"connected",e),e===!1&&function(t){Vr(t,"onDisconnectEvents");const i=es(t),r=wa();yu(t.onDisconnect_,we(),(s,c)=>{const u=og(s,c,t.serverSyncTree_,i);Ur(r,s,u)});let o=[];yu(r,we(),(s,c)=>{o=o.concat(Go(t.serverSyncTree_,s,c));const u=Gu(t,s);Wr(t,u)}),t.onDisconnect_=wa(),Ut(t.eventQueue_,we(),o)}(n)}function Vu(n,e,t){const i=new Ce("/.info/"+e),r=Ue(t);n.infoData_.updateSnapshot(i,r);const o=Go(n.infoSyncTree_,i,r);Ut(n.eventQueue_,i,o)}function Ba(n){return n.nextWriteId_++}function Wu(n,e,t,i,r){Vr(n,"set",{path:e.toString(),value:t,priority:i});const o=es(n),s=Ue(t,i),c=La(n.serverSyncTree_,e),u=Mu(s,c,o),d=Ba(n),m=ku(n.serverSyncTree_,e,u,d,!0);Ha(n.eventQueue_,m),n.server_.put(e.toString(),s.val(!0),(g,b)=>{const w=g==="ok";w||ht("set at "+e+" failed: "+g);const C=mi(n.serverSyncTree_,d,!w);Ut(n.eventQueue_,e,C),gi(n,r,g,b)});const y=Gu(n,e);Wr(n,y),Ut(n.eventQueue_,y,[])}function dC(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{i==="ok"&&gu(n.onDisconnect_,e),gi(n,t,i,r)})}function yg(n,e,t,i){const r=Ue(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(o,s)=>{o==="ok"&&Ur(n.onDisconnect_,e,r),gi(n,i,o,s)})}function $u(n,e,t){let i;i=he(e._path)===".info"?Pa(n.infoSyncTree_,e,t):Pa(n.serverSyncTree_,e,t),dg(n.eventQueue_,e._path,i)}function vg(n){n.persistentConnection_&&n.persistentConnection_.interrupt(pg)}function Vr(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),it(t,...e)}function gi(n,e,t,i){e&&Lr(()=>{if(t==="ok")e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const s=new Error(o);s.code=r,e(s)}})}function zu(n,e,t){return La(n.serverSyncTree_,e,t)||ne.EMPTY_NODE}function qa(n,e=n.transactionQueueTree_){if(e||Va(n,e),rr(e)){const t=bg(n,e);B(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&function(i,r,o){const s=o.map(g=>g.currentWriteId),c=zu(i,r,s);let u=c;const d=c.hash();for(let g=0;g<o.length;g++){const b=o[g];B(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const w=_t(r,b.path);u=u.updateChild(w,b.currentOutputSnapshotRaw)}const m=u.val(!0),y=r;i.server_.put(y.toString(),m,g=>{Vr(i,"transaction put response",{path:y.toString(),status:g});let b=[];if(g==="ok"){const w=[];for(let C=0;C<o.length;C++)o[C].status=2,b=b.concat(mi(i.serverSyncTree_,o[C].currentWriteId)),o[C].onComplete&&w.push(()=>o[C].onComplete(null,!0,o[C].currentOutputSnapshotResolved)),o[C].unwatcher();Va(i,Ma(i.transactionQueueTree_,r)),qa(i,i.transactionQueueTree_),Ut(i.eventQueue_,r,b);for(let C=0;C<w.length;C++)Lr(w[C])}else{if(g==="datastale")for(let w=0;w<o.length;w++)o[w].status===3?o[w].status=4:o[w].status=0;else{ht("transaction at "+y.toString()+" failed: "+g);for(let w=0;w<o.length;w++)o[w].status=4,o[w].abortReason=g}Wr(i,r)}},d)}(n,Xo(e),t)}else sg(e)&&Fa(e,t=>{qa(n,t)})}function Wr(n,e){const t=_g(n,e),i=Xo(t);return function(r,o,s){if(o.length===0)return;const c=[];let u=[];const d=o.filter(g=>g.status===0),m=d.map(g=>g.currentWriteId);for(let g=0;g<o.length;g++){const b=o[g],w=_t(s,b.path);let C,k=!1;if(B(w!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),b.status===4)k=!0,C=b.abortReason,u=u.concat(mi(r.serverSyncTree_,b.currentWriteId,!0));else if(b.status===0)if(b.retryCount>=cC)k=!0,C="maxretry",u=u.concat(mi(r.serverSyncTree_,b.currentWriteId,!0));else{const A=zu(r,b.path,m);b.currentInputSnapshot=A;const F=o[g].update(A.val());if(F!==void 0){Jo("transaction failed: Data returned ",F,b.path);let V=Ue(F);typeof F=="object"&&F!=null&&en(F,".priority")||(V=V.updatePriority(A.getPriority()));const H=b.currentWriteId,$=es(r),Z=Mu(V,A,$);b.currentOutputSnapshotRaw=V,b.currentOutputSnapshotResolved=Z,b.currentWriteId=Ba(r),m.splice(m.indexOf(H),1),u=u.concat(ku(r.serverSyncTree_,b.path,Z,b.currentWriteId,b.applyLocally)),u=u.concat(mi(r.serverSyncTree_,H,!0))}else k=!0,C="nodata",u=u.concat(mi(r.serverSyncTree_,b.currentWriteId,!0))}Ut(r.eventQueue_,s,u),u=[],k&&(o[g].status=2,y=o[g].unwatcher,setTimeout(y,Math.floor(0)),o[g].onComplete&&(C==="nodata"?c.push(()=>o[g].onComplete(null,!1,o[g].currentInputSnapshot)):c.push(()=>o[g].onComplete(new Error(C),!1,null))))}var y;Va(r,r.transactionQueueTree_);for(let g=0;g<c.length;g++)Lr(c[g]);qa(r,r.transactionQueueTree_)}(n,bg(n,t),i),i}function _g(n,e){let t,i=n.transactionQueueTree_;for(t=he(e);t!==null&&rr(i)===void 0;)i=Ma(i,t),t=he(e=Ae(e));return i}function bg(n,e){const t=[];return Eg(n,e,t),t.sort((i,r)=>i.order-r.order),t}function Eg(n,e,t){const i=rr(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Fa(e,r=>{Eg(n,r,t)})}function Va(n,e){const t=rr(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,Uu(e,t.length>0?t:void 0)}Fa(e,i=>{Va(n,i)})}function Gu(n,e){const t=Xo(_g(n,e)),i=Ma(n.transactionQueueTree_,e);return function(r,o,s){let c=s?r:r.parent;for(;c!==null;){if(o(c))return!0;c=c.parent}}(i,r=>{Ku(n,r)}),Ku(n,i),ag(i,r=>{Ku(n,r)}),t}function Ku(n,e){const t=rr(e);if(t){const i=[];let r=[],o=-1;for(let s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?(B(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(B(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(mi(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Uu(e,void 0):t.length=o+1,Ut(n.eventQueue_,Xo(e),r);for(let s=0;s<i.length;s++)Lr(i[s])}}const Yu=function(n,e){const t=hC(n),i=t.namespace;t.domain==="firebase.com"&&gn(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&i!=="undefined"||t.domain==="localhost"||gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new pm(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new Ce(t.pathString)}},hC=function(n){let e="",t="",i="",r="",o="",s=!0,c="https",u=443;if(typeof n=="string"){let d=n.indexOf("//");d>=0&&(c=n.substring(0,d-1),n=n.substring(d+2));let m=n.indexOf("/");m===-1&&(m=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(m,y)),m<y&&(r=function(w){let C="";const k=w.split("/");for(let A=0;A<k.length;A++)if(k[A].length>0){let F=k[A];try{F=decodeURIComponent(F.replace(/\+/g," "))}catch{}C+="/"+F}return C}(n.substring(m,y)));const g=function(w){const C={};w.charAt(0)==="?"&&(w=w.substring(1));for(const k of w.split("&")){if(k.length===0)continue;const A=k.split("=");A.length===2?C[decodeURIComponent(A[0])]=decodeURIComponent(A[1]):ht(`Invalid query segment '${k}' in query '${w}'`)}return C}(n.substring(Math.min(n.length,y)));d=e.indexOf(":"),d>=0?(s=c==="https"||c==="wss",u=parseInt(e.substring(d+1),10)):d=e.length;const b=e.slice(0,d);if(b.toLowerCase()==="localhost")t="localhost";else if(b.split(".").length<=2)t=b;else{const w=e.indexOf(".");i=e.substring(0,w).toLowerCase(),t=e.substring(w+1),o=i}"ns"in g&&(o=g.ns)}return{host:e,port:u,domain:t,subdomain:i,secure:s,scheme:c,pathString:r,namespace:o}},wg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pC=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const o=new Array(8);for(r=7;r>=0;r--)o[r]=wg.charAt(t%64),t=Math.floor(t/64);B(t===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=wg.charAt(e[r]);return B(s.length===20,"nextPushId: Length should be 20."),s}}();class Ig{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class Cg{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Xu{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Tg{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Ft;return dC(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){rn("OnDisconnect.remove",this._path);const e=new Ft;return yg(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){rn("OnDisconnect.set",this._path),_n("OnDisconnect.set",e,this._path,!1);const t=new Ft;return yg(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){rn("OnDisconnect.setWithPriority",this._path),_n("OnDisconnect.setWithPriority",e,this._path,!1),qu("OnDisconnect.setWithPriority",t,!1);const i=new Ft;return function(r,o,s,c,u){const d=Ue(s,c);r.server_.onDisconnectPut(o.toString(),d.val(!0),(m,y)=>{m==="ok"&&Ur(r.onDisconnect_,o,d),gi(0,u,m,y)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){rn("OnDisconnect.update",this._path),lg("OnDisconnect.update",e,this._path,!1);const t=new Ft;return function(i,r,o,s){if(ia(o))return it("onDisconnect().update() called with empty data.  Don't do anything."),void gi(0,s,"ok",void 0);i.server_.onDisconnectMerge(r.toString(),o,(c,u)=>{c==="ok"&&rt(o,(d,m)=>{const y=Ue(m);Ur(i.onDisconnect_,Me(r,d),y)}),gi(0,s,c,u)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class kt{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return pe(this._path)?null:ou(this._path)}get ref(){return new Gt(this._repo,this._path)}get _queryIdentifier(){const e=Om(this._queryParams),t=Zl(e);return t==="{}"?"default":t}get _queryObject(){return Om(this._queryParams)}isEqual(e){if(!((e=X(e))instanceof kt))return!1;const t=this._repo===e._repo,i=su(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let i=e.pieceNum_;i<e.pieces_.length;i++)e.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[i])));return t||"/"}(this._path)}}function Wa(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function yi(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===yn){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ci)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Un)throw new Error(i);if(typeof t!="string")throw new Error(r)}}else if(n.getIndex()===Oe){if(e!=null&&!Qo(e)||t!=null&&!Qo(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(B(n.getIndex()instanceof du||n.getIndex()===hu,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function $a(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Gt extends kt{constructor(e,t){super(e,t,new _a,!1)}get parent(){const e=bm(this._path);return e===null?null:new Gt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class vi{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ce(e),i=or(this.ref,e);return new vi(this._node.getChild(t),i,Oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(t,i)=>e(new vi(i,or(this.ref,t),Oe)))}hasChild(e){const t=new Ce(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function bn(n,e){return(n=X(n))._checkNotDeleted("ref"),e!==void 0?or(n._root,e):n._root}function or(n,e){return he((n=X(n))._path)===null?oC("child","path",e,!1):Ua("child","path",e,!1),new Gt(n._repo,Me(n._path,e))}function _i(n,e){n=X(n),rn("set",n._path),_n("set",e,n._path,!1);const t=new Ft;return Wu(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Qu(n){n=X(n);const e=new Xu(()=>{}),t=new ts(e);return function(i,r,o){const s=ZI(i.serverSyncTree_,r);return s!=null?Promise.resolve(s):i.server_.get(r).then(c=>{const u=Ue(c).withIndex(r._queryParams.getIndex());let d;if(Ou(i.serverSyncTree_,r,o,!0),r._queryParams.loadsAllData())d=Go(i.serverSyncTree_,r._path,u);else{const m=Ko(i.serverSyncTree_,r);d=eg(i.serverSyncTree_,r._path,u,m)}return Ut(i.eventQueue_,r._path,d),Pa(i.serverSyncTree_,r,o,null,!0),u},c=>(Vr(i,"get for query "+Ze(r)+" failed: "+c),Promise.reject(new Error(c))))}(n._repo,n,t).then(i=>new vi(i,new Gt(n._repo,n._path),n._queryParams.getIndex()))}class ts{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new Ig("value",this,new vi(e.snapshotNode,new Gt(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Cg(this,e,t):null}matches(e){return e instanceof ts&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return this.callbackContext!==null}}class za{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Cg(this,e,t):null}createEvent(e,t){B(e.childName!=null,"Child events should have a childName.");const i=or(new Gt(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ig(e.type,this,new vi(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof za&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ns(n,e,t,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const u=t,d=(m,y)=>{$u(n._repo,n,c),u(m,y)};d.userCallback=t.userCallback,d.context=t.context,t=d}const s=new Xu(t,o||void 0),c=e==="value"?new ts(s):new za(e,s);return function(u,d,m){let y;y=he(d._path)===".info"?Ou(u.infoSyncTree_,d,m):Ou(u.serverSyncTree_,d,m),dg(u.eventQueue_,d._path,y)}(n._repo,n,c),()=>$u(n._repo,n,c)}function Ju(n,e,t,i){return ns(n,"value",e,t,i)}class Kt{}class xg extends Kt{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_n("endAt",this._value,e._path,!0);const t=mu(e._queryParams,this._value,this._key);if($a(t),yi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kt(e._repo,e._path,t,e._orderByCalled)}}class fC extends Kt{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_n("endBefore",this._value,e._path,!1);const t=function(i,r,o){let s;return s=i.index_===yn||o?mu(i,r,o):mu(i,r,ci),s.endBeforeSet_=!0,s}(e._queryParams,this._value,this._key);if($a(t),yi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kt(e._repo,e._path,t,e._orderByCalled)}}class Sg extends Kt{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_n("startAt",this._value,e._path,!0);const t=fu(e._queryParams,this._value,this._key);if($a(t),yi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new kt(e._repo,e._path,t,e._orderByCalled)}}class mC extends Kt{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_n("startAfter",this._value,e._path,!1);const t=function(i,r,o){let s;return s=i.index_===yn||o?fu(i,r,o):fu(i,r,Un),s.startAfterSet_=!0,s}(e._queryParams,this._value,this._key);if($a(t),yi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new kt(e._repo,e._path,t,e._orderByCalled)}}class gC extends Kt{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new kt(e._repo,e._path,function(t,i){const r=t.copy();return r.limitSet_=!0,r.limit_=i,r.viewFrom_="l",r}(e._queryParams,this._limit),e._orderByCalled)}}class yC extends Kt{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new kt(e._repo,e._path,function(t,i){const r=t.copy();return r.limitSet_=!0,r.limit_=i,r.viewFrom_="r",r}(e._queryParams,this._limit),e._orderByCalled)}}class vC extends Kt{constructor(e){super(),this._path=e}_apply(e){Wa(e,"orderByChild");const t=new Ce(this._path);if(pe(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new du(t),r=ba(e._queryParams,i);return yi(r),new kt(e._repo,e._path,r,!0)}}class _C extends Kt{_apply(e){Wa(e,"orderByKey");const t=ba(e._queryParams,yn);return yi(t),new kt(e._repo,e._path,t,!0)}}class bC extends Kt{_apply(e){Wa(e,"orderByPriority");const t=ba(e._queryParams,Oe);return yi(t),new kt(e._repo,e._path,t,!0)}}class EC extends Kt{_apply(e){Wa(e,"orderByValue");const t=ba(e._queryParams,hu);return yi(t),new kt(e._repo,e._path,t,!0)}}class wC extends Kt{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(_n("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new xg(this._value,this._key)._apply(new Sg(this._value,this._key)._apply(e))}}(function(n){B(!Oa,"__referenceConstructor has already been defined"),Oa=n})(Gt),function(n){B(!Na,"__referenceConstructor has already been defined"),Na=n}(Gt);const IC="FIREBASE_DATABASE_EMULATOR_HOST",Zu={};let Ag=!1;function kg(n,e,t,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),it("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let s,c,u=Yu(o,r),d=u.repoInfo;typeof process<"u"&&process.env&&(c=process.env[IC]),c?(s=!0,o=`http://${c}?ns=${d.namespace}`,u=Yu(o,r),d=u.repoInfo):s=!u.repoInfo.secure;const m=r&&s?new Dr(Dr.OWNER):new xI(n.name,n.options,e);ug("Invalid Firebase Database URL",u),pe(u.path)||gn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=function(g,b,w,C){let k=Zu[b.name];k||(k={},Zu[b.name]=k);let A=k[g.toURLString()];return A&&gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),A=new lC(g,Ag,w,C),k[g.toURLString()]=A,A}(d,n,m,new TI(n.name,t));return new Og(y,n)}class Og{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gt(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(function(e,t){const i=Zu[t];i&&i[e.key]===e||gn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),vg(e),delete i[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gn("Cannot call "+e+" on a deleted database.")}}function Ng(){Mr.IS_TRANSPORT_INITIALIZED&&ht("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function En(n=Ll(),e){const t=Gi(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=mw("database");i&&Rg(t,...i)}return t}function Rg(n,e,t,i={}){(n=X(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&gn("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Dr(Dr.OWNER);else if(i.mockUserToken){const s=typeof i.mockUserToken=="string"?i.mockUserToken:function(c,u){if(c.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const d=u||"demo-project",m=c.iat||0,y=c.sub||c.user_id;if(!y)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const g=Object.assign({iss:`https://securetoken.google.com/${d}`,aud:d,iat:m,exp:m+3600,auth_time:m,sub:y,user_id:y,firebase:{sign_in_provider:"custom",identities:{}}},c);return[ta(JSON.stringify({alg:"none",type:"JWT"})),ta(JSON.stringify(g)),""].join(".")}(i.mockUserToken,n.app.options.projectId);o=new Dr(s)}(function(s,c,u,d){s.repoInfo_=new pm(`${c}:${u}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0),d&&(s.authTokenProvider_=d)})(r,e,t,o)}const CC={".sv":"timestamp"};class Pg{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}zt.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},zt.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function(n){tm(Rr),mn(new tn("database",(e,{instanceIdentifier:t})=>kg(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Vt(Jf,Zf,n),Vt(Jf,Zf,"esm2017")}();const TC=Object.freeze(Object.defineProperty({__proto__:null,DataSnapshot:vi,Database:Og,OnDisconnect:Tg,QueryConstraint:Kt,TransactionResult:Pg,_QueryImpl:kt,_QueryParams:_a,_ReferenceImpl:Gt,_TEST_ACCESS_forceRestClient:function(n){(function(e){Ag=e})(n)},_TEST_ACCESS_hijackHash:function(n){const e=zt.prototype.put;return zt.prototype.put=function(t,i,r,o){o!==void 0&&(o=n()),e.call(this,t,i,r,o)},function(){zt.prototype.put=e}},_repoManagerDatabaseFromApp:kg,_setSDKVersion:tm,_validatePathString:Ua,_validateWritablePath:rn,child:or,connectDatabaseEmulator:Rg,enableLogging:function(n,e){sm(n,e)},endAt:function(n,e){return Zo("endAt","key",e,!0),new xg(n,e)},endBefore:function(n,e){return Zo("endBefore","key",e,!0),new fC(n,e)},equalTo:function(n,e){return Zo("equalTo","key",e,!0),new wC(n,e)},forceLongPolling:function(){Ng(),Wt.forceDisallow(),li.forceAllow()},forceWebSockets:function(){Ng(),li.forceDisallow()},get:Qu,getDatabase:En,goOffline:function(n){(n=X(n))._checkNotDeleted("goOffline"),vg(n._repo)},goOnline:function(n){var e;(n=X(n))._checkNotDeleted("goOnline"),(e=n._repo).persistentConnection_&&e.persistentConnection_.resume(pg)},increment:function(n){return{".sv":{increment:n}}},limitToFirst:function(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new gC(n)},limitToLast:function(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new yC(n)},off:function(n,e,t){let i=null;const r=t?new Xu(t):null;e==="value"?i=new ts(r):e&&(i=new za(e,r)),$u(n._repo,n,i)},onChildAdded:function(n,e,t,i){return ns(n,"child_added",e,t,i)},onChildChanged:function(n,e,t,i){return ns(n,"child_changed",e,t,i)},onChildMoved:function(n,e,t,i){return ns(n,"child_moved",e,t,i)},onChildRemoved:function(n,e,t,i){return ns(n,"child_removed",e,t,i)},onDisconnect:function(n){return n=X(n),new Tg(n._repo,n._path)},onValue:Ju,orderByChild:function(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ua("orderByChild","path",n,!1),new vC(n)},orderByKey:function(){return new _C},orderByPriority:function(){return new bC},orderByValue:function(){return new EC},push:function(n,e){n=X(n),rn("push",n._path),_n("push",e,n._path,!0);const t=fg(n._repo),i=pC(t),r=or(n,i),o=or(n,i);let s;return s=e!=null?_i(o,e).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r},query:function(n,...e){let t=X(n);for(const i of e)t=i._apply(t);return t},ref:bn,refFromURL:function(n,e){(n=X(n))._checkNotDeleted("refFromURL");const t=Yu(e,n._repo.repoInfo_.nodeAdmin);ug("refFromURL",t);const i=t.repoInfo;return n._repo.repoInfo_.isCustomHost()||i.host===n._repo.repoInfo_.host||gn("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),bn(n,t.path.toString())},remove:function(n){return rn("remove",n._path),_i(n,null)},runTransaction:function(n,e,t){var i;if(n=X(n),rn("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=(i=t==null?void 0:t.applyLocally)===null||i===void 0||i,o=new Ft,s=Ju(n,()=>{});return function(c,u,d,m,y,g){Vr(c,"transaction on "+u);const b={path:u,update:d,onComplete:m,status:null,order:im(),applyLocally:g,retryCount:0,unwatcher:y,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},w=zu(c,u,void 0);b.currentInputSnapshot=w;const C=b.update(w.val());if(C===void 0)b.unwatcher(),b.currentOutputSnapshotRaw=null,b.currentOutputSnapshotResolved=null,b.onComplete&&b.onComplete(null,!1,b.currentInputSnapshot);else{Jo("transaction failed: Data returned ",C,b.path),b.status=0;const k=Ma(c.transactionQueueTree_,u),A=rr(k)||[];let F;A.push(b),Uu(k,A),typeof C=="object"&&C!==null&&en(C,".priority")?(F=qi(C,".priority"),B(Qo(F),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):F=(La(c.serverSyncTree_,u)||ne.EMPTY_NODE).getPriority().val();const V=es(c),H=Ue(C,F),$=Mu(H,w,V);b.currentOutputSnapshotRaw=H,b.currentOutputSnapshotResolved=$,b.currentWriteId=Ba(c);const Z=ku(c.serverSyncTree_,u,$,b.currentWriteId,b.applyLocally);Ut(c.eventQueue_,u,Z),qa(c,c.transactionQueueTree_)}}(n._repo,n._path,e,(c,u,d)=>{let m=null;c?o.reject(c):(m=new vi(d,new Gt(n._repo,n._path),Oe),o.resolve(new Pg(u,m)))},s,r),o.promise},serverTimestamp:function(){return CC},set:_i,setPriority:function(n,e){n=X(n),rn("setPriority",n._path),qu("setPriority",e,!1);const t=new Ft;return Wu(n._repo,Me(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise},setWithPriority:function(n,e,t){if(rn("setWithPriority",n._path),_n("setWithPriority",e,n._path,!1),qu("setWithPriority",t,!1),n.key===".length"||n.key===".keys")throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new Ft;return Wu(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise},startAfter:function(n,e){return Zo("startAfter","key",e,!0),new mC(n,e)},startAt:function(n=null,e){return Zo("startAt","key",e,!0),new Sg(n,e)},update:function(n,e){lg("update",e,n._path,!1);const t=new Ft;return function(i,r,o,s){Vr(i,"update",{path:r.toString(),value:o});let c=!0;const u=es(i),d={};if(rt(o,(m,y)=>{c=!1,d[m]=og(Me(r,m),Ue(y),i.serverSyncTree_,u)}),c)it("update() called with empty data.  Don't do anything."),gi(0,s,"ok",void 0);else{const m=Ba(i),y=JI(i.serverSyncTree_,r,d,m);Ha(i.eventQueue_,y),i.server_.merge(r.toString(),o,(g,b)=>{const w=g==="ok";w||ht("update at "+r+" failed: "+g);const C=mi(i.serverSyncTree_,m,!w),k=C.length>0?Wr(i,r):r;Ut(i.eventQueue_,k,C),gi(0,s,g,b)}),rt(o,g=>{const b=Gu(i,Me(r,g));Wr(i,b)}),Ut(i.eventQueue_,r,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}},Symbol.toStringTag,{value:"Module"}));var ed=function(n,e){return ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},ed(n,e)};function Te(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}ed(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ae=function(){return ae=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},ae.apply(this,arguments)};function td(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function bt(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nd(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i,r,o=t.call(n),s=[];try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(c){r={error:c}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return s}function Lg(n,e,t){if(t||arguments.length===2)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}function xC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SC=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Dg=xC,Mg=new Bi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ga=new sa("@firebase/auth");function Ka(n,...e){Ga.logLevel<=xe.ERROR&&Ga.error(`Auth (${Rr}): ${n}`,...e)}function Ot(n,...e){throw id(n,...e)}function Ht(n,...e){return id(n,...e)}function Fg(n,e,t){const i=Object.assign(Object.assign({},Dg()),{[e]:t});return new Bi("auth","Firebase",i).create(e,{appName:n.name})}function $r(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Ot(n,"argument-error"),Fg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function id(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Mg.create(n,...e)}function q(n,e,...t){if(!n)throw id(e,...t)}function wn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ka(e),new Error(e)}function Bn(n,e){n||wn(e)}function is(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function rd(){return jg()==="http:"||jg()==="https:"}function jg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}class rs{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bn(t>e,"Short delay should be less than long delay!"),this.isMobile=wl()||Xp()}get(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rd()||Yp()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function od(n,e){Bn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Ug{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},kC=new rs(3e4,6e4);function He(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ve(n,e,t,i,r={}){return Hg(n,r,async()=>{let o={},s={};i&&(e==="GET"?s=i:o={body:JSON.stringify(i)});const c=Vi(Object.assign({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),Ug.fetch()(Bg(n,n.config.apiHost,t,c),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function Hg(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},AC),e);try{const r=new OC(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw os(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const c=o.ok?s.errorMessage:s.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw os(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw os(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw os(n,"user-disabled",s);const m=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Fg(n,m,d);Ot(n,m)}}catch(r){if(r instanceof fn)throw r;Ot(n,"network-request-failed",{message:String(r)})}}async function qn(n,e,t,i,r={}){const o=await Ve(n,e,t,i,r);return"mfaPendingCredential"in o&&Ot(n,"multi-factor-auth-required",{_serverResponse:o}),o}function Bg(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?od(n.config,r):`${n.config.apiScheme}://${r}`}class OC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ht(this.auth,"network-request-failed")),kC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function os(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Ht(n,e,i);return r.customData._tokenResponse=t,r}function ss(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qg(n,e=!1){const t=X(n),i=await t.getIdToken(e),r=Ya(i);q(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:ss(sd(r.auth_time)),issuedAtTime:ss(sd(r.iat)),expirationTime:ss(sd(r.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function sd(n){return 1e3*Number(n)}function Ya(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ka("JWT malformed, contained fewer than 3 sections"),null;try{const r=na(t);return r?JSON.parse(r):(Ka("Failed to decode base64 JWT payload"),null)}catch(r){return Ka("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}async function Vn(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof fn&&function({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}class NC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0))}this.schedule()}}class Vg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ss(this.lastLoginAt),this.creationTime=ss(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function as(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Vn(n,async function(w,C){return Ve(w,"POST","/v1/accounts:lookup",C)}(t,{idToken:i}));q(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?o.providerUserInfo.map(w=>{var{providerId:C}=w,k=td(w,["providerId"]);return{providerId:C,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}}):[],c=(u=n.providerData,d=s,[...u.filter(w=>!d.some(C=>C.providerId===w.providerId)),...d]);var u,d;const m=n.isAnonymous,y=!(n.email&&o.passwordHash||c!=null&&c.length),g=!!m&&y,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,b)}async function Wg(n){const e=X(n);await as(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}class cs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(e.idToken!==void 0,"internal-error"),q(e.refreshToken!==void 0,"internal-error");const t="expiresIn"in e&&e.expiresIn!==void 0?Number(e.expiresIn):function(i){const r=Ya(i);return q(r,"internal-error"),q(r.exp!==void 0,"internal-error"),q(r.iat!==void 0,"internal-error"),Number(r.exp)-Number(r.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return q(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:o}=await async function(s,c){const u=await Hg(s,{},async()=>{const d=Vi({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:m,apiKey:y}=s.config,g=Bg(s,m,"/v1/token",`key=${y}`),b=await s._getAdditionalHeaders();return b["Content-Type"]="application/x-www-form-urlencoded",Ug.fetch()(g,{method:"POST",headers:b,body:d})});return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}}(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new cs;return i&&(q(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(q(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cs,this.toJSON())}_performRefresh(){return wn("not implemented")}}function bi(n,e){q(typeof n=="string"||n===void 0,"internal-error",{appName:e})}class sr{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=td(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Vn(this,this.stsTokenManager.getToken(this.auth,e));return q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qg(this,e)}reload(){return Wg(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await as(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Vn(this,async function(t,i){return Ve(t,"POST","/v1/accounts:delete",i)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,c,u,d,m;const y=(i=t.displayName)!==null&&i!==void 0?i:void 0,g=(r=t.email)!==null&&r!==void 0?r:void 0,b=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,C=(c=t.tenantId)!==null&&c!==void 0?c:void 0,k=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,A=(d=t.createdAt)!==null&&d!==void 0?d:void 0,F=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:V,emailVerified:H,isAnonymous:$,providerData:Z,stsTokenManager:p}=t;q(V&&p,e,"internal-error");const Q=cs.fromJSON(this.name,p);q(typeof V=="string",e,"internal-error"),bi(y,e.name),bi(g,e.name),q(typeof H=="boolean",e,"internal-error"),q(typeof $=="boolean",e,"internal-error"),bi(b,e.name),bi(w,e.name),bi(C,e.name),bi(k,e.name),bi(A,e.name),bi(F,e.name);const Y=new sr({uid:V,auth:e,email:g,emailVerified:H,displayName:y,isAnonymous:$,photoURL:w,phoneNumber:b,tenantId:C,stsTokenManager:Q,createdAt:A,lastLoginAt:F});return Z&&Array.isArray(Z)&&(Y.providerData=Z.map(Pe=>Object.assign({},Pe))),k&&(Y._redirectEventId=k),Y}static async _fromIdTokenResponse(e,t,i=!1){const r=new cs;r.updateFromServerResponse(t);const o=new sr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await as(o),o}}const $g=new Map;function Wn(n){Bn(n instanceof Function,"Expected a class definition");let e=$g.get(n);return e?(Bn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$g.set(n,e),e)}class zg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zg.type="NONE";const ad=zg;function Xa(n,e,t){return`firebase:${n}:${e}:${t}`}class zr{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Xa(this.userKey,r.apiKey,o),this.fullPersistenceKey=Xa("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new zr(Wn(ad),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||Wn(ad);const s=Xa(i,e.config.apiKey,e.name);let c=null;for(const d of t)try{const m=await d._get(s);if(m){const y=sr._fromJSON(e,m);d!==o&&(c=y),o=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(s)}catch{}})),new zr(o,e,i)):new zr(o,e,i)}}function Gg(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xg(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kg(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jg(e))return"Blackberry";if(Zg(e))return"Webos";if(cd(e))return"Safari";if((e.includes("chrome/")||Yg(e))&&!e.includes("edge/"))return"Chrome";if(Qg(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Kg(n=dt()){return/firefox\//i.test(n)}function cd(n=dt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yg(n=dt()){return/crios\//i.test(n)}function Xg(n=dt()){return/iemobile/i.test(n)}function Qg(n=dt()){return/android/i.test(n)}function Jg(n=dt()){return/blackberry/i.test(n)}function Zg(n=dt()){return/webos/i.test(n)}function Qa(n=dt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function RC(){return function(){const n=dt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&document.documentMode===10}function ey(n=dt()){return Qa(n)||Qg(n)||Zg(n)||Jg(n)||/windows phone/i.test(n)||Xg(n)}function ty(n,e=[]){let t;switch(n){case"Browser":t=Gg(dt());break;case"Worker":t=`${Gg(dt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rr}/${i}`}async function ny(n,e){return Ve(n,"GET","/v2/recaptchaConfig",He(n,e))}function iy(n){return n!==void 0&&n.getResponse!==void 0}function ry(n){return n!==void 0&&n.enterprise!==void 0}class oy{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>t.provider==="EMAIL_PASSWORD_PROVIDER"&&t.enforcementState!=="OFF")}}function ld(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=Ht("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function(){var r,o;return(o=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&o!==void 0?o:document}().appendChild(i)})}function sy(n){return`__${n}${Math.floor(1e6*Math.random())}`}class ay{constructor(e){this.type="recaptcha-enterprise",this.auth=et(e)}async verify(e="verify",t=!1){function i(r,o,s){const c=window.grecaptcha;ry(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(u=>{o(u)}).catch(()=>{o("NO_RECAPTCHA")})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{(async function(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(c,u)=>{ny(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey!==void 0){const m=new oy(d);return s.tenantId==null?s._agentRecaptchaConfig=m:s._tenantRecaptchaConfigs[s.tenantId]=m,c(m.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})})})(this.auth).then(s=>{if(!t&&ry(window.grecaptcha))i(s,r,o);else{if(typeof window>"u")return void o(new Error("RecaptchaVerifier is only supported in browser"));ld("https://www.google.com/recaptcha/enterprise.js?render="+s).then(()=>{i(s,r,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function Ei(n,e,t,i=!1){const r=new ay(n);let o;try{o=await r.verify(t)}catch{o=await r.verify(t,!0)}const s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class PC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,c)=>{try{s(e(o))}catch(u){c(u)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}class LC{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cy(this),this.idTokenSubscription=new cy(this),this.beforeStateQueue=new PC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wn(t)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await zr.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);s&&s!==c||!(u!=null&&u.user)||(r=u.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await as(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?X(e):null;return t&&q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}async initializeRecaptchaConfig(){const e=await ny(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new oy(e);this.tenantId==null?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled&&new ay(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wn(e)||this._popupRedirectResolver;q(t,this,"argument-error"),this.redirectPersistenceManager=await zr.create(this,[Wn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return q(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof t=="function"?e.addObserver(t,i,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ty(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&function(i,...r){Ga.logLevel<=xe.WARN&&Ga.warn(`Auth (${Rr}): ${i}`,...r)}(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function et(n){return X(n)}class cy{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(t,i){const r=new vw(t,i);return r.subscribe.bind(r)}(t=>this.observer=t)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ly(n,e){const t=Gi(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(So(t.getOptions(),e??{}))return i;Ot(i,"already-initialized")}return t.initialize({options:e})}function uy(n,e,t){const i=et(n);q(i._canInitEmulator,i,"emulator-config-failed"),q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(t!=null&&t.disableWarnings),o=dy(e),{host:s,port:c}=function(d){const m=dy(d),y=/(\/\/)?([^?#/]+)/.exec(d.substr(m.length));if(!y)return{host:"",port:null};const g=y[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(g);if(b){const w=b[1];return{host:w,port:hy(g.substr(w.length+1))}}{const[w,C]=g.split(":");return{host:w,port:hy(C)}}}(e),u=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${s}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function d(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d())}()}function dy(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Gr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wn("not implemented")}_getIdTokenResponse(e){return wn("not implemented")}_linkToIdToken(e,t){return wn("not implemented")}_getReauthenticationResolver(e){return wn("not implemented")}}async function py(n,e){return Ve(n,"POST","/v1/accounts:resetPassword",He(n,e))}async function fy(n,e){return Ve(n,"POST","/v1/accounts:update",e)}async function ud(n,e){return qn(n,"POST","/v1/accounts:signInWithPassword",He(n,e))}async function Ja(n,e){return Ve(n,"POST","/v1/accounts:sendOobCode",He(n,e))}async function dd(n,e){return Ja(n,e)}async function hd(n,e){return Ja(n,e)}class Kr extends Gr{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Kr(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Kr(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((t=e._getRecaptchaConfig())===null||t===void 0)&&t.emailPasswordEnabled){const r=await Ei(e,i,"signInWithPassword");return ud(e,r)}return ud(e,i).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await Ei(e,i,"signInWithPassword");return ud(e,o)}return Promise.reject(r)});case"emailLink":return async function(r,o){return qn(r,"POST","/v1/accounts:signInWithEmailLink",He(r,o))}(e,{email:this._email,oobCode:this._password});default:Ot(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return fy(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(i,r){return qn(i,"POST","/v1/accounts:signInWithEmailLink",He(i,r))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ot(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $n(n,e){return qn(n,"POST","/v1/accounts:signInWithIdp",He(n,e))}class In extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new In(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ot("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=td(t,["providerId","signInMethod"]);if(!i||!r)return null;const s=new In(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return $n(e,this.buildRequest())}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,$n(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$n(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vi(t)}return e}}const DC={USER_NOT_FOUND:"user-not-found"};class wi extends Gr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new wi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new wi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(t,i){return qn(t,"POST","/v1/accounts:signInWithPhoneNumber",He(t,i))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(i,r){const o=await qn(i,"POST","/v1/accounts:signInWithPhoneNumber",He(i,r));if(o.temporaryProof)throw os(i,"account-exists-with-different-credential",o);return o}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(t,i){return qn(t,"POST","/v1/accounts:signInWithPhoneNumber",He(t,Object.assign(Object.assign({},i),{operation:"REAUTH"})),DC)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:o}=e;return i||t||r||o?new wi({verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:o}):null}}class Yr{constructor(e){var t,i,r,o,s,c;const u=Ao(ko(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,m=(i=u.oobCode)!==null&&i!==void 0?i:null,y=function(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}((r=u.mode)!==null&&r!==void 0?r:null);q(d&&m&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=m,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=function(i){const r=Ao(ko(i)).link,o=r?Ao(ko(r)).deep_link_id:null,s=Ao(ko(i)).deep_link_id;return(s?Ao(ko(s)).link:null)||s||o||r||i}(e);try{return new Yr(t)}catch{return null}}}class Ii{constructor(){this.providerId=Ii.PROVIDER_ID}static credential(e,t){return Kr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Yr.parseLink(t);return q(i,"argument-error"),Kr._fromEmailAndCode(e,i.code,i.tenantId)}}Ii.PROVIDER_ID="password",Ii.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ii.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class zn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xr extends zn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ls extends Xr{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return q("providerId"in t&&"signInMethod"in t,"argument-error"),In._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return q(e.idToken||e.accessToken,"argument-error"),In._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ls.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ls.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:s,providerId:c}=e;if(!(i||r||t||o)||!c)return null;try{return new ls(c)._credential({idToken:t,accessToken:i,nonce:s,pendingToken:o})}catch{return null}}}class Gn extends Xr{constructor(){super("facebook.com")}static credential(e){return In._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gn.credentialFromTaggedObject(e)}static credentialFromError(e){return Gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gn.credential(e.oauthAccessToken)}catch{return null}}}Gn.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gn.PROVIDER_ID="facebook.com";class Cn extends Xr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return In._fromParams({providerId:Cn.PROVIDER_ID,signInMethod:Cn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cn.credentialFromTaggedObject(e)}static credentialFromError(e){return Cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Cn.credential(t,i)}catch{return null}}}Cn.GOOGLE_SIGN_IN_METHOD="google.com",Cn.PROVIDER_ID="google.com";class Kn extends Xr{constructor(){super("github.com")}static credential(e){return In._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kn.credential(e.oauthAccessToken)}catch{return null}}}Kn.GITHUB_SIGN_IN_METHOD="github.com",Kn.PROVIDER_ID="github.com";class us extends Gr{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return $n(e,this.buildRequest())}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,$n(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$n(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:o}=t;return i&&r&&o&&i===r?new us(i,o):null}static _create(e,t){return new us(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Za extends zn{constructor(e){q(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Za.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Za.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=us.fromJSON(e);return q(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return us._create(i,t)}catch{return null}}}class Yn extends Xr{constructor(){super("twitter.com")}static credential(e,t){return In._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Yn.credential(t,i)}catch{return null}}}async function ec(n,e){return qn(n,"POST","/v1/accounts:signUp",He(n,e))}Yn.TWITTER_SIGN_IN_METHOD="twitter.com",Yn.PROVIDER_ID="twitter.com";class Yt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const o=await sr._fromIdTokenResponse(e,i,r),s=my(i);return new Yt({user:o,providerId:s,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=my(i);return new Yt({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function my(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class tc extends fn{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,tc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new tc(e,t,i,r)}}function gy(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?tc._fromErrorAndOperation(n,r,e,i):r})}function yy(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function pd(n,e,t=!1){const i=await Vn(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Yt._forOperation(n,"link",i)}async function nc(n,e,t){await as(e);const i=n===!1?"provider-already-linked":"no-such-provider";q(yy(e.providerData).has(t)===n,e.auth,i)}async function vy(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=await Vn(n,gy(i,r,e,n),t);q(o.idToken,i,"internal-error");const s=Ya(o.idToken);q(s,i,"internal-error");const{sub:c}=s;return q(n.uid===c,i,"user-mismatch"),Yt._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ot(i,"user-mismatch"),o}}async function _y(n,e,t=!1){const i="signIn",r=await gy(n,i,e),o=await Yt._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}async function ic(n,e){return _y(et(n),e)}async function by(n,e){const t=X(n);return await nc(!1,t,e.providerId),pd(t,e)}async function Ey(n,e){return vy(X(n),e)}class ds{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?fd._fromServerResponse(e,t):"totpInfo"in t?md._fromServerResponse(e,t):Ot(e,"internal-error")}}class fd extends ds{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new fd(t)}}class md extends ds{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new md(t)}}function Qr(n,e,t){var i;q(((i=t.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),q(t.dynamicLinkDomain===void 0||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(q(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(q(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}async function wy(n,e,t){var i;const r=et(n),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const s=await Ei(r,o,"getOobCode",!0);t&&Qr(r,s,t),await dd(r,s)}else t&&Qr(r,o,t),await dd(r,o).catch(async s=>{if(s.code!=="auth/missing-recaptcha-token")return Promise.reject(s);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const c=await Ei(r,o,"getOobCode",!0);t&&Qr(r,c,t),await dd(r,c)}})}async function Iy(n,e){const t=X(n),i=await py(t,{oobCode:e}),r=i.requestType;switch(q(r,t,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(i.mfaInfo,t,"internal-error");default:q(i.email,t,"internal-error")}let o=null;return i.mfaInfo&&(o=ds._fromServerResponse(et(t),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}}async function Cy(n,e,t){var i;const r=et(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const d=await Ei(r,o,"signUpPassword");s=ec(r,d)}else s=ec(r,o).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const m=await Ei(r,o,"signUpPassword");return ec(r,m)}return Promise.reject(d)});const c=await s.catch(d=>Promise.reject(d)),u=await Yt._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(u.user),u}function Ty(n,e,t){return ic(X(n),Ii.credential(e,t))}async function xy(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=X(n),r={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await Vn(i,async function(c,u){return Ve(c,"POST","/v1/accounts:update",u)}(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const s=i.providerData.find(({providerId:c})=>c==="password");s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function Sy(n,e,t){const{auth:i}=n,r={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(r.email=e),t&&(r.password=t);const o=await Vn(n,fy(i,r));await n._updateTokensIfNecessary(o,!0)}class Jr{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class Ay extends Jr{constructor(e,t,i,r){super(e,t,i),this.username=r}}class MC extends Jr{constructor(e,t){super(e,"facebook.com",t)}}class FC extends Ay{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class jC extends Jr{constructor(e,t){super(e,"google.com",t)}}class UC extends Ay{constructor(e,t,i){super(e,"twitter.com",t,i)}}function ky(n,e,t,i){return X(n).onIdTokenChanged(e,t,i)}function Oy(n,e,t){return X(n).beforeAuthStateChanged(e,t)}function Ny(n){return X(n).signOut()}class ar{constructor(e,t,i){this.type=e,this.credential=t,this.auth=i}static _fromIdtoken(e,t){return new ar("enroll",e,t)}static _fromMfaPendingCredential(e){return new ar("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return ar._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return ar._fromIdtoken(e.multiFactorSession.idToken)}return null}}class gd{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=et(e),r=t.customData._serverResponse,o=(r.mfaInfo||[]).map(c=>ds._fromServerResponse(i,c));q(r.mfaPendingCredential,i,"internal-error");const s=ar._fromMfaPendingCredential(r.mfaPendingCredential);return new gd(s,o,async c=>{const u=await c._process(i,s);delete r.mfaInfo,delete r.mfaPendingCredential;const d=Object.assign(Object.assign({},r),{idToken:u.idToken,refreshToken:u.refreshToken});switch(t.operationType){case"signIn":const m=await Yt._fromIdTokenResponse(i,t.operationType,d);return await i._updateCurrentUser(m.user),m;case"reauthenticate":return q(t.user,i,"internal-error"),Yt._forOperation(t.user,t.operationType,d);default:Ot(i,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class yd{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>ds._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new yd(e)}async getSession(){return ar._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const i=e,r=await this.getSession(),o=await Vn(this.user,i._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const s=await Vn(this.user,(r=this.user.auth,o={idToken:i,mfaEnrollmentId:t},Ve(r,"POST","/v2/accounts/mfaEnrollment:withdraw",He(r,o))));this.enrolledFactors=this.enrolledFactors.filter(({uid:c})=>c!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}var r,o}}const vd=new WeakMap,rc="__sak";class Ry{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rc,"1"),this.storage.removeItem(rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Py extends Ry{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=dt();return cd(e)||Qa(e)}()&&function(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ey(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((s,c,u)=>{this.notifyListeners(s,u)});const i=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(i);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!t)return}const r=()=>{const s=this.storage.getItem(i);(t||this.localCache[i]!==s)&&this.notifyListeners(i,s)},o=this.storage.getItem(i);RC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Py.type="LOCAL";const Ci=Py;class Ly extends Ry{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ly.type="SESSION";const _d=Ly;class oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new oc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:o}=t.data,s=this.handlersMap[r];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(s).map(async d=>d(t.origin,o)),u=await function(d){return Promise.all(d.map(async m=>{try{return{fulfilled:!0,value:await m}}catch(y){return{fulfilled:!1,reason:y}}}))}(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&this.handlersMap[e].size!==0||delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function sc(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}oc.receivers=[];class HC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{const d=sc("",20);r.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(y){const g=y;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(g.data.response);break;default:clearTimeout(m),clearTimeout(o),u(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Xe(){return window}function bd(){return Xe().WorkerGlobalScope!==void 0&&typeof Xe().importScripts=="function"}const Dy="firebaseLocalStorageDb",ac="firebaseLocalStorage",My="fbase_key";class hs{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cc(n,e){return n.transaction([ac],e?"readwrite":"readonly").objectStore(ac)}function Ed(){const n=indexedDB.open(Dy,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ac,{keyPath:My})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ac)?e(i):(i.close(),await function(){const r=indexedDB.deleteDatabase(Dy);return new hs(r).toPromise()}(),e(await Ed()))})})}async function Fy(n,e,t){const i=cc(n,!0).put({[My]:e,value:t});return new hs(i).toPromise()}function jy(n,e){const t=cc(n,!0).delete(e);return new hs(t).toPromise()}class Uy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ed()),this.db}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oc._getInstance(bd()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new HC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&(!((e=i[0])===null||e===void 0)&&e.fulfilled)&&(!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ed();return await Fy(e,rc,"1"),await jy(e,rc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Fy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>async function(r,o){const s=cc(r,!1).get(o),c=await new hs(s).toPromise();return c===void 0?null:c.value}(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=cc(r,!1).getAll();return new hs(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uy.type="LOCAL";const Hy=Uy,lc=1e12;class BC{constructor(e){this.auth=e,this.counter=lc,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new qC(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;const i=e||lc;(t=this._widgets.get(i))===null||t===void 0||t.delete(),this._widgets.delete(i)}getResponse(e){var t;const i=e||lc;return((t=this._widgets.get(i))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const i=e||lc;return(t=this._widgets.get(i))===null||t===void 0||t.execute(),""}}class qC{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r=typeof e=="string"?document.getElementById(e):e;q(r,"argument-error",{appName:t}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(i){const r=[],o="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<i;s++)r.push(o.charAt(Math.floor(Math.random()*o.length)));return r.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wd=sy("rcb"),VC=new rs(3e4,6e4);class WC{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Xe().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return q(function(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&iy(Xe().grecaptcha)?Promise.resolve(Xe().grecaptcha):new Promise((i,r)=>{const o=Xe().setTimeout(()=>{r(Ht(e,"network-request-failed"))},VC.get());Xe()[wd]=()=>{Xe().clearTimeout(o),delete Xe()[wd];const s=Xe().grecaptcha;if(!s||!iy(s))return void r(Ht(e,"internal-error"));const c=s.render;s.render=(u,d)=>{const m=c(u,d);return this.counter++,m},this.hostLanguage=t,i(s)},ld(`https://www.google.com/recaptcha/api.js??${Vi({onload:wd,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(o),r(Ht(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Xe().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $C{async load(e){return new BC(e)}clearedOneInstance(){}}const By="recaptcha",zC={theme:"light",type:"image"};class Id{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=wi._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function uc(n,e,t){var i;const r=await t.verify();try{let o;if(q(typeof r=="string",n,"argument-error"),q(t.type===By,n,"argument-error"),o=typeof e=="string"?{phoneNumber:e}:e,"session"in o){const s=o.session;if("phoneNumber"in o)return q(s.type==="enroll",n,"internal-error"),(await function(u,d){return Ve(u,"POST","/v2/accounts/mfaEnrollment:start",He(u,d))}(n,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{q(s.type==="signin",n,"internal-error");const c=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return q(c,n,"missing-multi-factor-info"),(await function(d,m){return Ve(d,"POST","/v2/accounts/mfaSignIn:start",He(d,m))}(n,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:s}=await async function(c,u){return Ve(c,"POST","/v1/accounts:sendVerificationCode",He(c,u))}(n,{phoneNumber:o.phoneNumber,recaptchaToken:r});return s}}finally{t._reset()}}class cr{constructor(e){this.providerId=cr.PROVIDER_ID,this.auth=et(e)}verifyPhoneNumber(e,t){return uc(this.auth,e,X(t))}static credential(e,t){return wi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return cr.credentialFromTaggedObject(t)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:i}=e;return t&&i?wi._fromTokenResponse(t,i):null}}function lr(n,e){return e?Wn(e):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}cr.PROVIDER_ID="phone",cr.PHONE_SIGN_IN_METHOD="phone";class Cd extends Gr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $n(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $n(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $n(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GC(n){return _y(n.auth,new Cd(n),n.bypassAuthState)}function KC(n){const{auth:e,user:t}=n;return q(t,e,"internal-error"),vy(t,new Cd(n),n.bypassAuthState)}async function YC(n){const{auth:e,user:t}=n;return q(t,e,"internal-error"),pd(t,new Cd(n),n.bypassAuthState)}class qy{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:c}=e;if(s)return void this.reject(s);const u={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GC;case"linkViaPopup":case"linkViaRedirect":return YC;case"reauthViaPopup":case"reauthViaRedirect":return KC;default:Ot(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XC=new rs(2e3,1e4);async function Vy(n,e,t){const i=et(n);$r(n,e,zn);const r=lr(i,t);return new Xn(i,"signInViaPopup",e,r).executeNotNull()}class Xn extends qy{constructor(e,t,i,r,o){super(e,t,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Xn.currentPopupAction&&Xn.currentPopupAction.cancel(),Xn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=sc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ht(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ht(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ht(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,XC.get())};e()}}Xn.currentPopupAction=null;const QC="pendingRedirect",dc=new Map;class JC extends qy{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=dc.get(this.auth._key());if(!e){try{const t=await async function(r,o){const s=$y(o),c=Wy(r);if(!await c._isAvailable())return!1;const u=await c._get(s)==="true";return await c._remove(s),u}(this.resolver,this.auth),i=t?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}dc.set(this.auth._key(),e)}return this.bypassAuthState||dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type!=="unknown"){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Td(n,e){return Wy(n)._set($y(e),"true")}function ZC(n,e){dc.set(n._key(),e)}function Wy(n){return Wn(n._redirectPersistence)}function $y(n){return Xa(QC,n.config.apiKey,n.name)}async function zy(n,e,t=!1){const i=et(n),r=lr(i,e),o=new JC(i,r,t),s=await o.execute();return s&&!t&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}async function Gy(n){const e=sc(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}class eT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yy(i);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Yy(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ht(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ky(e))}saveEventToCache(e){this.cachedEventUids.add(Ky(e)),this.lastProcessedEventTime=Date.now()}}function Ky(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Yy({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}const tT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nT=/^https?/;async function iT(n){if(n.config.emulator)return;const{authorizedDomains:e}=await async function(t,i={}){return Ve(t,"GET","/v1/projects",i)}(n);for(const t of e)try{if(rT(t))return}catch{}Ot(n,"unauthorized-domain")}function rT(n){const e=is(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!nT.test(t))return!1;if(tT.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const oT=new rs(3e4,6e4);function Xy(){const n=Xe().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}let hc=null;function sT(n){return hc=hc||function(e){return new Promise((t,i)=>{var r,o,s;function c(){Xy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xy(),i(Ht(e,"network-request-failed"))},timeout:oT.get()})}if(!((o=(r=Xe().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else{if(!(!((s=Xe().gapi)===null||s===void 0)&&s.load)){const u=sy("iframefcb");return Xe()[u]=()=>{gapi.load?c():i(Ht(e,"network-request-failed"))},ld(`https://apis.google.com/js/api.js?onload=${u}`).catch(d=>i(d))}c()}}).catch(t=>{throw hc=null,t})}(n),hc}const aT=new rs(5e3,15e3),cT="__/auth/iframe",lT="emulator/auth/iframe",uT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hT(n){const e=n.config;q(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?od(e,lT):`https://${n.config.authDomain}/${cT}`,i={apiKey:e.apiKey,appName:n.name,v:Rr},r=dT.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Vi(i).slice(1)}`}const pT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fT(n,e,t,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},pT),{width:i.toString(),height:r.toString(),top:o,left:s}),d=dt().toLowerCase();t&&(c=Yg(d)?"_blank":t),Kg(d)&&(e=e||"http://localhost",u.scrollbars="yes");const m=Object.entries(u).reduce((g,[b,w])=>`${g}${b}=${w},`,"");if(function(g=dt()){var b;return Qa(g)&&!!(!((b=window.navigator)===null||b===void 0)&&b.standalone)}(d)&&c!=="_self")return function(g,b){const w=document.createElement("a");w.href=g,w.target=b;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(C)}(e||"",c),new Qy(null);const y=window.open(e||"",c,m);q(y,n,"popup-blocked");try{y.focus()}catch{}return new Qy(y)}const mT="__/auth/handler",gT="emulator/auth/handler",yT=encodeURIComponent("fac");async function Jy(n,e,t,i,r,o){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Rr,eventId:r};if(e instanceof zn){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",ia(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries(o||{}))s[m]=y}if(e instanceof Xr){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(s.scopes=m.join(","))}n.tenantId&&(s.tid=n.tenantId);const c=s;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const u=await n._getAppCheckToken(),d=u?`#${yT}=${encodeURIComponent(u)}`:"";return`${function({config:m}){return m.emulator?od(m,gT):`https://${m.authDomain}/${mT}`}(n)}?${Vi(c).slice(1)}${d}`}const xd="webStorageSupport",Zy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_d,this._completeRedirectFn=zy,this._overrideRedirectResult=ZC}async _openPopup(n,e,t,i){var r;return Bn((r=this.eventManagers[n._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()"),fT(n,await Jy(n,e,t,is(),i),sc())}async _openRedirect(n,e,t,i){return await this._originValidation(n),function(r){Xe().location.href=r}(await Jy(n,e,t,is(),i)),new Promise(()=>{})}_initialize(n){const e=n._key();if(this.eventManagers[e]){const{manager:i,promise:r}=this.eventManagers[e];return i?Promise.resolve(i):(Bn(r,"If manager is not set, promise should be"),r)}const t=this.initAndGetManager(n);return this.eventManagers[e]={promise:t},t.catch(()=>{delete this.eventManagers[e]}),t}async initAndGetManager(n){const e=await async function(i){const r=await sT(i),o=Xe().gapi;return q(o,i,"internal-error"),r.open({where:document.body,url:hT(i),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uT,dontclear:!0},s=>new Promise(async(c,u)=>{await s.restyle({setHideOnLeave:!1});const d=Ht(i,"network-request-failed"),m=Xe().setTimeout(()=>{u(d)},aT.get());function y(){Xe().clearTimeout(m),c(s)}s.ping(y).then(y,()=>{u(d)})}))}(n),t=new eT(n);return e.register("authEvent",i=>(q(i==null?void 0:i.authEvent,n,"invalid-auth-event"),{status:t.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[n._key()]={manager:t},this.iframes[n._key()]=e,t}_isIframeWebStorageSupported(n,e){this.iframes[n._key()].send(xd,{type:xd},t=>{var i;const r=(i=t==null?void 0:t[0])===null||i===void 0?void 0:i[xd];r!==void 0&&e(!!r),Ot(n,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(n){const e=n._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=iT(n)),this.originValidationPromises[e]}get _shouldInitProactively(){return ey()||cd()||Qa()}};class ev{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return wn("unexpected MultiFactorSessionType")}}}class Sd extends ev{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Sd(e)}_finalizeEnroll(e,t,i){return function(r,o){return Ve(r,"POST","/v2/accounts/mfaEnrollment:finalize",He(r,o))}(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(i,r){return Ve(i,"POST","/v2/accounts/mfaSignIn:finalize",He(i,r))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class tv{constructor(){}static assertion(e){return Sd._fromCredential(e)}}tv.FACTOR_ID="phone";class nv{static assertionForEnrollment(e,t){return ps._fromSecret(e,t)}static assertionForSignIn(e,t){return ps._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;q(t.auth!==void 0,"internal-error");const i=await(r=t.auth,o={idToken:t.credential,totpEnrollmentInfo:{}},Ve(r,"POST","/v2/accounts/mfaEnrollment:start",He(r,o)));var r,o;return pc._fromStartTotpMfaEnrollmentResponse(i,t.auth)}}nv.FACTOR_ID="totp";class ps extends ev{constructor(e,t,i){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=i}static _fromSecret(e,t){return new ps(t,void 0,e)}static _fromEnrollmentId(e,t){return new ps(t,e)}async _finalizeEnroll(e,t,i){return q(this.secret!==void 0,e,"argument-error"),function(r,o){return Ve(r,"POST","/v2/accounts/mfaEnrollment:finalize",He(r,o))}(e,{idToken:t,displayName:i,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){q(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const i={verificationCode:this.otp};return function(r,o){return Ve(r,"POST","/v2/accounts/mfaSignIn:finalize",He(r,o))}(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:i})}}class pc{constructor(e,t,i,r,o,s,c){this.sessionInfo=s,this.auth=c,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=i,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=o}static _fromStartTotpMfaEnrollmentResponse(e,t){return new pc(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var i;let r=!1;return(fc(e)||fc(t))&&(r=!0),r&&(fc(e)&&(e=((i=this.auth.currentUser)===null||i===void 0?void 0:i.email)||"unknownuser"),fc(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function fc(n){return n===void 0||(n==null?void 0:n.length)===0}var iv="@firebase/auth",rv="0.23.2";class vT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _T=Kp("authIdTokenMaxAge")||300;let ov=null;const bT=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>_T)return;const r=t==null?void 0:t.token;ov!==r&&(ov=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Tn(n=Ll()){const e=Gi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ly(n,{popupRedirectResolver:Zy,persistence:[Hy,Ci,_d]}),i=Kp("authTokenSyncURL");if(i){const o=bT(i);Oy(t,o,()=>o(t.currentUser)),ky(t,s=>o(s))}const r=zp("auth");return r&&uy(t,`http://${r}`),t}var mc;mc="Browser",mn(new tn("auth",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),i=n.getProvider("heartbeat"),r=n.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=t.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:t.name});const c={apiKey:o,authDomain:s,clientPlatform:mc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ty(mc)},u=new LC(t,i,r,c);return function(d,m){const y=(m==null?void 0:m.persistence)||[],g=(Array.isArray(y)?y:[y]).map(Wn);m!=null&&m.errorMap&&d._updateErrorMap(m.errorMap),d._initializeWithPersistence(g,m==null?void 0:m.popupRedirectResolver)}(u,e),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider("auth-internal").initialize()})),mn(new tn("auth-internal",n=>(e=>new vT(e))(et(n.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Vt(iv,rv,function(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(mc)),Vt(iv,rv,"esm2017");const ET=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"},ActionCodeURL:Yr,AuthCredential:Gr,AuthErrorCodes:{ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"},EmailAuthCredential:Kr,EmailAuthProvider:Ii,FacebookAuthProvider:Gn,FactorId:{PHONE:"phone",TOTP:"totp"},GithubAuthProvider:Kn,GoogleAuthProvider:Cn,OAuthCredential:In,OAuthProvider:ls,OperationType:{LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},PhoneAuthCredential:wi,PhoneAuthProvider:cr,PhoneMultiFactorGenerator:tv,ProviderId:{FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},RecaptchaVerifier:class{constructor(n,e=Object.assign({},zC),t){this.parameters=e,this.type=By,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=et(t),this.isInvisible=this.parameters.size==="invisible",q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;q(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $C:new WC,this.validateStartingState()}async verify(){this.assertNotDestroyed();const n=await this.render(),e=this.getAssertedRecaptcha();return e.getResponse(n)||new Promise(i=>{const r=o=>{o&&(this.tokenChangeListeners.delete(r),i(o))};this.tokenChangeListeners.add(r),this.isInvisible&&e.execute(n)})}render(){try{this.assertNotDestroyed()}catch(n){return Promise.reject(n)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(n=>{throw this.renderPromise=null,n})),this.renderPromise}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(n=>{this.container.removeChild(n)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(n){return e=>{if(this.tokenChangeListeners.forEach(t=>t(e)),typeof n=="function")n(e);else if(typeof n=="string"){const t=Xe()[n];typeof t=="function"&&t(e)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let n=this.container;if(!this.isInvisible){const e=document.createElement("div");n.appendChild(e),n=e}this.widgetId=this.getAssertedRecaptcha().render(n,this.parameters)}return this.widgetId}async init(){q(rd()&&!bd(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{document.readyState!=="complete"?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const n=await async function(e){return(await Ve(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);q(n,this.auth,"internal-error"),this.parameters.sitekey=n}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}},SAMLAuthProvider:Za,SignInMethod:{EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},TotpMultiFactorGenerator:nv,TotpSecret:pc,TwitterAuthProvider:Yn,applyActionCode:async function(n,e){await async function(t,i){return Ve(t,"POST","/v1/accounts:update",He(t,i))}(X(n),{oobCode:e})},beforeAuthStateChanged:Oy,browserLocalPersistence:Ci,browserPopupRedirectResolver:Zy,browserSessionPersistence:_d,checkActionCode:Iy,confirmPasswordReset:async function(n,e,t){await py(X(n),{oobCode:e,newPassword:t})},connectAuthEmulator:uy,createUserWithEmailAndPassword:Cy,debugErrorMap:SC,deleteUser:async function(n){return X(n).delete()},fetchSignInMethodsForEmail:async function(n,e){const t={identifier:e,continueUri:rd()?is():"http://localhost"},{signinMethods:i}=await async function(r,o){return Ve(r,"POST","/v1/accounts:createAuthUri",He(r,o))}(X(n),t);return i||[]},getAdditionalUserInfo:function(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function(i){var r,o;if(!i)return null;const{providerId:s}=i,c=i.rawUserInfo?JSON.parse(i.rawUserInfo):{},u=i.isNewUser||i.kind==="identitytoolkit#SignupNewUserResponse";if(!s&&(i!=null&&i.idToken)){const d=(o=(r=Ya(i.idToken))===null||r===void 0?void 0:r.firebase)===null||o===void 0?void 0:o.sign_in_provider;if(d)return new Jr(u,d!=="anonymous"&&d!=="custom"?d:null)}if(!s)return null;switch(s){case"facebook.com":return new MC(u,c);case"github.com":return new FC(u,c);case"google.com":return new jC(u,c);case"twitter.com":return new UC(u,c,i.screenName||null);case"custom":case"anonymous":return new Jr(u,null);default:return new Jr(u,s,c)}}(t)},getAuth:Tn,getIdToken:function(n,e=!1){return X(n).getIdToken(e)},getIdTokenResult:qg,getMultiFactorResolver:function(n,e){var t;const i=X(n),r=e;return q(e.customData.operationType,i,"argument-error"),q((t=r.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,i,"argument-error"),gd._fromError(i,r)},getRedirectResult:async function(n,e){return await et(n)._initializationPromise,zy(n,e,!1)},inMemoryPersistence:ad,indexedDBLocalPersistence:Hy,initializeAuth:ly,initializeRecaptchaConfig:function(n){return et(n).initializeRecaptchaConfig()},isSignInWithEmailLink:function(n,e){const t=Yr.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"},linkWithCredential:by,linkWithPhoneNumber:async function(n,e,t){const i=X(n);await nc(!1,i,"phone");const r=await uc(i.auth,e,X(t));return new Id(r,o=>by(i,o))},linkWithPopup:async function(n,e,t){const i=X(n);$r(i.auth,e,zn);const r=lr(i.auth,t);return new Xn(i.auth,"linkViaPopup",e,r,i).executeNotNull()},linkWithRedirect:function(n,e,t){return async function(i,r,o){const s=X(i);$r(s.auth,r,zn),await s.auth._initializationPromise;const c=lr(s.auth,o);await nc(!1,s,r.providerId),await Td(c,s.auth);const u=await Gy(s);return c._openRedirect(s.auth,r,"linkViaRedirect",u)}(n,e,t)},multiFactor:function(n){const e=X(n);return vd.has(e)||vd.set(e,yd._fromUser(e)),vd.get(e)},onAuthStateChanged:function(n,e,t,i){return X(n).onAuthStateChanged(e,t,i)},onIdTokenChanged:ky,parseActionCodeURL:function(n){return Yr.parseLink(n)},prodErrorMap:Dg,reauthenticateWithCredential:Ey,reauthenticateWithPhoneNumber:async function(n,e,t){const i=X(n),r=await uc(i.auth,e,X(t));return new Id(r,o=>Ey(i,o))},reauthenticateWithPopup:async function(n,e,t){const i=X(n);$r(i.auth,e,zn);const r=lr(i.auth,t);return new Xn(i.auth,"reauthViaPopup",e,r,i).executeNotNull()},reauthenticateWithRedirect:function(n,e,t){return async function(i,r,o){const s=X(i);$r(s.auth,r,zn),await s.auth._initializationPromise;const c=lr(s.auth,o);await Td(c,s.auth);const u=await Gy(s);return c._openRedirect(s.auth,r,"reauthViaRedirect",u)}(n,e,t)},reload:Wg,sendEmailVerification:async function(n,e){const t=X(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Qr(t.auth,i,e);const{email:r}=await async function(o,s){return Ja(o,s)}(t.auth,i);r!==n.email&&await n.reload()},sendPasswordResetEmail:wy,sendSignInLinkToEmail:async function(n,e,t){var i;const r=et(n),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(c,u){q(u.handleCodeInApp,r,"argument-error"),u&&Qr(r,c,u)}if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const c=await Ei(r,o,"getOobCode",!0);s(c,t),await hd(r,c)}else s(o,t),await hd(r,o).catch(async c=>{if(c.code!=="auth/missing-recaptcha-token")return Promise.reject(c);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const u=await Ei(r,o,"getOobCode",!0);s(u,t),await hd(r,u)}})},setPersistence:function(n,e){return X(n).setPersistence(e)},signInAnonymously:async function(n){var e;const t=et(n);if(await t._initializationPromise,(e=t.currentUser)===null||e===void 0?void 0:e.isAnonymous)return new Yt({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ec(t,{returnSecureToken:!0}),r=await Yt._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r},signInWithCredential:ic,signInWithCustomToken:async function(n,e){const t=et(n),i=await async function(o,s){return qn(o,"POST","/v1/accounts:signInWithCustomToken",He(o,s))}(t,{token:e,returnSecureToken:!0}),r=await Yt._fromIdTokenResponse(t,"signIn",i);return await t._updateCurrentUser(r.user),r},signInWithEmailAndPassword:Ty,signInWithEmailLink:async function(n,e,t){const i=X(n),r=Ii.credentialWithLink(e,t||is());return q(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),ic(i,r)},signInWithPhoneNumber:async function(n,e,t){const i=et(n),r=await uc(i,e,X(t));return new Id(r,o=>ic(i,o))},signInWithPopup:Vy,signInWithRedirect:function(n,e,t){return async function(i,r,o){const s=et(i);$r(i,r,zn),await s._initializationPromise;const c=lr(s,o);return await Td(c,s),c._openRedirect(s,r,"signInViaRedirect")}(n,e,t)},signOut:Ny,unlink:async function(n,e){const t=X(n);await nc(!0,t,e);const{providerUserInfo:i}=await async function(o,s){return Ve(o,"POST","/v1/accounts:update",s)}(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),r=yy(i||[]);return t.providerData=t.providerData.filter(o=>r.has(o.providerId)),r.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t},updateCurrentUser:function(n,e){return X(n).updateCurrentUser(e)},updateEmail:function(n,e){return Sy(X(n),e,null)},updatePassword:function(n,e){return Sy(X(n),null,e)},updatePhoneNumber:async function(n,e){await pd(X(n),e)},updateProfile:xy,useDeviceLanguage:function(n){X(n).useDeviceLanguage()},verifyBeforeUpdateEmail:async function(n,e,t){const i=X(n),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Qr(i.auth,r,t);const{email:o}=await async function(s,c){return Ja(s,c)}(i.auth,r);o!==n.email&&await n.reload()},verifyPasswordResetCode:async function(n,e){const{data:t}=await Iy(X(n),e);return t.email}},Symbol.toStringTag,{value:"Module"})),wT={apiKey:"AIzaSyASnaeaC-FLvGoHKneasPInl12JC9jX27Q",authDomain:"mytsbc-a2d97.firebaseapp.com",projectId:"mytsbc-a2d97",storageBucket:"mytsbc-a2d97.appspot.com",messagingSenderId:"267158378243",appId:"1:267158378243:web:31d94cda2ae697a0be7b36",measurementId:"G-2RQNS9T3W0",databaseURL:"https://mytsbc-a2d97-default-rtdb.asia-southeast1.firebasedatabase.app/"};function IT(n,e,t){const i=Pl(wT);Yf(i);const r=Tn();return En(i),r.setPersistence(Ci),document.addEventListener("alpine:init",()=>{let o=window.Alpine;o.store("auth",{authGet:()=>{let s=Tn();return s.setPersistence(Ci),s},fbaseauth:ET,authenticating:!0,user:{loggedIn:!1,email:"",password:"",displayName:"",idToken:"",uid:"",firebaseuser:null}}),o.store("firedb",{databaseGet:()=>En(i),fbasedb:TC}),console.log("STORE SET2")}),window.modularcomponents={},document.addEventListener("alpine:init",()=>{let o=window.Alpine;o.store("appData",{dark:!1,primarycolor:"#fff",modify(s){s(this)},fontsize:20}),o.store("uiData",{navbars:{main:"offline"},page:"offline",modify(s){s(this)}}),console.log("TRIP"),o.store("colors",window.colors)}),e.create(e.fragment,null)}function CT(n){return`${(()=>{let e="";return Object.keys(n).forEach(t=>{e+=`'${t}': $store.colors['${t}'],`}),e})()}`}function TT(n,e,t){return e.create("div",{"x-data":!0,"x-bind:style":`{${CT(n.colors)}}`},e.create("div",{style:n.style},t))}var Ad,pt=function(){function n(e){e===void 0&&(e={}),this.adapter=e}return Object.defineProperty(n,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),n.prototype.init=function(){},n.prototype.destroy=function(){},n}(),Et=function(){function n(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];this.root=e,this.initialize.apply(this,Lg([],nd(i))),this.foundation=t===void 0?this.getDefaultFoundation():t,this.foundation.init(),this.initialSyncWithDOM()}return n.attachTo=function(e){return new n(e,new pt({}))},n.prototype.initialize=function(){},n.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},n.prototype.initialSyncWithDOM=function(){},n.prototype.destroy=function(){this.foundation.destroy()},n.prototype.listen=function(e,t,i){this.root.addEventListener(e,t,i)},n.prototype.unlisten=function(e,t,i){this.root.removeEventListener(e,t,i)},n.prototype.emit=function(e,t,i){var r;i===void 0&&(i=!1),typeof CustomEvent=="function"?r=new CustomEvent(e,{bubbles:i,detail:t}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,i,!1,t),this.root.dispatchEvent(r)},n}();function xn(n){return n===void 0&&(n=window),!!function(e){e===void 0&&(e=window);var t=!1;try{var i={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,i),e.document.removeEventListener("test",r,i)}catch{t=!1}return t}(n)&&{passive:!0}}function gc(n,e){if(n.closest)return n.closest(e);for(var t=n;t;){if(Sn(t,e))return t;t=t.parentElement}return null}function Sn(n,e){return(n.matches||n.webkitMatchesSelector||n.msMatchesSelector).call(n,e)}var xT={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},ST={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},sv={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},av=["touchstart","pointerdown","mousedown","keydown"],cv=["touchend","pointerup","mouseup","contextmenu"],yc=[],kd=function(n){function e(t){var i=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return i.activationAnimationHasEnded=!1,i.activationTimer=0,i.fgDeactivationRemovalTimer=0,i.fgScale="0",i.frame={width:0,height:0},i.initialSize=0,i.layoutFrame=0,i.maxRadius=0,i.unboundedCoords={left:0,top:0},i.activationState=i.defaultActivationState(),i.activationTimerCallback=function(){i.activationAnimationHasEnded=!0,i.runDeactivationUXLogicIfReady()},i.activateHandler=function(r){i.activateImpl(r)},i.deactivateHandler=function(){i.deactivateImpl()},i.focusHandler=function(){i.handleFocus()},i.blurHandler=function(){i.handleBlur()},i.resizeHandler=function(){i.layout()},i}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return xT},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return ST},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return sv},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,i=this.supportsPressRipple();if(this.registerRootHandlers(i),i){var r=e.cssClasses,o=r.ROOT,s=r.UNBOUNDED;requestAnimationFrame(function(){t.adapter.addClass(o),t.adapter.isUnbounded()&&(t.adapter.addClass(s),t.layoutInternal())})}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var i=e.cssClasses,r=i.ROOT,o=i.UNBOUNDED;requestAnimationFrame(function(){t.adapter.removeClass(r),t.adapter.removeClass(o),t.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},e.prototype.activate=function(t){this.activateImpl(t)},e.prototype.deactivate=function(){this.deactivateImpl()},e.prototype.layout=function(){var t=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){t.layoutInternal(),t.layoutFrame=0})},e.prototype.setUnbounded=function(t){var i=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(i):this.adapter.removeClass(i)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame(function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)})},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame(function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)})},e.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers=function(t){var i,r;if(t){try{for(var o=bt(av),s=o.next();!s.done;s=o.next()){var c=s.value;this.adapter.registerInteractionHandler(c,this.activateHandler)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},e.prototype.registerDeactivationHandlers=function(t){var i,r;if(t.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var o=bt(cv),s=o.next();!s.done;s=o.next()){var c=s.value;this.adapter.registerDocumentInteractionHandler(c,this.deactivateHandler)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}},e.prototype.deregisterRootHandlers=function(){var t,i;try{for(var r=bt(av),o=r.next();!o.done;o=r.next()){var s=o.value;this.adapter.deregisterInteractionHandler(s,this.activateHandler)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},e.prototype.deregisterDeactivationHandlers=function(){var t,i;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var r=bt(cv),o=r.next();!o.done;o=r.next()){var s=o.value;this.adapter.deregisterDocumentInteractionHandler(s,this.deactivateHandler)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}},e.prototype.removeCssVars=function(){var t=this,i=e.strings;Object.keys(i).forEach(function(r){r.indexOf("VAR_")===0&&t.adapter.updateCssVariable(i[r],null)})},e.prototype.activateImpl=function(t){var i=this;if(!this.adapter.isSurfaceDisabled()){var r=this.activationState;if(!r.isActivated){var o=this.previousActivationEvent;o&&t!==void 0&&o.type!==t.type||(r.isActivated=!0,r.isProgrammatic=t===void 0,r.activationEvent=t,r.wasActivatedByPointer=!r.isProgrammatic&&t!==void 0&&(t.type==="mousedown"||t.type==="touchstart"||t.type==="pointerdown"),t!==void 0&&yc.length>0&&yc.some(function(s){return i.adapter.containsEventTarget(s)})?this.resetActivationState():(t!==void 0&&(yc.push(t.target),this.registerDeactivationHandlers(t)),r.wasElementMadeActive=this.checkElementMadeActive(t),r.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){yc=[],r.wasElementMadeActive||t===void 0||t.key!==" "&&t.keyCode!==32||(r.wasElementMadeActive=i.checkElementMadeActive(t),r.wasElementMadeActive&&i.animateActivation()),r.wasElementMadeActive||(i.activationState=i.defaultActivationState())})))}}},e.prototype.checkElementMadeActive=function(t){return t===void 0||t.type!=="keydown"||this.adapter.isSurfaceActive()},e.prototype.animateActivation=function(){var t=this,i=e.strings,r=i.VAR_FG_TRANSLATE_START,o=i.VAR_FG_TRANSLATE_END,s=e.cssClasses,c=s.FG_DEACTIVATION,u=s.FG_ACTIVATION,d=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var m="",y="";if(!this.adapter.isUnbounded()){var g=this.getFgTranslationCoordinates(),b=g.startPoint,w=g.endPoint;m=b.x+"px, "+b.y+"px",y=w.x+"px, "+w.y+"px"}this.adapter.updateCssVariable(r,m),this.adapter.updateCssVariable(o,y),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(c),this.adapter.computeBoundingRect(),this.adapter.addClass(u),this.activationTimer=setTimeout(function(){t.activationTimerCallback()},d)},e.prototype.getFgTranslationCoordinates=function(){var t,i=this.activationState,r=i.activationEvent;return{startPoint:t={x:(t=i.wasActivatedByPointer?function(o,s,c){if(!o)return{x:0,y:0};var u,d,m=s.x,y=s.y,g=m+c.left,b=y+c.top;if(o.type==="touchstart"){var w=o;u=w.changedTouches[0].pageX-g,d=w.changedTouches[0].pageY-b}else{var C=o;u=C.pageX-g,d=C.pageY-b}return{x:u,y:d}}(r,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame.width/2,y:this.frame.height/2}).x-this.initialSize/2,y:t.y-this.initialSize/2},endPoint:{x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2}}},e.prototype.runDeactivationUXLogicIfReady=function(){var t=this,i=e.cssClasses.FG_DEACTIVATION,r=this.activationState,o=r.hasDeactivationUXRun,s=r.isActivated;(o||!s)&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(i),this.fgDeactivationRemovalTimer=setTimeout(function(){t.adapter.removeClass(i)},sv.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState=function(){var t=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return t.previousActivationEvent=void 0},e.numbers.TAP_DELAY_MS)},e.prototype.deactivateImpl=function(){var t=this,i=this.activationState;if(i.isActivated){var r=ae({},i);i.isProgrammatic?(requestAnimationFrame(function(){t.animateDeactivation(r)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){t.activationState.hasDeactivationUXRun=!0,t.animateDeactivation(r),t.resetActivationState()}))}},e.prototype.animateDeactivation=function(t){var i=t.wasActivatedByPointer,r=t.wasElementMadeActive;(i||r)&&this.runDeactivationUXLogicIfReady()},e.prototype.layoutInternal=function(){var t=this;this.frame=this.adapter.computeBoundingRect();var i=Math.max(this.frame.height,this.frame.width);this.maxRadius=this.adapter.isUnbounded()?i:Math.sqrt(Math.pow(t.frame.width,2)+Math.pow(t.frame.height,2))+e.numbers.PADDING;var r=Math.floor(i*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&r%2!=0?this.initialSize=r-1:this.initialSize=r,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},e.prototype.updateLayoutCssVars=function(){var t=e.strings,i=t.VAR_FG_SIZE,r=t.VAR_LEFT,o=t.VAR_TOP,s=t.VAR_FG_SCALE;this.adapter.updateCssVariable(i,this.initialSize+"px"),this.adapter.updateCssVariable(s,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(r,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(o,this.unboundedCoords.top+"px"))},e}(pt),Qn=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.disabled=!1,t}return Te(e,n),e.attachTo=function(t,i){i===void 0&&(i={isUnbounded:void 0});var r=new e(t);return i.isUnbounded!==void 0&&(r.unbounded=i.isUnbounded),r},e.createAdapter=function(t){return{addClass:function(i){return t.root.classList.add(i)},browserSupportsCssVars:function(){return function(i,r){r===void 0&&(r=!1);var o,s=i.CSS;if(typeof Ad=="boolean"&&!r)return Ad;if(!s||typeof s.supports!="function")return!1;var c=s.supports("--css-vars","yes"),u=s.supports("(--css-vars: yes)")&&s.supports("color","#00000000");return o=c||u,r||(Ad=o),o}(window)},computeBoundingRect:function(){return t.root.getBoundingClientRect()},containsEventTarget:function(i){return t.root.contains(i)},deregisterDocumentInteractionHandler:function(i,r){return document.documentElement.removeEventListener(i,r,xn())},deregisterInteractionHandler:function(i,r){return t.root.removeEventListener(i,r,xn())},deregisterResizeHandler:function(i){return window.removeEventListener("resize",i)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return Sn(t.root,":active")},isSurfaceDisabled:function(){return!!t.disabled},isUnbounded:function(){return!!t.unbounded},registerDocumentInteractionHandler:function(i,r){return document.documentElement.addEventListener(i,r,xn())},registerInteractionHandler:function(i,r){return t.root.addEventListener(i,r,xn())},registerResizeHandler:function(i){return window.addEventListener("resize",i)},removeClass:function(i){return t.root.classList.remove(i)},updateCssVariable:function(i,r){return t.root.style.setProperty(i,r)}}},Object.defineProperty(e.prototype,"unbounded",{get:function(){return!!this.isUnbounded},set:function(t){this.isUnbounded=!!t,this.setUnbounded()},enumerable:!1,configurable:!0}),e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getDefaultFoundation=function(){return new kd(e.createAdapter(this))},e.prototype.initialSyncWithDOM=function(){var t=this.root;this.isUnbounded="mdcRippleIsUnbounded"in t.dataset},e.prototype.setUnbounded=function(){this.foundation.setUnbounded(!!this.isUnbounded)},e}(Et);function on(n,e,t){for(let i in t){let r=t[i];for(let o of Object.keys(n.attributes))r.length>=0?on(n,null,r):r.setAttribute(o,n.attributes[o])}return t}function AT(n,e,t){return e.create("div",{style:`\r
      position: absolute;\r
      bottom: 0;\r
      width: 100%;\r
      height: 85px;\r
      background-color: var(--navbar);\r
      overflow-x: scroll;\r
      `},e.create(kT,{navbarname:"main"},e.create(Zr,{selfid:"home",buttonlabel:"Home",icon:"home"}),e.create(on,{attributes:{"x-transition.duration.250ms":""}},e.create("div",{"x-show":"Object.keys(currentprogram).length > 0"},e.create(Zr,{selfid:"series",buttonlabel:"Series",icon:"movie"}))),e.create(on,{attributes:{"x-transition.duration.250ms":""}},e.create("div",{"x-show":"selectedvideo.selected"},e.create(Zr,{selfid:"watch",buttonlabel:"Watch",icon:"movie"}))),e.create(on,{attributes:{"x-transition.duration.250ms":""}},e.create("div",{"x-show":"!offline.isoffline"},e.create(Zr,{selfid:"offline",buttonlabel:"On Demand",icon:"download"}))),e.create(Zr,{selfid:"settings",buttonlabel:"Settings",icon:"settings"}),e.create("div",{"x-show":"auth.loggedIn && (auth.email == 'tengames.dev.id@gmail.com' || auth.email == 'muhammadfadhlan4@gmail.com')"},e.create(Zr,{selfid:"thatnerdlabs",buttonlabel:"Labs",icon:"science"}))))}function Zr(n,e,t){let i=e.create("div",{style:`\r
                                border: 0px solid rgba(var(--mdc-theme-primary-rgb),1);\r
                                \r
                                border-radius: 16px;\r
                                min-width: 46px;\r
                                display: flex;\r
                                justify-content: center;\r
\r
                            `,class:"mdc-ripple-surface mdc-ripple-surface--accent","x-bind:style":`{'background-color': current == '${n.selfid}' ? 'rgba(var(--mdc-theme-primary-rgb), 0.3)' : 'rgba(var(--mdc-theme-primary-rgb), 0)'}`,"x-transition":!0},n.icon);return Qn.attachTo(i),e.create("div",null,e.create("style",null,`
          #parent{}
        .child {}
        `),e.create("div",{id:"parent",style:`\r
                    padding:10px;\r
                    margin-left:10px;\r
                    margin-right:10px;\r
                    margin-top:5px;\r
                `,"x-on:click":`() => {
          $store.uiData.page = '${n.selfid}'
          current = '${n.selfid}'
        }`},e.create("div",{class:"child"},e.create("span",{class:"material-icons",style:`\r
                            width: 100%;\r
                            height: 100%;\r
                            \r
                        `},e.create("div",{style:`\r
                                text-align: center;\r
                                display: flex;\r
                                justify-content: center;\r
                                width: 100%;\r
                            `},e.create("div",null,i)))),e.create("div",{class:"child",style:`\r
                        width: 100%;\r
                        text-align: center;\r
                    `},n.buttonlabel)))}function kT(n,e,t){return e.create("div",{"x-data":`{
        navbarname: '${n.navbarname}',
        current: $store.uiData.navbars['${n.navbarname}'],
        setCurrent: (newState) => { this.current = newState },
      }`,"x-init":`$watch('current', v => $store.uiData.navbars['${n.navbarname}'] = v); $watch('$store.uiData.navbars[\\'${n.navbarname}\\']', v => current = v);`,style:`
        display:flex;
        width: 100%;
        justify-content: center;
        .row:after {
        content: "";
        display: table;
        clear: both;
        }
      `,class:"row"},e.create("style",null,`
        .column {
        float: left;
        width: 50%;
        }

        /* Clear floats after the columns */
        .row:after {
        content: "";
        display: table;
        clear: both;
        }
      `),t)}function eo(n,e,t){let i=e.create("div",{"x-show":`$store.uiData.page == '${n.page}'`},t);return i.setAttribute("x-transition.duration.500ms",""),e.create(e.fragment,null,e.create("style",null,`
           .container_row   {
             display: grid;
            }
        
            .layerX, .layer2{
            grid-column: 1;
            grid-row: 1;
            }
           `),i)}function OT(n,e,t){return e.create("div",{class:"container_row"},t)}function Ti(n,e,t){for(let i of t)n.func(i);return t}function NT(n,e,t){let i=[];for(let r of t)i.push(n.pureFunc(r));return i}function ge(n,e,t){return e.create("div",{style:`\r
        width: fit-content;\r
    `},e.create(Ti,{func:i=>{Qn.attachTo(i)}},e.create("button",{class:`${n.type==""?"":"mdc-button"} mdc-button${n.type||""}`},e.create("div",{class:"mdc-button__ripple"}),e.create("span",{class:"mdc-button__label"},n.label))))}function Od(n,e,t){return e.create("div",{_content:`
            <center>
                ${e.create(NT,{pureFunc:i=>i.outerHTML},...t)}
            </center>
        `})}function lv(n){for(var e=0,t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e&=e;return e}function ce(n){let e=lv(n.toString());return window.LinkedFunctions==null&&(window.LinkedFunctions={}),window.LinkedFunctions[e]=n,`window['LinkedFunctions']['${e}'].bind(scope).bind(this)()`}function ur(n){let e=lv(n.toString());return window.LinkedFunctions==null&&(window.LinkedFunctions={}),window.LinkedFunctions[e]=n,`window['LinkedFunctions']['${e}'].bind(scope).bind(this)().outerHTML`}function RT(n,e,t){return e.create("div",{style:`
      overflow-y: scroll;
      height: calc(calc(var(--vh, 1vh) * 100) - 90px);
    `},e.create("h2",{style:`
         padding: 10px
        `},"Featured Programme"),e.create("div",{style:`
          height: 10px;
          width: calc(100% - 20px);
          background-color: var(--mdc-theme-secondary);
          margin-left: 10px;
          margin-right: 10px;
          border-radius: 2.5px;
        `}),e.create("div",{_content:`
      <template x-for="item in programmes.data">
          ${e.create("div",{style:`
          width: calc(100% - 20px);
          margin-left: 10px;
          margin-right: 10px;
          justify-content: center;
        `,"x-show":"item.featured"},e.create(Od,null,e.create("img",{style:`

            height: 200px;
            margin-top: 10px;
          `,"x-bind:src":"item.imageurl"})),e.create(Od,null,e.create("div",{style:`
            font-family: BlinkMacSystemFont,-apple-system,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',Helvetica,Arial,sans-serif;
            font-size: 2em;
            margin-bottom: 5px;
            `,"x-text":"item.title"},"Featured programme")),e.create(Od,null,e.create("div",{"x-on:click":ce(function(){this.currentprogram=this.item,this.currentselected=(this.item.serieses||[])[0]||{},this.$store.uiData.navbars.main="series",this.$store.uiData.page="series"})},e.create(ge,{label:"watch now",type:"--raised"})))).outerHTML}
        </template>
        `}),e.create("div",{style:`
          height: 10px;
          width: calc(100% - 20px);
          background-color: var(--mdc-theme-secondary);
          margin-top: 10px;
          margin-left: 10px;
          margin-right: 10px;
          border-radius: 2.5px;

        `}),e.create("div",{_content:`
      <template x-for="item in programmes.data">
          ${e.create("div",{style:`
          width: calc(100% - 20px);
          margin-left: 10px;
          margin-right: 10px;
          justify-content: center;
        `,"x-show":"!item.featured"},e.create("div",{style:`
                            display:flex
                            `},e.create("img",{style:`
                          width: 150px;
                          height: 150px;
                          margin-top: 10px;
                        `,"x-bind:src":"item.imageurl"}),e.create("div",{style:`
                                height: 100%;
                                display: block;
                              `},e.create("div",{style:`
                          font-family: BlinkMacSystemFont,-apple-system,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',Helvetica,Arial,sans-serif;
                          font-size: 2em;
                          margin-left: 10px;
                          margin-bottom: 5px;
                          `,"x-text":"item.title"},"Southeast Gear"),e.create("div",{style:`
                                  margin-left: 10px;
                                  float: bottom;
                                `},e.create("div",{"x-on:click":ce(function(){this.currentprogram=this.item,this.currentselected=(this.item.serieses||[])[0]||{},this.$store.uiData.navbars.main="series",this.$store.uiData.page="series"})},e.create(ge,{label:"Watch now",type:"--raised"})))))).outerHTML}
        </template>
        `}))}var uv={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}},dv={animationend:{cssProperty:"animation",prefixed:"webkitAnimationEnd",standard:"animationend"},animationiteration:{cssProperty:"animation",prefixed:"webkitAnimationIteration",standard:"animationiteration"},animationstart:{cssProperty:"animation",prefixed:"webkitAnimationStart",standard:"animationstart"},transitionend:{cssProperty:"transition",prefixed:"webkitTransitionEnd",standard:"transitionend"}};function hv(n){return!!n.document&&typeof n.document.createElement=="function"}function pv(n,e){if(hv(n)&&e in uv){var t=n.document.createElement("div"),i=uv[e],r=i.standard,o=i.prefixed;return r in t.style?r:o}return e}function fv(n,e){if(hv(n)&&e in dv){var t=n.document.createElement("div"),i=dv[e],r=i.standard,o=i.prefixed;return i.cssProperty in t.style?r:o}return e}var Bt={CLOSED_CLASS:"mdc-linear-progress--closed",CLOSED_ANIMATION_OFF_CLASS:"mdc-linear-progress--closed-animation-off",INDETERMINATE_CLASS:"mdc-linear-progress--indeterminate",REVERSED_CLASS:"mdc-linear-progress--reversed",ANIMATION_READY_CLASS:"mdc-linear-progress--animation-ready"},sn={ARIA_HIDDEN:"aria-hidden",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",BUFFER_BAR_SELECTOR:".mdc-linear-progress__buffer-bar",FLEX_BASIS:"flex-basis",PRIMARY_BAR_SELECTOR:".mdc-linear-progress__primary-bar"},PT=.8367142,LT=2.00611057,DT=.37651913,MT=.84386165,FT=1.60277782,Nd=function(n){function e(t){var i=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return i.observer=null,i}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return Bt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return sn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},attachResizeObserver:function(){return null},forceLayout:function(){},getWidth:function(){return 0},hasClass:function(){return!1},setBufferBarStyle:function(){return null},setPrimaryBarStyle:function(){return null},setStyle:function(){},removeAttribute:function(){},removeClass:function(){},setAttribute:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this;this.determinate=!this.adapter.hasClass(Bt.INDETERMINATE_CLASS),this.adapter.addClass(Bt.ANIMATION_READY_CLASS),this.progress=0,this.buffer=1,this.observer=this.adapter.attachResizeObserver(function(i){var r,o;if(!t.determinate)try{for(var s=bt(i),c=s.next();!c.done;c=s.next()){var u=c.value;u.contentRect&&t.calculateAndSetDimensions(u.contentRect.width)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}}),!this.determinate&&this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth())},e.prototype.setDeterminate=function(t){if(this.determinate=t,this.determinate)return this.adapter.removeClass(Bt.INDETERMINATE_CLASS),this.adapter.setAttribute(sn.ARIA_VALUENOW,this.progress.toString()),this.adapter.setAttribute(sn.ARIA_VALUEMAX,"1"),this.adapter.setAttribute(sn.ARIA_VALUEMIN,"0"),this.setPrimaryBarProgress(this.progress),void this.setBufferBarProgress(this.buffer);this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth()),this.adapter.addClass(Bt.INDETERMINATE_CLASS),this.adapter.removeAttribute(sn.ARIA_VALUENOW),this.adapter.removeAttribute(sn.ARIA_VALUEMAX),this.adapter.removeAttribute(sn.ARIA_VALUEMIN),this.setPrimaryBarProgress(1),this.setBufferBarProgress(1)},e.prototype.isDeterminate=function(){return this.determinate},e.prototype.setProgress=function(t){this.progress=t,this.determinate&&(this.setPrimaryBarProgress(t),this.adapter.setAttribute(sn.ARIA_VALUENOW,t.toString()))},e.prototype.getProgress=function(){return this.progress},e.prototype.setBuffer=function(t){this.buffer=t,this.determinate&&this.setBufferBarProgress(t)},e.prototype.getBuffer=function(){return this.buffer},e.prototype.open=function(){this.adapter.removeClass(Bt.CLOSED_CLASS),this.adapter.removeClass(Bt.CLOSED_ANIMATION_OFF_CLASS),this.adapter.removeAttribute(sn.ARIA_HIDDEN)},e.prototype.close=function(){this.adapter.addClass(Bt.CLOSED_CLASS),this.adapter.setAttribute(sn.ARIA_HIDDEN,"true")},e.prototype.isClosed=function(){return this.adapter.hasClass(Bt.CLOSED_CLASS)},e.prototype.handleTransitionEnd=function(){this.adapter.hasClass(Bt.CLOSED_CLASS)&&this.adapter.addClass(Bt.CLOSED_ANIMATION_OFF_CLASS)},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.observer&&this.observer.disconnect()},e.prototype.restartAnimation=function(){this.adapter.removeClass(Bt.ANIMATION_READY_CLASS),this.adapter.forceLayout(),this.adapter.addClass(Bt.ANIMATION_READY_CLASS)},e.prototype.setPrimaryBarProgress=function(t){var i="scaleX("+t+")",r=typeof window<"u"?pv(window,"transform"):"transform";this.adapter.setPrimaryBarStyle(r,i)},e.prototype.setBufferBarProgress=function(t){var i=100*t+"%";this.adapter.setBufferBarStyle(sn.FLEX_BASIS,i)},e.prototype.calculateAndSetDimensions=function(t){var i=t*PT,r=t*LT,o=t*DT,s=t*MT,c=t*FT;this.adapter.setStyle("--mdc-linear-progress-primary-half",i+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-half-neg",-i+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full",r+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full-neg",-r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter",o+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter-neg",-o+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half",s+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half-neg",-s+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full",c+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full-neg",-c+"px"),this.restartAnimation()},e}(pt),jT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"determinate",{set:function(t){this.foundation.setDeterminate(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progress",{set:function(t){this.foundation.setProgress(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{set:function(t){this.foundation.setBuffer(t)},enumerable:!1,configurable:!0}),e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(){this.foundation.close()},e.prototype.initialSyncWithDOM=function(){var t=this;this.root.addEventListener("transitionend",function(){t.foundation.handleTransitionEnd()})},e.prototype.getDefaultFoundation=function(){var t=this,i={addClass:function(r){t.root.classList.add(r)},forceLayout:function(){t.root.getBoundingClientRect()},setBufferBarStyle:function(r,o){var s=t.root.querySelector(Nd.strings.BUFFER_BAR_SELECTOR);s&&s.style.setProperty(r,o)},setPrimaryBarStyle:function(r,o){var s=t.root.querySelector(Nd.strings.PRIMARY_BAR_SELECTOR);s&&s.style.setProperty(r,o)},hasClass:function(r){return t.root.classList.contains(r)},removeAttribute:function(r){t.root.removeAttribute(r)},removeClass:function(r){t.root.classList.remove(r)},setAttribute:function(r,o){t.root.setAttribute(r,o)},setStyle:function(r,o){t.root.style.setProperty(r,o)},attachResizeObserver:function(r){var o=window.ResizeObserver;if(o){var s=new o(r);return s.observe(t.root),s}return null},getWidth:function(){return t.root.offsetWidth}};return new Nd(i)},e}(Et);function vc(n,e,t){return e.create(Ti,{func:i=>{new jT(i).determinate=!1}},e.create("div",{class:"mdc-linear-progress mdc-linear-progress--indeterminate","aria-label":"Example Progress Bar","aria-valuemin":"0","aria-valuemax":"1","aria-valuenow":"0.3"},e.create("div",{class:"mdc-linear-progress__buffer"},e.create("div",{class:"mdc-linear-progress__buffer-bar"}),e.create("div",{class:"mdc-linear-progress__buffer-dots"})),e.create("div",{class:"mdc-linear-progress__bar mdc-linear-progress__primary-bar"},e.create("span",{class:"mdc-linear-progress__bar-inner"})),e.create("div",{class:"mdc-linear-progress__bar mdc-linear-progress__secondary-bar"},e.create("span",{class:"mdc-linear-progress__bar-inner"}))))}var UT={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"},mv=function(n){function e(t){var i=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return i.shakeAnimationEndHandler=function(){i.handleShakeAnimationEnd()},i}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return UT},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.getWidth=function(){return this.adapter.getWidth()},e.prototype.shake=function(t){var i=e.cssClasses.LABEL_SHAKE;t?this.adapter.addClass(i):this.adapter.removeClass(i)},e.prototype.float=function(t){var i=e.cssClasses,r=i.LABEL_FLOAT_ABOVE,o=i.LABEL_SHAKE;t?this.adapter.addClass(r):(this.adapter.removeClass(r),this.adapter.removeClass(o))},e.prototype.setRequired=function(t){var i=e.cssClasses.LABEL_REQUIRED;t?this.adapter.addClass(i):this.adapter.removeClass(i)},e.prototype.handleShakeAnimationEnd=function(){var t=e.cssClasses.LABEL_SHAKE;this.adapter.removeClass(t)},e}(pt),HT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),e.attachTo=function(t){return new e(t)},e.prototype.shake=function(t){this.foundation.shake(t)},e.prototype.float=function(t){this.foundation.float(t)},e.prototype.setRequired=function(t){this.foundation.setRequired(t)},e.prototype.getWidth=function(){return this.foundation.getWidth()},e.prototype.getDefaultFoundation=function(){var t=this,i={addClass:function(r){return t.root.classList.add(r)},removeClass:function(r){return t.root.classList.remove(r)},getWidth:function(){return function(r){var o=r;if(o.offsetParent!==null)return o.scrollWidth;var s=o.cloneNode(!0);s.style.setProperty("position","absolute"),s.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(s);var c=s.scrollWidth;return document.documentElement.removeChild(s),c}(t.root)},registerInteractionHandler:function(r,o){return t.listen(r,o)},deregisterInteractionHandler:function(r,o){return t.unlisten(r,o)}};return new mv(i)},e}(Et),dr={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"},BT=function(n){function e(t){var i=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return i.transitionEndHandler=function(r){i.handleTransitionEnd(r)},i}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return dr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},e.prototype.activate=function(){this.adapter.removeClass(dr.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(dr.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(t){this.adapter.setStyle("transform-origin",t+"px center")},e.prototype.deactivate=function(){this.adapter.addClass(dr.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(t){var i=this.adapter.hasClass(dr.LINE_RIPPLE_DEACTIVATING);t.propertyName==="opacity"&&i&&(this.adapter.removeClass(dr.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(dr.LINE_RIPPLE_DEACTIVATING))},e}(pt),qT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),e.attachTo=function(t){return new e(t)},e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.setRippleCenter=function(t){this.foundation.setRippleCenter(t)},e.prototype.getDefaultFoundation=function(){var t=this,i={addClass:function(r){return t.root.classList.add(r)},removeClass:function(r){return t.root.classList.remove(r)},hasClass:function(r){return t.root.classList.contains(r)},setStyle:function(r,o){return t.root.style.setProperty(r,o)},registerEventHandler:function(r,o){return t.listen(r,o)},deregisterEventHandler:function(r,o){return t.unlisten(r,o)}};return new BT(i)},e}(Et),gv={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},yv={NOTCH_ELEMENT_PADDING:8},Rd={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"},VT=function(n){function e(t){return n.call(this,ae(ae({},e.defaultAdapter),t))||this}return Te(e,n),Object.defineProperty(e,"strings",{get:function(){return gv},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Rd},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return yv},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),e.prototype.notch=function(t){var i=e.cssClasses.OUTLINE_NOTCHED;t>0&&(t+=yv.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(t),this.adapter.addClass(i)},e.prototype.closeNotch=function(){var t=e.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(t),this.adapter.removeNotchWidthProperty()},e}(pt),WT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){this.notchElement=this.root.querySelector(gv.NOTCH_ELEMENT_SELECTOR);var t=this.root.querySelector("."+mv.cssClasses.ROOT);t?(t.style.transitionDuration="0s",this.root.classList.add(Rd.OUTLINE_UPGRADED),requestAnimationFrame(function(){t.style.transitionDuration=""})):this.root.classList.add(Rd.NO_LABEL)},e.prototype.notch=function(t){this.foundation.notch(t)},e.prototype.closeNotch=function(){this.foundation.closeNotch()},e.prototype.getDefaultFoundation=function(){var t=this;return new VT({addClass:function(i){return t.root.classList.add(i)},removeClass:function(i){return t.root.classList.remove(i)},setNotchWidthProperty:function(i){t.notchElement.style.setProperty("width",i+"px")},removeNotchWidthProperty:function(){t.notchElement.style.removeProperty("width")}})},e}(Et),vv={ROOT:"mdc-text-field-character-counter"},$T={ROOT_SELECTOR:"."+vv.ROOT},_v=function(n){function e(t){return n.call(this,ae(ae({},e.defaultAdapter),t))||this}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return vv},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return $T},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!1,configurable:!0}),e.prototype.setCounterValue=function(t,i){t=Math.min(t,i),this.adapter.setContent(t+" / "+i)},e}(pt),zT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new _v({setContent:function(i){t.root.textContent=i}})},e}(Et),an={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},_c={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},bv={LABEL_SCALE:.75},GT=["pattern","min","max","required","step","minlength","maxlength"],KT=["color","date","datetime-local","month","range","time","week"],Ev=["mousedown","touchstart"],wv=["click","keydown"],YT=function(n){function e(t,i){i===void 0&&(i={});var r=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return r.isFocused=!1,r.receivedUserInput=!1,r.valid=!0,r.useNativeValidation=!0,r.validateOnValueChange=!0,r.helperText=i.helperText,r.characterCounter=i.characterCounter,r.leadingIcon=i.leadingIcon,r.trailingIcon=i.trailingIcon,r.inputFocusHandler=function(){r.activateFocus()},r.inputBlurHandler=function(){r.deactivateFocus()},r.inputInputHandler=function(){r.handleInput()},r.setPointerXOffset=function(o){r.setTransformOrigin(o)},r.textFieldInteractionHandler=function(){r.handleTextFieldInteraction()},r.validationAttributeChangeHandler=function(o){r.handleValidationAttributeChange(o)},r}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return _c},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return an},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return bv},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldAlwaysFloat",{get:function(){var t=this.getNativeInput().type;return KT.indexOf(t)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,i,r,o;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var s=bt(Ev),c=s.next();!c.done;c=s.next()){var u=c.value;this.adapter.registerInputInteractionHandler(u,this.setPointerXOffset)}}catch(y){t={error:y}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}try{for(var d=bt(wv),m=d.next();!m.done;m=d.next())u=m.value,this.adapter.registerTextFieldInteractionHandler(u,this.textFieldInteractionHandler)}catch(y){r={error:y}}finally{try{m&&!m.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},e.prototype.destroy=function(){var t,i,r,o;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var s=bt(Ev),c=s.next();!c.done;c=s.next()){var u=c.value;this.adapter.deregisterInputInteractionHandler(u,this.setPointerXOffset)}}catch(y){t={error:y}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}try{for(var d=bt(wv),m=d.next();!m.done;m=d.next())u=m.value,this.adapter.deregisterTextFieldInteractionHandler(u,this.textFieldInteractionHandler)}catch(y){r={error:y}}finally{try{m&&!m.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},e.prototype.handleTextFieldInteraction=function(){var t=this.adapter.getNativeInput();t&&t.disabled||(this.receivedUserInput=!0)},e.prototype.handleValidationAttributeChange=function(t){var i=this;t.some(function(r){return GT.indexOf(r)>-1&&(i.styleValidity(!0),i.adapter.setLabelRequired(i.getNativeInput().required),!0)}),t.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},e.prototype.notchOutline=function(t){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(t){var i=this.adapter.getLabelWidth()*bv.LABEL_SCALE;this.adapter.notchOutline(i)}else this.adapter.closeOutline()},e.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText||!this.helperText.isPersistent()&&this.helperText.isValidation()&&this.valid||this.helperText.showToScreenReader()},e.prototype.setTransformOrigin=function(t){if(!this.isDisabled()&&!this.adapter.hasOutline()){var i=t.touches,r=i?i[0]:t,o=r.target.getBoundingClientRect(),s=r.clientX-o.left;this.adapter.setLineRippleTransformOrigin(s)}},e.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},e.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},e.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var t=this.isValid();this.styleValidity(t),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},e.prototype.getValue=function(){return this.getNativeInput().value},e.prototype.setValue=function(t){if(this.getValue()!==t&&(this.getNativeInput().value=t),this.setcharacterCounter(t.length),this.validateOnValueChange){var i=this.isValid();this.styleValidity(i)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},e.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},e.prototype.setValid=function(t){this.valid=t,this.styleValidity(t);var i=!t&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(i)},e.prototype.setValidateOnValueChange=function(t){this.validateOnValueChange=t},e.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},e.prototype.setUseNativeValidation=function(t){this.useNativeValidation=t},e.prototype.isDisabled=function(){return this.getNativeInput().disabled},e.prototype.setDisabled=function(t){this.getNativeInput().disabled=t,this.styleDisabled(t)},e.prototype.setHelperTextContent=function(t){this.helperText&&this.helperText.setContent(t)},e.prototype.setLeadingIconAriaLabel=function(t){this.leadingIcon&&this.leadingIcon.setAriaLabel(t)},e.prototype.setLeadingIconContent=function(t){this.leadingIcon&&this.leadingIcon.setContent(t)},e.prototype.setTrailingIconAriaLabel=function(t){this.trailingIcon&&this.trailingIcon.setAriaLabel(t)},e.prototype.setTrailingIconContent=function(t){this.trailingIcon&&this.trailingIcon.setContent(t)},e.prototype.setcharacterCounter=function(t){if(this.characterCounter){var i=this.getNativeInput().maxLength;if(i===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(t,i)}},e.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},e.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},e.prototype.styleValidity=function(t){var i=e.cssClasses.INVALID;if(t?this.adapter.removeClass(i):this.adapter.addClass(i),this.helperText){if(this.helperText.setValidity(t),!this.helperText.isValidation())return;var r=this.helperText.isVisible(),o=this.helperText.getId();r&&o?this.adapter.setInputAttr(an.ARIA_DESCRIBEDBY,o):this.adapter.removeInputAttr(an.ARIA_DESCRIBEDBY)}},e.prototype.styleFocused=function(t){var i=e.cssClasses.FOCUSED;t?this.adapter.addClass(i):this.adapter.removeClass(i)},e.prototype.styleDisabled=function(t){var i=e.cssClasses,r=i.DISABLED,o=i.INVALID;t?(this.adapter.addClass(r),this.adapter.removeClass(o)):this.adapter.removeClass(r),this.leadingIcon&&this.leadingIcon.setDisabled(t),this.trailingIcon&&this.trailingIcon.setDisabled(t)},e.prototype.styleFloating=function(t){var i=e.cssClasses.LABEL_FLOATING;t?this.adapter.addClass(i):this.adapter.removeClass(i)},e.prototype.getNativeInput=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},e}(pt),An={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},Jn={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+An.ROOT},Iv=function(n){function e(t){return n.call(this,ae(ae({},e.defaultAdapter),t))||this}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return An},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Jn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),e.prototype.getId=function(){return this.adapter.getAttr("id")},e.prototype.isVisible=function(){return this.adapter.getAttr(Jn.ARIA_HIDDEN)!=="true"},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.isPersistent=function(){return this.adapter.hasClass(An.HELPER_TEXT_PERSISTENT)},e.prototype.setPersistent=function(t){t?this.adapter.addClass(An.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(An.HELPER_TEXT_PERSISTENT)},e.prototype.isValidation=function(){return this.adapter.hasClass(An.HELPER_TEXT_VALIDATION_MSG)},e.prototype.setValidation=function(t){t?this.adapter.addClass(An.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(An.HELPER_TEXT_VALIDATION_MSG)},e.prototype.showToScreenReader=function(){this.adapter.removeAttr(Jn.ARIA_HIDDEN)},e.prototype.setValidity=function(t){var i=this.adapter.hasClass(An.HELPER_TEXT_PERSISTENT),r=this.adapter.hasClass(An.HELPER_TEXT_VALIDATION_MSG)&&!t;r?(this.showToScreenReader(),this.adapter.getAttr(Jn.ROLE)==="alert"?this.refreshAlertRole():this.adapter.setAttr(Jn.ROLE,"alert")):this.adapter.removeAttr(Jn.ROLE),i||r||this.hide()},e.prototype.hide=function(){this.adapter.setAttr(Jn.ARIA_HIDDEN,"true")},e.prototype.refreshAlertRole=function(){var t=this;this.adapter.removeAttr(Jn.ROLE),requestAnimationFrame(function(){t.adapter.setAttr(Jn.ROLE,"alert")})},e}(pt),XT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this,i={addClass:function(r){return t.root.classList.add(r)},removeClass:function(r){return t.root.classList.remove(r)},hasClass:function(r){return t.root.classList.contains(r)},getAttr:function(r){return t.root.getAttribute(r)},setAttr:function(r,o){return t.root.setAttribute(r,o)},removeAttr:function(r){return t.root.removeAttribute(r)},setContent:function(r){t.root.textContent=r}};return new Iv(i)},e}(Et),Cv={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},QT={ROOT:"mdc-text-field__icon"},Tv=["click","keydown"],xv=function(n){function e(t){var i=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return i.savedTabIndex=null,i.interactionHandler=function(r){i.handleInteraction(r)},i}return Te(e,n),Object.defineProperty(e,"strings",{get:function(){return Cv},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return QT},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,i;this.savedTabIndex=this.adapter.getAttr("tabindex");try{for(var r=bt(Tv),o=r.next();!o.done;o=r.next()){var s=o.value;this.adapter.registerInteractionHandler(s,this.interactionHandler)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}},e.prototype.destroy=function(){var t,i;try{for(var r=bt(Tv),o=r.next();!o.done;o=r.next()){var s=o.value;this.adapter.deregisterInteractionHandler(s,this.interactionHandler)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}},e.prototype.setDisabled=function(t){this.savedTabIndex&&(t?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex),this.adapter.setAttr("role",Cv.ICON_ROLE)))},e.prototype.setAriaLabel=function(t){this.adapter.setAttr("aria-label",t)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.handleInteraction=function(t){var i=t.key==="Enter"||t.keyCode===13;(t.type==="click"||i)&&(t.preventDefault(),this.adapter.notifyIconAction())},e}(pt),JT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this,i={getAttr:function(r){return t.root.getAttribute(r)},setAttr:function(r,o){return t.root.setAttribute(r,o)},removeAttr:function(r){return t.root.removeAttribute(r)},setContent:function(r){t.root.textContent=r},registerInteractionHandler:function(r,o){return t.listen(r,o)},deregisterInteractionHandler:function(r,o){return t.unlisten(r,o)},notifyIconAction:function(){return t.emit(xv.strings.ICON_EVENT,{},!0)}};return new xv(i)},e}(Et),Sv=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,i,r,o,s,c,u){t===void 0&&(t=function(H,$){return new Qn(H,$)}),i===void 0&&(i=function(H){return new qT(H)}),r===void 0&&(r=function(H){return new XT(H)}),o===void 0&&(o=function(H){return new zT(H)}),s===void 0&&(s=function(H){return new JT(H)}),c===void 0&&(c=function(H){return new HT(H)}),u===void 0&&(u=function(H){return new WT(H)}),this.input=this.root.querySelector(an.INPUT_SELECTOR);var d=this.root.querySelector(an.LABEL_SELECTOR);this.label=d?c(d):null;var m=this.root.querySelector(an.LINE_RIPPLE_SELECTOR);this.lineRipple=m?i(m):null;var y=this.root.querySelector(an.OUTLINE_SELECTOR);this.outline=y?u(y):null;var g=Iv.strings,b=this.root.nextElementSibling,w=b&&b.classList.contains(_c.HELPER_LINE),C=w&&b&&b.querySelector(g.ROOT_SELECTOR);this.helperText=C?r(C):null;var k=_v.strings,A=this.root.querySelector(k.ROOT_SELECTOR);!A&&w&&b&&(A=b.querySelector(k.ROOT_SELECTOR)),this.characterCounter=A?o(A):null;var F=this.root.querySelector(an.LEADING_ICON_SELECTOR);this.leadingIcon=F?s(F):null;var V=this.root.querySelector(an.TRAILING_ICON_SELECTOR);this.trailingIcon=V?s(V):null,this.prefix=this.root.querySelector(an.PREFIX_SELECTOR),this.suffix=this.root.querySelector(an.SUFFIX_SELECTOR),this.ripple=this.createRipple(t)},e.prototype.destroy=function(){this.ripple&&this.ripple.destroy(),this.lineRipple&&this.lineRipple.destroy(),this.helperText&&this.helperText.destroy(),this.characterCounter&&this.characterCounter.destroy(),this.leadingIcon&&this.leadingIcon.destroy(),this.trailingIcon&&this.trailingIcon.destroy(),this.label&&this.label.destroy(),this.outline&&this.outline.destroy(),n.prototype.destroy.call(this)},e.prototype.initialSyncWithDOM=function(){this.disabled=this.input.disabled},Object.defineProperty(e.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(t){this.foundation.setValue(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.foundation.isDisabled()},set:function(t){this.foundation.setDisabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.foundation.isValid()},set:function(t){this.foundation.setValid(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.input.required},set:function(t){this.input.required=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return this.input.pattern},set:function(t){this.input.pattern=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minLength",{get:function(){return this.input.minLength},set:function(t){this.input.minLength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this.input.maxLength},set:function(t){t<0?this.input.removeAttribute("maxLength"):this.input.maxLength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.input.min},set:function(t){this.input.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.input.max},set:function(t){this.input.max=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this.input.step},set:function(t){this.input.step=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"helperTextContent",{set:function(t){this.foundation.setHelperTextContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconAriaLabel",{set:function(t){this.foundation.setLeadingIconAriaLabel(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconContent",{set:function(t){this.foundation.setLeadingIconContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trailingIconAriaLabel",{set:function(t){this.foundation.setTrailingIconAriaLabel(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trailingIconContent",{set:function(t){this.foundation.setTrailingIconContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useNativeValidation",{set:function(t){this.foundation.setUseNativeValidation(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prefixText",{get:function(){return this.prefix?this.prefix.textContent:null},set:function(t){this.prefix&&(this.prefix.textContent=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"suffixText",{get:function(){return this.suffix?this.suffix.textContent:null},set:function(t){this.suffix&&(this.suffix.textContent=t)},enumerable:!1,configurable:!0}),e.prototype.focus=function(){this.input.focus()},e.prototype.layout=function(){var t=this.foundation.shouldFloat;this.foundation.notchOutline(t)},e.prototype.getDefaultFoundation=function(){var t=ae(ae(ae(ae(ae({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods());return new YT(t,this.getFoundationMap())},e.prototype.getRootAdapterMethods=function(){var t=this;return{addClass:function(i){return t.root.classList.add(i)},removeClass:function(i){return t.root.classList.remove(i)},hasClass:function(i){return t.root.classList.contains(i)},registerTextFieldInteractionHandler:function(i,r){t.listen(i,r)},deregisterTextFieldInteractionHandler:function(i,r){t.unlisten(i,r)},registerValidationAttributeChangeHandler:function(i){var r=new MutationObserver(function(o){return i(function(s){return s.map(function(c){return c.attributeName}).filter(function(c){return c})}(o))});return r.observe(t.input,{attributes:!0}),r},deregisterValidationAttributeChangeHandler:function(i){i.disconnect()}}},e.prototype.getInputAdapterMethods=function(){var t=this;return{getNativeInput:function(){return t.input},setInputAttr:function(i,r){t.input.setAttribute(i,r)},removeInputAttr:function(i){t.input.removeAttribute(i)},isFocused:function(){return document.activeElement===t.input},registerInputInteractionHandler:function(i,r){t.input.addEventListener(i,r,xn())},deregisterInputInteractionHandler:function(i,r){t.input.removeEventListener(i,r,xn())}}},e.prototype.getLabelAdapterMethods=function(){var t=this;return{floatLabel:function(i){t.label&&t.label.float(i)},getLabelWidth:function(){return t.label?t.label.getWidth():0},hasLabel:function(){return!!t.label},shakeLabel:function(i){t.label&&t.label.shake(i)},setLabelRequired:function(i){t.label&&t.label.setRequired(i)}}},e.prototype.getLineRippleAdapterMethods=function(){var t=this;return{activateLineRipple:function(){t.lineRipple&&t.lineRipple.activate()},deactivateLineRipple:function(){t.lineRipple&&t.lineRipple.deactivate()},setLineRippleTransformOrigin:function(i){t.lineRipple&&t.lineRipple.setRippleCenter(i)}}},e.prototype.getOutlineAdapterMethods=function(){var t=this;return{closeOutline:function(){t.outline&&t.outline.closeNotch()},hasOutline:function(){return!!t.outline},notchOutline:function(i){t.outline&&t.outline.notch(i)}}},e.prototype.getFoundationMap=function(){return{characterCounter:this.characterCounter?this.characterCounter.foundationForTextField:void 0,helperText:this.helperText?this.helperText.foundationForTextField:void 0,leadingIcon:this.leadingIcon?this.leadingIcon.foundationForTextField:void 0,trailingIcon:this.trailingIcon?this.trailingIcon.foundationForTextField:void 0}},e.prototype.createRipple=function(t){var i=this,r=this.root.classList.contains(_c.TEXTAREA),o=this.root.classList.contains(_c.OUTLINED);if(r||o)return null;var s=ae(ae({},Qn.createAdapter(this)),{isSurfaceActive:function(){return Sn(i.input,":active")},registerInteractionHandler:function(c,u){i.input.addEventListener(c,u,xn())},deregisterInteractionHandler:function(c,u){i.input.removeEventListener(c,u,xn())}});return t(this.root,new kd(s))},e}(Et);function cn(n,e,t){let i=n.inputtype,r=n.inputlabel,o=n.inputmodel,s=e.create("label",{class:"mdc-text-field mdc-text-field--outlined",style:`\r
                width: 100%\r
            `},e.create("span",{class:"mdc-notched-outline",style:"color:white;"},e.create("span",{class:"mdc-notched-outline__leading"}),e.create("span",{class:"mdc-notched-outline__notch"},e.create("span",{class:"mdc-floating-label",id:"my-label-id",style:"color:white;"},r)),e.create("span",{class:"mdc-notched-outline__trailing"})),e.create("input",{type:i,class:"mdc-text-field__input ","x-model":o,"aria-labelledby":"my-label-id",style:`\r
                color:white;\r
                width:100%;\r
                `}));return new Sv(s),s}function ZT(n,e,t){return e.create(e.fragment,null,e.create("div",{style:`\r
    margin-top: 12px;\r
`},e.create(cn,{inputtype:"email",inputlabel:"Email",inputmodel:"email"})),e.create("div",{style:`\r
    margin-top: 12px;\r
`},e.create(cn,{inputtype:"password",inputlabel:"Password",inputmodel:"password"})),e.create("div",{style:"margin-top: 12px;","x-show":"mode == 'signup'"},"If you forget your password, all account ",e.create("br",null),"data will be lost permanently."),e.create("div",{style:"margin-top: 16px;"},"Your account data is stored encrypted."),e.create("div",null,"By using this service, you agree to our",e.create("div",{"x-on:click":ce(function(){this.tosopen=!0}),style:`\r
        color: lightblue;\r
        cursor: pointer;\r
        `},e.create("u",null,"Terms of Service."))),e.create("div",{"x-show":"mode == 'signup'"},e.create("div",{style:`\r
    display: flex;\r
    align-items: center;\r
    justify-content: center;\r
    `},e.create("div",{"x-type":"--raised","x-label":"Sign up",style:"margin-top: 12px;","x-bind":"actions.signup","x-show":"!auth.authenticating"},e.create(ge,{label:"Sign up",type:"--raised"})))),e.create("div",{"x-show":"mode == 'login'"},e.create("div",{style:`\r
    display: flex;\r
    align-items: center;\r
    justify-content: center;\r
    `},e.create("div",{"x-type":"--raised","x-label":"Sign in",style:"margin-top: 12px;","x-bind":"actions.signin","x-show":"!auth.authenticating"},e.create(ge,{label:"Sign in",type:"--raised"})))),e.create("div",{style:`\r
        display: flex;\r
        align-items: center;\r
        justify-content: center;\r
        `},e.create("div",{"x-show":"auth.authenticating",style:`\r
    margin-top: 16px;\r
    color: var(--mdc-theme-primary);\r
    height: 8px;\r
    width: 95%;\r
`},e.create(vc,null))))}function e0(n,e,t){return e.create(e.fragment,null,e.create("div",{"x-show":"mode == 'signup'"},e.create("div",{style:"display: flex; align-items: center; justify-content: center"},e.create("div",{"x-type":"--raised","x-label":"Sign up / Sign in",style:"margin-top: 12px","x-bind":"actions.googlesignin","x-show":"!auth.authenticating"},e.create(ge,{label:"Sign in",type:"--raised"})))),e.create("div",{style:`\r
        display: flex;\r
        align-items: center;\r
        justify-content: center;\r
        `},e.create("div",{"x-show":"auth.authenticating",style:`\r
    margin-top: 16px;\r
    color: var(--mdc-theme-primary);\r
    height: 8px;\r
    width: 95%;\r
`},e.create(vc,null))))}function t0(n,e,t){return e.create(e.fragment,null,e.create("span",{class:"material-icons",style:`\r
                                        width: 100%;\r
                                        height: 100%;\r
                                        margin-bottom: 24px;\r
                                    `,"x-show":"!auth.authenticating"},e.create("div",{"x-on:click":`() => {\r
                                        if (loginwith == 'google') {\r
                                            step = 'pickprovider'\r
                                        } else {\r
                                            step = 'loginorsignup'\r
                                        }\r
                                            \r
                                        }`},"arrow_back")),e.create("div",{"x-show":"mode == 'signup'"},e.create("div",{style:`\r
                                        display: flex;\r
                                        align-items: center;\r
                                        justify-content: center;\r
                                        `},e.create("h2",null,"Welcome!"))),e.create("div",{"x-show":"mode == 'login'"},e.create("div",{style:`\r
          display: flex;\r
          align-items: center;\r
          justify-content: center;\r
          `},e.create("h2",null,"Welcome back!"))))}function n0(n,e,t){return e.create(e.fragment,null,e.create("span",{class:"material-icons",style:"width: 100%; height: 100%; margin-bottom: 24px"},e.create("div",{"x-on:click":`() => {\r
        auth.dialogopen = false\r
    }`},"arrow_back")),e.create("div",{style:"display: flex; align-items: center; justify-content: center"},e.create("div",{"x-on:click":`() => {\r
                                            mode = 'login'\r
                                            step = 'page'\r
                                        }`},e.create(ge,{label:"Sign in",type:"--raised"})),e.create("div",{style:"margin-left: 38px","x-on:click":`() => {\r
                                            mode = 'signup'\r
                                            step = 'page'\r
                                        }`},e.create(ge,{label:"Sign up",type:"--raised"}))),e.create("div",{"x-data":!0,"x-effect":`() => {\r
    if (loginwith == 'google' && step == 'loginorsignup') {\r
        step = 'page';\r
        mode = 'signup';\r
    }\r
}`}))}function i0(n,e,t){return e.create(e.fragment,null,e.create("div",{style:`\r
    display: flex;\r
    align-items: center;\r
    justify-content: center;\r
`},e.create("div",{"x-on:click":`() => {\r
                                        loginwith = 'google';\r
                                        step = 'loginorsignup';\r
    }`},e.create(ge,{label:"Google",type:"--raised"}))),e.create("div",{style:`\r
       display: flex;\r
       align-items: center;\r
       justify-content: center;\r
       margin-top: 8px;\r
`},e.create("div",{"x-on:click":`() => {\r
                                        loginwith = 'email';\r
                                        step = 'loginorsignup';\r
                                    }`},e.create(ge,{label:"Email / Password",type:"--raised"}))))}let Av=new Worker(new URL(""+new URL("wasmhandler-388d8d67.js",import.meta.url).href,self.location),{type:"module"}),Pd=[];function We(){return We=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},We.apply(this,arguments)}Av.onmessage=n=>{for(let e of Pd)e(n.data);Pd=[]};var kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fs=(typeof window>"u"?"undefined":kv(window))==="object"&&(typeof document>"u"?"undefined":kv(document))==="object"&&document.nodeType===9;function ms(n){return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(n)}function r0(n){var e=function(t,i){if(ms(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,i||"default");if(ms(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}(n,"string");return ms(e)==="symbol"?e:String(e)}function Ov(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,r0(i.key),i)}}function Nv(n,e,t){return e&&Ov(n.prototype,e),t&&Ov(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ld(n,e){return Ld=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Ld(n,e)}function Rv(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ld(n,e)}function Pv(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var o0={}.constructor;function Dd(n){if(n==null||typeof n!="object")return n;if(Array.isArray(n))return n.map(Dd);if(n.constructor!==o0)return n;var e={};for(var t in n)e[t]=Dd(n[t]);return e}function bc(n,e,t){n===void 0&&(n="unnamed");var i=t.jss,r=Dd(e),o=i.plugins.onCreateRule(n,r,t);return o||(n[0],null)}var Lv=function(n,e){for(var t="",i=0;i<n.length&&n[i]!=="!important";i++)t&&(t+=e),t+=n[i];return t},hr=function(n){if(!Array.isArray(n))return n;var e="";if(Array.isArray(n[0]))for(var t=0;t<n.length&&n[t]!=="!important";t++)e&&(e+=", "),e+=Lv(n[t]," ");else e=Lv(n,", ");return n[n.length-1]==="!important"&&(e+=" !important"),e};function to(n){return n&&n.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function gs(n,e){for(var t="",i=0;i<e;i++)t+="  ";return t+n}function ys(n,e,t){t===void 0&&(t={});var i="";if(!e)return i;var r=t.indent,o=r===void 0?0:r,s=e.fallbacks;t.format===!1&&(o=-1/0);var c=to(t),u=c.linebreak,d=c.space;if(n&&o++,s)if(Array.isArray(s))for(var m=0;m<s.length;m++){var y=s[m];for(var g in y){var b=y[g];b!=null&&(i&&(i+=u),i+=gs(g+":"+d+hr(b)+";",o))}}else for(var w in s){var C=s[w];C!=null&&(i&&(i+=u),i+=gs(w+":"+d+hr(C)+";",o))}for(var k in e){var A=e[k];A!=null&&k!=="fallbacks"&&(i&&(i+=u),i+=gs(k+":"+d+hr(A)+";",o))}return(i||t.allowEmpty)&&n?(i&&(i=""+u+i+u),gs(""+n+d+"{"+i,--o)+gs("}",o)):i}var s0=/([[\].#*$><+~=|^:(),"'`\s])/g,Dv=typeof CSS<"u"&&CSS.escape,Md=function(n){return Dv?Dv(n):n.replace(s0,"\\$1")},Mv=function(){function n(e,t,i){this.type="style",this.isProcessed=!1;var r=i.sheet,o=i.Renderer;this.key=e,this.options=i,this.style=t,r?this.renderer=r.renderer:o&&(this.renderer=new o)}return n.prototype.prop=function(e,t,i){if(t===void 0)return this.style[e];var r=!!i&&i.force;if(!r&&this.style[e]===t)return this;var o=t;i&&i.process===!1||(o=this.options.jss.plugins.onChangeValue(t,e,this));var s=o==null||o===!1,c=e in this.style;if(s&&!c&&!r)return this;var u=s&&c;if(u?delete this.style[e]:this.style[e]=o,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,o),this;var d=this.options.sheet;return d&&d.attached,this},n}(),Fd=function(n){function e(i,r,o){var s;s=n.call(this,i,r,o)||this;var c=o.selector,u=o.scoped,d=o.sheet,m=o.generateId;return c?s.selectorText=c:u!==!1&&(s.id=m(Pv(Pv(s)),d),s.selectorText="."+Md(s.id)),s}Rv(e,n);var t=e.prototype;return t.applyTo=function(i){var r=this.renderer;if(r){var o=this.toJSON();for(var s in o)r.setProperty(i,s,o[s])}return this},t.toJSON=function(){var i={};for(var r in this.style){var o=this.style[r];typeof o!="object"?i[r]=o:Array.isArray(o)&&(i[r]=hr(o))}return i},t.toString=function(i){var r=this.options.sheet,o=r&&r.options.link?We({},i,{allowEmpty:!0}):i;return ys(this.selectorText,this.style,o)},Nv(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var r=this.renderer,o=this.renderable;o&&r&&(r.setSelector(o,i)||r.replaceRule(o,this))}},get:function(){return this.selectorText}}]),e}(Mv),a0={onCreateRule:function(n,e,t){return n[0]==="@"||t.parent&&t.parent.type==="keyframes"?null:new Fd(n,e,t)}},jd={indent:1,children:!0},c0=/@([\w-]+)/,l0=function(){function n(t,i,r){this.type="conditional",this.isProcessed=!1,this.key=t;var o=t.match(c0);for(var s in this.at=o?o[1]:"unknown",this.query=r.name||"@"+this.at,this.options=r,this.rules=new Ec(We({},r,{parent:this})),i)this.rules.add(s,i[s]);this.rules.process()}var e=n.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,i,r){var o=this.rules.add(t,i,r);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(t,i,r){var o=this.rules.replace(t,i,r);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(t){t===void 0&&(t=jd);var i=to(t).linebreak;if(t.indent==null&&(t.indent=jd.indent),t.children==null&&(t.children=jd.children),t.children===!1)return this.query+" {}";var r=this.rules.toString(t);return r?this.query+" {"+i+r+i+"}":""},n}(),u0=/@container|@media|@supports\s+/,d0={onCreateRule:function(n,e,t){return u0.test(n)?new l0(n,e,t):null}},Ud={indent:1,children:!0},h0=/@keyframes\s+([\w-]+)/,Hd=function(){function n(e,t,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(h0);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var o=i.scoped,s=i.sheet,c=i.generateId;for(var u in this.id=o===!1?this.name:Md(c(this,s)),this.rules=new Ec(We({},i,{parent:this})),t)this.rules.add(u,t[u],We({},i,{parent:this}));this.rules.process()}return n.prototype.toString=function(e){e===void 0&&(e=Ud);var t=to(e).linebreak;if(e.indent==null&&(e.indent=Ud.indent),e.children==null&&(e.children=Ud.children),e.children===!1)return this.at+" "+this.id+" {}";var i=this.rules.toString(e);return i&&(i=""+t+i+t),this.at+" "+this.id+" {"+i+"}"},n}(),p0=/@keyframes\s+/,f0=/\$([\w-]+)/g,Fv=function(n,e){return typeof n=="string"?n.replace(f0,function(t,i){return i in e?e[i]:t}):n},jv=function(n,e,t){var i=n[e],r=Fv(i,t);r!==i&&(n[e]=r)},m0={onCreateRule:function(n,e,t){return typeof n=="string"&&p0.test(n)?new Hd(n,e,t):null},onProcessStyle:function(n,e,t){return e.type==="style"&&t&&("animation-name"in n&&jv(n,"animation-name",t.keyframes),"animation"in n&&jv(n,"animation",t.keyframes)),n},onChangeValue:function(n,e,t){var i=t.options.sheet;if(!i)return n;switch(e){case"animation":case"animation-name":return Fv(n,i.keyframes);default:return n}}},g0=function(n){function e(){return n.apply(this,arguments)||this}return Rv(e,n),e.prototype.toString=function(t){var i=this.options.sheet,r=i&&i.options.link?We({},t,{allowEmpty:!0}):t;return ys(this.key,this.style,r)},e}(Mv),y0={onCreateRule:function(n,e,t){return t.parent&&t.parent.type==="keyframes"?new g0(n,e,t):null}},v0=function(){function n(e,t,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=i}return n.prototype.toString=function(e){var t=to(e).linebreak;if(Array.isArray(this.style)){for(var i="",r=0;r<this.style.length;r++)i+=ys(this.at,this.style[r]),this.style[r+1]&&(i+=t);return i}return ys(this.at,this.style,e)},n}(),_0=/@font-face/,b0={onCreateRule:function(n,e,t){return _0.test(n)?new v0(n,e,t):null}},E0=function(){function n(e,t,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=i}return n.prototype.toString=function(e){return ys(this.key,this.style,e)},n}(),w0={onCreateRule:function(n,e,t){return n==="@viewport"||n==="@-ms-viewport"?new E0(n,e,t):null}},I0=function(){function n(e,t,i){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=i}return n.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",i=0;i<this.value.length;i++)t+=this.key+" "+this.value[i]+";",this.value[i+1]&&(t+=`
`);return t}return this.key+" "+this.value+";"},n}(),C0={"@charset":!0,"@import":!0,"@namespace":!0},T0={onCreateRule:function(n,e,t){return n in C0?new I0(n,e,t):null}},Uv=[a0,d0,m0,y0,b0,w0,T0],x0={process:!0},Hv={force:!0,process:!0},Ec=function(){function n(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=n.prototype;return e.add=function(t,i,r){var o=this.options,s=o.parent,c=o.sheet,u=o.jss,d=o.Renderer,m=o.generateId,y=o.scoped,g=We({classes:this.classes,parent:s,sheet:c,jss:u,Renderer:d,generateId:m,scoped:y,name:t,keyframes:this.keyframes,selector:void 0},r),b=t;t in this.raw&&(b=t+"-d"+this.counter++),this.raw[b]=i,b in this.classes&&(g.selector="."+Md(this.classes[b]));var w=bc(b,i,g);if(!w)return null;this.register(w);var C=g.index===void 0?this.index.length:g.index;return this.index.splice(C,0,w),w},e.replace=function(t,i,r){var o=this.get(t),s=this.index.indexOf(o);o&&this.remove(o);var c=r;return s!==-1&&(c=We({},r,{index:s})),this.add(t,i,c)},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof Fd?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof Hd&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof Fd?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof Hd&&delete this.keyframes[t.name]},e.update=function(){var t,i,r;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(t=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.get(t),i,r);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],i,r)},e.updateOne=function(t,i,r){r===void 0&&(r=x0);var o=this.options,s=o.jss.plugins,c=o.sheet;if(t.rules instanceof n)t.rules.update(i,r);else{var u=t.style;if(s.onUpdate(i,t,c,r),r.process&&u&&u!==t.style){for(var d in s.onProcessStyle(t.style,t,c),t.style){var m=t.style[d];m!==u[d]&&t.prop(d,m,Hv)}for(var y in u){var g=t.style[y],b=u[y];g==null&&g!==b&&t.prop(y,null,Hv)}}}},e.toString=function(t){for(var i="",r=this.options.sheet,o=!!r&&r.options.link,s=to(t).linebreak,c=0;c<this.index.length;c++){var u=this.index[c].toString(t);(u||o)&&(i&&(i+=s),i+=u)}return i},n}(),Bv=function(){function n(t,i){for(var r in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=We({},i,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),i.Renderer&&(this.renderer=new i.Renderer(this)),this.rules=new Ec(this.options),t)this.rules.add(r,t[r]);this.rules.process()}var e=n.prototype;return e.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,i,r){var o=this.queue;this.attached&&!o&&(this.queue=[]);var s=this.rules.add(t,i,r);return s?(this.options.jss.plugins.onProcessRule(s),this.attached?(this.deployed&&(o?o.push(s):(this.insertRule(s),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),s):(this.deployed=!1,s)):null},e.replaceRule=function(t,i,r){var o=this.rules.get(t);if(!o)return this.addRule(t,i,r);var s=this.rules.replace(t,i,r);return s&&this.options.jss.plugins.onProcessRule(s),this.attached?(this.deployed&&this.renderer&&(s?o.renderable&&this.renderer.replaceRule(o.renderable,s):this.renderer.deleteRule(o)),s):(this.deployed=!1,s)},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,i){var r=[];for(var o in t){var s=this.addRule(o,t[o],i);s&&r.push(s)}return r},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var i=typeof t=="object"?t:this.rules.get(t);return!(!i||this.attached&&!i.renderable)&&(this.rules.remove(i),!(this.attached&&i.renderable&&this.renderer)||this.renderer.deleteRule(i.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,i,r){return this.rules.updateOne(t,i,r),this},e.toString=function(t){return this.rules.toString(t)},n}(),S0=function(){function n(){this.plugins={internal:[],external:[]},this.registry={}}var e=n.prototype;return e.onCreateRule=function(t,i,r){for(var o=0;o<this.registry.onCreateRule.length;o++){var s=this.registry.onCreateRule[o](t,i,r);if(s)return s}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var i=t.options.sheet,r=0;r<this.registry.onProcessRule.length;r++)this.registry.onProcessRule[r](t,i);t.style&&this.onProcessStyle(t.style,t,i),t.isProcessed=!0}},e.onProcessStyle=function(t,i,r){for(var o=0;o<this.registry.onProcessStyle.length;o++)i.style=this.registry.onProcessStyle[o](i.style,i,r)},e.onProcessSheet=function(t){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](t)},e.onUpdate=function(t,i,r,o){for(var s=0;s<this.registry.onUpdate.length;s++)this.registry.onUpdate[s](t,i,r,o)},e.onChangeValue=function(t,i,r){for(var o=t,s=0;s<this.registry.onChangeValue.length;s++)o=this.registry.onChangeValue[s](o,i,r);return o},e.use=function(t,i){i===void 0&&(i={queue:"external"});var r=this.plugins[i.queue];r.indexOf(t)===-1&&(r.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,s){for(var c in s)c in o&&o[c].push(s[c]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},n}(),A0=function(){function n(){this.registry=[]}var e=n.prototype;return e.add=function(t){var i=this.registry,r=t.options.index;if(i.indexOf(t)===-1){if(i.length===0||r>=this.index)i.push(t);else for(var o=0;o<i.length;o++)if(i[o].options.index>r)return void i.splice(o,0,t)}},e.reset=function(){this.registry=[]},e.remove=function(t){var i=this.registry.indexOf(t);this.registry.splice(i,1)},e.toString=function(t){for(var i=t===void 0?{}:t,r=i.attached,o=function(m,y){if(m==null)return{};var g,b,w={},C=Object.keys(m);for(b=0;b<C.length;b++)g=C[b],y.indexOf(g)>=0||(w[g]=m[g]);return w}(i,["attached"]),s=to(o).linebreak,c="",u=0;u<this.registry.length;u++){var d=this.registry[u];r!=null&&d.attached!==r||(c&&(c+=s),c+=d.toString(o))}return c},Nv(n,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),n}(),vs=new A0,Bd=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),qd="2f1acc6c3a606b082e5eef5e54414ffb";Bd[qd]==null&&(Bd[qd]=0);var qv=Bd[qd]++,Vv=function(n){n===void 0&&(n={});var e=0;return function(t,i){e+=1;var r="",o="";return i&&(i.options.classNamePrefix&&(o=i.options.classNamePrefix),i.options.jss.id!=null&&(r=String(i.options.jss.id))),n.minify?""+(o||"c")+qv+r+e:o+t.key+"-"+qv+(r?"-"+r:"")+"-"+e}},Wv=function(n){var e;return function(){return e||(e=n()),e}},k0=function(n,e){try{return n.attributeStyleMap?n.attributeStyleMap.get(e):n.style.getPropertyValue(e)}catch{return""}},O0=function(n,e,t){try{var i=t;if(Array.isArray(t)&&(i=hr(t)),n.attributeStyleMap)n.attributeStyleMap.set(e,i);else{var r=i?i.indexOf("!important"):-1,o=r>-1?i.substr(0,r-1):i;n.style.setProperty(e,o,r>-1?"important":"")}}catch{return!1}return!0},N0=function(n,e){try{n.attributeStyleMap?n.attributeStyleMap.delete(e):n.style.removeProperty(e)}catch{}},R0=function(n,e){return n.selectorText=e,n.selectorText===e},$v=Wv(function(){return document.querySelector("head")});function P0(n){var e=vs.registry;if(e.length>0){var t=function(o,s){for(var c=0;c<o.length;c++){var u=o[c];if(u.attached&&u.options.index>s.index&&u.options.insertionPoint===s.insertionPoint)return u}return null}(e,n);if(t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element};if(t=function(o,s){for(var c=o.length-1;c>=0;c--){var u=o[c];if(u.attached&&u.options.insertionPoint===s.insertionPoint)return u}return null}(e,n),t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element.nextSibling}}var i=n.insertionPoint;if(i&&typeof i=="string"){var r=function(o){for(var s=$v(),c=0;c<s.childNodes.length;c++){var u=s.childNodes[c];if(u.nodeType===8&&u.nodeValue.trim()===o)return u}return null}(i);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}var L0,D0=Wv(function(){var n=document.querySelector('meta[property="csp-nonce"]');return n?n.getAttribute("content"):null}),zv=function(n,e,t){try{"insertRule"in n?n.insertRule(e,t):"appendRule"in n&&n.appendRule(e)}catch{return!1}return n.cssRules[t]},Gv=function(n,e){var t=n.cssRules.length;return e===void 0||e>t?t:e},M0=function(){function n(t){this.getPropertyValue=k0,this.setProperty=O0,this.removeProperty=N0,this.setSelector=R0,this.hasInsertedRules=!1,this.cssRules=[],t&&vs.add(t),this.sheet=t;var i=this.sheet?this.sheet.options:{},r=i.media,o=i.meta,s=i.element;this.element=s||function(){var u=document.createElement("style");return u.textContent=`
`,u}(),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),o&&this.element.setAttribute("data-meta",o);var c=D0();c&&this.element.setAttribute("nonce",c)}var e=n.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){(function(i,r){var o=r.insertionPoint,s=P0(r);if(s!==!1&&s.parent)s.parent.insertBefore(i,s.node);else if(o&&typeof o.nodeType=="number"){var c=o,u=c.parentNode;u&&u.insertBefore(i,c.nextSibling)}else $v().appendChild(i)})(this.element,this.sheet.options);var t=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent=`
`+t.toString()+`
`)},e.insertRules=function(t,i){for(var r=0;r<t.index.length;r++)this.insertRule(t.index[r],r,i)},e.insertRule=function(t,i,r){if(r===void 0&&(r=this.element.sheet),t.rules){var o=t,s=r;if(t.type==="conditional"||t.type==="keyframes"){var c=Gv(r,i);if((s=zv(r,o.toString({children:!1}),c))===!1)return!1;this.refCssRule(t,c,s)}return this.insertRules(o.rules,s),s}var u=t.toString();if(!u)return!1;var d=Gv(r,i),m=zv(r,u,d);return m!==!1&&(this.hasInsertedRules=!0,this.refCssRule(t,d,m),m)},e.refCssRule=function(t,i,r){t.renderable=r,t.options.parent instanceof Bv&&this.cssRules.splice(i,0,r)},e.deleteRule=function(t){var i=this.element.sheet,r=this.indexOf(t);return r!==-1&&(i.deleteRule(r),this.cssRules.splice(r,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,i){var r=this.indexOf(t);return r!==-1&&(this.element.sheet.deleteRule(r),this.cssRules.splice(r,1),this.insertRule(i,r))},e.getRules=function(){return this.element.sheet.cssRules},n}(),F0=0,j0=function(){function n(t){this.id=F0++,this.version="10.10.0",this.plugins=new S0,this.options={id:{minify:!1},createGenerateId:Vv,Renderer:fs?M0:null,plugins:[]},this.generateId=Vv({minify:!1});for(var i=0;i<Uv.length;i++)this.plugins.use(Uv[i],{queue:"internal"});this.setup(t)}var e=n.prototype;return e.setup=function(t){return t===void 0&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=We({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),t.insertionPoint!=null&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,i){i===void 0&&(i={});var r=i.index;typeof r!="number"&&(r=vs.index===0?0:vs.index+1);var o=new Bv(t,We({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:r}));return this.plugins.onProcessSheet(o),o},e.removeStyleSheet=function(t){return t.detach(),vs.remove(t),this},e.createRule=function(t,i,r){if(i===void 0&&(i={}),r===void 0&&(r={}),typeof t=="object")return this.createRule(void 0,t,i);var o=We({},r,{name:t,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var s=bc(t,i,o);return s&&this.plugins.onProcessRule(s),s},e.use=function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return r.forEach(function(s){t.plugins.use(s)}),this},n}(),Vd=typeof CSS=="object"&&CSS!=null&&"number"in CSS;const Kv=new j0(L0);var Yv=Date.now(),Wd="fnValues"+Yv,$d="fnStyle"+ ++Yv;const U0=function(){return{onCreateRule:function(n,e,t){if(typeof e!="function")return null;var i=bc(n,{},t);return i[$d]=e,i},onProcessStyle:function(n,e){if(Wd in e||$d in e)return n;var t={};for(var i in n){var r=n[i];typeof r=="function"&&(delete n[i],t[i]=r)}return e[Wd]=t,n},onUpdate:function(n,e,t,i){var r=e,o=r[$d];o&&(r.style=o(n)||{});var s=r[Wd];if(s)for(var c in s)r.prop(c,s[c](n),i)}}};var Xv=function(n){var e,t=n.Symbol;return typeof t=="function"?t.observable?e=t.observable:(e=t("observable"),t.observable=e):e="@@observable",e}(typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:typeof module<"u"?module:Function("return this")()),Qv=function(n){return n&&n[Xv]&&n===n[Xv]()};const H0=function(n){return{onCreateRule:function(e,t,i){if(!Qv(t))return null;var r=t,o=bc(e,{},i);return r.subscribe(function(s){for(var c in s)o.prop(c,s[c],n)}),o},onProcessRule:function(e){if(!e||e.type==="style"){var t=e,i=t.style,r=function(s){var c=i[s];if(!Qv(c))return"continue";delete i[s],c.subscribe({next:function(u){t.prop(s,u,n)}})};for(var o in i)r(o)}}}};var B0=/;\n/,q0=function(n){typeof n.style=="string"&&(n.style=function(e){for(var t={},i=e.split(B0),r=0;r<i.length;r++){var o=(i[r]||"").trim();if(o){var s=o.indexOf(":");if(s!==-1){var c=o.substr(0,s).trim(),u=o.substr(s+1).trim();t[c]=u}}}return t}(n.style))},xi="@global",V0="@global ",W0=function(){function n(t,i,r){for(var o in this.type="global",this.at=xi,this.isProcessed=!1,this.key=t,this.options=r,this.rules=new Ec(We({},r,{parent:this})),i)this.rules.add(o,i[o]);this.rules.process()}var e=n.prototype;return e.getRule=function(t){return this.rules.get(t)},e.addRule=function(t,i,r){var o=this.rules.add(t,i,r);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(t,i,r){var o=this.rules.replace(t,i,r);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(t){return this.rules.indexOf(t)},e.toString=function(t){return this.rules.toString(t)},n}(),$0=function(){function n(e,t,i){this.type="global",this.at=xi,this.isProcessed=!1,this.key=e,this.options=i;var r=e.substr(8);this.rule=i.jss.createRule(r,t,We({},i,{parent:this}))}return n.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},n}(),z0=/\s*,\s*/g;function Jv(n,e){for(var t=n.split(z0),i="",r=0;r<t.length;r++)i+=e+" "+t[r].trim(),t[r+1]&&(i+=", ");return i}function G0(){return{onCreateRule:function(n,e,t){if(!n)return null;if(n===xi)return new W0(n,e,t);if(n[0]==="@"&&n.substr(0,8)===V0)return new $0(n,e,t);var i=t.parent;return i&&(i.type==="global"||i.options.parent&&i.options.parent.type==="global")&&(t.scoped=!1),t.selector||t.scoped!==!1||(t.selector=n),null},onProcessRule:function(n,e){n.type==="style"&&e&&(function(t,i){var r=t.options,o=t.style,s=o?o[xi]:null;if(s){for(var c in s)i.addRule(c,s[c],We({},r,{selector:Jv(c,t.selector)}));delete o[xi]}}(n,e),function(t,i){var r=t.options,o=t.style;for(var s in o)if(s[0]==="@"&&s.substr(0,xi.length)===xi){var c=Jv(s.substr(xi.length),t.selector);i.addRule(c,o[s],We({},r,{selector:c})),delete o[s]}}(n,e))}}}var wc=function(n){return n&&typeof n=="object"&&!Array.isArray(n)},zd="extendCurrValue"+Date.now();function pr(n,e,t,i){return i===void 0&&(i={}),function(r,o,s,c){if(typeof r.extend!="string")if(Array.isArray(r.extend))for(var u=0;u<r.extend.length;u++){var d=r.extend[u];pr(typeof d=="string"?We({},r,{extend:d}):r.extend[u],o,s,c)}else for(var m in r.extend)m!=="extend"?wc(r.extend[m])?(m in c||(c[m]={}),pr(r.extend[m],o,s,c[m])):c[m]=r.extend[m]:pr(r.extend.extend,o,s,c);else{if(!s)return;var y=s.getRule(r.extend);if(!y||y===o)return;var g=y.options.parent;g&&pr(g.rules.raw[r.extend],o,s,c)}}(n,e,t,i),function(r,o,s,c){for(var u in r)u!=="extend"&&(wc(c[u])&&wc(r[u])?pr(r[u],o,s,c[u]):wc(r[u])?c[u]=pr(r[u],o,s):c[u]=r[u])}(n,e,t,i),i}var Zv=/\s*,\s*/g,K0=/&/g,Y0=/\$([\w-]+)/g;function X0(){function n(i,r){return function(o,s){var c=i.getRule(s)||r&&r.getRule(s);return c?c.selector:s}}function e(i,r){for(var o=r.split(Zv),s=i.split(Zv),c="",u=0;u<o.length;u++)for(var d=o[u],m=0;m<s.length;m++){var y=s[m];c&&(c+=", "),c+=y.indexOf("&")!==-1?y.replace(K0,d):d+" "+y}return c}function t(i,r,o){if(o)return We({},o,{index:o.index+1});var s=i.options.nestingLevel;s=s===void 0?1:s+1;var c=We({},i.options,{nestingLevel:s,index:r.indexOf(i)+1});return delete c.name,c}return{onProcessStyle:function(i,r,o){if(r.type!=="style")return i;var s,c,u=r,d=u.options.parent;for(var m in i){var y=m.indexOf("&")!==-1,g=m[0]==="@";if(y||g){if(s=t(u,d,s),y){var b=e(m,u.selector);c||(c=n(d,o)),b=b.replace(Y0,c);var w=u.key+"-"+m;"replaceRule"in d?d.replaceRule(w,i[m],We({},s,{selector:b})):d.addRule(w,i[m],We({},s,{selector:b}))}else g&&d.addRule(m,{},s).addRule(u.key,i[m],{selector:u.selector});delete i[m]}}return i}}}function Gd(n,e){if(!e)return!0;if(Array.isArray(e)){for(var t=0;t<e.length;t++)if(!Gd(n,e[t]))return!1;return!0}if(e.indexOf(" ")>-1)return Gd(n,e.split(" "));var i=n.options.parent;if(e[0]==="$"){var r=i.getRule(e.substr(1));return!!r&&r!==n&&(i.classes[n.key]+=" "+i.classes[r.key],!0)}return i.classes[n.key]+=" "+e,!0}function Q0(){return{onProcessStyle:function(n,e){return"composes"in n&&(Gd(e,n.composes),delete n.composes),n}}}var J0=/[A-Z]/g,Z0=/^ms-/,Kd={};function ex(n){return"-"+n.toLowerCase()}function e_(n){if(Kd.hasOwnProperty(n))return Kd[n];var e=n.replace(J0,ex);return Kd[n]=Z0.test(e)?"-"+e:e}function Ic(n){var e={};for(var t in n)e[t.indexOf("--")===0?t:e_(t)]=n[t];return n.fallbacks&&(Array.isArray(n.fallbacks)?e.fallbacks=n.fallbacks.map(Ic):e.fallbacks=Ic(n.fallbacks)),e}var M=Vd&&CSS?CSS.px:"px",Cc=Vd&&CSS?CSS.ms:"ms",no=Vd&&CSS?CSS.percent:"%";function t_(n){var e=/(-[a-z])/g,t=function(o){return o[1].toUpperCase()},i={};for(var r in n)i[r]=n[r],i[r.replace(e,t)]=n[r];return i}var tx=t_({"animation-delay":Cc,"animation-duration":Cc,"background-position":M,"background-position-x":M,"background-position-y":M,"background-size":M,border:M,"border-bottom":M,"border-bottom-left-radius":M,"border-bottom-right-radius":M,"border-bottom-width":M,"border-left":M,"border-left-width":M,"border-radius":M,"border-right":M,"border-right-width":M,"border-top":M,"border-top-left-radius":M,"border-top-right-radius":M,"border-top-width":M,"border-width":M,"border-block":M,"border-block-end":M,"border-block-end-width":M,"border-block-start":M,"border-block-start-width":M,"border-block-width":M,"border-inline":M,"border-inline-end":M,"border-inline-end-width":M,"border-inline-start":M,"border-inline-start-width":M,"border-inline-width":M,"border-start-start-radius":M,"border-start-end-radius":M,"border-end-start-radius":M,"border-end-end-radius":M,margin:M,"margin-bottom":M,"margin-left":M,"margin-right":M,"margin-top":M,"margin-block":M,"margin-block-end":M,"margin-block-start":M,"margin-inline":M,"margin-inline-end":M,"margin-inline-start":M,padding:M,"padding-bottom":M,"padding-left":M,"padding-right":M,"padding-top":M,"padding-block":M,"padding-block-end":M,"padding-block-start":M,"padding-inline":M,"padding-inline-end":M,"padding-inline-start":M,"mask-position-x":M,"mask-position-y":M,"mask-size":M,height:M,width:M,"min-height":M,"max-height":M,"min-width":M,"max-width":M,bottom:M,left:M,top:M,right:M,inset:M,"inset-block":M,"inset-block-end":M,"inset-block-start":M,"inset-inline":M,"inset-inline-end":M,"inset-inline-start":M,"box-shadow":M,"text-shadow":M,"column-gap":M,"column-rule":M,"column-rule-width":M,"column-width":M,"font-size":M,"font-size-delta":M,"letter-spacing":M,"text-decoration-thickness":M,"text-indent":M,"text-stroke":M,"text-stroke-width":M,"word-spacing":M,motion:M,"motion-offset":M,outline:M,"outline-offset":M,"outline-width":M,perspective:M,"perspective-origin-x":no,"perspective-origin-y":no,"transform-origin":no,"transform-origin-x":no,"transform-origin-y":no,"transform-origin-z":no,"transition-delay":Cc,"transition-duration":Cc,"vertical-align":M,"flex-basis":M,"shape-margin":M,size:M,gap:M,grid:M,"grid-gap":M,"row-gap":M,"grid-row-gap":M,"grid-column-gap":M,"grid-template-rows":M,"grid-template-columns":M,"grid-auto-rows":M,"grid-auto-columns":M,"box-shadow-x":M,"box-shadow-y":M,"box-shadow-blur":M,"box-shadow-spread":M,"font-line-height":M,"text-shadow-x":M,"text-shadow-y":M,"text-shadow-blur":M});function _s(n,e,t){if(e==null)return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]=_s(n,e[i],t);else if(typeof e=="object")if(n==="fallbacks")for(var r in e)e[r]=_s(r,e[r],t);else for(var o in e)e[o]=_s(n+"-"+o,e[o],t);else if(typeof e=="number"&&isNaN(e)===!1){var s=t[n]||tx[n];return!s||e===0&&s===M?e.toString():typeof s=="function"?s(e).toString():""+e+s}return e}function nx(n){n===void 0&&(n={});var e=t_(n);return{onProcessStyle:function(t,i){if(i.type!=="style")return t;for(var r in t)t[r]=_s(r,t[r],e);return t},onChangeValue:function(t,i){return _s(i,t,e)}}}var ix={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},rx={position:!0,size:!0},Tc={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},Yd={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function n_(n,e,t,i){return t[e]==null?n:n.length===0?[]:Array.isArray(n[0])?n_(n[0],e,t,i):typeof n[0]=="object"?function(r,o,s){return r.map(function(c){return i_(c,o,s,!1,!0)})}(n,e,i):[n]}function i_(n,e,t,i,r){if(!Tc[e]&&!Yd[e])return[];var o=[];if(Yd[e]&&(n=function(c,u,d,m){for(var y in d){var g=d[y];if(c[y]!==void 0&&(m||!u.prop(g))){var b,w=bs((b={},b[g]=c[y],b),u)[g];m?u.style.fallbacks[g]=w:u.style[g]=w}delete c[y]}return c}(n,t,Yd[e],i)),Object.keys(n).length)for(var s in Tc[e])n[s]?Array.isArray(n[s])?o.push(rx[s]===null?n[s]:n[s].join(" ")):o.push(n[s]):Tc[e][s]!=null&&o.push(Tc[e][s]);return!o.length||r?o:[o]}function bs(n,e,t){for(var i in n){var r=n[i];if(Array.isArray(r)){if(!Array.isArray(r[0])){if(i==="fallbacks"){for(var o=0;o<n.fallbacks.length;o++)n.fallbacks[o]=bs(n.fallbacks[o],e,!0);continue}n[i]=n_(r,i,ix,e),n[i].length||delete n[i]}}else if(typeof r=="object"){if(i==="fallbacks"){n.fallbacks=bs(n.fallbacks,e,!0);continue}n[i]=i_(r,i,e,t),n[i].length||delete n[i]}else n[i]===""&&delete n[i]}return n}function Xd(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function ox(n){return function(e){if(Array.isArray(e))return Xd(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||function(e,t){if(e){if(typeof e=="string")return Xd(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Xd(e,t):void 0}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Es="",Qd="",r_="",o_="",sx=fs&&"ontouchstart"in document.documentElement;if(fs){var Jd={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Zd=document.createElement("p").style;for(var eh in Jd)if(eh+"Transform"in Zd){Es=eh,Qd=Jd[eh];break}Es==="Webkit"&&"msHyphens"in Zd&&(Es="ms",Qd=Jd.ms,o_="edge"),Es==="Webkit"&&"-apple-trailing-word"in Zd&&(r_="apple")}var le={js:Es,css:Qd,vendor:r_,browser:o_,isTouch:sx},ax={noPrefill:["appearance"],supportedProperty:function(n){return n==="appearance"&&(le.js==="ms"?"-webkit-"+n:le.css+n)}},cx={noPrefill:["color-adjust"],supportedProperty:function(n){return n==="color-adjust"&&(le.js==="Webkit"?le.css+"print-"+n:n)}},lx=/[-\s]+(.)?/g;function ux(n,e){return e?e.toUpperCase():""}function th(n){return n.replace(lx,ux)}function Si(n){return th("-"+n)}var ws,dx={noPrefill:["mask"],supportedProperty:function(n,e){if(!/^mask/.test(n))return!1;if(le.js==="Webkit"){var t="mask-image";if(th(t)in e)return n;if(le.js+Si(t)in e)return le.css+n}return n}},hx={noPrefill:["text-orientation"],supportedProperty:function(n){return n==="text-orientation"&&(le.vendor!=="apple"||le.isTouch?n:le.css+n)}},px={noPrefill:["transform"],supportedProperty:function(n,e,t){return n==="transform"&&(t.transform?n:le.css+n)}},fx={noPrefill:["transition"],supportedProperty:function(n,e,t){return n==="transition"&&(t.transition?n:le.css+n)}},mx={noPrefill:["writing-mode"],supportedProperty:function(n){return n==="writing-mode"&&(le.js==="Webkit"||le.js==="ms"&&le.browser!=="edge"?le.css+n:n)}},gx={noPrefill:["user-select"],supportedProperty:function(n){return n==="user-select"&&(le.js==="Moz"||le.js==="ms"||le.vendor==="apple"?le.css+n:n)}},yx={supportedProperty:function(n,e){return!!/^break-/.test(n)&&(le.js==="Webkit"?"WebkitColumn"+Si(n)in e&&le.css+"column-"+n:le.js==="Moz"&&"page"+Si(n)in e&&"page-"+n)}},vx={supportedProperty:function(n,e){if(!/^(border|margin|padding)-inline/.test(n))return!1;if(le.js==="Moz")return n;var t=n.replace("-inline","");return le.js+Si(t)in e&&le.css+t}},_x={supportedProperty:function(n,e){return th(n)in e&&n}},bx={supportedProperty:function(n,e){var t=Si(n);return n[0]==="-"||n[0]==="-"&&n[1]==="-"?n:le.js+t in e?le.css+n:le.js!=="Webkit"&&"Webkit"+t in e&&"-webkit-"+n}},Ex={supportedProperty:function(n){return n.substring(0,11)==="scroll-snap"&&(le.js==="ms"?""+le.css+n:n)}},wx={supportedProperty:function(n){return n==="overscroll-behavior"&&(le.js==="ms"?le.css+"scroll-chaining":n)}},Ix={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Cx={supportedProperty:function(n,e){var t=Ix[n];return!!t&&le.js+Si(t)in e&&le.css+t}},s_={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Tx=Object.keys(s_),xx=function(n){return le.css+n},Sx={supportedProperty:function(n,e,t){var i=t.multiple;if(Tx.indexOf(n)>-1){var r=s_[n];if(!Array.isArray(r))return le.js+Si(r)in e&&le.css+r;if(!i)return!1;for(var o=0;o<r.length;o++)if(!(le.js+Si(r[0])in e))return!1;return r.map(xx)}return!1}},a_=[ax,cx,dx,hx,px,fx,mx,gx,yx,vx,_x,bx,Ex,wx,Cx,Sx],c_=a_.filter(function(n){return n.supportedProperty}).map(function(n){return n.supportedProperty}),Ax=a_.filter(function(n){return n.noPrefill}).reduce(function(n,e){return n.push.apply(n,ox(e.noPrefill)),n},[]),fr={};if(fs){ws=document.createElement("p");var nh=window.getComputedStyle(document.documentElement,"");for(var ih in nh)isNaN(ih)||(fr[nh[ih]]=nh[ih]);Ax.forEach(function(n){return delete fr[n]})}function rh(n,e){if(e===void 0&&(e={}),!ws)return n;if(fr[n]!=null)return fr[n];n!=="transition"&&n!=="transform"||(e[n]=n in ws.style);for(var t=0;t<c_.length&&(fr[n]=c_[t](n,ws.style,e),!fr[n]);t++);try{ws.style[n]=""}catch{return!1}return fr[n]}var Ai,io={},kx={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Ox=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Nx(n,e,t){if(e==="var")return"var";if(e==="all")return"all";if(t==="all")return", all";var i=e?rh(e):", "+rh(t);return i||e||t}function l_(n,e){var t=e;if(!Ai||n==="content")return e;if(typeof t!="string"||!isNaN(parseInt(t,10)))return t;var i=n+t;if(io[i]!=null)return io[i];try{Ai.style[n]=t}catch{return io[i]=!1,!1}if(kx[n])t=t.replace(Ox,Nx);else if(Ai.style[n]===""&&((t=le.css+t)==="-ms-flex"&&(Ai.style[n]="-ms-flexbox"),Ai.style[n]=t,Ai.style[n]===""))return io[i]=!1,!1;return Ai.style[n]="",io[i]=t,io[i]}function Rx(){function n(e){for(var t in e){var i=e[t];if(t==="fallbacks"&&Array.isArray(i))e[t]=i.map(n);else{var r=!1,o=rh(t);o&&o!==t&&(r=!0);var s=!1,c=l_(o,hr(i));c&&c!==i&&(s=!0),(r||s)&&(r&&delete e[t],e[o||t]=c||i)}}return e}return{onProcessRule:function(e){if(e.type==="keyframes"){var t=e;t.at=function(i){return i[1]==="-"||le.js==="ms"?i:"@"+le.css+"keyframes"+i.substr(10)}(t.at)}},onProcessStyle:function(e,t){return t.type!=="style"?e:n(e)},onChangeValue:function(e,t){return l_(t,hr(e))||e}}}fs&&(Ai=document.createElement("p"));const Px=function(n){return n===void 0&&(n={}),{plugins:[U0(),H0(n.observable),{onProcessRule:q0},G0(),{onProcessStyle:function(t,i,r){return"extend"in t?pr(t,i,r):t},onChangeValue:function(t,i,r){if(i!=="extend")return t;if(t==null||t===!1){for(var o in r[zd])r.prop(o,null);return r[zd]=null,null}if(typeof t=="object"){for(var s in t)r.prop(s,t[s]);r[zd]=t}return null}},X0(),Q0(),{onProcessStyle:function(t){if(Array.isArray(t)){for(var i=0;i<t.length;i++)t[i]=Ic(t[i]);return t}return Ic(t)},onChangeValue:function(t,i,r){if(i.indexOf("--")===0)return t;var o=e_(i);return i===o?t:(r.prop(o,t),null)}},nx(n.defaultUnit),{onProcessStyle:function(t,i){if(!t||i.type!=="style")return t;if(Array.isArray(t)){for(var r=0;r<t.length;r++)t[r]=bs(t[r],i);return t}return bs(t,i)}},Rx(),(e=function(t,i){return t.length===i.length?t>i?1:-1:t.length-i.length},{onProcessStyle:function(t,i){if(i.type!=="style")return t;for(var r={},o=Object.keys(t).sort(e),s=0;s<o.length;s++)r[o[s]]=t[o[s]];return r}})]};var e};function Lx(n,e,t){return e.create("div",{"x-bind:class":"'mdc-dialog' + (auth.dialogopen ? ' mdc-dialog--open' : '')","x-data":"loginModal"},e.create("div",{class:"mdc-dialog__container"},e.create("div",{class:"mdc-dialog__surface","aria-modal":"true","aria-labelledby":"my-dialog-title","aria-describedby":"my-dialog-content"},e.create("div",{class:"mdc-dialog__content",id:"my-dialog-content",style:`\r
                            color: white;\r
                            \r
                        `},e.create("style",null,`.layer1, .layer2{
                grid-column: 1;
                grid-row: 1;
              }`),e.create(on,{attributes:{"x-transition:enter.duration.1000ms":"","x-transition:enter.delay.350ms":"","x-transition:leave.duration.250ms":""}},e.create("span",{class:"material-icons",style:`\r
                    width: 100%;\r
                    height: 100%;\r
                    margin-bottom: 24px;\r
                `,"x-show":"!auth.authenticating && step === 'pickprovider'"},e.create("div",{"x-on:click":`() => {\r
                                auth.dialogopen = false;\r
                            }`},"arrow_back")),e.create("p",{style:`\r
                    margin-top: 8px;\r
                    margin-bottom: 8px;\r
                `,"x-show":"step == 'pickprovider'"},"Please choose your authentication provider from the list below."),e.create("div",{"x-show":"step == 'pickprovider'"},e.create(i0,null)),e.create("div",{"x-show":"step == 'loginorsignup'"},e.create(n0,null)),e.create("div",{"x-show":"step == 'page'"},e.create(t0,null),e.create("div",{"x-show":"loginwith == 'email'"},e.create(ZT,null)),e.create("div",{"x-show":"loginwith == 'google'"},e.create(e0,null))))))),e.create("div",{class:"mdc-dialog__scrim"}))}function Dx(n,e,t){return e.create(e.fragment,null,e.create("div",{style:`  \r
  overflow-y: scroll;\r
  height: calc(calc(var(--vh, 1vh) * 100) - 85px);\r
  margin-top: 10px;\r
  `},e.create("div",{style:`\r
          height: 10px;\r
          width: calc(100% - 20px);\r
          margin-left: 10px;\r
          margin-right: 10px;\r
          \r
        `},e.create("div",{style:`\r
      display: flex;\r
      background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);\r
      width: 100%;\r
      height: 85px;\r
      padding: 20px;\r
      border-radius: 5px;\r
      position: relative;\r
      align-items: center;\r
    `},e.create("div",{style:`\r
        width: 45px;\r
        height: 45px;\r
        border-radius: calc(45px / 2);\r
        background-color: white;\r
      `}),e.create("div",{"x-show":"!auth.authenticating"},e.create(on,{attributes:{"x-transition.duration.250ms":""}},e.create("div",{style:`\r
                margin-left: 10px;\r
              `,"x-show":"auth.loggedIn","x-text":"auth.email"},"Main")),e.create("div",{style:`\r
                margin-left: 10px;\r
                `},e.create("div",{"x-show":"!auth.loggedIn && !offline.isoffline","x-on:click":`() => {\r
                    auth.dialogopen = true;\r
                }`},e.create(ge,{label:"Sign up / Sign in",type:"--raised"})),e.create("div",{"x-show":"auth.loggedIn","x-bind":"actions.signout"},e.create(ge,{label:"Log out",type:"--raised"})))),e.create("div",{"x-show":"auth.authenticating",style:`\r
    margin-left: 10px;\r
    color: var(--mdc-theme-primary);\r
    height: 8px;\r
    width: 90%;\r
`},e.create(vc,null))),e.create("div",{"x-show":"offline.isoffline"},e.create("div",{style:"display: flex;background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);width: 100%;height: 85px;padding: 20px;border-radius: 5px;position: relative;align-items: center; margin-top: 10px;"},e.create("h3",{style:"margin-right: 10px;"},"Press the button when you are back online."),e.create("div",{"x-on:click":"window.location.reload()"},e.create(ge,{label:"Go back online",type:"--raised"})))),e.create("div",{style:"display: flex;background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);width: 100%;height: 85px;padding: 20px;border-radius: 5px;position: relative;align-items: center; margin-top: 10px;"},e.create("h3",{style:"margin-right: 10px;"},"Press the button to exit the app."),e.create("div",{"x-on:click":ce(function(){window.top.postMessage({type:"exit"},"*")})},e.create(ge,{label:"Exit the app",type:"--raised"}))),e.create("div",{style:"display: flex;background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);width: 100%;height: 85px;padding: 20px;border-radius: 5px;position: relative;align-items: center; margin-top: 10px;"},e.create("h3",{style:"margin-right: 10px;"},"Before using the application, please read our Terms of Service first."),e.create("div",{"x-on:click":ce(function(){this.tosopen=!0})},e.create(ge,{label:"Open",type:"--raised"}))))),e.create(Lx,null))}Kv.setup(Px()),Kv.createStyleSheet({onedash:{backgroundColor:"white"}}).attach(),document.addEventListener("alpine:init",()=>{window.Alpine.data("loginModal",()=>({mode:"",loginwith:"email",step:"loginorsignup",email:"",password:"",actions:{googlesignin:{"@click"(){if(this.auth.authenticating)return;this.auth.authenticating=!0;let n=Tn(this.firebaseapp);n.setPersistence(Ci),Vy(n,new Cn).then(e=>{let t=e.user;this.auth.loggedIn=!0,this.auth.email=t.email,this.auth.displayName=t.displayName,this.auth.dialogopen=!1,this.auth.uid=t.uid,this.auth.authenticating=!1}).catch(e=>{alert(e.message),this.auth.authenticating=!1})}},forgetpassword:{"@click"(){if(this.auth.authenticating)return;let n=Tn(this.firebaseapp);n.setPersistence(Ci),wy(n,this.email)}},signup:{async"@click"(){if(console.log("XTRIGGER"),this.auth.authenticating)return;this.auth.authenticating=!0;const n=En(),e=btoa(this.email);let t=this.email.toString(),i=(await(r=this.password,new Promise((o,s)=>{let c=new Worker(new URL(""+new URL("wasmhandler-388d8d67.js",import.meta.url).href,self.location),{type:"module"});c.onmessage=u=>{u.data=="ready"?(console.log("suc2"),c.postMessage({req:"newdatabase",password:r})):(o(u.data),c.terminate())}}))).data;var r;Qu(bn(n,"/users2/"+e)).then(o=>{o.val()!=null?(alert("User already exists on this service."),this.auth.authenticating=!1):(console.log(i),_i(bn(n,"/users2/"+e),{database:i.database}).then(()=>{Cy(Tn(this.firebaseapp),t,i.accessKey).then(s=>{xy(s.user,{displayName:btoa(JSON.stringify({openid:i.openid}))}).then(()=>{this.auth.dialogopen=!1})})}))}),console.log(i)}},signin:{async"@click"(){if(this.auth.authenticating)return;this.auth.authenticating=!0;const n=En(),e=btoa(this.email);let t=this.email.toString();Qu(bn(n,"/users2/"+e)).then(async i=>{if(i.val()!=null){let r=i.val().database;try{let o=(await function(c,u){return new Promise((d,m)=>{Pd.push(d),Av.postMessage({req:"getaccesskey",database:c,password:u})})}(r,this.password)).data;o=="PASSFAILED"?console.log("KeePass was unable to open the database."):console.log("KeePass opened.");let s=Tn(this.firebaseapp);await Ty(s,t,o),this.auth.authenticating=!1,this.auth.dialogopen=!1}catch(o){this.auth.authenticating=!1,alert(o)}}else alert("User does not exist on this service."),this.auth.authenticating=!1})}}}}))});var ze,Is,mr,ki,Cs={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},Ts={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",OPENING_EVENT:"MDCMenuSurface:opening",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},xs={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67,TOUCH_EVENT_WAIT_MS:30};(function(n){n[n.BOTTOM=1]="BOTTOM",n[n.CENTER=2]="CENTER",n[n.RIGHT=4]="RIGHT",n[n.FLIP_RTL=8]="FLIP_RTL"})(ze||(ze={})),function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=4]="TOP_RIGHT",n[n.BOTTOM_LEFT=1]="BOTTOM_LEFT",n[n.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",n[n.TOP_START=8]="TOP_START",n[n.TOP_END=12]="TOP_END",n[n.BOTTOM_START=9]="BOTTOM_START",n[n.BOTTOM_END=13]="BOTTOM_END"}(Is||(Is={}));var re={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},Mx=((mr={})[""+re.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",mr[""+re.LIST_ITEM_CLASS]="mdc-list-item",mr[""+re.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",mr[""+re.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",mr[""+re.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",mr[""+re.ROOT]="mdc-list",mr),gr=((ki={})[""+re.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",ki[""+re.LIST_ITEM_CLASS]="mdc-deprecated-list-item",ki[""+re.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",ki[""+re.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",ki[""+re.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",ki[""+re.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",ki[""+re.ROOT]="mdc-deprecated-list",ki),Re={ACTION_EVENT:"MDCList:action",SELECTION_CHANGE_EVENT:"MDCList:selectionChange",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:`
    .`+re.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+re.LIST_ITEM_CLASS+` a,
    .`+gr[re.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+gr[re.LIST_ITEM_CLASS]+` a
  `,DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:`
    .`+re.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+re.LIST_ITEM_CLASS+` a,
    .`+re.LIST_ITEM_CLASS+` input[type="radio"]:not(:disabled),
    .`+re.LIST_ITEM_CLASS+` input[type="checkbox"]:not(:disabled),
    .`+gr[re.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+gr[re.LIST_ITEM_CLASS]+` a,
    .`+gr[re.LIST_ITEM_CLASS]+` input[type="radio"]:not(:disabled),
    .`+gr[re.LIST_ITEM_CLASS]+` input[type="checkbox"]:not(:disabled)
  `,RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},Be={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300},ye={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape",TAB:"Tab"},wt=new Set;wt.add(ye.BACKSPACE),wt.add(ye.ENTER),wt.add(ye.SPACEBAR),wt.add(ye.PAGE_UP),wt.add(ye.PAGE_DOWN),wt.add(ye.END),wt.add(ye.HOME),wt.add(ye.ARROW_LEFT),wt.add(ye.ARROW_UP),wt.add(ye.ARROW_RIGHT),wt.add(ye.ARROW_DOWN),wt.add(ye.DELETE),wt.add(ye.ESCAPE),wt.add(ye.TAB);var Fx=8,jx=13,Ux=32,Hx=33,Bx=34,qx=35,Vx=36,Wx=37,$x=38,zx=39,Gx=40,Kx=46,Yx=27,Xx=9,It=new Map;It.set(Fx,ye.BACKSPACE),It.set(jx,ye.ENTER),It.set(Ux,ye.SPACEBAR),It.set(Hx,ye.PAGE_UP),It.set(Bx,ye.PAGE_DOWN),It.set(qx,ye.END),It.set(Vx,ye.HOME),It.set(Wx,ye.ARROW_LEFT),It.set($x,ye.ARROW_UP),It.set(zx,ye.ARROW_RIGHT),It.set(Gx,ye.ARROW_DOWN),It.set(Kx,ye.DELETE),It.set(Yx,ye.ESCAPE),It.set(Xx,ye.TAB);var Oi=new Set;function ft(n){var e=n.key;if(wt.has(e))return e;var t=It.get(n.keyCode);return t||ye.UNKNOWN}Oi.add(ye.PAGE_UP),Oi.add(ye.PAGE_DOWN),Oi.add(ye.END),Oi.add(ye.HOME),Oi.add(ye.ARROW_LEFT),Oi.add(ye.ARROW_UP),Oi.add(ye.ARROW_RIGHT),Oi.add(ye.ARROW_DOWN);var Qx=["input","button","textarea","select"],Xt=function(n){var e=n.target;if(e){var t=(""+e.tagName).toLowerCase();Qx.indexOf(t)===-1&&n.preventDefault()}};function oh(n,e){var t,i=n.nextChar,r=n.focusItemAtIndex,o=n.sortedIndexByFirstChar,s=n.focusedItemIndex,c=n.skipFocus,u=n.isItemAtIndexDisabled;return clearTimeout(e.bufferClearTimeout),e.bufferClearTimeout=setTimeout(function(){d_(e)},Be.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),e.typeaheadBuffer=e.typeaheadBuffer+i,t=e.typeaheadBuffer.length===1?function(d,m,y,g){var b=g.typeaheadBuffer[0],w=d.get(b);if(!w)return-1;if(b===g.currentFirstChar&&w[g.sortedIndexCursor].index===m){g.sortedIndexCursor=(g.sortedIndexCursor+1)%w.length;var C=w[g.sortedIndexCursor].index;if(!y(C))return C}g.currentFirstChar=b;var k,A=-1;for(k=0;k<w.length;k++)if(!y(w[k].index)){A=k;break}for(;k<w.length;k++)if(w[k].index>m&&!y(w[k].index)){A=k;break}return A!==-1?(g.sortedIndexCursor=A,w[g.sortedIndexCursor].index):-1}(o,s,u,e):function(d,m,y){var g=y.typeaheadBuffer[0],b=d.get(g);if(!b)return-1;var w=b[y.sortedIndexCursor];if(w.text.lastIndexOf(y.typeaheadBuffer,0)===0&&!m(w.index))return w.index;for(var C=(y.sortedIndexCursor+1)%b.length,k=-1;C!==y.sortedIndexCursor;){var A=b[C],F=A.text.lastIndexOf(y.typeaheadBuffer,0)===0,V=!m(A.index);if(F&&V){k=C;break}C=(C+1)%b.length}return k!==-1?(y.sortedIndexCursor=k,b[y.sortedIndexCursor].index):-1}(o,u,e),t===-1||c||r(t),t}function u_(n){return n.typeaheadBuffer.length>0}function d_(n){n.typeaheadBuffer=""}function h_(n,e){var t=n.event,i=n.isTargetListItem,r=n.focusedItemIndex,o=n.focusItemAtIndex,s=n.sortedIndexByFirstChar,c=n.isItemAtIndexDisabled,u=ft(t)==="ArrowLeft",d=ft(t)==="ArrowUp",m=ft(t)==="ArrowRight",y=ft(t)==="ArrowDown",g=ft(t)==="Home",b=ft(t)==="End",w=ft(t)==="Enter",C=ft(t)==="Spacebar";return t.altKey||t.ctrlKey||t.metaKey||u||d||m||y||g||b||w?-1:C||t.key.length!==1?C?(i&&Xt(t),i&&u_(e)?oh({focusItemAtIndex:o,focusedItemIndex:r,nextChar:" ",sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:c},e):-1):-1:(Xt(t),oh({focusItemAtIndex:o,focusedItemIndex:r,nextChar:t.key.toLowerCase(),sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:c},e))}var Jx=["Alt","Control","Meta","Shift"];function p_(n){var e=new Set(n?Jx.filter(function(t){return n.getModifierState(t)}):[]);return function(t){return t.every(function(i){return e.has(i)})&&t.length===e.size}}var ro,sh=function(n){function e(t){var i=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return i.wrapFocus=!1,i.isVertical=!0,i.isSingleSelectionList=!1,i.areDisabledItemsFocusable=!0,i.selectedIndex=Be.UNSET_INDEX,i.focusedItemIndex=Be.UNSET_INDEX,i.useActivatedClass=!1,i.useSelectedAttr=!1,i.ariaCurrentAttrValue=null,i.isCheckboxList=!1,i.isRadioList=!1,i.lastSelectedIndex=null,i.hasTypeahead=!1,i.typeaheadState={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""},i.sortedIndexByFirstChar=new Map,i}return Te(e,n),Object.defineProperty(e,"strings",{get:function(){return Re},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return re},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Be},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},notifySelectionChange:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!1,configurable:!0}),e.prototype.layout=function(){this.adapter.getListItemCount()!==0&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},e.prototype.getFocusedItemIndex=function(){return this.focusedItemIndex},e.prototype.setWrapFocus=function(t){this.wrapFocus=t},e.prototype.setVerticalOrientation=function(t){this.isVertical=t},e.prototype.setSingleSelection=function(t){this.isSingleSelectionList=t,t&&(this.maybeInitializeSingleSelection(),this.selectedIndex=this.getSelectedIndexFromDOM())},e.prototype.setDisabledItemsFocusable=function(t){this.areDisabledItemsFocusable=t},e.prototype.maybeInitializeSingleSelection=function(){var t=this.getSelectedIndexFromDOM();t!==Be.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(t,re.LIST_ITEM_ACTIVATED_CLASS)&&this.setUseActivatedClass(!0),this.isSingleSelectionList=!0,this.selectedIndex=t)},e.prototype.getSelectedIndexFromDOM=function(){for(var t=Be.UNSET_INDEX,i=this.adapter.getListItemCount(),r=0;r<i;r++){var o=this.adapter.listItemAtIndexHasClass(r,re.LIST_ITEM_SELECTED_CLASS),s=this.adapter.listItemAtIndexHasClass(r,re.LIST_ITEM_ACTIVATED_CLASS);if(o||s){t=r;break}}return t},e.prototype.setHasTypeahead=function(t){this.hasTypeahead=t,t&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},e.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&u_(this.typeaheadState)},e.prototype.setUseActivatedClass=function(t){this.useActivatedClass=t},e.prototype.setUseSelectedAttribute=function(t){this.useSelectedAttr=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex},e.prototype.setSelectedIndex=function(t,i){i===void 0&&(i={}),this.isIndexValid(t)&&(this.isCheckboxList?this.setCheckboxAtIndex(t,i):this.isRadioList?this.setRadioAtIndex(t,i):this.setSingleSelectionAtIndex(t,i))},e.prototype.handleFocusIn=function(t){t>=0&&(this.focusedItemIndex=t,this.adapter.setAttributeForElementIndex(t,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(t,"0"))},e.prototype.handleFocusOut=function(t){var i=this;t>=0&&(this.adapter.setAttributeForElementIndex(t,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(t,"-1")),setTimeout(function(){i.adapter.isFocusInsideList()||i.setTabindexToFirstSelectedOrFocusedItem()},0)},e.prototype.isIndexDisabled=function(t){return this.adapter.listItemAtIndexHasClass(t,re.LIST_ITEM_DISABLED_CLASS)},e.prototype.handleKeydown=function(t,i,r){var o,s=this,c=ft(t)==="ArrowLeft",u=ft(t)==="ArrowUp",d=ft(t)==="ArrowRight",m=ft(t)==="ArrowDown",y=ft(t)==="Home",g=ft(t)==="End",b=ft(t)==="Enter",w=ft(t)==="Spacebar",C=this.isVertical&&m||!this.isVertical&&d,k=this.isVertical&&u||!this.isVertical&&c,A=t.key==="A"||t.key==="a",F=p_(t);if(this.adapter.isRootFocused()){if((k||g)&&F([])?(t.preventDefault(),this.focusLastElement()):(C||y)&&F([])?(t.preventDefault(),this.focusFirstElement()):k&&F(["Shift"])&&this.isCheckboxList?(t.preventDefault(),($=this.focusLastElement())!==-1&&this.setSelectedIndexOnAction($,!1)):C&&F(["Shift"])&&this.isCheckboxList&&(t.preventDefault(),($=this.focusFirstElement())!==-1&&this.setSelectedIndexOnAction($,!1)),this.hasTypeahead){var V={event:t,focusItemAtIndex:function(p){s.focusItemAtIndex(p)},focusedItemIndex:-1,isTargetListItem:i,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(p){return s.isIndexDisabled(p)}};h_(V,this.typeaheadState)}}else{var H=this.adapter.getFocusedElementIndex();if(!(H===-1&&(H=r)<0)){if(C&&F([]))Xt(t),this.focusNextElement(H);else if(k&&F([]))Xt(t),this.focusPrevElement(H);else if(C&&F(["Shift"])&&this.isCheckboxList)Xt(t),($=this.focusNextElement(H))!==-1&&this.setSelectedIndexOnAction($,!1);else if(k&&F(["Shift"])&&this.isCheckboxList){var $;Xt(t),($=this.focusPrevElement(H))!==-1&&this.setSelectedIndexOnAction($,!1)}else if(y&&F([]))Xt(t),this.focusFirstElement();else if(g&&F([]))Xt(t),this.focusLastElement();else if(y&&F(["Control","Shift"])&&this.isCheckboxList){if(Xt(t),this.isIndexDisabled(H))return;this.focusFirstElement(),this.toggleCheckboxRange(0,H,H)}else if(g&&F(["Control","Shift"])&&this.isCheckboxList){if(Xt(t),this.isIndexDisabled(H))return;this.focusLastElement(),this.toggleCheckboxRange(H,this.adapter.getListItemCount()-1,H)}else if(A&&F(["Control"])&&this.isCheckboxList)t.preventDefault(),this.checkboxListToggleAll(this.selectedIndex===Be.UNSET_INDEX?[]:this.selectedIndex,!0);else if((b||w)&&F([])){if(i){if((Z=t.target)&&Z.tagName==="A"&&b||(Xt(t),this.isIndexDisabled(H)))return;this.isTypeaheadInProgress()||(this.isSelectableList()&&this.setSelectedIndexOnAction(H,!1),this.adapter.notifyAction(H))}}else if((b||w)&&F(["Shift"])&&this.isCheckboxList){var Z;if((Z=t.target)&&Z.tagName==="A"&&b||(Xt(t),this.isIndexDisabled(H)))return;this.isTypeaheadInProgress()||(this.toggleCheckboxRange((o=this.lastSelectedIndex)!==null&&o!==void 0?o:H,H,H),this.adapter.notifyAction(H))}this.hasTypeahead&&(V={event:t,focusItemAtIndex:function(p){s.focusItemAtIndex(p)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:i,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(p){return s.isIndexDisabled(p)}},h_(V,this.typeaheadState))}}},e.prototype.handleClick=function(t,i,r){var o,s=p_(r);t!==Be.UNSET_INDEX&&(this.isIndexDisabled(t)||(s([])?(this.isSelectableList()&&this.setSelectedIndexOnAction(t,i),this.adapter.notifyAction(t)):this.isCheckboxList&&s(["Shift"])&&(this.toggleCheckboxRange((o=this.lastSelectedIndex)!==null&&o!==void 0?o:t,t,t),this.adapter.notifyAction(t))))},e.prototype.focusNextElement=function(t){var i=this.adapter.getListItemCount(),r=t,o=null;do{if(++r>=i){if(!this.wrapFocus)return t;r=0}if(r===o)return-1;o=o??r}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(r));return this.focusItemAtIndex(r),r},e.prototype.focusPrevElement=function(t){var i=this.adapter.getListItemCount(),r=t,o=null;do{if(--r<0){if(!this.wrapFocus)return t;r=i-1}if(r===o)return-1;o=o??r}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(r));return this.focusItemAtIndex(r),r},e.prototype.focusFirstElement=function(){return this.focusNextElement(-1)},e.prototype.focusLastElement=function(){return this.focusPrevElement(this.adapter.getListItemCount())},e.prototype.focusInitialElement=function(){var t=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(t),t},e.prototype.setEnabled=function(t,i){this.isIndexValid(t,!1)&&(i?(this.adapter.removeClassForElementIndex(t,re.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,Re.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(t,re.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,Re.ARIA_DISABLED,"true")))},e.prototype.setSingleSelectionAtIndex=function(t,i){if(i===void 0&&(i={}),this.selectedIndex!==t||i.forceUpdate){var r=re.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass&&(r=re.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex!==Be.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex,r),this.setAriaForSingleSelectionAtIndex(t),this.setTabindexAtIndex(t),t!==Be.UNSET_INDEX&&this.adapter.addClassForElementIndex(t,r),this.selectedIndex=t,i.isUserInteraction&&!i.forceUpdate&&this.adapter.notifySelectionChange([t])}},e.prototype.setAriaForSingleSelectionAtIndex=function(t){this.selectedIndex===Be.UNSET_INDEX&&(this.ariaCurrentAttrValue=this.adapter.getAttributeForElementIndex(t,Re.ARIA_CURRENT));var i=this.ariaCurrentAttrValue!==null,r=i?Re.ARIA_CURRENT:Re.ARIA_SELECTED;if(this.selectedIndex!==Be.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,r,"false"),t!==Be.UNSET_INDEX){var o=i?this.ariaCurrentAttrValue:"true";this.adapter.setAttributeForElementIndex(t,r,o)}},e.prototype.getSelectionAttribute=function(){return this.useSelectedAttr?Re.ARIA_SELECTED:Re.ARIA_CHECKED},e.prototype.setRadioAtIndex=function(t,i){i===void 0&&(i={});var r=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(t,!0),(this.selectedIndex!==t||i.forceUpdate)&&(this.selectedIndex!==Be.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,r,"false"),this.adapter.setAttributeForElementIndex(t,r,"true"),this.selectedIndex=t,i.isUserInteraction&&!i.forceUpdate&&this.adapter.notifySelectionChange([t]))},e.prototype.setCheckboxAtIndex=function(t,i){i===void 0&&(i={});for(var r=this.selectedIndex,o=i.isUserInteraction?new Set(r===Be.UNSET_INDEX?[]:r):null,s=this.getSelectionAttribute(),c=[],u=0;u<this.adapter.getListItemCount();u++){var d=o==null?void 0:o.has(u),m=t.indexOf(u)>=0;m!==d&&c.push(u),this.adapter.setCheckedCheckboxOrRadioAtIndex(u,m),this.adapter.setAttributeForElementIndex(u,s,m?"true":"false")}this.selectedIndex=t,i.isUserInteraction&&c.length&&this.adapter.notifySelectionChange(c)},e.prototype.toggleCheckboxRange=function(t,i,r){this.lastSelectedIndex=r;for(var o=new Set(this.selectedIndex===Be.UNSET_INDEX?[]:this.selectedIndex),s=!(o!=null&&o.has(r)),c=nd([t,i].sort(),2),u=c[0],d=c[1],m=this.getSelectionAttribute(),y=[],g=u;g<=d;g++)this.isIndexDisabled(g)||s!==o.has(g)&&(y.push(g),this.adapter.setCheckedCheckboxOrRadioAtIndex(g,s),this.adapter.setAttributeForElementIndex(g,m,""+s),s?o.add(g):o.delete(g));y.length&&(this.selectedIndex=Lg([],nd(o)),this.adapter.notifySelectionChange(y))},e.prototype.setTabindexAtIndex=function(t){this.focusedItemIndex===Be.UNSET_INDEX&&t!==0?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==t&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),this.selectedIndex instanceof Array||this.selectedIndex===t||this.adapter.setAttributeForElementIndex(this.selectedIndex,"tabindex","-1"),t!==Be.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(t,"tabindex","0")},e.prototype.isSelectableList=function(){return this.isSingleSelectionList||this.isCheckboxList||this.isRadioList},e.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var t=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(t)},e.prototype.getFirstSelectedOrFocusedItemIndex=function(){return this.isSelectableList()?typeof this.selectedIndex=="number"&&this.selectedIndex!==Be.UNSET_INDEX?this.selectedIndex:this.selectedIndex instanceof Array&&this.selectedIndex.length>0?this.selectedIndex.reduce(function(t,i){return Math.min(t,i)}):0:Math.max(this.focusedItemIndex,0)},e.prototype.isIndexValid=function(t,i){var r=this;if(i===void 0&&(i=!0),t instanceof Array){if(!this.isCheckboxList&&i)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return t.length===0||t.some(function(o){return r.isIndexInRange(o)})}if(typeof t=="number"){if(this.isCheckboxList&&i)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+t);return this.isIndexInRange(t)||this.isSingleSelectionList&&t===Be.UNSET_INDEX}return!1},e.prototype.isIndexInRange=function(t){var i=this.adapter.getListItemCount();return t>=0&&t<i},e.prototype.setSelectedIndexOnAction=function(t,i){this.lastSelectedIndex=t,this.isCheckboxList?(this.toggleCheckboxAtIndex(t,i),this.adapter.notifySelectionChange([t])):this.setSelectedIndex(t,{isUserInteraction:!0})},e.prototype.toggleCheckboxAtIndex=function(t,i){var r,o=this.getSelectionAttribute(),s=this.adapter.isCheckboxCheckedAtIndex(t);i?r=s:(r=!s,this.adapter.setCheckedCheckboxOrRadioAtIndex(t,r)),this.adapter.setAttributeForElementIndex(t,o,r?"true":"false");var c=this.selectedIndex===Be.UNSET_INDEX?[]:this.selectedIndex.slice();r?c.push(t):c=c.filter(function(u){return u!==t}),this.selectedIndex=c},e.prototype.focusItemAtIndex=function(t){this.adapter.focusItemAtIndex(t),this.focusedItemIndex=t},e.prototype.checkboxListToggleAll=function(t,i){var r=this.adapter.getListItemCount();if(t.length===r)this.setCheckboxAtIndex([],{isUserInteraction:i});else{for(var o=[],s=0;s<r;s++)(!this.isIndexDisabled(s)||t.indexOf(s)>-1)&&o.push(s);this.setCheckboxAtIndex(o,{isUserInteraction:i})}},e.prototype.typeaheadMatchItem=function(t,i,r){var o=this;r===void 0&&(r=!1);var s={focusItemAtIndex:function(c){o.focusItemAtIndex(c)},focusedItemIndex:i||this.focusedItemIndex,nextChar:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:r,isItemAtIndexDisabled:function(c){return o.isIndexDisabled(c)}};return oh(s,this.typeaheadState)},e.prototype.typeaheadInitSortedIndex=function(){return function(t,i){for(var r=new Map,o=0;o<t;o++){var s=i(o).trim();if(s){var c=s[0].toLowerCase();r.has(c)||r.set(c,[]),r.get(c).push({text:s.toLowerCase(),index:o})}}return r.forEach(function(u){u.sort(function(d,m){return d.index-m.index})}),r}(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},e.prototype.clearTypeaheadBuffer=function(){d_(this.typeaheadState)},e}(pt),Zx=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"vertical",{set:function(t){this.foundation.setVerticalOrientation(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"listElements",{get:function(){return Array.from(this.root.querySelectorAll("."+this.classNameMap[re.LIST_ITEM_CLASS]))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapFocus",{set:function(t){this.foundation.setWrapFocus(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeaheadInProgress",{get:function(){return this.foundation.isTypeaheadInProgress()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTypeahead",{set:function(t){this.foundation.setHasTypeahead(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"singleSelection",{set:function(t){this.foundation.setSingleSelection(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabledItemsFocusable",{set:function(t){this.foundation.setDisabledItemsFocusable(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(t){this.foundation.setSelectedIndex(t)},enumerable:!1,configurable:!0}),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){this.isEvolutionEnabled="evolution"in this.root.dataset,this.isEvolutionEnabled?this.classNameMap=Mx:Sn(this.root,Re.DEPRECATED_SELECTOR)?this.classNameMap=gr:this.classNameMap=Object.values(re).reduce(function(t,i){return t[i]=i,t},{}),this.handleClick=this.handleClickEvent.bind(this),this.handleKeydown=this.handleKeydownEvent.bind(this),this.focusInEventListener=this.handleFocusInEvent.bind(this),this.focusOutEventListener=this.handleFocusOutEvent.bind(this),this.listen("keydown",this.handleKeydown),this.listen("click",this.handleClick),this.listen("focusin",this.focusInEventListener),this.listen("focusout",this.focusOutEventListener),this.layout(),this.initializeListType(),this.ensureFocusable()},e.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten("click",this.handleClick),this.unlisten("focusin",this.focusInEventListener),this.unlisten("focusout",this.focusOutEventListener)},e.prototype.layout=function(){var t=this.root.getAttribute(Re.ARIA_ORIENTATION);this.vertical=t!==Re.ARIA_ORIENTATION_HORIZONTAL;var i="."+this.classNameMap[re.LIST_ITEM_CLASS]+":not([tabindex])",r=Re.FOCUSABLE_CHILD_ELEMENTS,o=this.root.querySelectorAll(i);o.length&&Array.prototype.forEach.call(o,function(c){c.setAttribute("tabindex","-1")});var s=this.root.querySelectorAll(r);s.length&&Array.prototype.forEach.call(s,function(c){c.setAttribute("tabindex","-1")}),this.isEvolutionEnabled&&this.foundation.setUseSelectedAttribute(!0),this.foundation.layout()},e.prototype.getPrimaryText=function(t){var i,r=t.querySelector("."+this.classNameMap[re.LIST_ITEM_PRIMARY_TEXT_CLASS]);if(this.isEvolutionEnabled||r)return(i=r==null?void 0:r.textContent)!==null&&i!==void 0?i:"";var o=t.querySelector("."+this.classNameMap[re.LIST_ITEM_TEXT_CLASS]);return o&&o.textContent||""},e.prototype.initializeListType=function(){var t=this;if(this.isInteractive=Sn(this.root,Re.ARIA_INTERACTIVE_ROLES_SELECTOR),this.isEvolutionEnabled&&this.isInteractive){var i=Array.from(this.root.querySelectorAll(Re.SELECTED_ITEM_SELECTOR),function(c){return t.listElements.indexOf(c)});Sn(this.root,Re.ARIA_MULTI_SELECTABLE_SELECTOR)?this.selectedIndex=i:i.length>0&&(this.selectedIndex=i[0])}else{var r=this.root.querySelectorAll(Re.ARIA_ROLE_CHECKBOX_SELECTOR),o=this.root.querySelector(Re.ARIA_CHECKED_RADIO_SELECTOR);if(r.length){var s=this.root.querySelectorAll(Re.ARIA_CHECKED_CHECKBOX_SELECTOR);this.selectedIndex=Array.from(s,function(c){return t.listElements.indexOf(c)})}else o&&(this.selectedIndex=this.listElements.indexOf(o))}},e.prototype.setEnabled=function(t,i){this.foundation.setEnabled(t,i)},e.prototype.typeaheadMatchItem=function(t,i){return this.foundation.typeaheadMatchItem(t,i,!0)},e.prototype.getDefaultFoundation=function(){var t=this,i={addClassForElementIndex:function(r,o){var s=t.listElements[r];s&&s.classList.add(t.classNameMap[o])},focusItemAtIndex:function(r){var o=t.listElements[r];o&&o.focus()},getAttributeForElementIndex:function(r,o){return t.listElements[r].getAttribute(o)},getFocusedElementIndex:function(){return t.listElements.indexOf(document.activeElement)},getListItemCount:function(){return t.listElements.length},getPrimaryTextAtIndex:function(r){return t.getPrimaryText(t.listElements[r])},hasCheckboxAtIndex:function(r){return!!t.listElements[r].querySelector(Re.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(r){return!!t.listElements[r].querySelector(Re.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(r){return t.listElements[r].querySelector(Re.CHECKBOX_SELECTOR).checked},isFocusInsideList:function(){return t.root!==document.activeElement&&t.root.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===t.root},listItemAtIndexHasClass:function(r,o){return t.listElements[r].classList.contains(t.classNameMap[o])},notifyAction:function(r){t.emit(Re.ACTION_EVENT,{index:r},!0)},notifySelectionChange:function(r){t.emit(Re.SELECTION_CHANGE_EVENT,{changedIndices:r},!0)},removeClassForElementIndex:function(r,o){var s=t.listElements[r];s&&s.classList.remove(t.classNameMap[o])},setAttributeForElementIndex:function(r,o,s){var c=t.listElements[r];c&&c.setAttribute(o,s)},setCheckedCheckboxOrRadioAtIndex:function(r,o){var s=t.listElements[r].querySelector(Re.CHECKBOX_RADIO_SELECTOR);s.checked=o;var c=document.createEvent("Event");c.initEvent("change",!0,!0),s.dispatchEvent(c)},setTabIndexForListItemChildren:function(r,o){var s=t.listElements[r],c=Re.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX;Array.prototype.forEach.call(s.querySelectorAll(c),function(u){u.setAttribute("tabindex",o)})}};return new sh(i)},e.prototype.ensureFocusable=function(){if(this.isEvolutionEnabled&&this.isInteractive&&!this.root.querySelector("."+this.classNameMap[re.LIST_ITEM_CLASS]+'[tabindex="0"]')){var t=this.initialFocusIndex();t!==-1&&(this.listElements[t].tabIndex=0)}},e.prototype.initialFocusIndex=function(){if(this.selectedIndex instanceof Array&&this.selectedIndex.length>0)return this.selectedIndex[0];if(typeof this.selectedIndex=="number"&&this.selectedIndex!==Be.UNSET_INDEX)return this.selectedIndex;var t=this.root.querySelector("."+this.classNameMap[re.LIST_ITEM_CLASS]+":not(."+this.classNameMap[re.LIST_ITEM_DISABLED_CLASS]+")");return t===null?-1:this.getListItemIndex(t)},e.prototype.getListItemIndex=function(t){var i=gc(t,"."+this.classNameMap[re.LIST_ITEM_CLASS]+", ."+this.classNameMap[re.ROOT]);return i&&Sn(i,"."+this.classNameMap[re.LIST_ITEM_CLASS])?this.listElements.indexOf(i):-1},e.prototype.handleFocusInEvent=function(t){var i=this.getListItemIndex(t.target);this.foundation.handleFocusIn(i)},e.prototype.handleFocusOutEvent=function(t){var i=this.getListItemIndex(t.target);this.foundation.handleFocusOut(i)},e.prototype.handleKeydownEvent=function(t){var i=this.getListItemIndex(t.target),r=t.target;this.foundation.handleKeydown(t,r.classList.contains(this.classNameMap[re.LIST_ITEM_CLASS]),i)},e.prototype.handleClickEvent=function(t){var i=this.getListItemIndex(t.target),r=!Sn(t.target,Re.CHECKBOX_RADIO_SELECTOR);this.foundation.handleClick(i,r,t)},e}(Et),Ni=function(n){function e(t){var i=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return i.isSurfaceOpen=!1,i.isQuickOpen=!1,i.isHoistedElement=!1,i.isFixedPosition=!1,i.isHorizontallyCenteredOnViewport=!1,i.maxHeight=0,i.openBottomBias=0,i.openAnimationEndTimerId=0,i.closeAnimationEndTimerId=0,i.animationRequestId=0,i.anchorCorner=Is.TOP_START,i.originCorner=Is.TOP_START,i.anchorMargin={top:0,right:0,bottom:0,left:0},i.position={x:0,y:0},i}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return Cs},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ts},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return xs},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return Is},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyClosing:function(){},notifyOpen:function(){},notifyOpening:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=e.cssClasses,i=t.ROOT,r=t.OPEN;if(!this.adapter.hasClass(i))throw new Error(i+" class required in root element.");this.adapter.hasClass(r)&&(this.isSurfaceOpen=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},e.prototype.setAnchorCorner=function(t){this.anchorCorner=t},e.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^ze.RIGHT},e.prototype.setAnchorMargin=function(t){this.anchorMargin.top=t.top||0,this.anchorMargin.right=t.right||0,this.anchorMargin.bottom=t.bottom||0,this.anchorMargin.left=t.left||0},e.prototype.setIsHoisted=function(t){this.isHoistedElement=t},e.prototype.setFixedPosition=function(t){this.isFixedPosition=t},e.prototype.isFixed=function(){return this.isFixedPosition},e.prototype.setAbsolutePosition=function(t,i){this.position.x=this.isFinite(t)?t:0,this.position.y=this.isFinite(i)?i:0},e.prototype.setIsHorizontallyCenteredOnViewport=function(t){this.isHorizontallyCenteredOnViewport=t},e.prototype.setQuickOpen=function(t){this.isQuickOpen=t},e.prototype.setMaxHeight=function(t){this.maxHeight=t},e.prototype.setOpenBottomBias=function(t){this.openBottomBias=t},e.prototype.isOpen=function(){return this.isSurfaceOpen},e.prototype.open=function(){var t=this;this.isSurfaceOpen||(this.adapter.notifyOpening(),this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(e.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame(function(){t.dimensions=t.adapter.getInnerDimensions(),t.autoposition(),t.adapter.addClass(e.cssClasses.OPEN),t.openAnimationEndTimerId=setTimeout(function(){t.openAnimationEndTimerId=0,t.adapter.removeClass(e.cssClasses.ANIMATING_OPEN),t.adapter.notifyOpen()},xs.TRANSITION_OPEN_DURATION)}),this.isSurfaceOpen=!0))},e.prototype.close=function(t){var i=this;if(t===void 0&&(t=!1),this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen)return this.isSurfaceOpen=!1,t||this.maybeRestoreFocus(),this.adapter.removeClass(e.cssClasses.OPEN),this.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),void this.adapter.notifyClose();this.adapter.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){i.adapter.removeClass(e.cssClasses.OPEN),i.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),i.closeAnimationEndTimerId=setTimeout(function(){i.closeAnimationEndTimerId=0,i.adapter.removeClass(e.cssClasses.ANIMATING_CLOSED),i.adapter.notifyClose()},xs.TRANSITION_CLOSE_DURATION)}),this.isSurfaceOpen=!1,t||this.maybeRestoreFocus()}},e.prototype.handleBodyClick=function(t){var i=t.target;this.adapter.isElementInContainer(i)||this.close()},e.prototype.handleKeydown=function(t){var i=t.keyCode;(t.key==="Escape"||i===27)&&this.close()},e.prototype.autoposition=function(){var t;this.measurements=this.getAutoLayoutmeasurements();var i=this.getoriginCorner(),r=this.getMenuSurfaceMaxHeight(i),o=this.hasBit(i,ze.BOTTOM)?"bottom":"top",s=this.hasBit(i,ze.RIGHT)?"right":"left",c=this.getHorizontalOriginOffset(i),u=this.getVerticalOriginOffset(i),d=this.measurements,m=d.anchorSize,y=d.surfaceSize,g=((t={})[s]=c,t[o]=u,t);m.width/y.width>xs.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(s="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(g),this.adapter.setTransformOrigin(s+" "+o),this.adapter.setPosition(g),this.adapter.setMaxHeight(r?r+"px":""),this.hasBit(i,ze.BOTTOM)||this.adapter.addClass(e.cssClasses.IS_OPEN_BELOW)},e.prototype.getAutoLayoutmeasurements=function(){var t=this.adapter.getAnchorDimensions(),i=this.adapter.getBodyDimensions(),r=this.adapter.getWindowDimensions(),o=this.adapter.getWindowScroll();return t||(t={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:t,bodySize:i,surfaceSize:this.dimensions,viewportDistance:{top:t.top,right:r.width-t.right,bottom:r.height-t.bottom,left:t.left},viewportSize:r,windowScroll:o}},e.prototype.getoriginCorner=function(){var t,i,r=this.originCorner,o=this.measurements,s=o.viewportDistance,c=o.anchorSize,u=o.surfaceSize,d=e.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,ze.BOTTOM)?(t=s.top-d+this.anchorMargin.bottom,i=s.bottom-d-this.anchorMargin.bottom):(t=s.top-d+this.anchorMargin.top,i=s.bottom-d+c.height-this.anchorMargin.top),!(i-u.height>0)&&t>i+this.openBottomBias&&(r=this.setBit(r,ze.BOTTOM));var m,y,g=this.adapter.isRtl(),b=this.hasBit(this.anchorCorner,ze.FLIP_RTL),w=this.hasBit(this.anchorCorner,ze.RIGHT)||this.hasBit(r,ze.RIGHT),C=!1;(C=g&&b?!w:w)?(m=s.left+c.width+this.anchorMargin.right,y=s.right-this.anchorMargin.right):(m=s.left+this.anchorMargin.left,y=s.right+c.width-this.anchorMargin.left);var k=m-u.width>0,A=y-u.width>0,F=this.hasBit(r,ze.FLIP_RTL)&&this.hasBit(r,ze.RIGHT);return A&&F&&g||!k&&F?r=this.unsetBit(r,ze.RIGHT):(k&&C&&g||k&&!C&&w||!A&&m>=y)&&(r=this.setBit(r,ze.RIGHT)),r},e.prototype.getMenuSurfaceMaxHeight=function(t){if(this.maxHeight>0)return this.maxHeight;var i=this.measurements.viewportDistance,r=0,o=this.hasBit(t,ze.BOTTOM),s=this.hasBit(this.anchorCorner,ze.BOTTOM),c=e.numbers.MARGIN_TO_EDGE;return o?(r=i.top+this.anchorMargin.top-c,s||(r+=this.measurements.anchorSize.height)):(r=i.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-c,s&&(r-=this.measurements.anchorSize.height)),r},e.prototype.getHorizontalOriginOffset=function(t){var i=this.measurements.anchorSize,r=this.hasBit(t,ze.RIGHT),o=this.hasBit(this.anchorCorner,ze.RIGHT);if(r){var s=o?i.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?s-(this.measurements.viewportSize.width-this.measurements.bodySize.width):s}return o?i.width-this.anchorMargin.right:this.anchorMargin.left},e.prototype.getVerticalOriginOffset=function(t){var i=this.measurements.anchorSize,r=this.hasBit(t,ze.BOTTOM),o=this.hasBit(this.anchorCorner,ze.BOTTOM);return r?o?i.height-this.anchorMargin.top:-this.anchorMargin.bottom:o?i.height+this.anchorMargin.bottom:this.anchorMargin.top},e.prototype.adjustPositionForHoistedElement=function(t){var i,r,o=this.measurements,s=o.windowScroll,c=o.viewportDistance,u=o.surfaceSize,d=o.viewportSize,m=Object.keys(t);try{for(var y=bt(m),g=y.next();!g.done;g=y.next()){var b=g.value,w=t[b]||0;!this.isHorizontallyCenteredOnViewport||b!=="left"&&b!=="right"?(w+=c[b],this.isFixedPosition||(b==="top"?w+=s.y:b==="bottom"?w-=s.y:b==="left"?w+=s.x:w-=s.x),t[b]=w):t[b]=(d.width-u.width)/2}}catch(C){i={error:C}}finally{try{g&&!g.done&&(r=y.return)&&r.call(y)}finally{if(i)throw i.error}}},e.prototype.maybeRestoreFocus=function(){var t=this,i=this.adapter.isFocused(),r=this.adapter.getOwnerDocument?this.adapter.getOwnerDocument():document,o=r.activeElement&&this.adapter.isElementInContainer(r.activeElement);(i||o)&&setTimeout(function(){t.adapter.restoreFocus()},xs.TOUCH_EVENT_WAIT_MS)},e.prototype.hasBit=function(t,i){return!!(t&i)},e.prototype.setBit=function(t,i){return t|i},e.prototype.unsetBit=function(t,i){return t^i},e.prototype.isFinite=function(t){return typeof t=="number"&&isFinite(t)},e}(pt),eS=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){var t=this,i=this.root.parentElement;this.anchorElement=i&&i.classList.contains(Cs.ANCHOR)?i:null,this.root.classList.contains(Cs.FIXED)&&this.setFixedPosition(!0),this.handleKeydown=function(r){t.foundation.handleKeydown(r)},this.handleBodyClick=function(r){t.foundation.handleBodyClick(r)},this.registerBodyClickListener=function(){document.body.addEventListener("click",t.handleBodyClick,{capture:!0})},this.deregisterBodyClickListener=function(){document.body.removeEventListener("click",t.handleBodyClick,{capture:!0})},this.listen("keydown",this.handleKeydown),this.listen(Ts.OPENED_EVENT,this.registerBodyClickListener),this.listen(Ts.CLOSED_EVENT,this.deregisterBodyClickListener)},e.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten(Ts.OPENED_EVENT,this.registerBodyClickListener),this.unlisten(Ts.CLOSED_EVENT,this.deregisterBodyClickListener),n.prototype.destroy.call(this)},e.prototype.isOpen=function(){return this.foundation.isOpen()},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){t===void 0&&(t=!1),this.foundation.close(t)},Object.defineProperty(e.prototype,"quickOpen",{set:function(t){this.foundation.setQuickOpen(t)},enumerable:!1,configurable:!0}),e.prototype.setIsHoisted=function(t){this.foundation.setIsHoisted(t)},e.prototype.setMenuSurfaceAnchorElement=function(t){this.anchorElement=t},e.prototype.setFixedPosition=function(t){t?this.root.classList.add(Cs.FIXED):this.root.classList.remove(Cs.FIXED),this.foundation.setFixedPosition(t)},e.prototype.setAbsolutePosition=function(t,i){this.foundation.setAbsolutePosition(t,i),this.setIsHoisted(!0)},e.prototype.setAnchorCorner=function(t){this.foundation.setAnchorCorner(t)},e.prototype.setAnchorMargin=function(t){this.foundation.setAnchorMargin(t)},e.prototype.getDefaultFoundation=function(){var t=this,i={addClass:function(r){return t.root.classList.add(r)},removeClass:function(r){return t.root.classList.remove(r)},hasClass:function(r){return t.root.classList.contains(r)},hasAnchor:function(){return!!t.anchorElement},notifyClose:function(){return t.emit(Ni.strings.CLOSED_EVENT,{})},notifyClosing:function(){t.emit(Ni.strings.CLOSING_EVENT,{})},notifyOpen:function(){return t.emit(Ni.strings.OPENED_EVENT,{})},notifyOpening:function(){return t.emit(Ni.strings.OPENING_EVENT,{})},isElementInContainer:function(r){return t.root.contains(r)},isRtl:function(){return getComputedStyle(t.root).getPropertyValue("direction")==="rtl"},setTransformOrigin:function(r){var o=pv(window,"transform")+"-origin";t.root.style.setProperty(o,r)},isFocused:function(){return document.activeElement===t.root},saveFocus:function(){t.previousFocus=document.activeElement},restoreFocus:function(){t.root.contains(document.activeElement)&&t.previousFocus&&t.previousFocus.focus&&t.previousFocus.focus()},getInnerDimensions:function(){return{width:t.root.offsetWidth,height:t.root.offsetHeight}},getAnchorDimensions:function(){return t.anchorElement?t.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(r){var o=t.root;o.style.left="left"in r?r.left+"px":"",o.style.right="right"in r?r.right+"px":"",o.style.top="top"in r?r.top+"px":"",o.style.bottom="bottom"in r?r.bottom+"px":""},setMaxHeight:function(r){t.root.style.maxHeight=r}};return new Ni(i)},e}(Et),oo={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},Zn={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},tS={FOCUS_ROOT_INDEX:-1};(function(n){n[n.NONE=0]="NONE",n[n.LIST_ROOT=1]="LIST_ROOT",n[n.FIRST_ITEM=2]="FIRST_ITEM",n[n.LAST_ITEM=3]="LAST_ITEM"})(ro||(ro={}));var nS=function(n){function e(t){var i=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return i.closeAnimationEndTimerId=0,i.defaultFocusState=ro.LIST_ROOT,i.selectedIndex=-1,i}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return oo},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Zn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return tS},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},e.prototype.handleKeydown=function(t){var i=t.key,r=t.keyCode;(i==="Tab"||r===9)&&this.adapter.closeSurface(!0)},e.prototype.handleItemAction=function(t){var i=this,r=this.adapter.getElementIndex(t);if(!(r<0)){this.adapter.notifySelected({index:r});var o=this.adapter.getAttributeFromElementAtIndex(r,Zn.SKIP_RESTORE_FOCUS)==="true";this.adapter.closeSurface(o),this.closeAnimationEndTimerId=setTimeout(function(){var s=i.adapter.getElementIndex(t);s>=0&&i.adapter.isSelectableItemAtIndex(s)&&i.setSelectedIndex(s)},Ni.numbers.TRANSITION_CLOSE_DURATION)}},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case ro.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case ro.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case ro.NONE:break;default:this.adapter.focusListRoot()}},e.prototype.setDefaultFocusState=function(t){this.defaultFocusState=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex},e.prototype.setSelectedIndex=function(t){if(this.validatedIndex(t),!this.adapter.isSelectableItemAtIndex(t))throw new Error("MDCMenuFoundation: No selection group at specified index.");var i=this.adapter.getSelectedSiblingOfItemAtIndex(t);i>=0&&(this.adapter.removeAttributeFromElementAtIndex(i,Zn.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(i,oo.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(t,oo.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(t,Zn.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=t},e.prototype.setEnabled=function(t,i){this.validatedIndex(t),i?(this.adapter.removeClassFromElementAtIndex(t,re.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,Zn.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(t,re.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,Zn.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex=function(t){var i=this.adapter.getMenuItemCount();if(!(t>=0&&t<i))throw new Error("MDCMenuFoundation: No list item at specified index.")},e}(pt),iS=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,i){t===void 0&&(t=function(r){return new eS(r)}),i===void 0&&(i=function(r){return new Zx(r)}),this.menuSurfaceFactory=t,this.listFactory=i},e.prototype.initialSyncWithDOM=function(){var t=this;this.menuSurface=this.menuSurfaceFactory(this.root);var i=this.root.querySelector(Zn.LIST_SELECTOR);i?(this.list=this.listFactory(i),this.list.wrapFocus=!0):this.list=null,this.handleKeydown=function(r){t.foundation.handleKeydown(r)},this.handleItemAction=function(r){t.foundation.handleItemAction(t.items[r.detail.index])},this.handleMenuSurfaceOpened=function(){t.foundation.handleMenuSurfaceOpened()},this.menuSurface.listen(Ni.strings.OPENED_EVENT,this.handleMenuSurfaceOpened),this.listen("keydown",this.handleKeydown),this.listen(sh.strings.ACTION_EVENT,this.handleItemAction)},e.prototype.destroy=function(){this.list&&this.list.destroy(),this.menuSurface.destroy(),this.menuSurface.unlisten(Ni.strings.OPENED_EVENT,this.handleMenuSurfaceOpened),this.unlisten("keydown",this.handleKeydown),this.unlisten(sh.strings.ACTION_EVENT,this.handleItemAction),n.prototype.destroy.call(this)},Object.defineProperty(e.prototype,"open",{get:function(){return this.menuSurface.isOpen()},set:function(t){t?this.menuSurface.open():this.menuSurface.close()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapFocus",{get:function(){return!!this.list&&this.list.wrapFocus},set:function(t){this.list&&(this.list.wrapFocus=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTypeahead",{set:function(t){this.list&&(this.list.hasTypeahead=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeaheadInProgress",{get:function(){return!!this.list&&this.list.typeaheadInProgress},enumerable:!1,configurable:!0}),e.prototype.typeaheadMatchItem=function(t,i){return this.list?this.list.typeaheadMatchItem(t,i):-1},e.prototype.layout=function(){this.list&&this.list.layout()},Object.defineProperty(e.prototype,"items",{get:function(){return this.list?this.list.listElements:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"singleSelection",{set:function(t){this.list&&(this.list.singleSelection=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this.list?this.list.selectedIndex:Be.UNSET_INDEX},set:function(t){this.list&&(this.list.selectedIndex=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quickOpen",{set:function(t){this.menuSurface.quickOpen=t},enumerable:!1,configurable:!0}),e.prototype.setDefaultFocusState=function(t){this.foundation.setDefaultFocusState(t)},e.prototype.setAnchorCorner=function(t){this.menuSurface.setAnchorCorner(t)},e.prototype.setAnchorMargin=function(t){this.menuSurface.setAnchorMargin(t)},e.prototype.setSelectedIndex=function(t){this.foundation.setSelectedIndex(t)},e.prototype.setEnabled=function(t,i){this.foundation.setEnabled(t,i)},e.prototype.getOptionByIndex=function(t){return t<this.items.length?this.items[t]:null},e.prototype.getPrimaryTextAtIndex=function(t){var i=this.getOptionByIndex(t);return i&&this.list&&this.list.getPrimaryText(i)||""},e.prototype.setFixedPosition=function(t){this.menuSurface.setFixedPosition(t)},e.prototype.setIsHoisted=function(t){this.menuSurface.setIsHoisted(t)},e.prototype.setAbsolutePosition=function(t,i){this.menuSurface.setAbsolutePosition(t,i)},e.prototype.setAnchorElement=function(t){this.menuSurface.anchorElement=t},e.prototype.getDefaultFoundation=function(){var t=this,i={addClassToElementAtIndex:function(r,o){t.items[r].classList.add(o)},removeClassFromElementAtIndex:function(r,o){t.items[r].classList.remove(o)},addAttributeToElementAtIndex:function(r,o,s){t.items[r].setAttribute(o,s)},removeAttributeFromElementAtIndex:function(r,o){t.items[r].removeAttribute(o)},getAttributeFromElementAtIndex:function(r,o){return t.items[r].getAttribute(o)},elementContainsClass:function(r,o){return r.classList.contains(o)},closeSurface:function(r){t.menuSurface.close(r)},getElementIndex:function(r){return t.items.indexOf(r)},notifySelected:function(r){t.emit(Zn.SELECTED_EVENT,{index:r.index,item:t.items[r.index]})},getMenuItemCount:function(){return t.items.length},focusItemAtIndex:function(r){t.items[r].focus()},focusListRoot:function(){t.root.querySelector(Zn.LIST_SELECTOR).focus()},isSelectableItemAtIndex:function(r){return!!gc(t.items[r],"."+oo.MENU_SELECTION_GROUP)},getSelectedSiblingOfItemAtIndex:function(r){var o=gc(t.items[r],"."+oo.MENU_SELECTION_GROUP).querySelector("."+oo.MENU_SELECTED_LIST_ITEM);return o?t.items.indexOf(o):-1}};return new nS(i)},e}(Et);function rS(n,e,t){return e.create(Ti,{func:i=>{new iS(i).open=n.menuvisible}},e.create("div",{class:"mdc-menu mdc-menu-surface",style:`
            opacity: ${n.menuvisible?1:0};
            
          `},e.create("ul",{class:"mdc-deprecated-list","aria-hidden":"true","aria-orientation":"vertical",tabindex:"-1"},e.create("div",{_content:`<template x-for="item in ${ce(function(){return n.menulist})}">
          ${e.create("li",{class:"mdc-deprecated-list-item","x-on:click":ce(function(){this[n.menumodel]=this.item,this.menuvisible=!1})},e.create("span",{class:"mdc-deprecated-list-item__ripple"}),e.create("span",{class:"mdc-deprecated-list-item__text",style:"color: var(--mdc-theme-secondary);","x-text":"item.seriesname"},"A Menu Item")).outerHTML}
          </template>`}))))[0]}function oS(n,e,t){return e.create(e.fragment,null,e.create("style",{_content:`
  .container_row {
    display: grid;
  }

  .layer1,
  .layer2 {
    grid-column: 1;
    grid-row: 1;
  }

  .layer1 span {
    color: #fff;
    background: #000cf6;
  }

  .layer2 {
    background: rgba(255, 0, 0, 0.4);
  }
            `}),e.create("div",{"x-init":"() => {\n        var vh = $store.appData.fontsize\n        document.documentElement.style.setProperty('--fontsize', `${vh}px`);\n}"}),e.create("div",{style:`overflow-y: scroll; 
  height: calc(calc(var(--vh, 1vh) * 100) - 85px)`},e.create("div",{style:`
    width:100%;
    height: 100%;
    
  `},e.create("div",{class:"container_row"},e.create("div",{style:`
  display: flex;
   justify-content: center;
  `,class:"layer1"},e.create("img",{style:`
            width: 100%;
            height: calc(var(--vh, 1vh) * 35);
            filter: blur(2px);
            z-index: 0;
          `,"x-bind:src":"currentprogram.imageurl"})),e.create("div",{id:"resizetarget"}),e.create("div",{class:"layer1",style:`
        z-index: 1;
      `},e.create("div",{style:`
                height: calc(var(--vh, 1vh) * 35);
                width: calc(100% - 36px);
                display: block;
                flex-wrap: wrap;
                padding-top: 16px;
                margin-left: 18px;
                margin-right: 18px;
                align-content: baseline;
                justify-content: center;
                z-index: 1;
              `},e.create("h2",{"x-text":"currentprogram.title"}),e.create("div",{"x-text":"currentprogram.description"})))),e.create("div",null,e.create("div",{class:"mdc-menu-surface--anchor"},e.create("div",{"x-data":`{
                menuvisible: false,
              }`,"x-html":ur(function(){return e.create("div",null,e.create("div",{style:`
                          width: fit-content;
                      `,"x-on:click":ce(function(){this.menuvisible=!0})}),e.create(Ti,{func:i=>{Qn.attachTo(i)}},e.create("div",{style:`
                        border: 2px solid var(--mdc-theme-primary);
                        border-radius: 4px;
                        width: fit-content;
                        --mdc-text-button-label-text-color: var(--mdc-theme-secondary);
                        margin: 4px;
                        display: flex;
                        align-content: center;
                      `,class:"mdc-ripple-surface mdc-ripple-surface--accent","x-on:click":ce(function(){this.menuvisible=!this.menuvisible})},e.create(ge,{label:e.create("div",{style:`
                              display: flex;
                            `},e.create("div",{style:`
                                height: 24px;
                                vertical-align: center;
                                padding-top: 2px;
                              `,"x-text":"currentselected.seriesname"},"1234"),e.create("span",{class:"material-symbols-outlined material-icons"},"arrow_drop_down")),type:"--text"}))),e.create(rS,{menulist:this.currentprogram.serieses,menuvisible:this.menuvisible,menumodel:"currentselected"}))})})),e.create("div",null,e.create("div",{_content:`
      <template x-for="(item, index) in currentselected.videos">
          ${e.create("div",null,e.create(on,{attributes:{"x-transition.duration.250ms":""}},e.create("div",{style:`
          width: calc(100% - 20px);
          margin-left: 10px;
          margin-right: 10px;
          justify-content: center;
        `},e.create("div",{style:`
                            display:flex
                            `},e.create("img",{style:`
                          width: 150px;
                          height: 150px;
                          margin-top: 10px;
                        `,"x-bind:src":"currentselected.imageurl"}),e.create("div",{style:`
                                height: 100%;
                                display: block;
                              `},e.create("div",{style:`
                          font-family: BlinkMacSystemFont,-apple-system,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',Helvetica,Arial,sans-serif;
                          font-size: 2em;
                          margin-left: 10px;
                          margin-bottom: 5px;
                          `,"x-text":"item.videotitle"},"Southeast Gear"),e.create("div",{style:`
                                  margin-left: 10px;
                                `,"x-on:click":ce(function(){this.selectedvideo={selected:!0,fullscreen:!1,videourl:"https://www.youtube.com/watch?v=D-eDNDfU3oY",directurl:"https://www.youtube.com/watch?v=D-eDNDfU3oY",timeoutid:0,videotitle:"",description:"",messagevisible:!1,...this.item},this.$store.uiData.page="watch",this.$store.uiData.navbars.main="watch"})},e.create(ge,{label:"Watch now",type:"--raised"}))))))).outerHTML}
        </template>
        `}))))))}var xc,ah="mdc-dom-focus-sentinel",sS=function(){function n(e,t){t===void 0&&(t={}),this.root=e,this.options=t,this.elFocusedBeforeTrapFocus=null}return n.prototype.trapFocus=function(){var e=this.getFocusableElements(this.root);if(e.length===0)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root),this.options.skipInitialFocus||this.focusInitialElement(e,this.options.initialFocusEl)},n.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+ah)).forEach(function(e){e.parentElement.removeChild(e)}),!this.options.skipRestoreFocus&&this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},n.prototype.wrapTabFocus=function(e){var t=this,i=this.createSentinel(),r=this.createSentinel();i.addEventListener("focus",function(){var o=t.getFocusableElements(e);o.length>0&&o[o.length-1].focus()}),r.addEventListener("focus",function(){var o=t.getFocusableElements(e);o.length>0&&o[0].focus()}),e.insertBefore(i,e.children[0]),e.appendChild(r)},n.prototype.focusInitialElement=function(e,t){var i=0;t&&(i=Math.max(e.indexOf(t),0)),e[i].focus()},n.prototype.getFocusableElements=function(e){return[].slice.call(e.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button")).filter(function(t){var i=t.getAttribute("aria-disabled")==="true"||t.getAttribute("disabled")!=null||t.getAttribute("hidden")!=null||t.getAttribute("aria-hidden")==="true",r=t.tabIndex>=0&&t.getBoundingClientRect().width>0&&!t.classList.contains(ah)&&!i,o=!1;if(r){var s=getComputedStyle(t);o=s.display==="none"||s.visibility==="hidden"}return r&&!o})},n.prototype.createSentinel=function(){var e=document.createElement("div");return e.setAttribute("tabindex","0"),e.setAttribute("aria-hidden","true"),e.classList.add(ah),e},n}(),aS=function(){function n(){this.rafIDs=new Map}return n.prototype.request=function(e,t){var i=this;this.cancel(e);var r=requestAnimationFrame(function(o){i.rafIDs.delete(e),t(o)});this.rafIDs.set(e,r)},n.prototype.cancel=function(e){var t=this.rafIDs.get(e);t&&(cancelAnimationFrame(t),this.rafIDs.delete(e))},n.prototype.cancelAll=function(){var e=this;this.rafIDs.forEach(function(t,i){e.cancel(i)})},n.prototype.getQueue=function(){var e=[];return this.rafIDs.forEach(function(t,i){e.push(i)}),e},n}(),Se={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked",FULLSCREEN:"mdc-dialog--fullscreen",SCROLL_DIVIDER_HEADER:"mdc-dialog-scroll-divider-header",SCROLL_DIVIDER_FOOTER:"mdc-dialog-scroll-divider-footer",SURFACE_SCRIM_SHOWN:"mdc-dialog__surface-scrim--shown",SURFACE_SCRIM_SHOWING:"mdc-dialog__surface-scrim--showing",SURFACE_SCRIM_HIDING:"mdc-dialog__surface-scrim--hiding",SCRIM_HIDDEN:"mdc-dialog__scrim--hidden"},Ss={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},ch={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150};(function(n){n.POLL_SCROLL_POS="poll_scroll_position",n.POLL_LAYOUT_CHANGE="poll_layout_change"})(xc||(xc={}));var f_=function(n){function e(t){var i=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return i.dialogOpen=!1,i.isFullscreen=!1,i.animationFrame=0,i.animationTimer=0,i.escapeKeyAction=Ss.CLOSE_ACTION,i.scrimClickAction=Ss.CLOSE_ACTION,i.autoStackButtons=!0,i.areButtonsStacked=!1,i.suppressDefaultPressSelector=Ss.SUPPRESS_DEFAULT_PRESS_SELECTOR,i.animFrame=new aS,i.contentScrollHandler=function(){i.handleScrollEvent()},i.windowResizeHandler=function(){i.layout()},i.windowOrientationChangeHandler=function(){i.layout()},i}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return Se},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ss},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return ch},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){},registerContentEventHandler:function(){},deregisterContentEventHandler:function(){},isScrollableContentAtTop:function(){return!1},isScrollableContentAtBottom:function(){return!1},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.hasClass(Se.STACKED)&&this.setAutoStackButtons(!1),this.isFullscreen=this.adapter.hasClass(Se.FULLSCREEN)},e.prototype.destroy=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.handleAnimationTimerEnd()),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.animFrame.cancelAll(),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler)},e.prototype.open=function(t){var i=this;this.dialogOpen=!0,this.adapter.notifyOpening(),this.adapter.addClass(Se.OPENING),this.isFullscreen&&this.adapter.registerContentEventHandler("scroll",this.contentScrollHandler),t&&t.isAboveFullscreenDialog&&this.adapter.addClass(Se.SCRIM_HIDDEN),this.adapter.registerWindowEventHandler("resize",this.windowResizeHandler),this.adapter.registerWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),this.runNextAnimationFrame(function(){i.adapter.addClass(Se.OPEN),i.adapter.addBodyClass(Se.SCROLL_LOCK),i.layout(),i.animationTimer=setTimeout(function(){i.handleAnimationTimerEnd(),i.adapter.trapFocus(i.adapter.getInitialFocusEl()),i.adapter.notifyOpened()},ch.DIALOG_ANIMATION_OPEN_TIME_MS)})},e.prototype.close=function(t){var i=this;t===void 0&&(t=""),this.dialogOpen&&(this.dialogOpen=!1,this.adapter.notifyClosing(t),this.adapter.addClass(Se.CLOSING),this.adapter.removeClass(Se.OPEN),this.adapter.removeBodyClass(Se.SCROLL_LOCK),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=setTimeout(function(){i.adapter.releaseFocus(),i.handleAnimationTimerEnd(),i.adapter.notifyClosed(t)},ch.DIALOG_ANIMATION_CLOSE_TIME_MS))},e.prototype.showSurfaceScrim=function(){var t=this;this.adapter.addClass(Se.SURFACE_SCRIM_SHOWING),this.runNextAnimationFrame(function(){t.adapter.addClass(Se.SURFACE_SCRIM_SHOWN)})},e.prototype.hideSurfaceScrim=function(){this.adapter.removeClass(Se.SURFACE_SCRIM_SHOWN),this.adapter.addClass(Se.SURFACE_SCRIM_HIDING)},e.prototype.handleSurfaceScrimTransitionEnd=function(){this.adapter.removeClass(Se.SURFACE_SCRIM_HIDING),this.adapter.removeClass(Se.SURFACE_SCRIM_SHOWING)},e.prototype.isOpen=function(){return this.dialogOpen},e.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction},e.prototype.setEscapeKeyAction=function(t){this.escapeKeyAction=t},e.prototype.getScrimClickAction=function(){return this.scrimClickAction},e.prototype.setScrimClickAction=function(t){this.scrimClickAction=t},e.prototype.getAutoStackButtons=function(){return this.autoStackButtons},e.prototype.setAutoStackButtons=function(t){this.autoStackButtons=t},e.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},e.prototype.setSuppressDefaultPressSelector=function(t){this.suppressDefaultPressSelector=t},e.prototype.layout=function(){var t=this;this.animFrame.request(xc.POLL_LAYOUT_CHANGE,function(){t.layoutInternal()})},e.prototype.handleClick=function(t){if(this.adapter.eventTargetMatches(t.target,Ss.SCRIM_SELECTOR)&&this.scrimClickAction!=="")this.close(this.scrimClickAction);else{var i=this.adapter.getActionFromEvent(t);i&&this.close(i)}},e.prototype.handleKeydown=function(t){var i=t.key==="Enter"||t.keyCode===13;if(i&&!this.adapter.getActionFromEvent(t)){var r=t.composedPath?t.composedPath()[0]:t.target,o=!this.suppressDefaultPressSelector||!this.adapter.eventTargetMatches(r,this.suppressDefaultPressSelector);i&&o&&this.adapter.clickDefaultButton()}},e.prototype.handleDocumentKeydown=function(t){(t.key==="Escape"||t.keyCode===27)&&this.escapeKeyAction!==""&&this.close(this.escapeKeyAction)},e.prototype.handleScrollEvent=function(){var t=this;this.animFrame.request(xc.POLL_SCROLL_POS,function(){t.toggleScrollDividerHeader(),t.toggleScrollDividerFooter()})},e.prototype.layoutInternal=function(){this.autoStackButtons&&this.detectStackedButtons(),this.toggleScrollableClasses()},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(Se.OPENING),this.adapter.removeClass(Se.CLOSING)},e.prototype.runNextAnimationFrame=function(t){var i=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame(function(){i.animationFrame=0,clearTimeout(i.animationTimer),i.animationTimer=setTimeout(t,0)})},e.prototype.detectStackedButtons=function(){this.adapter.removeClass(Se.STACKED);var t=this.adapter.areButtonsStacked();t&&this.adapter.addClass(Se.STACKED),t!==this.areButtonsStacked&&(this.adapter.reverseButtons(),this.areButtonsStacked=t)},e.prototype.toggleScrollableClasses=function(){this.adapter.removeClass(Se.SCROLLABLE),this.adapter.isContentScrollable()&&(this.adapter.addClass(Se.SCROLLABLE),this.isFullscreen&&(this.toggleScrollDividerHeader(),this.toggleScrollDividerFooter()))},e.prototype.toggleScrollDividerHeader=function(){this.adapter.isScrollableContentAtTop()?this.adapter.hasClass(Se.SCROLL_DIVIDER_HEADER)&&this.adapter.removeClass(Se.SCROLL_DIVIDER_HEADER):this.adapter.addClass(Se.SCROLL_DIVIDER_HEADER)},e.prototype.toggleScrollDividerFooter=function(){this.adapter.isScrollableContentAtBottom()?this.adapter.hasClass(Se.SCROLL_DIVIDER_FOOTER)&&this.adapter.removeClass(Se.SCROLL_DIVIDER_FOOTER):this.adapter.addClass(Se.SCROLL_DIVIDER_FOOTER)},e}(pt),mt=f_.strings,cS=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"escapeKeyAction",{get:function(){return this.foundation.getEscapeKeyAction()},set:function(t){this.foundation.setEscapeKeyAction(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrimClickAction",{get:function(){return this.foundation.getScrimClickAction()},set:function(t){this.foundation.setScrimClickAction(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoStackButtons",{get:function(){return this.foundation.getAutoStackButtons()},set:function(t){this.foundation.setAutoStackButtons(t)},enumerable:!1,configurable:!0}),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){var i,r;t===void 0&&(t=function(d,m){return new sS(d,m)});var o=this.root.querySelector(mt.CONTAINER_SELECTOR);if(!o)throw new Error("Dialog component requires a "+mt.CONTAINER_SELECTOR+" container element");this.container=o,this.content=this.root.querySelector(mt.CONTENT_SELECTOR),this.buttons=[].slice.call(this.root.querySelectorAll(mt.BUTTON_SELECTOR)),this.defaultButton=this.root.querySelector("["+mt.BUTTON_DEFAULT_ATTRIBUTE+"]"),this.focusTrapFactory=t,this.buttonRipples=[];try{for(var s=bt(this.buttons),c=s.next();!c.done;c=s.next()){var u=c.value;this.buttonRipples.push(new Qn(u))}}catch(d){i={error:d}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}},e.prototype.initialSyncWithDOM=function(){var t,i,r,o=this;this.focusTrap=(t=this.container,i=this.focusTrapFactory,r=this.getInitialFocusEl()||void 0,i(t,{initialFocusEl:r})),this.handleClick=this.foundation.handleClick.bind(this.foundation),this.handleKeydown=this.foundation.handleKeydown.bind(this.foundation),this.handleDocumentKeydown=this.foundation.handleDocumentKeydown.bind(this.foundation),this.handleOpening=function(){document.addEventListener("keydown",o.handleDocumentKeydown)},this.handleClosing=function(){document.removeEventListener("keydown",o.handleDocumentKeydown)},this.listen("click",this.handleClick),this.listen("keydown",this.handleKeydown),this.listen(mt.OPENING_EVENT,this.handleOpening),this.listen(mt.CLOSING_EVENT,this.handleClosing)},e.prototype.destroy=function(){this.unlisten("click",this.handleClick),this.unlisten("keydown",this.handleKeydown),this.unlisten(mt.OPENING_EVENT,this.handleOpening),this.unlisten(mt.CLOSING_EVENT,this.handleClosing),this.handleClosing(),this.buttonRipples.forEach(function(t){t.destroy()}),n.prototype.destroy.call(this)},e.prototype.layout=function(){this.foundation.layout()},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){t===void 0&&(t=""),this.foundation.close(t)},e.prototype.getDefaultFoundation=function(){var t=this,i={addBodyClass:function(r){return document.body.classList.add(r)},addClass:function(r){return t.root.classList.add(r)},areButtonsStacked:function(){return r=t.buttons,o=new Set,[].forEach.call(r,function(s){return o.add(s.offsetTop)}),o.size>1;var r,o},clickDefaultButton:function(){t.defaultButton&&!t.defaultButton.disabled&&t.defaultButton.click()},eventTargetMatches:function(r,o){return!!r&&Sn(r,o)},getActionFromEvent:function(r){if(!r.target)return"";var o=gc(r.target,"["+mt.ACTION_ATTRIBUTE+"]");return o&&o.getAttribute(mt.ACTION_ATTRIBUTE)},getInitialFocusEl:function(){return t.getInitialFocusEl()},hasClass:function(r){return t.root.classList.contains(r)},isContentScrollable:function(){return function(r){return!!r&&r.scrollHeight>r.offsetHeight}(t.content)},notifyClosed:function(r){return t.emit(mt.CLOSED_EVENT,r?{action:r}:{})},notifyClosing:function(r){return t.emit(mt.CLOSING_EVENT,r?{action:r}:{})},notifyOpened:function(){return t.emit(mt.OPENED_EVENT,{})},notifyOpening:function(){return t.emit(mt.OPENING_EVENT,{})},releaseFocus:function(){t.focusTrap.releaseFocus()},removeBodyClass:function(r){return document.body.classList.remove(r)},removeClass:function(r){return t.root.classList.remove(r)},reverseButtons:function(){t.buttons.reverse(),t.buttons.forEach(function(r){r.parentElement.appendChild(r)})},trapFocus:function(){t.focusTrap.trapFocus()},registerContentEventHandler:function(r,o){t.content instanceof HTMLElement&&t.content.addEventListener(r,o)},deregisterContentEventHandler:function(r,o){t.content instanceof HTMLElement&&t.content.removeEventListener(r,o)},isScrollableContentAtTop:function(){return function(r){return!!r&&r.scrollTop===0}(t.content)},isScrollableContentAtBottom:function(){return function(r){return!!r&&Math.ceil(r.scrollHeight-r.scrollTop)===r.clientHeight}(t.content)},registerWindowEventHandler:function(r,o){window.addEventListener(r,o)},deregisterWindowEventHandler:function(r,o){window.removeEventListener(r,o)}};return new f_(i)},e.prototype.getInitialFocusEl=function(){return this.root.querySelector("["+mt.INITIAL_FOCUS_ATTRIBUTE+"]")},e}(Et);function Sc(n,e,t){return console.log(n.title.get()),e.create(on,{attributes:{"x-transition:enter.duration.250ms":"","x-transition:leave.duration.250ms":""}},e.create(Ti,{func:i=>{new cS(i)}},e.create("div",{class:"mdc-dialog mdc-dialog--fullscreen mdc-dialog--open","x-show":n.dialogopen.get(),"x-data":!0},e.create("div",{class:"mdc-dialog__container"},e.create("div",{class:"mdc-dialog__surface","aria-modal":"true","aria-labelledby":"my-dialog-title","aria-describedby":"my-dialog-content"},e.create("div",{class:"mdc-dialog__header"},e.create("div",{style:`
                  width: 24px;
                `,"x-show":"!"+n.closeable.get()}),e.create("div",{style:`
                --mdc-text-button-label-text-color: var(--mdc-theme-secondary);
                display: flex;
                `,"x-on:click":n.dialogopen.set(!1),"x-show":n.closeable.get()},e.create(Ti,{func:i=>{Qn.attachTo(i)}},e.create(ge,{label:e.create("span",{class:"material-symbols-outlined material-icons"},"close"),type:"--text"}))),e.create("h2",{class:"mdc-dialog__title",id:"my-dialog-title",style:"color: var(--mdc-theme-secondary)","x-text":n.title.get()})),e.create("div",{class:"mdc-dialog__content",id:"my-dialog-content"},t),e.create("div",{class:"mdc-dialog__actions",style:`
                margin-right: 12px;
              `},n.dialogactions))),e.create("div",{class:"mdc-dialog__scrim"}))))}function lS(n,e,t){return e.create(Ti,{func:i=>{new Sv(i)}},e.create("label",{class:"mdc-text-field mdc-text-field--outlined mdc-text-field--textarea mdc-text-field--no-label"},e.create("span",{class:"mdc-notched-outline"},e.create("span",{class:"mdc-notched-outline__leading"}),e.create("span",{class:"mdc-notched-outline__notch"},e.create("span",{class:"mdc-floating-label",style:"color:white;"},n.label.get())),e.create("span",{class:"mdc-notched-outline__trailing"})),e.create("span",{class:"mdc-text-field__resizer"},e.create("textarea",{class:"mdc-text-field__input",rows:"8",cols:"40","aria-label":"Label","x-model":n.model.get(),style:`
                color:white;
                `}))))}function Ac(n){return{get:()=>n,set:e=>n+" = "+e}}function kn(n){return{cloned:structuredClone(n),get(){return this.cloned},set(e){this.cloned=e}}}var uS={ROOT:"mdc-form-field"},dS={LABEL_SELECTOR:".mdc-form-field > label"},m_=function(n){function e(t){var i=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return i.click=function(){i.handleClick()},i}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return uS},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return dS},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{activateInputRipple:function(){},deactivateInputRipple:function(){},deregisterInteractionHandler:function(){},registerInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerInteractionHandler("click",this.click)},e.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("click",this.click)},e.prototype.handleClick=function(){var t=this;this.adapter.activateInputRipple(),requestAnimationFrame(function(){t.adapter.deactivateInputRipple()})},e}(pt),hS=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Te(e,n),e.attachTo=function(t){return new e(t)},e.prototype.labelEl=function(){var t=m_.strings.LABEL_SELECTOR;return this.root.querySelector(t)},e.prototype.getDefaultFoundation=function(){var t=this,i={activateInputRipple:function(){t.input&&t.input.ripple&&t.input.ripple.activate()},deactivateInputRipple:function(){t.input&&t.input.ripple&&t.input.ripple.deactivate()},deregisterInteractionHandler:function(r,o){var s=t.labelEl();s&&s.removeEventListener(r,o)},registerInteractionHandler:function(r,o){var s=t.labelEl();s&&s.addEventListener(r,o)}};return new m_(i)},e}(Et),As={ANIM_CHECKED_INDETERMINATE:"mdc-checkbox--anim-checked-indeterminate",ANIM_CHECKED_UNCHECKED:"mdc-checkbox--anim-checked-unchecked",ANIM_INDETERMINATE_CHECKED:"mdc-checkbox--anim-indeterminate-checked",ANIM_INDETERMINATE_UNCHECKED:"mdc-checkbox--anim-indeterminate-unchecked",ANIM_UNCHECKED_CHECKED:"mdc-checkbox--anim-unchecked-checked",ANIM_UNCHECKED_INDETERMINATE:"mdc-checkbox--anim-unchecked-indeterminate",BACKGROUND:"mdc-checkbox__background",CHECKED:"mdc-checkbox--checked",CHECKMARK:"mdc-checkbox__checkmark",CHECKMARK_PATH:"mdc-checkbox__checkmark-path",DISABLED:"mdc-checkbox--disabled",INDETERMINATE:"mdc-checkbox--indeterminate",MIXEDMARK:"mdc-checkbox__mixedmark",NATIVE_CONTROL:"mdc-checkbox__native-control",ROOT:"mdc-checkbox",SELECTED:"mdc-checkbox--selected",UPGRADED:"mdc-checkbox--upgraded"},Nt={ARIA_CHECKED_ATTR:"aria-checked",ARIA_CHECKED_INDETERMINATE_VALUE:"mixed",DATA_INDETERMINATE_ATTR:"data-indeterminate",NATIVE_CONTROL_SELECTOR:".mdc-checkbox__native-control",TRANSITION_STATE_CHECKED:"checked",TRANSITION_STATE_INDETERMINATE:"indeterminate",TRANSITION_STATE_INIT:"init",TRANSITION_STATE_UNCHECKED:"unchecked"},g_={ANIM_END_LATCH_MS:250},pS=function(n){function e(t){var i=n.call(this,ae(ae({},e.defaultAdapter),t))||this;return i.currentCheckState=Nt.TRANSITION_STATE_INIT,i.currentAnimationClass="",i.animEndLatchTimer=0,i.enableAnimationEndHandler=!1,i}return Te(e,n),Object.defineProperty(e,"cssClasses",{get:function(){return As},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return g_},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},forceLayout:function(){},hasNativeControl:function(){return!1},isAttachedToDOM:function(){return!1},isChecked:function(){return!1},isIndeterminate:function(){return!1},removeClass:function(){},removeNativeControlAttr:function(){},setNativeControlAttr:function(){},setNativeControlDisabled:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.currentCheckState=this.determineCheckState(),this.updateAriaChecked(),this.adapter.addClass(As.UPGRADED)},e.prototype.destroy=function(){clearTimeout(this.animEndLatchTimer)},e.prototype.setDisabled=function(t){this.adapter.setNativeControlDisabled(t),t?this.adapter.addClass(As.DISABLED):this.adapter.removeClass(As.DISABLED)},e.prototype.handleAnimationEnd=function(){var t=this;this.enableAnimationEndHandler&&(clearTimeout(this.animEndLatchTimer),this.animEndLatchTimer=setTimeout(function(){t.adapter.removeClass(t.currentAnimationClass),t.enableAnimationEndHandler=!1},g_.ANIM_END_LATCH_MS))},e.prototype.handleChange=function(){this.transitionCheckState()},e.prototype.transitionCheckState=function(){if(this.adapter.hasNativeControl()){var t=this.currentCheckState,i=this.determineCheckState();if(t!==i){this.updateAriaChecked();var r=As.SELECTED;i===Nt.TRANSITION_STATE_UNCHECKED?this.adapter.removeClass(r):this.adapter.addClass(r),this.currentAnimationClass.length>0&&(clearTimeout(this.animEndLatchTimer),this.adapter.forceLayout(),this.adapter.removeClass(this.currentAnimationClass)),this.currentAnimationClass=this.getTransitionAnimationClass(t,i),this.currentCheckState=i,this.adapter.isAttachedToDOM()&&this.currentAnimationClass.length>0&&(this.adapter.addClass(this.currentAnimationClass),this.enableAnimationEndHandler=!0)}}},e.prototype.determineCheckState=function(){var t=Nt.TRANSITION_STATE_INDETERMINATE,i=Nt.TRANSITION_STATE_CHECKED,r=Nt.TRANSITION_STATE_UNCHECKED;return this.adapter.isIndeterminate()?t:this.adapter.isChecked()?i:r},e.prototype.getTransitionAnimationClass=function(t,i){var r=Nt.TRANSITION_STATE_INIT,o=Nt.TRANSITION_STATE_CHECKED,s=Nt.TRANSITION_STATE_UNCHECKED,c=e.cssClasses,u=c.ANIM_UNCHECKED_CHECKED,d=c.ANIM_UNCHECKED_INDETERMINATE,m=c.ANIM_CHECKED_UNCHECKED,y=c.ANIM_CHECKED_INDETERMINATE,g=c.ANIM_INDETERMINATE_CHECKED,b=c.ANIM_INDETERMINATE_UNCHECKED;switch(t){case r:return i===s?"":i===o?g:b;case s:return i===o?u:d;case o:return i===s?m:y;default:return i===o?g:b}},e.prototype.updateAriaChecked=function(){this.adapter.isIndeterminate()?this.adapter.setNativeControlAttr(Nt.ARIA_CHECKED_ATTR,Nt.ARIA_CHECKED_INDETERMINATE_VALUE):this.adapter.removeNativeControlAttr(Nt.ARIA_CHECKED_ATTR)},e}(pt),y_=["checked","indeterminate"],fS=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.rippleSurface=t.createRipple(),t}return Te(e,n),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"ripple",{get:function(){return this.rippleSurface},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this.getNativeControl().checked},set:function(t){this.getNativeControl().checked=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"indeterminate",{get:function(){return this.getNativeControl().indeterminate},set:function(t){this.getNativeControl().indeterminate=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.getNativeControl().disabled},set:function(t){this.foundation.setDisabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.getNativeControl().value},set:function(t){this.getNativeControl().value=t},enumerable:!1,configurable:!0}),e.prototype.initialize=function(){var t=Nt.DATA_INDETERMINATE_ATTR;this.getNativeControl().indeterminate=this.getNativeControl().getAttribute(t)==="true",this.getNativeControl().removeAttribute(t)},e.prototype.initialSyncWithDOM=function(){var t=this;this.handleChange=function(){t.foundation.handleChange()},this.handleAnimationEnd=function(){t.foundation.handleAnimationEnd()},this.getNativeControl().addEventListener("change",this.handleChange),this.listen(fv(window,"animationend"),this.handleAnimationEnd),this.installPropertyChangeHooks()},e.prototype.destroy=function(){this.rippleSurface.destroy(),this.getNativeControl().removeEventListener("change",this.handleChange),this.unlisten(fv(window,"animationend"),this.handleAnimationEnd),this.uninstallPropertyChangeHooks(),n.prototype.destroy.call(this)},e.prototype.getDefaultFoundation=function(){var t=this,i={addClass:function(r){return t.root.classList.add(r)},forceLayout:function(){return t.root.offsetWidth},hasNativeControl:function(){return!!t.getNativeControl()},isAttachedToDOM:function(){return!!t.root.parentNode},isChecked:function(){return t.checked},isIndeterminate:function(){return t.indeterminate},removeClass:function(r){t.root.classList.remove(r)},removeNativeControlAttr:function(r){t.getNativeControl().removeAttribute(r)},setNativeControlAttr:function(r,o){t.getNativeControl().setAttribute(r,o)},setNativeControlDisabled:function(r){t.getNativeControl().disabled=r}};return new pS(i)},e.prototype.createRipple=function(){var t=this,i=ae(ae({},Qn.createAdapter(this)),{deregisterInteractionHandler:function(r,o){t.getNativeControl().removeEventListener(r,o,xn())},isSurfaceActive:function(){return Sn(t.getNativeControl(),":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(r,o){t.getNativeControl().addEventListener(r,o,xn())}});return new Qn(this.root,new kd(i))},e.prototype.installPropertyChangeHooks=function(){var t,i,r=this,o=this.getNativeControl(),s=Object.getPrototypeOf(o),c=function(y){var g=Object.getOwnPropertyDescriptor(s,y);if(!v_(g))return{value:void 0};var b=g.get,w={configurable:g.configurable,enumerable:g.enumerable,get:b,set:function(C){g.set.call(o,C),r.foundation.handleChange()}};Object.defineProperty(o,y,w)};try{for(var u=bt(y_),d=u.next();!d.done;d=u.next()){var m=c(d.value);if(typeof m=="object")return m.value}}catch(y){t={error:y}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}},e.prototype.uninstallPropertyChangeHooks=function(){var t,i,r=this.getNativeControl(),o=Object.getPrototypeOf(r);try{for(var s=bt(y_),c=s.next();!c.done;c=s.next()){var u=c.value,d=Object.getOwnPropertyDescriptor(o,u);if(!v_(d))return;Object.defineProperty(r,u,d)}}catch(m){t={error:m}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}},e.prototype.getNativeControl=function(){var t=Nt.NATIVE_CONTROL_SELECTOR,i=this.root.querySelector(t);if(!i)throw new Error("Checkbox component requires a "+t+" element");return i},e}(Et);function v_(n){return!!n&&typeof n.set=="function"}function mS(n,e,t){let i="ID"+Math.floor(999999*Math.random()).toString();return e.create(Ti,{func:r=>{console.log(r);const o=new fS(r.children[0]);new hS(r).input=o}},e.create("div",{class:"mdc-form-field"},e.create("div",{class:"mdc-checkbox"},e.create("input",{type:"checkbox",class:"mdc-checkbox__native-control",id:i,"x-model":n.inputmodel}),e.create("div",{class:"mdc-checkbox__background"},e.create("svg",{class:"mdc-checkbox__checkmark",viewBox:"0 0 24 24"},e.create("path",{class:"mdc-checkbox__checkmark-path",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})),e.create("div",{class:"mdc-checkbox__mixedmark"})),e.create("div",{class:"mdc-checkbox__ripple"})),e.create("label",{for:i},n.label)))}function __(n,e){let t=[];return n.forEach((i,r)=>{e!==r&&t.push(i)}),t}function lh(n){let e=[],t=!0,i=Object.keys(n).length,r=Object.keys(n);for(let o=0;o<i;o++){const s=n[r[o]];let c=s;if(s.constructor.name=="Object"&&(c=lh(s)),t){let u=Number(r[o]);if(Number.isNaN(u)){t=!1,e={},o=0;continue}e[u]=c}else e[r[o]]=c}return e}function uh(n){let e={};for(let t in n){let i=n[t];if(i.constructor.name=="Array"){let r={};i.forEach((o,s)=>{r[s]=o}),i=r}i.constructor.name=="Object"&&(i=uh(i)),e[t]=i}return e}function gS(n,e,t){return e.create("div",{"x-data":ce(function(){return{dialogopen:!1,videodialogopen:!1,sending:!1,status:{message:""},add_programme:{submitcallback:()=>{},title:"",featured:!1,imageurl:"",creatorname:"",description:"",serieses:[]},videomanager:{callback:()=>{},data:[]}}}),style:`
        overflow-y: scroll;
        height: calc(calc(var(--vh, 1vh) * 100) - 85px);
      `},e.create("h2",{style:`
         padding: 10px
        `},"Programme List"),e.create("div",{style:`
          height: 10px;
          width: calc(100% - 20px);
          background-color: var(--mdc-theme-secondary);
          margin-left: 10px;
          margin-right: 10px;
          border-radius: 2.5px;
        `}),e.create("div",{_content:`
      <template x-for="(item, index) in programmes.data">
          ${e.create("div",{style:`
          width: calc(100% - 20px);
          margin-left: 10px;
          margin-right: 10px;
          justify-content: center;
        `},e.create("div",{style:`
                            display:flex
                            `},e.create("img",{style:`
                          width: 150px;
                          height: 150px;
                          margin-top: 10px;
                        `,"x-bind:src":"item.imageurl"}),e.create("div",{style:`
                                height: 100%;
                                display: block;
                              `},e.create("div",{style:`
                          font-family: BlinkMacSystemFont,-apple-system,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',Helvetica,Arial,sans-serif;
                          font-size: 2em;
                          margin-left: 10px;
                          margin-bottom: 5px;
                          `,"x-text":"item.title"},"Southeast Gear"),e.create("div",{style:`
                                  margin-left: 10px;
                                `,"x-data":"","x-on:click":ce(function(){console.log("aaaaa"),this.add_programme=lh({submitcallback:()=>{},title:"",featured:!1,imageurl:"",creatorname:"",description:"",serieses:[],...this.item}),this.dialogopen=!0,this.add_programme.submitcallback=i=>{this.sending=!0;let r=En();i=uh(i),console.log(i),delete i.submitcallback,_i(bn(r,"programmes/"+this.index.toString()),i).then(o=>{this.sending=!1,this.dialogopen=!1,this.status.message=""}).catch(o=>{this.sending=!1,this.status.message=o})}})},e.create(ge,{label:"Edit",type:"--raised"})),e.create("div",{style:`
                                  margin-left: 10px;
                                  margin-top: 10px;
                                `,"x-data":"","x-on:click":ce(function(){this.sending=!0,_i(bn(En(),"programmes/"+this.index.toString()),null).then(i=>{this.sending=!1,this.dialogopen=!1,this.status.message=""}).catch(i=>{this.sending=!1,this.status.message=i})})},e.create(ge,{label:"Remove",type:"--raised"}))))).outerHTML}
        </template>
        `}),e.create("div",null,e.create(on,{attributes:{"x-transition:enter.duration.250ms":"","x-transition:leave.duration.250ms":""}},e.create(Sc,{closeable:kn("true"),dialogactions:e.create("div",{style:`
                display: flex;
              `},e.create("div",{"x-text":"status.message",style:`
                  width: 280px;
                `,"x-show":"!sending"}),e.create("div",{style:`
                  padding-top: 18px;
                  width: 180px;
                `,"x-show":"sending"},e.create(vc,null)),e.create("div",{style:`
                          width: fit-content;
                        `,"x-on:click":ce(function(){this.add_programme.submitcallback(this.add_programme)}),"x-show":"!sending"},e.create(ge,{label:"Submit",type:"--text"}))),dialogopen:Ac("dialogopen"),title:kn("'Add / Edit programme'")},e.create("div",{style:`
                margin-top: 12px;
              `},e.create(mS,{inputmodel:"add_programme['featured']",label:"Featured"})),e.create("div",{style:`
                margin-top: 12px;
              `},e.create(cn,{inputlabel:"Programme name",inputmodel:"add_programme['title']",inputtype:"text"})),e.create("div",{style:`
                margin-top: 12px;
              `},e.create(cn,{inputlabel:"Image URL",inputmodel:"add_programme['imageurl']",inputtype:"text"})),e.create("div",{style:`
                margin-top: 12px;
              `},e.create(cn,{inputlabel:"Creator Name",inputmodel:"add_programme['creatorname']",inputtype:"text"})),e.create("div",{style:`
                margin-top: 12px;
              `},e.create(lS,{label:kn("Description"),model:kn("add_programme['description']")})),e.create("div",{style:`
                margin-top: 12px;
              `},e.create("div",{style:`
                    display: flex;
                    background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);
                    width: 100%;
                    min-height: 85px;
                    padding: 20px;
                    border-radius: 5px;
                    position: relative;
                    align-items: center;
                  `,"x-html":ur(function(){return e.create("div",{style:`
                      width: 100%;`},e.create("div",{_content:`<template x-for="(item, index3) in ${ce(function(){return this.add_programme.serieses})}">
                          ${e.create("div",{style:`
                                  display: block;
                                  background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);
                                  width: 100%;
                                  min-height: 85px;
                                  padding: 20px;
                                  border-radius: 5px;
                                  position: relative;
                                  align-items: center;
                                  margin-bottom: 10px;
                                `},e.create("h3",{style:`
                                      color: var(--mdc-theme-secondary)
                                    `},"Series"),e.create("div",{style:`
                                margin-top: 12px;
                                width: 100%;
                                height: 100%;
                              `},e.create(cn,{inputlabel:"",inputmodel:"item['seriesname']",inputtype:"text"})),e.create("div",{style:`
                                margin-top: 12px;
                                width: 100%;
                              `},e.create(cn,{inputlabel:"",inputmodel:"item['imageurl']",inputtype:"text"})),e.create("div",{style:`
                          width: fit-content;
                          margin-top: 12px;
                        `,"x-on:click":ce(function(){this.videomanager.data=this.item.videos||[],this.videodialogopen=!0,this.videomanager.callback=()=>{this.item.videos=this.videomanager.data,this.videodialogopen=!1}})},e.create(ge,{label:"Edit Videos",type:"--raised"})),e.create("div",{style:`
                                margin-top: 12px;
                                width: fit-content;
                              `,"x-on:click":ce(function(){this.add_programme.serieses=__(this.add_programme.serieses,this.index3)})},e.create(ge,{label:"Remove series",type:"--raised"}))).outerHTML}
                          </template>
                          `}),e.create("div",{style:`
                          width: fit-content;
                        `,"x-on:click":ce(function(){this.add_programme.serieses.push({seriesname:"(series name)",imageurl:"(direct image URL, https ONLY)",videos:[]})})},e.create(ge,{label:"Add series",type:"--raised"})))})})))),e.create(on,{attributes:{"x-transition:enter.duration.250ms":"","x-transition:leave.duration.250ms":""}},e.create(Sc,{closeable:kn("false"),dialogactions:e.create("div",null,e.create("div",{style:`
                          width: fit-content;
                        `,"x-on:click":ce(function(){this.videomanager.callback()})},e.create(ge,{label:"Apply",type:"--text"}))),dialogopen:Ac("videodialogopen"),title:kn("'Video Manager'")},e.create("div",{style:`
                    display: block;
                    background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);
                    width: 100%;
                    min-height: 85px;
                    padding: 20px;
                    border-radius: 5px;
                    position: relative;
                    align-items: center;
                  `,_content:`<template x-for="(item, index2) in videomanager.data">
                ${e.create("div",null,e.create("div",{style:`
                                margin-top: 12px;
                                width: 100%;
                                display: block;
                                background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);
                                width: 100%;
                                min-height: 85px;
                                padding: 20px;
                                border-radius: 5px;
                                position: relative;
                                align-items: center;
                              `},e.create("div",{style:`
                      margin-top: 12px;
                    `},e.create(cn,{inputlabel:"",inputmodel:"item['videourl']",inputtype:"text"})),e.create("div",{style:`
                      margin-top: 12px;
                    `},e.create(cn,{inputlabel:"",inputmodel:"item['directurl']",inputtype:"text"})),e.create("div",{style:`
                      margin-top: 12px;
                    `},e.create(cn,{inputlabel:"",inputmodel:"item['videotitle']",inputtype:"text"})),e.create("div",{style:`
                      margin-top: 12px;
                    `},e.create(cn,{inputlabel:"",inputmodel:"item['description']",inputtype:"text"})),e.create("div",{"x-html":ur(function(){return e.create("div",{style:`
                width: fit-content;
                margin-top: 12px;
              `,"x-on:click":ce(function(){this.videomanager.data=__(this.videomanager.data,this.index2)})},e.create(ge,{label:"Remove video",type:"--raised"}))})}))).outerHTML}
              </template>`}),e.create("div",{"x-html":ur(function(){return e.create("div",{style:`
                width: fit-content;
                margin-top: 12px;
              `,"x-on:click":ce(function(){this.videomanager.data.push({videourl:"(youtube URL)",directurl:"(direct https url to the video, optional)",videotitle:"(video title)",description:"(video description)"})})},e.create(ge,{label:"Add video",type:"--raised"}))})})))),e.create("div",{"x-html":ur(function(){return e.create("div",{style:`
                width: fit-content;
                margin-top: 12px;
                margin-left: 12px;
              `,"x-on:click":ce(function(){let i=0;for(let r in this.programmes.data)i++;this.add_programme=lh({submitcallback:()=>{},title:"",featured:!1,imageurl:"",creatorname:"",description:"",serieses:[]}),this.dialogopen=!0,this.add_programme.submitcallback=r=>{this.sending=!0;let o=En();r=uh(r),console.log(r),delete r.submitcallback,_i(bn(o,"programmes/"+i.toString()),r).then(s=>{this.sending=!1,this.dialogopen=!1,this.status.message=""}).catch(s=>{this.sending=!1,this.status.message=s})}})},e.create(ge,{label:"Add programme",type:"--raised"}))})}),e.create("div",{style:`
                width: fit-content;
                margin-top: 12px;
                margin-left: 12px;
              `,"x-on:click":ce(function(){window.abc(),console.log("complete")})},e.create(ge,{label:"WASM test",type:"--raised"})),e.create("div",{style:`
                width: fit-content;
                margin-top: 12px;
                margin-left: 12px;
              `,"x-on:click":ce(function(){_i(bn(En(),"/users2/abc"),{abc:1}).then(i=>{console.log(i)}).catch(i=>{alert(i)})})},e.create(ge,{label:"firebase test",type:"--raised"})),e.create("div",{style:`
                width: fit-content;
                margin-top: 12px;
                margin-left: 12px;
              `,"x-on:click":ce(function(){window.location.href="https://tsbc-debug/"})},e.create(ge,{label:"debugger",type:"--raised"})),e.create("div",{style:`
                width: fit-content;
                margin-top: 12px;
                margin-left: 12px;
              `,"x-on:click":ce(function(){window.location.href="https://192.168.1.252:5173"})},e.create(ge,{label:"Switch to Dev Server",type:"--raised"})),e.create("div",{style:`
                width: fit-content;
                margin-top: 12px;
                margin-left: 12px;
              `,"x-on:click":ce(function(){window.location.href="https://192.168.1.252:4173"})},e.create(ge,{label:"Switch to Pre deployment Server",type:"--raised"})),e.create("div",{style:`
                width: fit-content;
                margin-top: 12px;
                margin-left: 12px;
              `,"x-on:click":ce(function(){window.top.postMessage({type:"devwebview"},"*")})},e.create(ge,{label:"Switch to Dev Webview",type:"--raised"})),e.create("div",{style:`
                width: fit-content;
                margin-top: 12px;
                margin-left: 12px;
              `,"x-on:click":ce(function(){window.top.postMessage({type:"devwebviewremote"},"*")})},e.create(ge,{label:"Switch to Dev Webview (remote)",type:"--raised"})))}var yS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fe={BASIC:"BASIC",MEDIA_SEGMENT:"MEDIA_SEGMENT",MEDIA_PLAYLIST:"MEDIA_PLAYLIST",MASTER_PLAYLIST:"MASTER_PLAYLIST",TRALING_MEDIA_SEGMENT:"TRAILING_MEDIA_SEGMENT",URL_SEGMENT_ENDING:"URL_SEGMENT_ENDING",GROUPING:"GROUPING"},hh={SPACE:" ".charCodeAt(0),COLON:":".charCodeAt(0),COMMA:",".charCodeAt(0),EQUAL:"=".charCodeAt(0),QUOTE:'"'.charCodeAt(0),MINUS:"-".charCodeAt(0),PERIOD:".".charCodeAt(0),NEW_LINE_LF:`
`.charCodeAt(0),NEW_LINE_CR:"\r".charCodeAt(0),BACK_SLASH:"\\".charCodeAt(0),HASH:"#".charCodeAt(0),AT:"@".charCodeAt(0),NUMBER_START:"0".charCodeAt(0),NUMBER_STOP:"9".charCodeAt(0)};const vS=hh;var b_=function(n){let e="",t=0;n=n.toLowerCase();for(let i=0;i<n.length;i++)t=n[i].charCodeAt(0),e+=t!==vS.MINUS?n[i]:(n[++i]||"").toUpperCase();return e};const ph=/\"/g,fh=/\W/g,On=hh,E_=b_;var _S=function(n){let e="",t="",i={duration:"",title:""};ph.lastIndex=0,fh.lastIndex=0;let r=0,o=n[r].charCodeAt(0);for(;o>=On.NUMBER_START&&o<=On.NUMBER_STOP||o===On.MINUS||o===On.PERIOD;)i.duration+=n[r],r++,o=r>n.length-1?"":n[r].charCodeAt(0);i.duration=i.duration&&parseFloat(i.duration)||-1;for(let s=r;s<n.length;s++)switch(n[s].charCodeAt(0)){case On.SPACE:t="";continue;case On.QUOTE:{ph.lastIndex=s+1;const c=ph.exec(n);t=n.slice(s+1,c.index),s=c&&c.index||s,e&&(i[E_(e)]=t),t="",e="";continue}case On.EQUAL:{if(e=t,t="",n[s+1].charCodeAt(0)===On.QUOTE)continue;fh.lastIndex=s+1;const c=fh.exec(n);t=n.slice(s+1,c.index),s=n[c.index].charCodeAt(0)===On.COMMA&&c.index-1||c&&c.index||s,e&&(i[E_(e)]=t),t="",e="";continue}case On.COMMA:i.title=n.slice(s+1,n.length).trimLeft(),s=n.length;continue;default:t+=n[s]}return i},w_=function(n){const e={length:0,offset:0};e.length=parseInt(n);const t=n.lastIndexOf("@");return~t&&(e.offset=parseInt(n.slice(t+1))),e};const kc=hh,I_=/\"/g,mh=b_,C_={YES:!0,NO:!1};function bS(n){return n in C_?C_[n]:n}var yr=function(n,e=!1,t){let i=0,r="",o="";const s=t||{};for(let c=0;c<n.length;c++)switch(i=n[c].charCodeAt(0),i){case kc.SPACE:r="";continue;case kc.EQUAL:o=r,r="";continue;case kc.COMMA:o=mh(o),o&&(s[o]=e?bS(r):r),o="",r="";continue;case kc.QUOTE:I_.lastIndex=c+1;const u=I_.exec(n),d=n.slice(c+1,u.index);o&&(s[mh(o)]=d),c=u.index+1;continue;default:r+=n[c]}return r&&o&&(s[mh(o)]=r),s};const ES=yr;var T_=function(n){return ES(n)};const wS=w_,IS=yr;var CS=function(n){const e=IS(n);return e.byterange&&(e.byterange=wS(e.byterange)),e},x_=function(n){const e=new Date(n.trim());return isNaN(e.getTime()),e};const TS=x_,xS=yr,S_=x_;var SS=function(n){const e=xS(n);return e.startDate&&(e.startDate=S_(e.startDate)),e.endDate&&(e.endDate=S_(e.endDate)),e.duration&&(e.duration=parseFloat(e.duration)),e.plannedDuration&&(e.plannedDuration=parseFloat(e.plannedDuration)),e};const AS=yr;var kS=function(n){const e={groupId:"default"};return AS(n,!0,e),e};const OS=yr;var A_=function(n){const e=OS(n);return"bandwidth"in e&&(e.bandwidth=parseInt(e.bandwidth)),"averageBandwidth"in e&&(e.averageBandwidth=parseInt(e.averageBandwidth)),"resolution"in e&&(e.resolution=parseInt(e.resolution)),"frameRate"in e&&(e.frameRate=parseFloat(e.frameRate)),"codecs"in e&&(e.codecs=e.codecs.split(";")),e};const NS=yr,RS=yr;var PS=function(n){const e=RS(n,!0);return"timeOffset"in e&&(e.timeOffset=parseFloat(e.timeOffset)),e};const gh={"#EXTM3U":{key:"isExtendedM3U",parser:()=>!0,scope:Fe.BASIC},"#EXT-X-VERSION":{key:"version",parser:function(n){return parseInt(n.trim())||0},scope:Fe.BASIC},"#EXTINF":{key:"inf",parser:_S,scope:Fe.MEDIA_SEGMENT},"#EXT-X-BYTERANGE":{key:"byteRange",parser:w_,scope:Fe.MEDIA_SEGMENT},"#EXT-X-DISCONTINUITY":{key:"discontinuity",parser:function(){return!0},scope:Fe.MEDIA_SEGMENT},"#EXT-X-KEY":{key:"key",parser:T_,scope:Fe.TRALING_MEDIA_SEGMENT},"#EXT-X-MAP":{key:"map",parser:CS,scope:Fe.TRALING_MEDIA_SEGMENT},"#EXT-X-PROGRAM-DATE-TIME":{key:"programDateTime",parser:function(n){return TS(n)},scope:Fe.MEDIA_SEGMENT},"#EXT-X-DATERANGE":{key:"dateRange",parser:SS,scope:Fe.MEDIA_SEGMENT},"#EXT-X-TARGETDURATION":{key:"targetDuration",parser:function(n){return parseInt(n)||-1},scope:Fe.MEDIA_PLAYLIST},"#EXT-X-MEDIA-SEQUENCE":{key:"mediaSequence",parser:function(n){return parseInt(n)||0},scope:Fe.MEDIA_PLAYLIST},"#EXT-X-DISCONTINUITY-SEQUENCE":{key:"discontinuitySequence",parser:function(n){return parseInt(n)||0},scope:Fe.MEDIA_PLAYLIST},"#EXT-X-ENDLIST":{key:"endList",parser:function(n,e){return e.segments.length+1},scope:Fe.MEDIA_PLAYLIST},"#EXT-X-PLAYLIST-TYPE":{key:"playlistType",parser:function(n){return n.trim()},scope:Fe.MEDIA_PLAYLIST},"#EXT-X-I-FRAMES-ONLY":{key:"iFramesOnly",parser:()=>!0,scope:Fe.MEDIA_PLAYLIST},"#EXT-X-MEDIA":{key:"media",parser:kS,scope:Fe.GROUPING,group:{root:"media",path:["type","groupId","name"]}},"#EXT-X-STREAM-INF":{key:"streamInf",parser:A_,scope:Fe.MASTER_PLAYLIST},"#EXT-X-I-FRAME-STREAM-INF":{key:"iFrameStreamInf",parser:A_,scope:Fe.MASTER_PLAYLIST},"#EXT-X-SESSION-DATA":{key:"sessionData",parser:function(n){return NS(n)},scope:Fe.GROUPING,group:{root:"sessionData",path:["dataId","language"]}},"#EXT-X-SESSION-KEY":{key:"sessionKey",parser:T_,scope:Fe.MASTER_PLAYLIST},"#EXT-X-INDEPENDENT-SEGMENTS":{key:"independentSegments",parser:()=>!0,scope:Fe.MEDIA_PLAYLIST},"#EXT-X-START":{key:"start",parser:PS,scope:Fe.MEDIA_PLAYLIST},URL:{key:"url",parser:n=>n,scope:Fe.URL_SEGMENT_ENDING}},vr=Fe,k_={get:n=>gh[n]||null,set:(n,e)=>{gh[n]=e},add:(n,e)=>{gh[n]=e}};var LS=class{constructor(){this.reset()}read(n){const e=n.length;n=n.trim();let t="",i=!1,r=!1,o=0,s=0,c=0,u="";for(let d=0;d<e;d++)s=n.indexOf(`
`,d),o=s>-1&&s||n.indexOf("\r",d),o=o>-1&&o||e,u=n.slice(d,o).trim(),d=o,r=u[0]==="#",i=u.slice(0,4)==="#EXT",c=i&&u.indexOf(":")||-1,t=i&&~c&&u.slice(0,c),!t&&r&&(t=u),this.invokeParser(t,u.slice(c+1),r)}invokeParser(n,e,t){if(n&&e){const i=k_.get(n);return i?this.dataScope(i,i.parser(e,this.result)):void 0}if((!e||!t)&&e){const i=k_.get("URL");this.dataScope(i,i.parser(e,this.result))}}dataScope(n,e){switch(n.scope){case vr.MASTER_PLAYLIST:this.currentSegmentData.isMasterPlaylist=!0;case vr.MEDIA_SEGMENT:this.currentSegmentData[n.key]=e;break;case vr.URL_SEGMENT_ENDING:this.currentSegmentData[n.key]=e,this.result.segments.push(this.currentSegmentData),this.currentSegmentData=Object.assign({},this.trailingData);break;case vr.TRALING_MEDIA_SEGMENT:this.trailingData[n.key]=e,this.currentSegmentData=Object.assign(this.currentSegmentData,this.trailingData);break;case vr.MEDIA_PLAYLIST:case vr.BASIC:this.result[n.key]=e;break;case vr.GROUPING:this.result[n.group.root]||(this.result[n.group.root]={});let t="",i=this.result[n.group.root];const r=n.group.path.length;for(let o=0;o<r-1;o++)t=n.group.path[o],i[e[t]]||(i[e[t]]={}),i=i[e[t]];i[e[n.group.path[r-1]]]=e}}getResult(){return this.result}reset(){this.trailingData={},this.currentSegmentData={},this.result={isExtendedM3U:!1,segments:[]}}};new(dh(LS));const O_=({url:n})=>{if(/youtu\.?be/.test(n)){let e,t=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(e=0;e<t.length;++e)if(t[e].test(n))return t[e].exec(n)[1];{let i=n.split(/[\/\&\?=#\.\s]/g);for(e=0;e<i.length;++e)if(/^[^#\&\?]{11}$/.test(i[e]))return i[e]}}return null};var N_,yh={exports:{}};N_=function(){var n={},e={};return n.on=function(t,i){var r={name:t,handler:i};return e[t]=e[t]||[],e[t].unshift(r),r},n.off=function(t){var i=e[t.name].indexOf(t);i!==-1&&e[t.name].splice(i,1)},n.trigger=function(t,i){var r,o=e[t];if(o)for(r=o.length;r--;)o[r].handler(i)},n};var vh,R_,DS=N_,_h={exports:{}},bh={exports:{}};function MS(){if(R_)return vh;R_=1;var n=1e3,e=60*n,t=60*e,i=24*t,r=7*i,o=365.25*i;function s(c,u,d,m){var y=u>=1.5*d;return Math.round(c/d)+" "+m+(y?"s":"")}return vh=function(c,u){u=u||{};var d=typeof c;if(d==="string"&&c.length>0)return function(m){if(!((m=String(m)).length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(y){var g=parseFloat(y[1]);switch((y[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return g*o;case"weeks":case"week":case"w":return g*r;case"days":case"day":case"d":return g*i;case"hours":case"hour":case"hrs":case"hr":case"h":return g*t;case"minutes":case"minute":case"mins":case"min":case"m":return g*e;case"seconds":case"second":case"secs":case"sec":case"s":return g*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}(c);if(d==="number"&&isFinite(c))return u.long?function(m){var y=Math.abs(m);return y>=i?s(m,y,i,"day"):y>=t?s(m,y,t,"hour"):y>=e?s(m,y,e,"minute"):y>=n?s(m,y,n,"second"):m+" ms"}(c):function(m){var y=Math.abs(m);return y>=i?Math.round(m/i)+"d":y>=t?Math.round(m/t)+"h":y>=e?Math.round(m/e)+"m":y>=n?Math.round(m/n)+"s":m+"ms"}(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))},vh}var FS=function(n){function e(r){let o,s,c,u=null;function d(...m){if(!d.enabled)return;const y=d,g=Number(new Date),b=g-(o||g);y.diff=b,y.prev=o,y.curr=g,o=g,m[0]=e.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let w=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(C,k)=>{if(C==="%%")return"%";w++;const A=e.formatters[k];if(typeof A=="function"){const F=m[w];C=A.call(y,F),m.splice(w,1),w--}return C}),e.formatArgs.call(y,m),(y.log||e.log).apply(y,m)}return d.namespace=r,d.useColors=e.useColors(),d.color=e.selectColor(r),d.extend=t,d.destroy=e.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>u!==null?u:(s!==e.namespaces&&(s=e.namespaces,c=e.enabled(r)),c),set:m=>{u=m}}),typeof e.init=="function"&&e.init(d),d}function t(r,o){const s=e(this.namespace+(o===void 0?":":o)+r);return s.log=this.log,s}function i(r){return r.toString().substring(2,r.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(r){return r instanceof Error?r.stack||r.message:r},e.disable=function(){const r=[...e.names.map(i),...e.skips.map(i).map(o=>"-"+o)].join(",");return e.enable(""),r},e.enable=function(r){let o;e.save(r),e.namespaces=r,e.names=[],e.skips=[];const s=(typeof r=="string"?r:"").split(/[\s,]+/),c=s.length;for(o=0;o<c;o++)s[o]&&((r=s[o].replace(/\*/g,".*?"))[0]==="-"?e.skips.push(new RegExp("^"+r.slice(1)+"$")):e.names.push(new RegExp("^"+r+"$")))},e.enabled=function(r){if(r[r.length-1]==="*")return!0;let o,s;for(o=0,s=e.skips.length;o<s;o++)if(e.skips[o].test(r))return!1;for(o=0,s=e.names.length;o<s;o++)if(e.names[o].test(r))return!0;return!1},e.humanize=MS(),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach(r=>{e[r]=n[r]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(r){let o=0;for(let s=0;s<r.length;s++)o=(o<<5)-o+r.charCodeAt(s),o|=0;return e.colors[Math.abs(o)%e.colors.length]},e.enable(e.load()),e};(function(n,e){e.formatArgs=function(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;i.splice(1,0,r,"color: inherit");let o=0,s=0;i[0].replace(/%[a-zA-Z%]/g,c=>{c!=="%%"&&(o++,c==="%c"&&(s=o))}),i.splice(s,0,r)},e.save=function(i){try{i?e.storage.setItem("debug",i):e.storage.removeItem("debug")}catch{}},e.load=function(){let i;try{i=e.storage.getItem("debug")}catch{}return!i&&typeof process<"u"&&"env"in process&&(i={}.DEBUG),i},e.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),n.exports=FS(e);const{formatters:t}=n.exports;t.j=function(i){try{return JSON.stringify(i)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}})(bh,bh.exports);var jS=bh.exports,Eh={exports:{}},wh={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default})(wh,wh.exports);var US=wh.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t,i=(t=US)&&t.__esModule?t:{default:t};e.default={pauseVideo:{acceptableStates:[i.default.ENDED,i.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[i.default.ENDED,i.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[i.default.ENDED,i.default.PLAYING,i.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default})(Eh,Eh.exports);var HS=Eh.exports,Ih={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default})(Ih,Ih.exports);var BS=Ih.exports,Ch={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],n.exports=e.default})(Ch,Ch.exports);var qS=Ch.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=s(jS),i=s(HS),r=s(BS),o=s(qS);function s(d){return d&&d.__esModule?d:{default:d}}const c=(0,t.default)("youtube-player"),u={proxyEvents:d=>{const m={};for(const y of r.default){const g="on"+y.slice(0,1).toUpperCase()+y.slice(1);m[g]=b=>{c('event "%s"',g,b),d.trigger(y,b)}}return m},promisifyPlayer:(d,m=!1)=>{const y={};for(const g of o.default)m&&i.default[g]?y[g]=(...b)=>d.then(w=>{const C=i.default[g],k=w.getPlayerState(),A=w[g].apply(w,b);return C.stateChangeRequired||Array.isArray(C.acceptableStates)&&!C.acceptableStates.includes(k)?new Promise(F=>{const V=()=>{const H=w.getPlayerState();let $;typeof C.timeout=="number"&&($=setTimeout(()=>{w.removeEventListener("onStateChange",V),F()},C.timeout)),Array.isArray(C.acceptableStates)&&C.acceptableStates.includes(H)&&(w.removeEventListener("onStateChange",V),clearTimeout($),F())};w.addEventListener("onStateChange",V)}).then(()=>A):A}):y[g]=(...b)=>d.then(w=>w[g].apply(w,b));return y}};e.default=u,n.exports=e.default})(_h,_h.exports);var VS=_h.exports,Th={exports:{}},WS=function(n,e,t){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script");typeof e=="function"&&(t=e,e={}),e=e||{},t=t||function(){},r.type=e.type||"text/javascript",r.charset=e.charset||"utf8",r.async=!("async"in e)||!!e.async,r.src=n,e.attrs&&function(o,s){for(var c in s)o.setAttribute(c,s[c])}(r,e.attrs),e.text&&(r.text=""+e.text),("onload"in r?P_:$S)(r,t),r.onload||P_(r,t),i.appendChild(r)};function P_(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function $S(n,e){n.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,n))}}(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t,i=(t=WS)&&t.__esModule?t:{default:t};e.default=r=>new Promise(o=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)return void o(window.YT);{const c=window.location.protocol==="http:"?"http:":"https:";(0,i.default)(c+"//www.youtube.com/iframe_api",u=>{u&&r.trigger("error",u)})}const s=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{s&&s(),o(window.YT)}}),n.exports=e.default})(Th,Th.exports);var zS=Th.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=o(DS),i=o(VS),r=o(zS);function o(c){return c&&c.__esModule?c:{default:c}}let s;e.default=(c,u={},d=!1)=>{const m=(0,t.default)();if(s||(s=(0,r.default)(m)),u.events)throw new Error("Event handlers cannot be overwritten.");if(typeof c=="string"&&!document.getElementById(c))throw new Error('Element "'+c+'" does not exist.');u.events=i.default.proxyEvents(m);const y=new Promise(b=>{typeof c=="object"&&c.playVideo instanceof Function?b(c):s.then(w=>{const C=new w.Player(c,u);return m.on("ready",()=>{b(C)}),null})}),g=i.default.promisifyPlayer(y,d);return g.on=m.on,g.off=m.off,g},n.exports=e.default})(yh,yh.exports);const L_=dh(yh.exports);let xh=null,Sh=null;function D_(){return new Promise((n,e)=>{window.top.postMessage({type:"addbackhook"},"*"),window.addEventListener("message",t=>{t.data.type=="backsent"&&(console.log("BACK RECEIVED ON CLIENT step2"),n())})})}function GS(n,e,t){return e.create("div",{style:`  
  overflow-y: scroll;
  height: calc(calc(var(--vh, 1vh) * 100) - 85px);
  margin-top: 10px;
  `},e.create("div",{"x-bind:style":ce(function(){return this.selectedvideo.fullscreen?`
        position: absolute;
        top: 0;
        left: 0;
        width: 100vw;
        height: calc(100vh);
        z-index: 12;
        background-color: black;
        overflow-y: hidden;
        `:`
  background-color: white;
  width: calc(calc(100% - 12px) - 12px);
  margin-left: 12px;
  margin-right: 12px;
  height: 30vh;
`}),"x-show":"true","x-html":ur(function(){return e.create("div",{style:`
        width: 100%;
        height: 100%;`},e.create("div",{id:"containerYT","data-mutable":this.selectedvideo.videourl,"x-bind:style":ce(function(){return this.selectedvideo.messagevisible?`
                      width: 100%;
                      height: calc(100% - 30px);
                    `:`
                      width: 100%;
                      height: calc(100%);
                    `}),"x-effect":ce(function(){let i=this.selectedvideo.videourl;xh=L_("containerYT"),xh.loadVideoById(O_({url:i})),xh.pauseVideo()})}),e.create("div",{"x-show":"selectedvideo.messagevisible",_content:`<template x-if="selectedvideo.messagevisible">
                    ${e.create("div",null,"Press back button to exit fullscreen. (this message will disappear after 5s.)").outerHTML}
                    </template>
                    `}))})}),e.create("div",{style:"margin-top: 10px; margin-left: 12px; margin-right: 12px;"},e.create("div",{style:`
      display: block;
      background-color: rgba(var(--mdc-theme-primary-rgb), 0.3);
      width: 100%;
      min-height: 85px;
      padding: 20px;
      border-radius: 5px;
      position: relative;
      align-items: center;
    `},e.create("div",{"x-on:click":ce(async function(){this.selectedvideo.timeoutid=setTimeout(()=>{this.selectedvideo.timeoutid=0,this.selectedvideo.messagevisible=!1},5e3),this.selectedvideo.messagevisible=!0,window.top.postMessage({type:"changeorientation",orientation:"landscape"},"*"),window.top.postMessage({type:"managestatusbar",action:"hide"},"*"),window.top.postMessage({type:"managestatusbar",action:"setoverlays",data:!0},"*"),D_().then(()=>{this.selectedvideo.timeoutid!=0&&clearTimeout(this.selectedvideo.timeoutid),this.selectedvideo.messagevisible=!1,window.addEventListener("resize",i=>{this.selectedvideo.fullscreen=!1},{once:!0}),window.top.postMessage({type:"changeorientation",orientation:"portrait"},"*"),window.top.postMessage({type:"managestatusbar",action:"show"},"*"),window.top.postMessage({type:"managestatusbar",action:"setoverlays",data:!1},"*")}),window.addEventListener("resize",i=>{this.selectedvideo.fullscreen=!0,console.log(window.screen.orientation.angle)},{once:!0}),window.screen.orientation.angle!=90&&window.screen.orientation.angle!=270||(this.selectedvideo.fullscreen=!0,D_().then(()=>{window.addEventListener("resize",i=>{this.selectedvideo.fullscreen=!1},{once:!0}),window.top.postMessage({type:"changeorientation",orientation:"portrait"},"*"),window.top.postMessage({type:"managestatusbar",action:"show"},"*"),window.top.postMessage({type:"managestatusbar",action:"setoverlays",data:!1},"*"),this.selectedvideo.timeoutid!=0&&clearTimeout(this.selectedvideo.timeoutid),this.selectedvideo.messagevisible=!1}))}),style:`
              width: fit-content;
            `},e.create(ge,{label:"Watch in fullscreen",type:"--raised"})),e.create("div",{style:"width: 100%; height: 5px; background-color: #e0e0e0; border-radius: 5px; margin-top: 10px; margin-bottom: 10px;"}),e.create("div",{"x-text":ce(function(){return this.currentprogram.title+" "+this.currentselected.seriesname})},"programme name seriesname"),e.create("div",{"x-text":ce(function(){return"Created by: "+this.currentprogram.creatorname})},"Created by:"),e.create("div",{"x-text":ce(function(){return"Episode "+this.selectedvideo.videotitle})},"videoname"),e.create("br",null),e.create("div",{"x-text":ce(function(){return"Description: "+this.selectedvideo.description})},"Description: x"))),e.create("div",{"x-show":"false",style:`
        position: absolute;
        top: 0;
        left: 0;
        width: 100vw;
        height: calc(100vh);
        z-index: 12;
        background-color: black;
        overflow-y: hidden;
      `},e.create("div",{"x-bind:style":"selectedvideo.messagevisible ? 'width: 100%; height: calc(100% - 25px);' : 'width: 100%;height: 100%;'","x-html":ur(function(){return e.create("div",{id:"containerYT2","data-mutable":this.selectedvideo.videourl,style:" width: 100%; height: 100%;","x-effect":ce(function(){let i=this.selectedvideo.videourl;Sh=L_("containerYT2"),Sh.loadVideoById(O_({url:i})),Sh.pauseVideo()})})})})))}const KS=n=>n.CapacitorPlatforms=(e=>{const t=new Map;t.set("web",{name:"web"});const i=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return i.addPlatform=(r,o)=>{i.platforms.set(r,o)},i.setPlatform=r=>{i.platforms.has(r)&&(i.currentPlatform=i.platforms.get(r))},i})(n),M_=KS(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});var so;M_.addPlatform,M_.setPlatform,function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"}(so||(so={}));class Ah extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const YS=n=>{var e,t,i,r,o;const s=n.CapacitorCustomPlatform||null,c=n.Capacitor||{},u=c.Plugins=c.Plugins||{},d=n.CapacitorPlatforms,m=((e=d==null?void 0:d.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||(()=>s!==null?s.name:(k=>{var A,F;return k!=null&&k.androidBridge?"android":!((F=(A=k==null?void 0:k.webkit)===null||A===void 0?void 0:A.messageHandlers)===null||F===void 0)&&F.bridge?"ios":"web"})(n)),y=((t=d==null?void 0:d.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||(()=>m()!=="web"),g=((i=d==null?void 0:d.currentPlatform)===null||i===void 0?void 0:i.isPluginAvailable)||(k=>{const A=w.get(k);return!!(A!=null&&A.platforms.has(m()))||!!b(k)}),b=((r=d==null?void 0:d.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||(k=>{var A;return(A=c.PluginHeaders)===null||A===void 0?void 0:A.find(F=>F.name===k)}),w=new Map,C=((o=d==null?void 0:d.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||((k,A={})=>{const F=w.get(k);if(F)return console.warn(`Capacitor plugin "${k}" already registered. Cannot register plugins twice.`),F.proxy;const V=m(),H=b(k);let $;const Z=ke=>{let qe;const ue=(...gt)=>{const Rn=(async()=>(!$&&V in A?$=$=typeof A[V]=="function"?await A[V]():A[V]:s!==null&&!$&&"web"in A&&($=$=typeof A.web=="function"?await A.web():A.web),$))().then(ei=>{const Rt=((yt,Qt)=>{var fo,mo;if(!H){if(yt)return(mo=yt[Qt])===null||mo===void 0?void 0:mo.bind(yt);throw new Ah(`"${k}" plugin is not implemented on ${V}`,so.Unimplemented)}{const Vs=H==null?void 0:H.methods.find(ti=>Qt===ti.name);if(Vs)return Vs.rtype==="promise"?ti=>c.nativePromise(k,Qt.toString(),ti):(ti,Jc)=>c.nativeCallback(k,Qt.toString(),ti,Jc);if(yt)return(fo=yt[Qt])===null||fo===void 0?void 0:fo.bind(yt)}})(ei,ke);if(Rt){const yt=Rt(...gt);return qe=yt==null?void 0:yt.remove,yt}throw new Ah(`"${k}.${ke}()" is not implemented on ${V}`,so.Unimplemented)});return ke==="addListener"&&(Rn.remove=async()=>qe()),Rn};return ue.toString=()=>`${ke.toString()}() { [capacitor code] }`,Object.defineProperty(ue,"name",{value:ke,writable:!1,configurable:!1}),ue},p=Z("addListener"),Q=Z("removeListener"),Y=(ke,qe)=>{const ue=p({eventName:ke},qe),gt=async()=>{const ei=await ue;Q({eventName:ke,callbackId:ei},qe)},Rn=new Promise(ei=>ue.then(()=>ei({remove:gt})));return Rn.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await gt()},Rn},Pe=new Proxy({},{get(ke,qe){switch(qe){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return H?Y:p;case"removeListener":return Q;default:return Z(qe)}}});return u[k]=Pe,w.set(k,{name:k,proxy:Pe,platforms:new Set([...Object.keys(A),...H?[V]:[]])}),Pe});return c.convertFileSrc||(c.convertFileSrc=k=>k),c.getPlatform=m,c.handleError=k=>n.console.error(k),c.isNativePlatform=y,c.isPluginAvailable=g,c.pluginMethodNoop=(k,A,F)=>Promise.reject(`${F} does not have an implementation of "${A}".`),c.registerPlugin=C,c.Exception=Ah,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},Oc=(n=>n.Capacitor=YS(n))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ks=Oc.registerPlugin;Oc.Plugins,ea=class{constructor(n){this.listeners={},this.windowListeners={},n&&(console.warn(`Capacitor WebPlugin "${n.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=n)}addListener(n,e){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(e);const t=this.windowListeners[n];t&&!t.registered&&this.addWindowListener(t);const i=async()=>this.removeListener(n,e),r=Promise.resolve({remove:i});return Object.defineProperty(r,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),r}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,e){const t=this.listeners[n];t&&t.forEach(i=>i(e))}hasListeners(n){return!!this.listeners[n].length}registerWindowListener(n,e){this.windowListeners[e]={registered:!1,windowEventName:n,pluginEventName:e,handler:t=>{this.notifyListeners(e,t)}}}unimplemented(n="not implemented"){return new Oc.Exception(n,so.Unimplemented)}unavailable(n="not available"){return new Oc.Exception(n,so.Unavailable)}async removeListener(n,e){const t=this.listeners[n];if(!t)return;const i=t.indexOf(e);this.listeners[n].splice(i,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}};const F_=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),j_=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class XS extends ea{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[r,o]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=j_(r).trim(),o=j_(o).trim(),t[r]=o}),t}async setCookie(e){try{const t=F_(e.key),i=F_(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),s=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${i||""}${r}; path=${o}; ${s};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}ks("CapacitorCookies",{web:()=>new XS});const QS=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),i=((o={})=>{const s=Object.keys(o);return Object.keys(o).map(u=>u.toLocaleLowerCase()).reduce((u,d,m)=>(u[d]=o[s[m]],u),{})})(n.headers),r=i["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(r.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[s,c]of Object.entries(n.data||{}))o.set(s,c);t.body=o.toString()}else if(r.includes("multipart/form-data")){const o=new FormData;if(n.data instanceof FormData)n.data.forEach((c,u)=>{o.append(u,c)});else for(const c of Object.keys(n.data))o.append(c,n.data[c]);t.body=o;const s=new Headers(t.headers);s.delete("content-type"),t.headers=s}else(r.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class JS extends ea{async request(e){const t=QS(e,e.webFetchExtra),i=((y,g=!0)=>y?Object.entries(y).reduce((w,C)=>{const[k,A]=C;let F,V;return Array.isArray(A)?(V="",A.forEach(H=>{F=g?encodeURIComponent(H):H,V+=`${k}=${F}&`}),V.slice(0,-1)):(F=g?encodeURIComponent(A):A,V=`${k}=${F}`),`${w}&${V}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),r=i?`${e.url}?${i}`:e.url,o=await fetch(r,t),s=o.headers.get("content-type")||"";let c,u,{responseType:d="text"}=o.ok?e:{};switch(s.includes("application/json")&&(d="json"),d){case"arraybuffer":case"blob":u=await o.blob(),c=await(async y=>new Promise((g,b)=>{const w=new FileReader;w.onload=()=>{const C=w.result;g(C.indexOf(",")>=0?C.split(",")[1]:C)},w.onerror=C=>b(C),w.readAsDataURL(y)}))(u);break;case"json":c=await o.json();break;default:c=await o.text()}const m={};return o.headers.forEach((y,g)=>{m[g]=y}),{data:c,headers:m,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}const ZS=ks("CapacitorHttp",{web:()=>new JS});class eA extends ea{async write(e){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(e.string!==void 0)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else{if(!e.image)throw new Error("Nothing to write");if(typeof ClipboardItem>"u")throw this.unavailable("Writing images to the clipboard is not supported in this browser");try{const t=await(await fetch(e.image)).blob(),i=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([i])}catch{throw new Error("Failed to write image")}}}async read(){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(typeof ClipboardItem>"u")return this.readText();try{const e=await navigator.clipboard.read(),t=e[0].types[0],i=await e[0].getType(t);return{value:await this._getBlobData(i,t),type:t}}catch{return this.readText()}}async readText(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise((i,r)=>{const o=new FileReader;t.includes("image")?o.readAsDataURL(e):o.readAsText(e),o.onloadend=()=>{const s=o.result;i(s)},o.onerror=s=>{r(s)}})}}const tA=ks("Clipboard",{web:()=>new eA}),U_={},nA=function(n,e,t){if(!e||e.length===0)return n();const i=document.getElementsByTagName("link");return Promise.all(e.map(r=>{if(r=function(u,d){return new URL(u,d).href}(r,t),r in U_)return;U_[r]=!0;const o=r.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(t)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===r&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${s}`))return;const c=document.createElement("link");return c.rel=o?"stylesheet":"modulepreload",o||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),o?new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))}):void 0})).then(()=>n())},H_=ks("App",{web:()=>nA(()=>import("./web-8286bb96.js"),[],import.meta.url).then(n=>new n.AppWeb)});let Nc=null;function iA(){const n=window.location.search;console.log(n);const e=new URLSearchParams(n);return window.location.href.startsWith("https://thatnerd527.github.io/MyTSBCPublic")?"about:blank":e.has("devmodeview")?"https://192.168.1.252:5173":e.has("devmodeviewremote")?"https://tsbchq.com:5173":`https://thatnerd527.github.io/MyTSBCPublic?random=${btoa(Math.random().toString().replace("=",""))}`}function rA(n,e,t){return console.log("production"),Nc=e.create("iframe",{"x-on:load":ce(function(){(window.location.href.startsWith("https://localhost")||window.location.href.startsWith("capacitor-electron://"))&&(this.side1=!0,this.side2&&(this.offline.liveversion=!0))}),"x-init":ce(function(){fetch("https://thatnerd527.github.io/MyTSBCPublic/").then(i=>{this.side2=!0,this.side1&&(window.location.href.startsWith("https://localhost")||window.location.href.startsWith("capacitor-electron://"))&&(this.offline.liveversion=!0)}).catch(i=>{this.offline.isoffline=!0,this.offline.dialogopen=!0,this.offline.liveversion=!1})}),src:iA(),style:`
            width: 100vw;
            height: 100vh;
          `,"x-bind:style":`{
            "position": "absolute",
            "z-index": offline.liveversion ? 10 : -10,
          }`,"x-show":"!offline.isoffline",allow:"clipboard-write"}),e.create("div",{style:`
        overflow: hidden;
                    width: 100vw;
            height: 100vh;
      `},Nc)}function oA(n,e,t){return e.create("div",{style:`overflow-y: scroll; \r
  height: calc(calc(var(--vh, 1vh) * 100) - 85px)`},e.create("div",{_content:`
      <template x-for="(item, index) in videomanager.offlinevideos">
          ${e.create("div",null,e.create(on,{attributes:{"x-transition.duration.250ms":""}},e.create("div",{style:`\r
          width: calc(100% - 20px);\r
          margin-left: 10px;\r
          margin-right: 10px;\r
          justify-content: center;\r
        `},e.create("div",{style:`\r
                            display:flex\r
                            `},e.create("img",{style:`\r
                          width: 150px;\r
                          height: 150px;\r
                          margin-top: 10px;\r
                        `,"x-bind:src":"currentselected.imageurl"}),e.create("div",{style:`\r
                                height: 100%;\r
                                display: block;\r
                              `},e.create("div",{style:`\r
                          font-family: BlinkMacSystemFont,-apple-system,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',Helvetica,Arial,sans-serif;\r
                          font-size: 2em;\r
                          margin-left: 10px;\r
                          margin-bottom: 5px;\r
                          `,"x-text":"item.videotitle"},"Southeast Gear"),e.create("div",{style:`\r
                                  margin-left: 10px;\r
                                `,"x-on:click":ce(function(){this.selectedvideo={selected:!0,fullscreen:!1,videourl:"https://www.youtube.com/watch?v=D-eDNDfU3oY",directurl:"https://www.youtube.com/watch?v=D-eDNDfU3oY",timeoutid:0,videotitle:"",description:"",messagevisible:!1,...this.item},this.$store.uiData.page="watch",this.$store.uiData.navbars.main="watch"})},e.create(ge,{label:"Watch now",type:"--raised"}))))))).outerHTML}
        </template>
        `}),e.create("div",{"x-on:click":ce(function(){this.$dispatch("downloadvideo")})},e.create(ge,{label:"Test",type:"--raised"})))}function sA(n,e,t){return e.create("p",{style:"color: white"},"Terms of Use for MyTSBC Streaming App",e.create("br",null),e.create("br",null),"Effective Date: 19th July 2023",e.create("br",null),e.create("br",null),'Welcome to MyTSBC Streaming App (the "App"). This App is owned and operated by TSBC (TenStudios Broadcasting Community). By accessing and using the App, you agree to comply with the following Terms of Use. Please read these terms carefully before using the App.',e.create("br",null),e.create("br",null),"1. User Content",e.create("br",null),'1.1. By using the App, you acknowledge that you may submit or upload content, including but not limited to videos, audio, text, images, and other materials ("User Content").',e.create("br",null),"1.2. You represent and warrant that you have all necessary rights, licenses, and permissions to submit User Content to the App. You retain ownership of your User Content, but by submitting it to the App, you grant TSBC a worldwide, non-exclusive, royalty-free, sublicensable, and transferable license to use, reproduce, distribute, prepare derivative works of, display, and perform the User Content in connection with the App and TSBC's promotional activities.",e.create("br",null),"1.3. You are solely responsible for your User Content and any consequences that may arise from its submission. TSBC does not endorse or guarantee the accuracy, completeness, or quality of any User Content.",e.create("br",null),e.create("br",null),"2. Partnership and Approval",e.create("br",null),"2.1. Only communities that have entered into a partnership agreement and have been approved by TSBC are eligible to submit content to the App.",e.create("br",null),"2.2. Partnership agreements are subject to TSBC's review and approval, and TSBC reserves the right to reject or terminate partnerships at its sole discretion.",e.create("br",null),e.create("br",null),"3. YouTube API",e.create("br",null),"3.1. The App utilizes the YouTube API to access and display YouTube content.",e.create("br",null),"3.2. You agree to comply with all terms and conditions set forth by YouTube, including but not limited to the YouTube API Terms of Service and YouTube Community Guidelines.",e.create("br",null),e.create("br",null),"4. Prohibited Conduct",e.create("br",null),"4.1. You agree not to engage in any of the following prohibited activities while using the App:",e.create("br",null)," - Violating any applicable laws, regulations, or third-party rights.",e.create("br",null)," - Uploading or distributing content that is illegal, harmful, defamatory, or infringing upon intellectual property rights.",e.create("br",null)," - Engaging in any form of harassment, hate speech, or abusive behavior towards others.",e.create("br",null)," - Impersonating any person or entity or falsely representing your affiliation with any person or entity.",e.create("br",null)," - Interfering with the operation of the App or disrupting the experience of other users.",e.create("br",null)," - Using automated systems or software to access or scrape the App without authorization.",e.create("br",null),"4.2. TSBC reserves the right to suspend or terminate your access to the App if you violate these Terms of Use or engage in any prohibited conduct.",e.create("br",null),e.create("br",null),"5. Modifications and Termination",e.create("br",null),"5.1. TSBC may modify or update these Terms of Use at any time without prior notice. By continuing to use the App, you agree to be bound by the updated Terms of Use.",e.create("br",null),"5.2. TSBC may terminate or suspend your access to the App at any time, with or without cause and without prior notice.",e.create("br",null),e.create("br",null),"6. Disclaimer of Warranties",e.create("br",null),`6.1. The App is provided on an "as-is" and "as available" basis. TSBC makes no representations or warranties of any kind, express or implied, regarding the App's availability, reliability, accuracy, or fitness for a particular purpose.`,e.create("br",null),"6.2. TSBC disclaims all liability for any damages or losses arising from your use of the App or reliance on any information or content provided through the App.",e.create("br",null),e.create("br",null),"7. Governing Law",e.create("br",null),"7.1. These Terms of Use shall be governed by and construed in accordance with the laws of Indonesia. Any disputes arising from or in connection with these Terms of Use shall be subject to the exclusive jurisdiction of the courts of Indonesia.",e.create("br",null),e.create("br",null),"By using the MyTSBC Streaming App, you acknowledge that you have read, understood, and agree to these Terms of Use. If you do not agree with any provision of these terms, please refrain from using the App.",e.create("br",null),e.create("br",null),"If you have any questions or concerns regarding these Terms of Use, please contact us at tenstudiosbc.id@gmail.com.",e.create("br",null),e.create("br",null),"Last updated: 19th July 2023")}window.addEventListener("message",n=>{switch(n.data.type){case"child2parenthttp":ZS[n.data.method](n.data.options).then(t=>{console.log("manager received"),console.log("POSTING MESSAGE"),Nc.contentWindow.postMessage({type:"parent2childhttp",response:t},"*")});break;case"copytoclipboard":tA.write({string:n.data.text});break;case"addbackhook":console.log("triggggggg");let e=null;H_.addListener("backButton",()=>{console.log("backsent"),Nc.contentWindow.postMessage({type:"backsent"},"*"),e.remove()}).then(t=>{e=t});break;case"exit":H_.exitApp()}});const aA={apiKey:"AIzaSyASnaeaC-FLvGoHKneasPInl12JC9jX27Q",authDomain:"mytsbc-a2d97.firebaseapp.com",projectId:"mytsbc-a2d97",storageBucket:"mytsbc-a2d97.appspot.com",messagingSenderId:"267158378243",appId:"1:267158378243:web:31d94cda2ae697a0be7b36",measurementId:"G-2RQNS9T3W0",databaseURL:"https://mytsbc-a2d97-default-rtdb.asia-southeast1.firebasedatabase.app/"},ve=new class extends _l{constructor(n=window){super(n,()=>new ew,()=>new tw,()=>new nw,()=>new ZE,()=>new JE,()=>new ow,()=>new aw,()=>new sw,()=>new rw,()=>new cw)}},B_={"--mdc-theme-primary-rgb":"13,188,196","--mdc-theme-primary":"rgb(var(--mdc-theme-primary-rgb))","--mdc-theme-secondary":"#fff","--mdc-theme-text-primary-on-background":"#fff","--mdc-theme-surface":"#2c2931","--mdc-theme-background":"#2c2931","--navbar":"#332f3a",color:"#ffffff"};window.colors=B_,window.onresize=()=>{var n=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${n}px`)},ve.render(ve.create(ve.fragment,null,ve.create("script",null,`
            async function getembed(url) {
            return await (await fetch(url)).text()
            }

            function safeGet(name) {
            console.log(typeof name)
            }
        `),ve.create(IT,null))).on(document.head),document.addEventListener("alpine:init",()=>{window.Alpine.data("mainData",()=>({currentprogram:{},firebaseapp:null,firebasedatabase:null,currentseries:{},currentvideo:{},currentselected:{},tosopen:!1,selectedvideo:{selected:!1,fullscreen:!1,videourl:"https://www.youtube.com/watch?v=u18be_kRmC0",directurl:"https://www.youtube.com/watch?v=u18be_kRmC0",timeoutid:0,videotitle:"",description:"",messagevisible:!1},testres:{},offline:{dialogopen:!1,isoffline:!1,liveversion:!1,side1:!1,side2:!1},programmes:{loading:!0,data:{}},serieses:{loading:!1,data:{}},initialized:!1,fontsize:20,auth:{authenticating:!0,dialogopen:!1,loggedIn:!1,email:"",displayName:"",idToken:"",uid:"",firebaseuser:null},actions:{signout:{"@click"(){if(this.auth.authenticating)return;this.auth={authenticating:!1,dialogopen:!1,loggedIn:!1,email:"",displayName:"",idToken:"",uid:"",firebaseuser:null};let n=Tn(this.firebaseapp);n.setPersistence(Ci),Ny(n)}}},firebasemanager:{"x-init"(){const n=Pl(aA);Yf(n),Tn(n);const e=En(n);return Ju(bn(e,"/programmes"),t=>{var i=[];t.val().forEach(r=>{i.push(r)}),this.programmes.data=i}),this.firebasedatabase=e,this.firebaseapp=n,null}},authmanager:{"x-init"(){let n=Tn(this.firebaseapp);n.setPersistence(Ci),n.onAuthStateChanged(e=>{console.log("authManager called"),e==null?this.auth.authenticating=!1:(this.auth.authenticating=!1,this.auth.loggedIn=!0,this.auth.email=e.email,this.auth.displayName=e.displayName,e.getIdToken().then(t=>{this.auth.idToken=t}),this.auth.uid=e.uid,this.auth.firebaseuser=e)})}},videomanager:{offlinevideos:{},"x-init"(){console.log("ABC")},"@downloadvideo"(){console.log(this.$event)}}}))}),ve.render(ve.create(ve.fragment,null,ve.create(TT,{colors:B_,style:`
            display:inline-block;

            /*set the div in the top-left corner of the screen*/
            position:absolute;
            top:0;
            left:0;

            /*set the width and height to 100% of the screen*/
            width:100%;
            height:100%;
            background-color: var(--mdc-theme-background);
        `},ve.create("div",{"x-data":"mainData","x-bind":"videomanager"},ve.create("div",{"x-bind:style":`{
            "position": "absolute",
            "z-index": offline.liveversion ? -10 : 10,
            "width": "100vw",
            "height": "100vh",
          }`,"x-show":"offline.isoffline || (!offline.liveversion)"},ve.create("div",{"x-bind":"firebasemanager"}),ve.create("div",{"x-bind":"authmanager"}),ve.create("div",null),ve.create(OT,null,ve.create(eo,{page:"home"},ve.create(RT,null)),ve.create(eo,{page:"settings"},ve.create(Dx,null)),ve.create(eo,{page:"series"},ve.create(oS,null)),ve.create(eo,{page:"thatnerdlabs"},ve.create(gS,null)),ve.create(eo,{page:"watch"},ve.create(GS,null)),ve.create(eo,{page:"offline"},ve.create(oA,null))),ve.create(AT,null)),ve.create(rA,null),ve.create("div",{style:`
            position: absolute;
            z-index: 9999;
          `},ve.create(Sc,{closeable:kn("true"),title:kn("'Not connected'"),dialogopen:Ac("offline.dialogopen"),dialogactions:ve.create("div",null)},ve.create("div",{style:`\r
              color: var(--mdc-theme-text-primary-on-background);\r
            `},"You seem to not be connected to the internet. Please check your internet. You may be able to browse, but you may not be able to watch videos.")),ve.create(Sc,{closeable:kn("true"),title:kn("'Terms of Service'"),dialogopen:Ac("tosopen"),dialogactions:ve.create("div",null)},ve.create(sA,null))))))).on(document.body);var ao,co,Os,q_,kh=!1,Oh=!1,_r=[],Nh=-1;function cA(n){(function(e){_r.includes(e)||_r.push(e),Oh||kh||(kh=!0,queueMicrotask(lA))})(n)}function V_(n){let e=_r.indexOf(n);e!==-1&&e>Nh&&_r.splice(e,1)}function lA(){kh=!1,Oh=!0;for(let n=0;n<_r.length;n++)_r[n](),Nh=n;_r.length=0,Nh=-1,Oh=!1}var Rh=!0;function W_(n){co=n}var $_=[],z_=[],G_=[];function K_(n,e){typeof e=="function"?(n._x_cleanups||(n._x_cleanups=[]),n._x_cleanups.push(e)):(e=n,z_.push(e))}function Y_(n,e){n._x_attributeCleanups&&Object.entries(n._x_attributeCleanups).forEach(([t,i])=>{(e===void 0||e.includes(t))&&(i.forEach(r=>r()),delete n._x_attributeCleanups[t])})}var Ph=new MutationObserver(jh),Lh=!1;function Dh(){Ph.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Lh=!0}function X_(){(Rc=Rc.concat(Ph.takeRecords())).length&&!Mh&&(Mh=!0,queueMicrotask(()=>{jh(Rc),Rc.length=0,Mh=!1})),Ph.disconnect(),Lh=!1}var Rc=[],Mh=!1;function at(n){if(!Lh)return n();X_();let e=n();return Dh(),e}var Fh=!1,Pc=[];function jh(n){if(Fh)return void(Pc=Pc.concat(n));let e=[],t=[],i=new Map,r=new Map;for(let o=0;o<n.length;o++)if(!n[o].target._x_ignoreMutationObserver&&(n[o].type==="childList"&&(n[o].addedNodes.forEach(s=>s.nodeType===1&&e.push(s)),n[o].removedNodes.forEach(s=>s.nodeType===1&&t.push(s))),n[o].type==="attributes")){let s=n[o].target,c=n[o].attributeName,u=n[o].oldValue,d=()=>{i.has(s)||i.set(s,[]),i.get(s).push({name:c,value:s.getAttribute(c)})},m=()=>{r.has(s)||r.set(s,[]),r.get(s).push(c)};s.hasAttribute(c)&&u===null?d():s.hasAttribute(c)?(m(),d()):m()}r.forEach((o,s)=>{Y_(s,o)}),i.forEach((o,s)=>{$_.forEach(c=>c(s,o))});for(let o of t)if(!e.includes(o)&&(z_.forEach(s=>s(o)),o._x_cleanups))for(;o._x_cleanups.length;)o._x_cleanups.pop()();e.forEach(o=>{o._x_ignoreSelf=!0,o._x_ignore=!0});for(let o of e)t.includes(o)||o.isConnected&&(delete o._x_ignoreSelf,delete o._x_ignore,G_.forEach(s=>s(o)),o._x_ignore=!0,o._x_ignoreSelf=!0);e.forEach(o=>{delete o._x_ignoreSelf,delete o._x_ignore}),e=null,t=null,i=null,r=null}function Q_(n){return Rs(lo(n))}function Ns(n,e,t){return n._x_dataStack=[e,...lo(t||n)],()=>{n._x_dataStack=n._x_dataStack.filter(i=>i!==e)}}function lo(n){return n._x_dataStack?n._x_dataStack:typeof ShadowRoot=="function"&&n instanceof ShadowRoot?lo(n.host):n.parentNode?lo(n.parentNode):[]}function Rs(n){let e=new Proxy({},{ownKeys:()=>Array.from(new Set(n.flatMap(t=>Object.keys(t)))),has:(t,i)=>n.some(r=>r.hasOwnProperty(i)),get:(t,i)=>(n.find(r=>{if(r.hasOwnProperty(i)){let o=Object.getOwnPropertyDescriptor(r,i);if(o.get&&o.get._x_alreadyBound||o.set&&o.set._x_alreadyBound)return!0;if((o.get||o.set)&&o.enumerable){let s=o.get,c=o.set,u=o;s=s&&s.bind(e),c=c&&c.bind(e),s&&(s._x_alreadyBound=!0),c&&(c._x_alreadyBound=!0),Object.defineProperty(r,i,{...u,get:s,set:c})}return!0}return!1})||{})[i],set:(t,i,r)=>{let o=n.find(s=>s.hasOwnProperty(i));return o?o[i]=r:n[n.length-1][i]=r,!0}});return e}function J_(n){let e=(t,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(t)).forEach(([r,{value:o,enumerable:s}])=>{if(s===!1||o===void 0)return;let c=i===""?r:`${i}.${r}`;typeof o=="object"&&o!==null&&o._x_interceptor?t[r]=o.initialize(n,c,r):!(u=>typeof u=="object"&&!Array.isArray(u)&&u!==null)(o)||o===t||o instanceof Element||e(o,c)})};return e(n)}function Z_(n,e=()=>{}){let t={initialValue:void 0,_x_interceptor:!0,initialize(i,r,o){return n(this.initialValue,()=>function(s,c){return c.split(".").reduce((u,d)=>u[d],s)}(i,r),s=>eb(i,r,s),r,o)}};return e(t),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let r=t.initialize.bind(t);t.initialize=(o,s,c)=>{let u=i.initialize(o,s,c);return t.initialValue=u,r(o,s,c)}}else t.initialValue=i;return t}}function eb(n,e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==1){if(e.length===0)throw error;return n[e[0]]||(n[e[0]]={}),eb(n[e[0]],e.slice(1),t)}n[e[0]]=t}var tb={};function ln(n,e){tb[n]=e}function Uh(n,e){return Object.entries(tb).forEach(([t,i])=>{let r=null;Object.defineProperty(n,`$${t}`,{get:()=>i(e,function(){if(r)return r;{let[o,s]=sb(e);return r={interceptor:Z_,...o},K_(e,s),r}}()),enumerable:!1})}),n}function uA(n,e,t,...i){try{return t(...i)}catch(r){Ps(r,n,e)}}function Ps(n,e,t=void 0){Object.assign(n,{el:e,expression:t}),console.warn(`Alpine Expression Error: ${n.message}

${t?'Expression: "'+t+`"

`:""}`,e),setTimeout(()=>{throw n},0)}var Lc=!0;function uo(n,e,t={}){let i;return Ct(n,e)(r=>i=r,t),i}function Ct(...n){return nb(...n)}var nb=ib;function ib(n,e){let t={};Uh(t,n);let i=[t,...lo(n)],r=typeof e=="function"?function(o,s){return(c=()=>{},{scope:u={},params:d=[]}={})=>{Dc(c,s.apply(Rs([u,...o]),d))}}(i,e):function(o,s,c){let u=function(d,m){if(Hh[d])return Hh[d];let y=Object.getPrototypeOf(async function(){}).constructor,g=/^[\n\s]*if.*\(.*\)/.test(d)||/^(let|const)\s/.test(d)?`(async()=>{ ${d} })()`:d,w=(()=>{try{return new y(["__self","scope"],`with (scope) { __self.result = ${g} }; __self.finished = true; return __self.result;`)}catch(C){return Ps(C,m,d),Promise.resolve()}})();return Hh[d]=w,w}(s,c);return(d=()=>{},{scope:m={},params:y=[]}={})=>{u.result=void 0,u.finished=!1;let g=Rs([m,...o]);if(typeof u=="function"){let b=u(u,g).catch(w=>Ps(w,c,s));u.finished?(Dc(d,u.result,g,y,c),u.result=void 0):b.then(w=>{Dc(d,w,g,y,c)}).catch(w=>Ps(w,c,s)).finally(()=>u.result=void 0)}}}(i,e,n);return uA.bind(null,n,e,r)}var Hh={};function Dc(n,e,t,i,r){if(Lc&&typeof e=="function"){let o=e.apply(t,i);o instanceof Promise?o.then(s=>Dc(n,s,t,i)).catch(s=>Ps(s,r,e)):n(o)}else typeof e=="object"&&e instanceof Promise?e.then(o=>n(o)):n(e)}var Bh="x-";function ho(n=""){return Bh+n}var qh={};function Qe(n,e){return qh[n]=e,{before(t){if(!qh[t])return void console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");const i=br.indexOf(t);br.splice(i>=0?i:br.indexOf("DEFAULT"),0,n)}}}function Vh(n,e,t){if(e=Array.from(e),n._x_virtualDirectives){let o=Object.entries(n._x_virtualDirectives).map(([c,u])=>({name:c,value:u})),s=rb(o);o=o.map(c=>s.find(u=>u.name===c.name)?{name:`x-bind:${c.name}`,value:`"${c.value}"`}:c),e=e.concat(o)}let i={};return e.map(cb((o,s)=>i[o]=s)).filter(ub).map(function(o,s){return({name:c,value:u})=>{let d=c.match(db()),m=c.match(/:([a-zA-Z0-9\-:]+)/),y=c.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],g=s||o[c]||c;return{type:d?d[1]:null,value:m?m[1]:null,modifiers:y.map(b=>b.replace(".","")),expression:u,original:g}}}(i,t)).sort(dA).map(o=>function(s,c){let u=()=>{},d=qh[c.type]||u,[m,y]=sb(s);(function(b,w,C){b._x_attributeCleanups||(b._x_attributeCleanups={}),b._x_attributeCleanups[w]||(b._x_attributeCleanups[w]=[]),b._x_attributeCleanups[w].push(C)})(s,c.original,y);let g=()=>{s._x_ignore||s._x_ignoreSelf||(d.inline&&d.inline(s,c,m),d=d.bind(d,s,c,m),Wh?Ls.get(ob).push(d):d())};return g.runCleanups=y,g}(n,o))}function rb(n){return Array.from(n).map(cb()).filter(e=>!ub(e))}var Wh=!1,Ls=new Map,ob=Symbol();function sb(n){let e=[],[t,i]=function(o){let s=()=>{};return[c=>{let u=co(c);return o._x_effects||(o._x_effects=new Set,o._x_runEffects=()=>{o._x_effects.forEach(d=>d())}),o._x_effects.add(u),s=()=>{u!==void 0&&(o._x_effects.delete(u),Os(u))},u},()=>{s()}]}(n);return e.push(i),[{Alpine:Us,effect:t,cleanup:o=>e.push(o),evaluateLater:Ct.bind(Ct,n),evaluate:uo.bind(uo,n)},()=>e.forEach(o=>o())]}var ab=(n,e)=>({name:t,value:i})=>(t.startsWith(n)&&(t=t.replace(n,e)),{name:t,value:i});function cb(n=()=>{}){return({name:e,value:t})=>{let{name:i,value:r}=lb.reduce((o,s)=>s(o),{name:e,value:t});return i!==e&&n(i,e),{name:i,value:r}}}var lb=[];function $h(n){lb.push(n)}function ub({name:n}){return db().test(n)}var db=()=>new RegExp(`^${Bh}([^:^.]+)\\b`),zh="DEFAULT",br=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",zh,"teleport"];function dA(n,e){let t=br.indexOf(n.type)===-1?zh:n.type,i=br.indexOf(e.type)===-1?zh:e.type;return br.indexOf(t)-br.indexOf(i)}function Ds(n,e,t={}){n.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0,cancelable:!0}))}function Ri(n,e){if(typeof ShadowRoot=="function"&&n instanceof ShadowRoot)return void Array.from(n.children).forEach(r=>Ri(r,e));let t=!1;if(e(n,()=>t=!0),t)return;let i=n.firstElementChild;for(;i;)Ri(i,e),i=i.nextElementSibling}function Pi(n,...e){console.warn(`Alpine Warning: ${n}`,...e)}var hb=!1,Gh=[],pb=[];function fb(){return Gh.map(n=>n())}function mb(){return Gh.concat(pb).map(n=>n())}function gb(n){Gh.push(n)}function yb(n){pb.push(n)}function Mc(n,e=!1){return Fc(n,t=>{if((e?mb():fb()).some(i=>t.matches(i)))return!0})}function Fc(n,e){if(n){if(e(n))return n;if(n._x_teleportBack&&(n=n._x_teleportBack),n.parentElement)return Fc(n.parentElement,e)}}var vb=[];function Li(n,e=Ri,t=()=>{}){(function(i){Wh=!0;let r=Symbol();ob=r,Ls.set(r,[]);let o=()=>{for(;Ls.get(r).length;)Ls.get(r).shift()();Ls.delete(r)};i(o),Wh=!1,o()})(()=>{e(n,(i,r)=>{t(i,r),vb.forEach(o=>o(i,r)),Vh(i,i.attributes).forEach(o=>o()),i._x_ignore&&r()})})}function _b(n){Ri(n,e=>Y_(e))}var Kh=[],Yh=!1;function Xh(n=()=>{}){return queueMicrotask(()=>{Yh||setTimeout(()=>{Qh()})}),new Promise(e=>{Kh.push(()=>{n(),e()})})}function Qh(){for(Yh=!1;Kh.length;)Kh.shift()()}function Jh(n,e){return Array.isArray(e)?bb(n,e.join(" ")):typeof e=="object"&&e!==null?function(t,i){let r=d=>d.split(" ").filter(Boolean),o=Object.entries(i).flatMap(([d,m])=>!!m&&r(d)).filter(Boolean),s=Object.entries(i).flatMap(([d,m])=>!m&&r(d)).filter(Boolean),c=[],u=[];return s.forEach(d=>{t.classList.contains(d)&&(t.classList.remove(d),u.push(d))}),o.forEach(d=>{t.classList.contains(d)||(t.classList.add(d),c.push(d))}),()=>{u.forEach(d=>t.classList.add(d)),c.forEach(d=>t.classList.remove(d))}}(n,e):typeof e=="function"?Jh(n,e()):bb(n,e)}function bb(n,e){return e=e===!0?e="":e||"",t=e.split(" ").filter(i=>!n.classList.contains(i)).filter(Boolean),n.classList.add(...t),()=>{n.classList.remove(...t)};var t}function jc(n,e){return typeof e=="object"&&e!==null?function(t,i){let r={};return Object.entries(i).forEach(([o,s])=>{r[o]=t.style[o],o.startsWith("--")||(o=o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),t.style.setProperty(o,s)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{jc(t,r)}}(n,e):function(t,i){let r=t.getAttribute("style",i);return t.setAttribute("style",i),()=>{t.setAttribute("style",r||"")}}(n,e)}function Zh(n,e=()=>{}){let t=!1;return function(){t?e.apply(this,arguments):(t=!0,n.apply(this,arguments))}}function Eb(n,e,t={}){n._x_transition||(n._x_transition={enter:{during:t,start:t,end:t},leave:{during:t,start:t,end:t},in(i=()=>{},r=()=>{}){ep(n,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,r)},out(i=()=>{},r=()=>{}){ep(n,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,r)}})}function wb(n){let e=n.parentNode;if(e)return e._x_hidePromise?e:wb(e)}function ep(n,e,{during:t,start:i,end:r}={},o=()=>{},s=()=>{}){if(n._x_transitioning&&n._x_transitioning.cancel(),Object.keys(t).length===0&&Object.keys(i).length===0&&Object.keys(r).length===0)return o(),void s();let c,u,d;(function(m,y){let g,b,w,C=Zh(()=>{at(()=>{g=!0,b||y.before(),w||(y.end(),Qh()),y.after(),m.isConnected&&y.cleanup(),delete m._x_transitioning})});m._x_transitioning={beforeCancels:[],beforeCancel(k){this.beforeCancels.push(k)},cancel:Zh(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();C()}),finish:C},at(()=>{y.start(),y.during()}),Yh=!0,requestAnimationFrame(()=>{if(g)return;let k=1e3*Number(getComputedStyle(m).transitionDuration.replace(/,.*/,"").replace("s","")),A=1e3*Number(getComputedStyle(m).transitionDelay.replace(/,.*/,"").replace("s",""));k===0&&(k=1e3*Number(getComputedStyle(m).animationDuration.replace("s",""))),at(()=>{y.before()}),b=!0,requestAnimationFrame(()=>{g||(at(()=>{y.end()}),Qh(),setTimeout(m._x_transitioning.finish,k+A),w=!0)})})})(n,{start(){c=e(n,i)},during(){u=e(n,t)},before:o,end(){c(),d=e(n,r)},after:s,cleanup(){u(),d()}})}function Ms(n,e,t){if(n.indexOf(e)===-1)return t;const i=n[n.indexOf(e)+1];if(!i||e==="scale"&&isNaN(i))return t;if(e==="duration"||e==="delay"){let r=i.match(/([0-9]+)ms/);if(r)return r[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(n[n.indexOf(e)+2])?[i,n[n.indexOf(e)+2]].join(" "):i}Qe("transition",(n,{value:e,modifiers:t,expression:i},{evaluate:r})=>{typeof i=="function"&&(i=r(i)),i!==!1&&(i&&typeof i!="boolean"?function(o,s,c){Eb(o,Jh,""),{enter:d=>{o._x_transition.enter.during=d},"enter-start":d=>{o._x_transition.enter.start=d},"enter-end":d=>{o._x_transition.enter.end=d},leave:d=>{o._x_transition.leave.during=d},"leave-start":d=>{o._x_transition.leave.start=d},"leave-end":d=>{o._x_transition.leave.end=d}}[c](s)}(n,i,e):function(o,s,c){Eb(o,jc);let u=!s.includes("in")&&!s.includes("out")&&!c,d=u||s.includes("in")||["enter"].includes(c),m=u||s.includes("out")||["leave"].includes(c);s.includes("in")&&!u&&(s=s.filter((Z,p)=>p<s.indexOf("out"))),s.includes("out")&&!u&&(s=s.filter((Z,p)=>p>s.indexOf("out")));let y=!s.includes("opacity")&&!s.includes("scale"),g=y||s.includes("opacity"),b=y||s.includes("scale"),w=g?0:1,C=b?Ms(s,"scale",95)/100:1,k=Ms(s,"delay",0)/1e3,A=Ms(s,"origin","center"),F="opacity, transform",V=Ms(s,"duration",150)/1e3,H=Ms(s,"duration",75)/1e3,$="cubic-bezier(0.4, 0.0, 0.2, 1)";d&&(o._x_transition.enter.during={transformOrigin:A,transitionDelay:`${k}s`,transitionProperty:F,transitionDuration:`${V}s`,transitionTimingFunction:$},o._x_transition.enter.start={opacity:w,transform:`scale(${C})`},o._x_transition.enter.end={opacity:1,transform:"scale(1)"}),m&&(o._x_transition.leave.during={transformOrigin:A,transitionDelay:`${k}s`,transitionProperty:F,transitionDuration:`${H}s`,transitionTimingFunction:$},o._x_transition.leave.start={opacity:1,transform:"scale(1)"},o._x_transition.leave.end={opacity:w,transform:`scale(${C})`})}(n,t,e))}),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(n,e,t,i){const r=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let o=()=>r(t);e?n._x_transition&&(n._x_transition.enter||n._x_transition.leave)?n._x_transition.enter&&(Object.entries(n._x_transition.enter.during).length||Object.entries(n._x_transition.enter.start).length||Object.entries(n._x_transition.enter.end).length)?n._x_transition.in(t):o():n._x_transition?n._x_transition.in(t):o():(n._x_hidePromise=n._x_transition?new Promise((s,c)=>{n._x_transition.out(()=>{},()=>s(i)),n._x_transitioning.beforeCancel(()=>c({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let s=wb(n);s?(s._x_hideChildren||(s._x_hideChildren=[]),s._x_hideChildren.push(n)):r(()=>{let c=u=>{let d=Promise.all([u._x_hidePromise,...(u._x_hideChildren||[]).map(c)]).then(([m])=>m());return delete u._x_hidePromise,delete u._x_hideChildren,d};c(n).catch(u=>{if(!u.isFromCancelledTransition)throw u})})}))};var Fs=!1;function js(n,e=()=>{}){return(...t)=>Fs?e(...t):n(...t)}function Ib(n,e,t,i=[]){switch(n._x_bindings||(n._x_bindings=ao({})),n._x_bindings[e]=t,e=i.includes("camel")?e.toLowerCase().replace(/-(\w)/g,(r,o)=>o.toUpperCase()):e){case"value":(function(r,o){if(r.type==="radio")r.attributes.value===void 0&&(r.value=o),window.fromModel&&(r.checked=Tb(r.value,o));else if(r.type==="checkbox")Number.isInteger(o)?r.value=o:Number.isInteger(o)||Array.isArray(o)||typeof o=="boolean"||[null,void 0].includes(o)?Array.isArray(o)?r.checked=o.some(s=>Tb(s,r.value)):r.checked=!!o:r.value=String(o);else if(r.tagName==="SELECT")(function(s,c){const u=[].concat(c).map(d=>d+"");Array.from(s.options).forEach(d=>{d.selected=u.includes(d.value)})})(r,o);else{if(r.value===o)return;r.value=o}})(n,t);break;case"style":(function(r,o){r._x_undoAddedStyles&&r._x_undoAddedStyles(),r._x_undoAddedStyles=jc(r,o)})(n,t);break;case"class":(function(r,o){r._x_undoAddedClasses&&r._x_undoAddedClasses(),r._x_undoAddedClasses=Jh(r,o)})(n,t);break;case"selected":case"checked":(function(r,o,s){Cb(r,o,s),function(c,u,d){c[u]!==d&&(c[u]=d)}(r,o,s)})(n,e,t);break;default:Cb(n,e,t)}}function Cb(n,e,t){[null,void 0,!1].includes(t)&&function(i){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(i)}(e)?n.removeAttribute(e):(xb(e)&&(t=e),function(i,r,o){i.getAttribute(r)!=o&&i.setAttribute(r,o)}(n,e,t))}function Tb(n,e){return n==e}function xb(n){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(n)}function Sb(n,e){var t;return function(){var i=this,r=arguments;clearTimeout(t),t=setTimeout(function(){t=null,n.apply(i,r)},e)}}function Ab(n,e){let t;return function(){let i=this,r=arguments;t||(n.apply(i,r),t=!0,setTimeout(()=>t=!1,e))}}var Er={},kb=!1,Ob={};function Nb(n,e,t){let i=[];for(;i.length;)i.pop()();let r=Object.entries(e).map(([s,c])=>({name:s,value:c})),o=rb(r);r=r.map(s=>o.find(c=>c.name===s.name)?{name:`x-bind:${s.name}`,value:`"${s.value}"`}:s),Vh(n,r,t).map(s=>{i.push(s.runCleanups),s()})}var Rb={},hA={get reactive(){return ao},get release(){return Os},get effect(){return co},get raw(){return q_},version:"3.12.2",flushAndStopDeferringMutations:function(){Fh=!1,jh(Pc),Pc=[]},dontAutoEvaluateFunctions:function(n){let e=Lc;Lc=!1,n(),Lc=e},disableEffectScheduling:function(n){Rh=!1,n(),Rh=!0},startObservingMutations:Dh,stopObservingMutations:X_,setReactivityEngine:function(n){ao=n.reactive,Os=n.release,co=e=>n.effect(e,{scheduler:t=>{Rh?cA(t):t()}}),q_=n.raw},closestDataStack:lo,skipDuringClone:js,onlyDuringClone:function(n){return(...e)=>Fs&&n(...e)},addRootSelector:gb,addInitSelector:yb,addScopeToNode:Ns,deferMutations:function(){Fh=!0},mapAttributes:$h,evaluateLater:Ct,interceptInit:function(n){vb.push(n)},setEvaluator:function(n){nb=n},mergeProxies:Rs,findClosest:Fc,closestRoot:Mc,destroyTree:_b,interceptor:Z_,transition:ep,setStyles:jc,mutateDom:at,directive:Qe,throttle:Ab,debounce:Sb,evaluate:uo,initTree:Li,nextTick:Xh,prefixed:ho,prefix:function(n){Bh=n},plugin:function(n){(Array.isArray(n)?n:[n]).forEach(e=>e(Us))},magic:ln,store:function(n,e){if(kb||(Er=ao(Er),kb=!0),e===void 0)return Er[n];Er[n]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&Er[n].init(),J_(Er[n])},start:function(){hb&&Pi("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),hb=!0,document.body||Pi("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Ds(document,"alpine:init"),Ds(document,"alpine:initializing"),Dh(),function(n){G_.push(n)}(n=>Li(n,Ri)),K_(n=>_b(n)),function(n){$_.push(n)}((n,e)=>{Vh(n,e).forEach(t=>t())}),Array.from(document.querySelectorAll(mb())).filter(n=>!Mc(n.parentElement,!0)).forEach(n=>{Li(n)}),Ds(document,"alpine:initialized")},clone:function(n,e){e._x_dataStack||(e._x_dataStack=n._x_dataStack),Fs=!0,function(t){let i=co;W_((r,o)=>{let s=i(r);return Os(s),()=>{}}),t(),W_(i)}(()=>{(function(t){let i=!1;Li(t,(o,s)=>{Ri(o,(c,u)=>{if(i&&function(d){return fb().some(m=>d.matches(m))}(c))return u();i=!0,s(c,u)})})})(e)}),Fs=!1},bound:function(n,e,t){if(n._x_bindings&&n._x_bindings[e]!==void 0)return n._x_bindings[e];let i=n.getAttribute(e);return i===null?typeof t=="function"?t():t:i===""||(xb(e)?!![e,"true"].includes(i):i)},$data:Q_,walk:Ri,data:function(n,e){Rb[n]=e},bind:function(n,e){let t=typeof e!="function"?()=>e:e;n instanceof Element?Nb(n,t()):Ob[n]=t}},Us=hA;function pA(n,e){const t=Object.create(null),i=n.split(",");for(let r=0;r<i.length;r++)t[i[r]]=!0;return e?r=>!!t[r.toLowerCase()]:r=>!!t[r]}var Nn,fA=Object.freeze({}),Pb=Object.assign,mA=Object.prototype.hasOwnProperty,Uc=(n,e)=>mA.call(n,e),wr=Array.isArray,Hs=n=>Lb(n)==="[object Map]",tp=n=>typeof n=="symbol",Hc=n=>n!==null&&typeof n=="object",gA=Object.prototype.toString,Lb=n=>gA.call(n),Db=n=>Lb(n).slice(8,-1),np=n=>(e=>typeof e=="string")(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,yA=(n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))})(n=>n.charAt(0).toUpperCase()+n.slice(1)),Mb=(n,e)=>n!==e&&(n==n||e==e),ip=new WeakMap,Bs=[],Ir=Symbol("iterate"),rp=Symbol("Map key iterate"),vA=0;function Fb(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}var po=!0,op=[];function jb(){const n=op.pop();po=n===void 0||n}function un(n,e,t){if(!po||Nn===void 0)return;let i=ip.get(n);i||ip.set(n,i=new Map);let r=i.get(t);r||i.set(t,r=new Set),r.has(Nn)||(r.add(Nn),Nn.deps.push(r),Nn.options.onTrack&&Nn.options.onTrack({effect:Nn,target:n,type:e,key:t}))}function Di(n,e,t,i,r,o){const s=ip.get(n);if(!s)return;const c=new Set,u=d=>{d&&d.forEach(m=>{(m!==Nn||m.allowRecurse)&&c.add(m)})};if(e==="clear")s.forEach(u);else if(t==="length"&&wr(n))s.forEach((d,m)=>{(m==="length"||m>=i)&&u(d)});else switch(t!==void 0&&u(s.get(t)),e){case"add":wr(n)?np(t)&&u(s.get("length")):(u(s.get(Ir)),Hs(n)&&u(s.get(rp)));break;case"delete":wr(n)||(u(s.get(Ir)),Hs(n)&&u(s.get(rp)));break;case"set":Hs(n)&&u(s.get(Ir))}c.forEach(d=>{d.options.onTrigger&&d.options.onTrigger({effect:d,target:n,key:t,type:e,newValue:i,oldValue:r,oldTarget:o}),d.options.scheduler?d.options.scheduler(d):d()})}var _A=pA("__proto__,__v_isRef,__isVue"),Ub=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(tp)),bA=qc(),EA=qc(!1,!0),wA=qc(!0),IA=qc(!0,!0),Bc={};function qc(n=!1,e=!1){return function(t,i,r){if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_raw"&&r===(n?e?SA:eE:e?xA:Zb).get(t))return t;const o=wr(t);if(!n&&o&&Uc(Bc,i))return Reflect.get(Bc,i,r);const s=Reflect.get(t,i,r);return(tp(i)?Ub.has(i):_A(i))||(n||un(t,"get",i),e)?s:up(s)?!o||!np(i)?s.value:s:Hc(s)?n?tE(s):lp(s):s}}function Hb(n=!1){return function(e,t,i,r){let o=e[t];if(!n&&(i=je(i),o=je(o),!wr(e)&&up(o)&&!up(i)))return o.value=i,!0;const s=wr(e)&&np(t)?Number(t)<e.length:Uc(e,t),c=Reflect.set(e,t,i,r);return e===je(r)&&(s?Mb(i,o)&&Di(e,"set",t,i,o):Di(e,"add",t,i)),c}}["includes","indexOf","lastIndexOf"].forEach(n=>{const e=Array.prototype[n];Bc[n]=function(...t){const i=je(this);for(let o=0,s=this.length;o<s;o++)un(i,"get",o+"");const r=e.apply(i,t);return r===-1||r===!1?e.apply(i,t.map(je)):r}}),["push","pop","shift","unshift","splice"].forEach(n=>{const e=Array.prototype[n];Bc[n]=function(...t){op.push(po),po=!1;const i=e.apply(this,t);return jb(),i}});var Bb={get:bA,set:Hb(),deleteProperty:function(n,e){const t=Uc(n,e),i=n[e],r=Reflect.deleteProperty(n,e);return r&&t&&Di(n,"delete",e,void 0,i),r},has:function(n,e){const t=Reflect.has(n,e);return tp(e)&&Ub.has(e)||un(n,"has",e),t},ownKeys:function(n){return un(n,"iterate",wr(n)?"length":Ir),Reflect.ownKeys(n)}},qb={get:wA,set:(n,e)=>(console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,n),!0),deleteProperty:(n,e)=>(console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,n),!0)};Pb({},Bb,{get:EA,set:Hb(!0)}),Pb({},qb,{get:IA});var sp=n=>Hc(n)?lp(n):n,ap=n=>Hc(n)?tE(n):n,cp=n=>n,Vc=n=>Reflect.getPrototypeOf(n);function Wc(n,e,t=!1,i=!1){const r=je(n=n.__v_raw),o=je(e);e!==o&&!t&&un(r,"get",e),!t&&un(r,"get",o);const{has:s}=Vc(r),c=i?cp:t?ap:sp;return s.call(r,e)?c(n.get(e)):s.call(r,o)?c(n.get(o)):void(n!==r&&n.get(e))}function $c(n,e=!1){const t=this.__v_raw,i=je(t),r=je(n);return n!==r&&!e&&un(i,"has",n),!e&&un(i,"has",r),n===r?t.has(n):t.has(n)||t.has(r)}function zc(n,e=!1){return n=n.__v_raw,!e&&un(je(n),"iterate",Ir),Reflect.get(n,"size",n)}function Vb(n){n=je(n);const e=je(this);return Vc(e).has.call(e,n)||(e.add(n),Di(e,"add",n,n)),this}function Wb(n,e){e=je(e);const t=je(this),{has:i,get:r}=Vc(t);let o=i.call(t,n);o?Jb(t,i,n):(n=je(n),o=i.call(t,n));const s=r.call(t,n);return t.set(n,e),o?Mb(e,s)&&Di(t,"set",n,e,s):Di(t,"add",n,e),this}function $b(n){const e=je(this),{has:t,get:i}=Vc(e);let r=t.call(e,n);r?Jb(e,t,n):(n=je(n),r=t.call(e,n));const o=i?i.call(e,n):void 0,s=e.delete(n);return r&&Di(e,"delete",n,void 0,o),s}function zb(){const n=je(this),e=n.size!==0,t=Hs(n)?new Map(n):new Set(n),i=n.clear();return e&&Di(n,"clear",void 0,void 0,t),i}function Gc(n,e){return function(t,i){const r=this,o=r.__v_raw,s=je(o),c=e?cp:n?ap:sp;return!n&&un(s,"iterate",Ir),o.forEach((u,d)=>t.call(i,c(u),c(d),r))}}function Kc(n,e,t){return function(...i){const r=this.__v_raw,o=je(r),s=Hs(o),c=n==="entries"||n===Symbol.iterator&&s,u=n==="keys"&&s,d=r[n](...i),m=t?cp:e?ap:sp;return!e&&un(o,"iterate",u?rp:Ir),{next(){const{value:y,done:g}=d.next();return g?{value:y,done:g}:{value:c?[m(y[0]),m(y[1])]:m(y),done:g}},[Symbol.iterator](){return this}}}}function Mi(n){return function(...e){{const t=e[0]?`on key "${e[0]}" `:"";console.warn(`${yA(n)} operation ${t}failed: target is readonly.`,je(this))}return n!=="delete"&&this}}var Gb={get(n){return Wc(this,n)},get size(){return zc(this)},has:$c,add:Vb,set:Wb,delete:$b,clear:zb,forEach:Gc(!1,!1)},Kb={get(n){return Wc(this,n,!1,!0)},get size(){return zc(this)},has:$c,add:Vb,set:Wb,delete:$b,clear:zb,forEach:Gc(!1,!0)},Yb={get(n){return Wc(this,n,!0)},get size(){return zc(this,!0)},has(n){return $c.call(this,n,!0)},add:Mi("add"),set:Mi("set"),delete:Mi("delete"),clear:Mi("clear"),forEach:Gc(!0,!1)},Xb={get(n){return Wc(this,n,!0,!0)},get size(){return zc(this,!0)},has(n){return $c.call(this,n,!0)},add:Mi("add"),set:Mi("set"),delete:Mi("delete"),clear:Mi("clear"),forEach:Gc(!0,!0)};function Qb(n,e){const t=e?n?Xb:Kb:n?Yb:Gb;return(i,r,o)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(Uc(t,r)&&r in i?t:i,r,o)}["keys","values","entries",Symbol.iterator].forEach(n=>{Gb[n]=Kc(n,!1,!1),Yb[n]=Kc(n,!0,!1),Kb[n]=Kc(n,!1,!0),Xb[n]=Kc(n,!0,!0)});var CA={get:Qb(!1,!1)},TA={get:Qb(!0,!1)};function Jb(n,e,t){const i=je(t);if(i!==t&&e.call(n,i)){const r=Db(n);console.warn(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Zb=new WeakMap,xA=new WeakMap,eE=new WeakMap,SA=new WeakMap;function lp(n){return n&&n.__v_isReadonly?n:nE(n,!1,Bb,CA,Zb)}function tE(n){return nE(n,!0,qb,TA,eE)}function nE(n,e,t,i,r){if(!Hc(n))return console.warn(`value cannot be made reactive: ${String(n)}`),n;if(n.__v_raw&&(!e||!n.__v_isReactive))return n;const o=r.get(n);if(o)return o;const s=(c=n).__v_skip||!Object.isExtensible(c)?0:function(d){switch(d){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(Db(c));var c;if(s===0)return n;const u=new Proxy(n,s===2?i:t);return r.set(n,u),u}function je(n){return n&&je(n.__v_raw)||n}function up(n){return!!(n&&n.__v_isRef===!0)}ln("nextTick",()=>Xh),ln("dispatch",n=>Ds.bind(Ds,n)),ln("watch",(n,{evaluateLater:e,effect:t})=>(i,r)=>{let o,s=e(i),c=!0,u=t(()=>s(d=>{JSON.stringify(d),c?o=d:queueMicrotask(()=>{r(d,o),o=d}),c=!1}));n._x_effects.delete(u)}),ln("store",function(){return Er}),ln("data",n=>Q_(n)),ln("root",n=>Mc(n)),ln("refs",n=>(n._x_refs_proxy||(n._x_refs_proxy=Rs(function(e){let t=[],i=e;for(;i;)i._x_refs&&t.push(i._x_refs),i=i.parentNode;return t}(n))),n._x_refs_proxy));var dp={};function iE(n){return dp[n]||(dp[n]=0),++dp[n]}function rE(n,e,t){ln(e,i=>Pi(`You can't use [$${directiveName}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${t}`,i))}ln("id",n=>(e,t=null)=>{let i=function(o,s){return Fc(o,c=>{if(c._x_ids&&c._x_ids[s])return!0})}(n,e),r=i?i._x_ids[e]:iE(e);return t?`${e}-${r}-${t}`:`${e}-${r}`}),ln("el",n=>n),rE("Focus","focus","focus"),rE("Persist","persist","persist"),Qe("modelable",(n,{expression:e},{effect:t,evaluateLater:i,cleanup:r})=>{let o=i(e),s=()=>{let m;return o(y=>m=y),m},c=i(`${e} = __placeholder`),u=m=>c(()=>{},{scope:{__placeholder:m}}),d=s();u(d),queueMicrotask(()=>{if(!n._x_model)return;n._x_removeModelListeners.default();let m=n._x_model.get,y=n._x_model.set,g=function({get:b,set:w},{get:C,set:k}){let A,F,V=!0,H=co(()=>{let $,Z;V?($=b(),k($),Z=C(),V=!1):($=b(),Z=C(),F=JSON.stringify($),JSON.stringify(Z),F!==A?(Z=C(),k($),Z=$):(w(Z),$=Z)),A=JSON.stringify($),JSON.stringify(Z)});return()=>{Os(H)}}({get:()=>m(),set(b){y(b)}},{get:()=>s(),set(b){u(b)}});r(g)})});var AA=document.createElement("div");Qe("teleport",(n,{modifiers:e,expression:t},{cleanup:i})=>{n.tagName.toLowerCase()!=="template"&&Pi("x-teleport can only be used on a <template> tag",n);let r=js(()=>document.querySelector(t),()=>AA)();r||Pi(`Cannot find x-teleport element for selector: "${t}"`);let o=n.content.cloneNode(!0).firstElementChild;n._x_teleport=o,o._x_teleportBack=n,n._x_forwardEvents&&n._x_forwardEvents.forEach(s=>{o.addEventListener(s,c=>{c.stopPropagation(),n.dispatchEvent(new c.constructor(c.type,c))})}),Ns(o,{},n),at(()=>{e.includes("prepend")?r.parentNode.insertBefore(o,r):e.includes("append")?r.parentNode.insertBefore(o,r.nextSibling):r.appendChild(o),Li(o),o._x_ignore=!0}),i(()=>o.remove())});var oE=()=>{};function hp(n,e,t,i){let r=n,o=u=>i(u),s={},c=(u,d)=>m=>d(u,m);if(t.includes("dot")&&(e=e.replace(/-/g,".")),t.includes("camel")&&(e=function(u){return u.toLowerCase().replace(/-(\w)/g,(d,m)=>m.toUpperCase())}(e)),t.includes("passive")&&(s.passive=!0),t.includes("capture")&&(s.capture=!0),t.includes("window")&&(r=window),t.includes("document")&&(r=document),t.includes("debounce")){let u=t[t.indexOf("debounce")+1]||"invalid-wait",d=Yc(u.split("ms")[0])?Number(u.split("ms")[0]):250;o=Sb(o,d)}if(t.includes("throttle")){let u=t[t.indexOf("throttle")+1]||"invalid-wait",d=Yc(u.split("ms")[0])?Number(u.split("ms")[0]):250;o=Ab(o,d)}return t.includes("prevent")&&(o=c(o,(u,d)=>{d.preventDefault(),u(d)})),t.includes("stop")&&(o=c(o,(u,d)=>{d.stopPropagation(),u(d)})),t.includes("self")&&(o=c(o,(u,d)=>{d.target===n&&u(d)})),(t.includes("away")||t.includes("outside"))&&(r=document,o=c(o,(u,d)=>{n.contains(d.target)||d.target.isConnected!==!1&&(n.offsetWidth<1&&n.offsetHeight<1||n._x_isShown!==!1&&u(d))})),t.includes("once")&&(o=c(o,(u,d)=>{u(d),r.removeEventListener(e,o,s)})),o=c(o,(u,d)=>{(function(m){return["keydown","keyup"].includes(m)})(e)&&function(m,y){let g=y.filter(w=>!["window","document","prevent","stop","once","capture"].includes(w));if(g.includes("debounce")){let w=g.indexOf("debounce");g.splice(w,Yc((g[w+1]||"invalid-wait").split("ms")[0])?2:1)}if(g.includes("throttle")){let w=g.indexOf("throttle");g.splice(w,Yc((g[w+1]||"invalid-wait").split("ms")[0])?2:1)}if(g.length===0||g.length===1&&sE(m.key).includes(g[0]))return!1;const b=["ctrl","shift","alt","meta","cmd","super"].filter(w=>g.includes(w));return g=g.filter(w=>!b.includes(w)),!(b.length>0&&b.filter(w=>(w!=="cmd"&&w!=="super"||(w="meta"),m[`${w}Key`])).length===b.length&&sE(m.key).includes(g[0]))}(d,t)||u(d)}),r.addEventListener(e,o,s),()=>{r.removeEventListener(e,o,s)}}function Yc(n){return!Array.isArray(n)&&!isNaN(n)}function sE(n){if(!n)return[];var e;n=[" ","_"].includes(e=n)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return t[n]=n,Object.keys(t).map(i=>{if(t[i]===n)return i}).filter(i=>i)}function pp(n){let e=n?parseFloat(n):null;return t=e,Array.isArray(t)||isNaN(t)?n:e;var t}function aE(n){return n!==null&&typeof n=="object"&&typeof n.get=="function"&&typeof n.set=="function"}function cE(n,e,t,i){let r={};return/^\[.*\]$/.test(n.item)&&Array.isArray(e)?n.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,s)=>{r[o]=e[s]}):/^\{.*\}$/.test(n.item)&&!Array.isArray(e)&&typeof e=="object"?n.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{r[o]=e[o]}):r[n.item]=e,n.index&&(r[n.index]=t),n.collection&&(r[n.collection]=i),r}function lE(){}function Xc(n,e,t){Qe(e,i=>Pi(`You can't use [x-${e}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${t}`,i))}oE.inline=(n,{modifiers:e},{cleanup:t})=>{e.includes("self")?n._x_ignoreSelf=!0:n._x_ignore=!0,t(()=>{e.includes("self")?delete n._x_ignoreSelf:delete n._x_ignore})},Qe("ignore",oE),Qe("effect",(n,{expression:e},{effect:t})=>t(Ct(n,e))),Qe("model",(n,{modifiers:e,expression:t},{effect:i,cleanup:r})=>{let o=n;e.includes("parent")&&(o=n.parentNode);let s,c=Ct(o,t);s=typeof t=="string"?Ct(o,`${t} = __placeholder`):typeof t=="function"&&typeof t()=="string"?Ct(o,`${t()} = __placeholder`):()=>{};let u=()=>{let g;return c(b=>g=b),aE(g)?g.get():g},d=g=>{let b;c(w=>b=w),aE(b)?b.set(g):s(()=>{},{scope:{__placeholder:g}})};typeof t=="string"&&n.type==="radio"&&at(()=>{n.hasAttribute("name")||n.setAttribute("name",t)});var m=n.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(n.type)||e.includes("lazy")?"change":"input";let y=Fs?()=>{}:hp(n,m,e,g=>{d(function(b,w,C,k){return at(()=>{if(C instanceof CustomEvent&&C.detail!==void 0)return C.detail??C.target.value;if(b.type==="checkbox"){if(Array.isArray(k)){let A=w.includes("number")?pp(C.target.value):C.target.value;return C.target.checked?k.concat([A]):k.filter(F=>F!=A)}return C.target.checked}if(b.tagName.toLowerCase()==="select"&&b.multiple)return w.includes("number")?Array.from(C.target.selectedOptions).map(A=>pp(A.value||A.text)):Array.from(C.target.selectedOptions).map(A=>A.value||A.text);{let A=C.target.value;return w.includes("number")?pp(A):w.includes("trim")?A.trim():A}})}(n,e,g,u()))});if(e.includes("fill")&&[null,""].includes(u())&&n.dispatchEvent(new Event(m,{})),n._x_removeModelListeners||(n._x_removeModelListeners={}),n._x_removeModelListeners.default=y,r(()=>n._x_removeModelListeners.default()),n.form){let g=hp(n.form,"reset",[],b=>{Xh(()=>n._x_model&&n._x_model.set(n.value))});r(()=>g())}n._x_model={get:()=>u(),set(g){d(g)}},n._x_forceModelUpdate=g=>{(g=g===void 0?u():g)===void 0&&typeof t=="string"&&t.match(/\./)&&(g=""),window.fromModel=!0,at(()=>Ib(n,"value",g)),delete window.fromModel},i(()=>{let g=u();e.includes("unintrusive")&&document.activeElement.isSameNode(n)||n._x_forceModelUpdate(g)})}),Qe("cloak",n=>queueMicrotask(()=>at(()=>n.removeAttribute(ho("cloak"))))),yb(()=>`[${ho("init")}]`),Qe("init",js((n,{expression:e},{evaluate:t})=>typeof e=="string"?!!e.trim()&&t(e,{},!1):t(e,{},!1))),Qe("text",(n,{expression:e},{effect:t,evaluateLater:i})=>{let r=i(e);t(()=>{r(o=>{at(()=>{n.textContent=o})})})}),Qe("html",(n,{expression:e},{effect:t,evaluateLater:i})=>{let r=i(e);t(()=>{r(o=>{at(()=>{n.innerHTML=o,n._x_ignoreSelf=!0,Li(n),delete n._x_ignoreSelf})})})}),$h(ab(":",ho("bind:"))),Qe("bind",(n,{value:e,modifiers:t,expression:i,original:r},{effect:o})=>{if(!e){let u={};return s=u,Object.entries(Ob).forEach(([d,m])=>{Object.defineProperty(s,d,{get:()=>(...y)=>m(...y)})}),void Ct(n,i)(d=>{Nb(n,d,r)},{scope:u})}var s;if(e==="key")return function(u,d){u._x_keyExpression=d}(n,i);let c=Ct(n,i);o(()=>c(u=>{u===void 0&&typeof i=="string"&&i.match(/\./)&&(u=""),at(()=>Ib(n,e,u,t))}))}),gb(()=>`[${ho("data")}]`),Qe("data",js((n,{expression:e},{cleanup:t})=>{e=e===""?"{}":e;let i={};Uh(i,n);let r={};var o,s;o=r,s=i,Object.entries(Rb).forEach(([m,y])=>{Object.defineProperty(o,m,{get:()=>(...g)=>y.bind(s)(...g),enumerable:!1})});let c=uo(n,e,{scope:r});c!==void 0&&c!==!0||(c={}),Uh(c,n);let u=ao(c);J_(u);let d=Ns(n,u);u.init&&uo(n,u.init),t(()=>{u.destroy&&uo(n,u.destroy),d()})})),Qe("show",(n,{modifiers:e,expression:t},{effect:i})=>{let r=Ct(n,t);n._x_doHide||(n._x_doHide=()=>{at(()=>{n.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),n._x_doShow||(n._x_doShow=()=>{at(()=>{n.style.length===1&&n.style.display==="none"?n.removeAttribute("style"):n.style.removeProperty("display")})});let o,s=()=>{n._x_doHide(),n._x_isShown=!1},c=()=>{n._x_doShow(),n._x_isShown=!0},u=()=>setTimeout(c),d=Zh(y=>y?c():s(),y=>{typeof n._x_toggleAndCascadeWithTransitions=="function"?n._x_toggleAndCascadeWithTransitions(n,y,c,s):y?u():s()}),m=!0;i(()=>r(y=>{(m||y!==o)&&(e.includes("immediate")&&(y?u():s()),d(y),o=y,m=!1)}))}),Qe("for",(n,{expression:e},{effect:t,cleanup:i})=>{let r=function(c){let u=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,d=/^\s*\(|\)\s*$/g,m=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,y=c.match(m);if(!y)return;let g={};g.items=y[2].trim();let b=y[1].replace(d,"").trim(),w=b.match(u);return w?(g.item=b.replace(u,"").trim(),g.index=w[1].trim(),w[2]&&(g.collection=w[2].trim())):g.item=b,g}(e),o=Ct(n,r.items),s=Ct(n,n._x_keyExpression||"index");n._x_prevKeys=[],n._x_lookup={},t(()=>function(c,u,d,m){let y=b=>typeof b=="object"&&!Array.isArray(b),g=c;d(b=>{var w;w=b,!Array.isArray(w)&&!isNaN(w)&&b>=0&&(b=Array.from(Array(b).keys(),Q=>Q+1)),b===void 0&&(b=[]);let C=c._x_lookup,k=c._x_prevKeys,A=[],F=[];if(y(b))b=Object.entries(b).map(([Q,Y])=>{let Pe=cE(u,Y,Q,b);m(ke=>F.push(ke),{scope:{index:Q,...Pe}}),A.push(Pe)});else for(let Q=0;Q<b.length;Q++){let Y=cE(u,b[Q],Q,b);m(Pe=>F.push(Pe),{scope:{index:Q,...Y}}),A.push(Y)}let V=[],H=[],$=[],Z=[];for(let Q=0;Q<k.length;Q++){let Y=k[Q];F.indexOf(Y)===-1&&$.push(Y)}k=k.filter(Q=>!$.includes(Q));let p="template";for(let Q=0;Q<F.length;Q++){let Y=F[Q],Pe=k.indexOf(Y);if(Pe===-1)k.splice(Q,0,Y),V.push([p,Q]);else if(Pe!==Q){let ke=k.splice(Q,1)[0],qe=k.splice(Pe-1,1)[0];k.splice(Q,0,qe),k.splice(Pe,0,ke),H.push([ke,qe])}else Z.push(Y);p=Y}for(let Q=0;Q<$.length;Q++){let Y=$[Q];C[Y]._x_effects&&C[Y]._x_effects.forEach(V_),C[Y].remove(),C[Y]=null,delete C[Y]}for(let Q=0;Q<H.length;Q++){let[Y,Pe]=H[Q],ke=C[Y],qe=C[Pe],ue=document.createElement("div");at(()=>{qe||Pi('x-for ":key" is undefined or invalid',g),qe.after(ue),ke.after(qe),qe._x_currentIfEl&&qe.after(qe._x_currentIfEl),ue.before(ke),ke._x_currentIfEl&&ke.after(ke._x_currentIfEl),ue.remove()}),qe._x_refreshXForScope(A[F.indexOf(Pe)])}for(let Q=0;Q<V.length;Q++){let[Y,Pe]=V[Q],ke=Y==="template"?g:C[Y];ke._x_currentIfEl&&(ke=ke._x_currentIfEl);let qe=A[Pe],ue=F[Pe],gt=document.importNode(g.content,!0).firstElementChild,Rn=ao(qe);Ns(gt,Rn,g),gt._x_refreshXForScope=ei=>{Object.entries(ei).forEach(([Rt,yt])=>{Rn[Rt]=yt})},at(()=>{ke.after(gt),Li(gt)}),typeof ue=="object"&&Pi("x-for key cannot be an object, it must be a string or an integer",g),C[ue]=gt}for(let Q=0;Q<Z.length;Q++)C[Z[Q]]._x_refreshXForScope(A[F.indexOf(Z[Q])]);g._x_prevKeys=F})}(n,r,o,s)),i(()=>{Object.values(n._x_lookup).forEach(c=>c.remove()),delete n._x_prevKeys,delete n._x_lookup})}),lE.inline=(n,{expression:e},{cleanup:t})=>{let i=Mc(n);i._x_refs||(i._x_refs={}),i._x_refs[e]=n,t(()=>delete i._x_refs[e])},Qe("ref",lE),Qe("if",(n,{expression:e},{effect:t,cleanup:i})=>{let r=Ct(n,e);t(()=>r(o=>{o?(()=>{if(n._x_currentIfEl)return n._x_currentIfEl;let s=n.content.cloneNode(!0).firstElementChild;Ns(s,{},n),at(()=>{n.after(s),Li(s)}),n._x_currentIfEl=s,n._x_undoIf=()=>{Ri(s,c=>{c._x_effects&&c._x_effects.forEach(V_)}),s.remove(),delete n._x_currentIfEl}})():n._x_undoIf&&(n._x_undoIf(),delete n._x_undoIf)})),i(()=>n._x_undoIf&&n._x_undoIf())}),Qe("id",(n,{expression:e},{evaluate:t})=>{t(e).forEach(i=>function(r,o){r._x_ids||(r._x_ids={}),r._x_ids[o]||(r._x_ids[o]=iE(o))}(n,i))}),$h(ab("@",ho("on:"))),Qe("on",js((n,{value:e,modifiers:t,expression:i},{cleanup:r})=>{let o=i?Ct(n,i):()=>{};n.tagName.toLowerCase()==="template"&&(n._x_forwardEvents||(n._x_forwardEvents=[]),n._x_forwardEvents.includes(e)||n._x_forwardEvents.push(e));let s=hp(n,e,t,c=>{o(()=>{},{scope:{$event:c},params:[c]})});r(()=>s())})),Xc("Collapse","collapse","collapse"),Xc("Intersect","intersect","intersect"),Xc("Focus","trap","focus"),Xc("Mask","mask","mask"),Us.setEvaluator(ib),Us.setReactivityEngine({reactive:lp,effect:function(n,e=fA){(function(i){return i&&i._isEffect===!0})(n)&&(n=n.raw);const t=function(i,r){const o=function(){if(!o.active)return i();if(!Bs.includes(o)){Fb(o);try{return op.push(po),po=!0,Bs.push(o),Nn=o,i()}finally{Bs.pop(),jb(),Nn=Bs[Bs.length-1]}}};return o.id=vA++,o.allowRecurse=!!r.allowRecurse,o._isEffect=!0,o.active=!0,o.raw=i,o.deps=[],o.options=r,o}(n,e);return e.lazy||t(),t},release:function(n){n.active&&(Fb(n),n.options.onStop&&n.options.onStop(),n.active=!1)},raw:je});var uE=Us,dE={exports:{}};(function(n){(function(e,t){n.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return t(i)}})(typeof window<"u"?window:yS,function(e,t){var i=[],r=Object.getPrototypeOf,o=i.slice,s=i.flat?function(a){return i.flat.call(a)}:function(a){return i.concat.apply([],a)},c=i.push,u=i.indexOf,d={},m=d.toString,y=d.hasOwnProperty,g=y.toString,b=g.call(Object),w={},C=function(a){return typeof a=="function"&&typeof a.nodeType!="number"&&typeof a.item!="function"},k=function(a){return a!=null&&a===a.window},A=e.document,F={type:!0,src:!0,nonce:!0,noModule:!0};function V(a,l,h){var f,v,_=(h=h||A).createElement("script");if(_.text=a,l)for(f in F)(v=l[f]||l.getAttribute&&l.getAttribute(f))&&_.setAttribute(f,v);h.head.appendChild(_).parentNode.removeChild(_)}function H(a){return a==null?a+"":typeof a=="object"||typeof a=="function"?d[m.call(a)]||"object":typeof a}var $="3.7.0",Z=/HTML$/i,p=function(a,l){return new p.fn.init(a,l)};function Q(a){var l=!!a&&"length"in a&&a.length,h=H(a);return!C(a)&&!k(a)&&(h==="array"||l===0||typeof l=="number"&&l>0&&l-1 in a)}function Y(a,l){return a.nodeName&&a.nodeName.toLowerCase()===l.toLowerCase()}p.fn=p.prototype={jquery:$,constructor:p,length:0,toArray:function(){return o.call(this)},get:function(a){return a==null?o.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var l=p.merge(this.constructor(),a);return l.prevObject=this,l},each:function(a){return p.each(this,a)},map:function(a){return this.pushStack(p.map(this,function(l,h){return a.call(l,h,l)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(a,l){return(l+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(a,l){return l%2}))},eq:function(a){var l=this.length,h=+a+(a<0?l:0);return this.pushStack(h>=0&&h<l?[this[h]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},p.extend=p.fn.extend=function(){var a,l,h,f,v,_,E=arguments[0]||{},x=1,T=arguments.length,O=!1;for(typeof E=="boolean"&&(O=E,E=arguments[x]||{},x++),typeof E=="object"||C(E)||(E={}),x===T&&(E=this,x--);x<T;x++)if((a=arguments[x])!=null)for(l in a)f=a[l],l!=="__proto__"&&E!==f&&(O&&f&&(p.isPlainObject(f)||(v=Array.isArray(f)))?(h=E[l],_=v&&!Array.isArray(h)?[]:v||p.isPlainObject(h)?h:{},v=!1,E[l]=p.extend(O,_,f)):f!==void 0&&(E[l]=f));return E},p.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var l,h;return!(!a||m.call(a)!=="[object Object]")&&(!(l=r(a))||typeof(h=y.call(l,"constructor")&&l.constructor)=="function"&&g.call(h)===b)},isEmptyObject:function(a){var l;for(l in a)return!1;return!0},globalEval:function(a,l,h){V(a,{nonce:l&&l.nonce},h)},each:function(a,l){var h,f=0;if(Q(a))for(h=a.length;f<h&&l.call(a[f],f,a[f])!==!1;f++);else for(f in a)if(l.call(a[f],f,a[f])===!1)break;return a},text:function(a){var l,h="",f=0,v=a.nodeType;if(v){if(v===1||v===9||v===11)return a.textContent;if(v===3||v===4)return a.nodeValue}else for(;l=a[f++];)h+=p.text(l);return h},makeArray:function(a,l){var h=l||[];return a!=null&&(Q(Object(a))?p.merge(h,typeof a=="string"?[a]:a):c.call(h,a)),h},inArray:function(a,l,h){return l==null?-1:u.call(l,a,h)},isXMLDoc:function(a){var l=a&&a.namespaceURI,h=a&&(a.ownerDocument||a).documentElement;return!Z.test(l||h&&h.nodeName||"HTML")},merge:function(a,l){for(var h=+l.length,f=0,v=a.length;f<h;f++)a[v++]=l[f];return a.length=v,a},grep:function(a,l,h){for(var f=[],v=0,_=a.length,E=!h;v<_;v++)!l(a[v],v)!==E&&f.push(a[v]);return f},map:function(a,l,h){var f,v,_=0,E=[];if(Q(a))for(f=a.length;_<f;_++)(v=l(a[_],_,h))!=null&&E.push(v);else for(_ in a)(v=l(a[_],_,h))!=null&&E.push(v);return s(E)},guid:1,support:w}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=i[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,l){d["[object "+l+"]"]=l.toLowerCase()});var Pe=i.pop,ke=i.sort,qe=i.splice,ue="[\\x20\\t\\r\\n\\f]",gt=new RegExp("^"+ue+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ue+"+$","g");p.contains=function(a,l){var h=l&&l.parentNode;return a===h||!(!h||h.nodeType!==1||!(a.contains?a.contains(h):a.compareDocumentPosition&&16&a.compareDocumentPosition(h)))};var Rn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ei(a,l){return l?a==="\0"?"\uFFFD":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a}p.escapeSelector=function(a){return(a+"").replace(Rn,ei)};var Rt=A,yt=c;(function(){var a,l,h,f,v,_,E,x,T,O,L=yt,D=p.expando,N=0,U=0,ee=Ke(),fe=Ke(),oe=Ke(),Ge=Ke(),ct=function(I,S){return I===S&&(v=!0),0},Dn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mn="(?:\\\\[\\da-fA-F]{1,6}"+ue+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",_e="\\["+ue+"*("+Mn+")(?:"+ue+"*([*^$|!~]?=)"+ue+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Mn+"))|)"+ue+"*\\]",Ar=":("+Mn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+_e+")*)|.*)\\)|)",Ee=new RegExp(ue+"+","g"),$e=new RegExp("^"+ue+"*,"+ue+"*"),Js=new RegExp("^"+ue+"*([>+~]|"+ue+")"+ue+"*"),kp=new RegExp(ue+"|>"),Fn=new RegExp(Ar),Zs=new RegExp("^"+Mn+"$"),ri={ID:new RegExp("^#("+Mn+")"),CLASS:new RegExp("^\\.("+Mn+")"),TAG:new RegExp("^("+Mn+"|[*])"),ATTR:new RegExp("^"+_e),PSEUDO:new RegExp("^"+Ar),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ue+"*(even|odd|(([+-]|)(\\d*)n|)"+ue+"*(?:([+-]|)"+ue+"*(\\d+)|))"+ue+"*\\)|)","i"),bool:new RegExp("^(?:"+Dn+")$","i"),needsContext:new RegExp("^"+ue+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ue+"*((?:-\\d)?\\d*)"+ue+"*\\)|)(?=[^-]|$)","i")},Fi=/^(?:input|select|textarea|button)$/i,Io=/^h\d$/i,Zt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,lt=/[+~]/,Je=new RegExp("\\\\[\\da-fA-F]{1,6}"+ue+"?|\\\\([^\\r\\n\\f])","g"),Tt=function(I,S){var R="0x"+I.slice(1)-65536;return S||(R<0?String.fromCharCode(R+65536):String.fromCharCode(R>>10|55296,1023&R|56320))},ji=function(){Ui()},xt=ul(function(I){return I.disabled===!0&&Y(I,"fieldset")},{dir:"parentNode",next:"legend"});try{L.apply(i=o.call(Rt.childNodes),Rt.childNodes),i[Rt.childNodes.length].nodeType}catch{L={apply:function(S,R){yt.apply(S,o.call(R))},call:function(S){yt.apply(S,o.call(arguments,1))}}}function te(I,S,R,P){var j,W,G,K,z,Ie,de,se=S&&S.ownerDocument,be=S?S.nodeType:9;if(R=R||[],typeof I!="string"||!I||be!==1&&be!==9&&be!==11)return R;if(!P&&(Ui(S),S=S||_,x)){if(be!==11&&(z=Zt.exec(I)))if(j=z[1]){if(be===9){if(!(G=S.getElementById(j)))return R;if(G.id===j)return L.call(R,G),R}else if(se&&(G=se.getElementById(j))&&te.contains(S,G)&&G.id===j)return L.call(R,G),R}else{if(z[2])return L.apply(R,S.getElementsByTagName(I)),R;if((j=z[3])&&S.getElementsByClassName)return L.apply(R,S.getElementsByClassName(j)),R}if(!(Ge[I+" "]||T&&T.test(I))){if(de=I,se=S,be===1&&(kp.test(I)||Js.test(I))){for((se=lt.test(I)&&Op(S.parentNode)||S)==S&&w.scope||((K=S.getAttribute("id"))?K=p.escapeSelector(K):S.setAttribute("id",K=D)),W=(Ie=cl(I)).length;W--;)Ie[W]=(K?"#"+K:":scope")+" "+ll(Ie[W]);de=Ie.join(",")}try{return L.apply(R,se.querySelectorAll(de)),R}catch{Ge(I,!0)}finally{K===D&&S.removeAttribute("id")}}}return KE(I.replace(gt,"$1"),S,R,P)}function Ke(){var I=[];return function S(R,P){return I.push(R+" ")>l.cacheLength&&delete S[I.shift()],S[R+" "]=P}}function Ye(I){return I[D]=!0,I}function Le(I){var S=_.createElement("fieldset");try{return!!I(S)}catch{return!1}finally{S.parentNode&&S.parentNode.removeChild(S),S=null}}function jn(I){return function(S){return Y(S,"input")&&S.type===I}}function Co(I){return function(S){return(Y(S,"input")||Y(S,"button"))&&S.type===I}}function al(I){return function(S){return"form"in S?S.parentNode&&S.disabled===!1?"label"in S?"label"in S.parentNode?S.parentNode.disabled===I:S.disabled===I:S.isDisabled===I||S.isDisabled!==!I&&xt(S)===I:S.disabled===I:"label"in S&&S.disabled===I}}function kr(I){return Ye(function(S){return S=+S,Ye(function(R,P){for(var j,W=I([],R.length,S),G=W.length;G--;)R[j=W[G]]&&(R[j]=!(P[j]=R[j]))})})}function Op(I){return I&&I.getElementsByTagName!==void 0&&I}function Ui(I){var S,R=I?I.ownerDocument||I:Rt;return R!=_&&R.nodeType===9&&R.documentElement&&(E=(_=R).documentElement,x=!p.isXMLDoc(_),O=E.matches||E.webkitMatchesSelector||E.msMatchesSelector,Rt!=_&&(S=_.defaultView)&&S.top!==S&&S.addEventListener("unload",ji),w.getById=Le(function(P){return E.appendChild(P).id=p.expando,!_.getElementsByName||!_.getElementsByName(p.expando).length}),w.disconnectedMatch=Le(function(P){return O.call(P,"*")}),w.scope=Le(function(){return _.querySelectorAll(":scope")}),w.cssHas=Le(function(){try{return _.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),w.getById?(l.filter.ID=function(P){var j=P.replace(Je,Tt);return function(W){return W.getAttribute("id")===j}},l.find.ID=function(P,j){if(j.getElementById!==void 0&&x){var W=j.getElementById(P);return W?[W]:[]}}):(l.filter.ID=function(P){var j=P.replace(Je,Tt);return function(W){var G=W.getAttributeNode!==void 0&&W.getAttributeNode("id");return G&&G.value===j}},l.find.ID=function(P,j){if(j.getElementById!==void 0&&x){var W,G,K,z=j.getElementById(P);if(z){if((W=z.getAttributeNode("id"))&&W.value===P)return[z];for(K=j.getElementsByName(P),G=0;z=K[G++];)if((W=z.getAttributeNode("id"))&&W.value===P)return[z]}return[]}}),l.find.TAG=function(P,j){return j.getElementsByTagName!==void 0?j.getElementsByTagName(P):j.querySelectorAll(P)},l.find.CLASS=function(P,j){if(j.getElementsByClassName!==void 0&&x)return j.getElementsByClassName(P)},T=[],Le(function(P){var j;E.appendChild(P).innerHTML="<a id='"+D+"' href='' disabled='disabled'></a><select id='"+D+"-\r\\' disabled='disabled'><option selected=''></option></select>",P.querySelectorAll("[selected]").length||T.push("\\["+ue+"*(?:value|"+Dn+")"),P.querySelectorAll("[id~="+D+"-]").length||T.push("~="),P.querySelectorAll("a#"+D+"+*").length||T.push(".#.+[+~]"),P.querySelectorAll(":checked").length||T.push(":checked"),(j=_.createElement("input")).setAttribute("type","hidden"),P.appendChild(j).setAttribute("name","D"),E.appendChild(P).disabled=!0,P.querySelectorAll(":disabled").length!==2&&T.push(":enabled",":disabled"),(j=_.createElement("input")).setAttribute("name",""),P.appendChild(j),P.querySelectorAll("[name='']").length||T.push("\\["+ue+"*name"+ue+"*="+ue+`*(?:''|"")`)}),w.cssHas||T.push(":has"),T=T.length&&new RegExp(T.join("|")),ct=function(P,j){if(P===j)return v=!0,0;var W=!P.compareDocumentPosition-!j.compareDocumentPosition;return W||(1&(W=(P.ownerDocument||P)==(j.ownerDocument||j)?P.compareDocumentPosition(j):1)||!w.sortDetached&&j.compareDocumentPosition(P)===W?P===_||P.ownerDocument==Rt&&te.contains(Rt,P)?-1:j===_||j.ownerDocument==Rt&&te.contains(Rt,j)?1:f?u.call(f,P)-u.call(f,j):0:4&W?-1:1)}),_}for(a in te.matches=function(I,S){return te(I,null,null,S)},te.matchesSelector=function(I,S){if(Ui(I),x&&!Ge[S+" "]&&(!T||!T.test(S)))try{var R=O.call(I,S);if(R||w.disconnectedMatch||I.document&&I.document.nodeType!==11)return R}catch{Ge(S,!0)}return te(S,_,null,[I]).length>0},te.contains=function(I,S){return(I.ownerDocument||I)!=_&&Ui(I),p.contains(I,S)},te.attr=function(I,S){(I.ownerDocument||I)!=_&&Ui(I);var R=l.attrHandle[S.toLowerCase()],P=R&&y.call(l.attrHandle,S.toLowerCase())?R(I,S,!x):void 0;return P!==void 0?P:I.getAttribute(S)},te.error=function(I){throw new Error("Syntax error, unrecognized expression: "+I)},p.uniqueSort=function(I){var S,R=[],P=0,j=0;if(v=!w.sortStable,f=!w.sortStable&&o.call(I,0),ke.call(I,ct),v){for(;S=I[j++];)S===I[j]&&(P=R.push(j));for(;P--;)qe.call(I,R[P],1)}return f=null,I},p.fn.uniqueSort=function(){return this.pushStack(p.uniqueSort(o.apply(this)))},l=p.expr={cacheLength:50,createPseudo:Ye,match:ri,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(I){return I[1]=I[1].replace(Je,Tt),I[3]=(I[3]||I[4]||I[5]||"").replace(Je,Tt),I[2]==="~="&&(I[3]=" "+I[3]+" "),I.slice(0,4)},CHILD:function(I){return I[1]=I[1].toLowerCase(),I[1].slice(0,3)==="nth"?(I[3]||te.error(I[0]),I[4]=+(I[4]?I[5]+(I[6]||1):2*(I[3]==="even"||I[3]==="odd")),I[5]=+(I[7]+I[8]||I[3]==="odd")):I[3]&&te.error(I[0]),I},PSEUDO:function(I){var S,R=!I[6]&&I[2];return ri.CHILD.test(I[0])?null:(I[3]?I[2]=I[4]||I[5]||"":R&&Fn.test(R)&&(S=cl(R,!0))&&(S=R.indexOf(")",R.length-S)-R.length)&&(I[0]=I[0].slice(0,S),I[2]=R.slice(0,S)),I.slice(0,3))}},filter:{TAG:function(I){var S=I.replace(Je,Tt).toLowerCase();return I==="*"?function(){return!0}:function(R){return Y(R,S)}},CLASS:function(I){var S=ee[I+" "];return S||(S=new RegExp("(^|"+ue+")"+I+"("+ue+"|$)"))&&ee(I,function(R){return S.test(typeof R.className=="string"&&R.className||R.getAttribute!==void 0&&R.getAttribute("class")||"")})},ATTR:function(I,S,R){return function(P){var j=te.attr(P,I);return j==null?S==="!=":!S||(j+="",S==="="?j===R:S==="!="?j!==R:S==="^="?R&&j.indexOf(R)===0:S==="*="?R&&j.indexOf(R)>-1:S==="$="?R&&j.slice(-R.length)===R:S==="~="?(" "+j.replace(Ee," ")+" ").indexOf(R)>-1:S==="|="&&(j===R||j.slice(0,R.length+1)===R+"-"))}},CHILD:function(I,S,R,P,j){var W=I.slice(0,3)!=="nth",G=I.slice(-4)!=="last",K=S==="of-type";return P===1&&j===0?function(z){return!!z.parentNode}:function(z,Ie,de){var se,be,ie,tt,vt,ut=W!==G?"nextSibling":"previousSibling",Mt=z.parentNode,qt=K&&z.nodeName.toLowerCase(),hn=!de&&!K,De=!1;if(Mt){if(W){for(;ut;){for(ie=z;ie=ie[ut];)if(K?Y(ie,qt):ie.nodeType===1)return!1;vt=ut=I==="only"&&!vt&&"nextSibling"}return!0}if(vt=[G?Mt.firstChild:Mt.lastChild],G&&hn){for(De=(tt=(se=(be=Mt[D]||(Mt[D]={}))[I]||[])[0]===N&&se[1])&&se[2],ie=tt&&Mt.childNodes[tt];ie=++tt&&ie&&ie[ut]||(De=tt=0)||vt.pop();)if(ie.nodeType===1&&++De&&ie===z){be[I]=[N,tt,De];break}}else if(hn&&(De=tt=(se=(be=z[D]||(z[D]={}))[I]||[])[0]===N&&se[1]),De===!1)for(;(ie=++tt&&ie&&ie[ut]||(De=tt=0)||vt.pop())&&(!(K?Y(ie,qt):ie.nodeType===1)||!++De||(hn&&((be=ie[D]||(ie[D]={}))[I]=[N,De]),ie!==z)););return(De-=j)===P||De%P==0&&De/P>=0}}},PSEUDO:function(I,S){var R,P=l.pseudos[I]||l.setFilters[I.toLowerCase()]||te.error("unsupported pseudo: "+I);return P[D]?P(S):P.length>1?(R=[I,I,"",S],l.setFilters.hasOwnProperty(I.toLowerCase())?Ye(function(j,W){for(var G,K=P(j,S),z=K.length;z--;)j[G=u.call(j,K[z])]=!(W[G]=K[z])}):function(j){return P(j,0,R)}):P}},pseudos:{not:Ye(function(I){var S=[],R=[],P=Lp(I.replace(gt,"$1"));return P[D]?Ye(function(j,W,G,K){for(var z,Ie=P(j,null,K,[]),de=j.length;de--;)(z=Ie[de])&&(j[de]=!(W[de]=z))}):function(j,W,G){return S[0]=j,P(S,null,G,R),S[0]=null,!R.pop()}}),has:Ye(function(I){return function(S){return te(I,S).length>0}}),contains:Ye(function(I){return I=I.replace(Je,Tt),function(S){return(S.textContent||p.text(S)).indexOf(I)>-1}}),lang:Ye(function(I){return Zs.test(I||"")||te.error("unsupported lang: "+I),I=I.replace(Je,Tt).toLowerCase(),function(S){var R;do if(R=x?S.lang:S.getAttribute("xml:lang")||S.getAttribute("lang"))return(R=R.toLowerCase())===I||R.indexOf(I+"-")===0;while((S=S.parentNode)&&S.nodeType===1);return!1}}),target:function(I){var S=e.location&&e.location.hash;return S&&S.slice(1)===I.id},root:function(I){return I===E},focus:function(I){return I===function(){try{return _.activeElement}catch{}}()&&_.hasFocus()&&!!(I.type||I.href||~I.tabIndex)},enabled:al(!1),disabled:al(!0),checked:function(I){return Y(I,"input")&&!!I.checked||Y(I,"option")&&!!I.selected},selected:function(I){return I.parentNode&&I.parentNode.selectedIndex,I.selected===!0},empty:function(I){for(I=I.firstChild;I;I=I.nextSibling)if(I.nodeType<6)return!1;return!0},parent:function(I){return!l.pseudos.empty(I)},header:function(I){return Io.test(I.nodeName)},input:function(I){return Fi.test(I.nodeName)},button:function(I){return Y(I,"input")&&I.type==="button"||Y(I,"button")},text:function(I){var S;return Y(I,"input")&&I.type==="text"&&((S=I.getAttribute("type"))==null||S.toLowerCase()==="text")},first:kr(function(){return[0]}),last:kr(function(I,S){return[S-1]}),eq:kr(function(I,S,R){return[R<0?R+S:R]}),even:kr(function(I,S){for(var R=0;R<S;R+=2)I.push(R);return I}),odd:kr(function(I,S){for(var R=1;R<S;R+=2)I.push(R);return I}),lt:kr(function(I,S,R){var P;for(P=R<0?R+S:R>S?S:R;--P>=0;)I.push(P);return I}),gt:kr(function(I,S,R){for(var P=R<0?R+S:R;++P<S;)I.push(P);return I})}},l.pseudos.nth=l.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})l.pseudos[a]=jn(a);for(a in{submit:!0,reset:!0})l.pseudos[a]=Co(a);function GE(){}function cl(I,S){var R,P,j,W,G,K,z,Ie=fe[I+" "];if(Ie)return S?0:Ie.slice(0);for(G=I,K=[],z=l.preFilter;G;){for(W in R&&!(P=$e.exec(G))||(P&&(G=G.slice(P[0].length)||G),K.push(j=[])),R=!1,(P=Js.exec(G))&&(R=P.shift(),j.push({value:R,type:P[0].replace(gt," ")}),G=G.slice(R.length)),l.filter)!(P=ri[W].exec(G))||z[W]&&!(P=z[W](P))||(R=P.shift(),j.push({value:R,type:W,matches:P}),G=G.slice(R.length));if(!R)break}return S?G.length:G?te.error(I):fe(I,K).slice(0)}function ll(I){for(var S=0,R=I.length,P="";S<R;S++)P+=I[S].value;return P}function ul(I,S,R){var P=S.dir,j=S.next,W=j||P,G=R&&W==="parentNode",K=U++;return S.first?function(z,Ie,de){for(;z=z[P];)if(z.nodeType===1||G)return I(z,Ie,de);return!1}:function(z,Ie,de){var se,be,ie=[N,K];if(de){for(;z=z[P];)if((z.nodeType===1||G)&&I(z,Ie,de))return!0}else for(;z=z[P];)if(z.nodeType===1||G)if(be=z[D]||(z[D]={}),j&&Y(z,j))z=z[P]||z;else{if((se=be[W])&&se[0]===N&&se[1]===K)return ie[2]=se[2];if(be[W]=ie,ie[2]=I(z,Ie,de))return!0}return!1}}function Np(I){return I.length>1?function(S,R,P){for(var j=I.length;j--;)if(!I[j](S,R,P))return!1;return!0}:I[0]}function dl(I,S,R,P,j){for(var W,G=[],K=0,z=I.length,Ie=S!=null;K<z;K++)(W=I[K])&&(R&&!R(W,P,j)||(G.push(W),Ie&&S.push(K)));return G}function Rp(I,S,R,P,j,W){return P&&!P[D]&&(P=Rp(P)),j&&!j[D]&&(j=Rp(j,W)),Ye(function(G,K,z,Ie){var de,se,be,ie,tt=[],vt=[],ut=K.length,Mt=G||function(hn,De,Or){for(var pn=0,hl=De.length;pn<hl;pn++)te(hn,De[pn],Or);return Or}(S||"*",z.nodeType?[z]:z,[]),qt=!I||!G&&S?Mt:dl(Mt,tt,I,z,Ie);if(R?R(qt,ie=j||(G?I:ut||P)?[]:K,z,Ie):ie=qt,P)for(de=dl(ie,vt),P(de,[],z,Ie),se=de.length;se--;)(be=de[se])&&(ie[vt[se]]=!(qt[vt[se]]=be));if(G){if(j||I){if(j){for(de=[],se=ie.length;se--;)(be=ie[se])&&de.push(qt[se]=be);j(null,ie=[],de,Ie)}for(se=ie.length;se--;)(be=ie[se])&&(de=j?u.call(G,be):tt[se])>-1&&(G[de]=!(K[de]=be))}}else ie=dl(ie===K?ie.splice(ut,ie.length):ie),j?j(null,K,ie,Ie):L.apply(K,ie)})}function Pp(I){for(var S,R,P,j=I.length,W=l.relative[I[0].type],G=W||l.relative[" "],K=W?1:0,z=ul(function(se){return se===S},G,!0),Ie=ul(function(se){return u.call(S,se)>-1},G,!0),de=[function(se,be,ie){var tt=!W&&(ie||be!=h)||((S=be).nodeType?z(se,be,ie):Ie(se,be,ie));return S=null,tt}];K<j;K++)if(R=l.relative[I[K].type])de=[ul(Np(de),R)];else{if((R=l.filter[I[K].type].apply(null,I[K].matches))[D]){for(P=++K;P<j&&!l.relative[I[P].type];P++);return Rp(K>1&&Np(de),K>1&&ll(I.slice(0,K-1).concat({value:I[K-2].type===" "?"*":""})).replace(gt,"$1"),R,K<P&&Pp(I.slice(K,P)),P<j&&Pp(I=I.slice(P)),P<j&&ll(I))}de.push(R)}return Np(de)}function Lp(I,S){var R,P=[],j=[],W=oe[I+" "];if(!W){for(S||(S=cl(I)),R=S.length;R--;)(W=Pp(S[R]))[D]?P.push(W):j.push(W);W=oe(I,function(G,K){var z=K.length>0,Ie=G.length>0,de=function(se,be,ie,tt,vt){var ut,Mt,qt,hn=0,De="0",Or=se&&[],pn=[],hl=h,YE=se||Ie&&l.find.TAG("*",vt),XE=N+=hl==null?1:Math.random()||.1,gk=YE.length;for(vt&&(h=be==_||be||vt);De!==gk&&(ut=YE[De])!=null;De++){if(Ie&&ut){for(Mt=0,be||ut.ownerDocument==_||(Ui(ut),ie=!x);qt=G[Mt++];)if(qt(ut,be||_,ie)){L.call(tt,ut);break}vt&&(N=XE)}z&&((ut=!qt&&ut)&&hn--,se&&Or.push(ut))}if(hn+=De,z&&De!==hn){for(Mt=0;qt=K[Mt++];)qt(Or,pn,be,ie);if(se){if(hn>0)for(;De--;)Or[De]||pn[De]||(pn[De]=Pe.call(tt));pn=dl(pn)}L.apply(tt,pn),vt&&!se&&pn.length>0&&hn+K.length>1&&p.uniqueSort(tt)}return vt&&(N=XE,h=hl),Or};return z?Ye(de):de}(j,P)),W.selector=I}return W}function KE(I,S,R,P){var j,W,G,K,z,Ie=typeof I=="function"&&I,de=!P&&cl(I=Ie.selector||I);if(R=R||[],de.length===1){if((W=de[0]=de[0].slice(0)).length>2&&(G=W[0]).type==="ID"&&S.nodeType===9&&x&&l.relative[W[1].type]){if(!(S=(l.find.ID(G.matches[0].replace(Je,Tt),S)||[])[0]))return R;Ie&&(S=S.parentNode),I=I.slice(W.shift().value.length)}for(j=ri.needsContext.test(I)?0:W.length;j--&&(G=W[j],!l.relative[K=G.type]);)if((z=l.find[K])&&(P=z(G.matches[0].replace(Je,Tt),lt.test(W[0].type)&&Op(S.parentNode)||S))){if(W.splice(j,1),!(I=P.length&&ll(W)))return L.apply(R,P),R;break}}return(Ie||Lp(I,de))(P,S,!x,R,!S||lt.test(I)&&Op(S.parentNode)||S),R}GE.prototype=l.filters=l.pseudos,l.setFilters=new GE,w.sortStable=D.split("").sort(ct).join("")===D,Ui(),w.sortDetached=Le(function(I){return 1&I.compareDocumentPosition(_.createElement("fieldset"))}),p.find=te,p.expr[":"]=p.expr.pseudos,p.unique=p.uniqueSort,te.compile=Lp,te.select=KE,te.setDocument=Ui,te.escape=p.escapeSelector,te.getText=p.text,te.isXML=p.isXMLDoc,te.selectors=p.expr,te.support=p.support,te.uniqueSort=p.uniqueSort})();var Qt=function(a,l,h){for(var f=[],v=h!==void 0;(a=a[l])&&a.nodeType!==9;)if(a.nodeType===1){if(v&&p(a).is(h))break;f.push(a)}return f},fo=function(a,l){for(var h=[];a;a=a.nextSibling)a.nodeType===1&&a!==l&&h.push(a);return h},mo=p.expr.match.needsContext,Vs=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ti(a,l,h){return C(l)?p.grep(a,function(f,v){return!!l.call(f,v,f)!==h}):l.nodeType?p.grep(a,function(f){return f===l!==h}):typeof l!="string"?p.grep(a,function(f){return u.call(l,f)>-1!==h}):p.filter(l,a,h)}p.filter=function(a,l,h){var f=l[0];return h&&(a=":not("+a+")"),l.length===1&&f.nodeType===1?p.find.matchesSelector(f,a)?[f]:[]:p.find.matches(a,p.grep(l,function(v){return v.nodeType===1}))},p.fn.extend({find:function(a){var l,h,f=this.length,v=this;if(typeof a!="string")return this.pushStack(p(a).filter(function(){for(l=0;l<f;l++)if(p.contains(v[l],this))return!0}));for(h=this.pushStack([]),l=0;l<f;l++)p.find(a,v[l],h);return f>1?p.uniqueSort(h):h},filter:function(a){return this.pushStack(ti(this,a||[],!1))},not:function(a){return this.pushStack(ti(this,a||[],!0))},is:function(a){return!!ti(this,typeof a=="string"&&mo.test(a)?p(a):a||[],!1).length}});var Jc,OA=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,NA=p.fn.init=function(a,l,h){var f,v;if(!a)return this;if(h=h||Jc,typeof a=="string"){if(!(f=a[0]==="<"&&a[a.length-1]===">"&&a.length>=3?[null,a,null]:OA.exec(a))||!f[1]&&l)return!l||l.jquery?(l||h).find(a):this.constructor(l).find(a);if(f[1]){if(l=l instanceof p?l[0]:l,p.merge(this,p.parseHTML(f[1],l&&l.nodeType?l.ownerDocument||l:A,!0)),Vs.test(f[1])&&p.isPlainObject(l))for(f in l)C(this[f])?this[f](l[f]):this.attr(f,l[f]);return this}return(v=A.getElementById(f[2]))&&(this[0]=v,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):C(a)?h.ready!==void 0?h.ready(a):a(p):p.makeArray(a,this)};NA.prototype=p.fn,Jc=p(A);var RA=/^(?:parents|prev(?:Until|All))/,PA={children:!0,contents:!0,next:!0,prev:!0};function pE(a,l){for(;(a=a[l])&&a.nodeType!==1;);return a}p.fn.extend({has:function(a){var l=p(a,this),h=l.length;return this.filter(function(){for(var f=0;f<h;f++)if(p.contains(this,l[f]))return!0})},closest:function(a,l){var h,f=0,v=this.length,_=[],E=typeof a!="string"&&p(a);if(!mo.test(a)){for(;f<v;f++)for(h=this[f];h&&h!==l;h=h.parentNode)if(h.nodeType<11&&(E?E.index(h)>-1:h.nodeType===1&&p.find.matchesSelector(h,a))){_.push(h);break}}return this.pushStack(_.length>1?p.uniqueSort(_):_)},index:function(a){return a?typeof a=="string"?u.call(p(a),this[0]):u.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,l){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(a,l))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),p.each({parent:function(a){var l=a.parentNode;return l&&l.nodeType!==11?l:null},parents:function(a){return Qt(a,"parentNode")},parentsUntil:function(a,l,h){return Qt(a,"parentNode",h)},next:function(a){return pE(a,"nextSibling")},prev:function(a){return pE(a,"previousSibling")},nextAll:function(a){return Qt(a,"nextSibling")},prevAll:function(a){return Qt(a,"previousSibling")},nextUntil:function(a,l,h){return Qt(a,"nextSibling",h)},prevUntil:function(a,l,h){return Qt(a,"previousSibling",h)},siblings:function(a){return fo((a.parentNode||{}).firstChild,a)},children:function(a){return fo(a.firstChild)},contents:function(a){return a.contentDocument!=null&&r(a.contentDocument)?a.contentDocument:(Y(a,"template")&&(a=a.content||a),p.merge([],a.childNodes))}},function(a,l){p.fn[a]=function(h,f){var v=p.map(this,l,h);return a.slice(-5)!=="Until"&&(f=h),f&&typeof f=="string"&&(v=p.filter(f,v)),this.length>1&&(PA[a]||p.uniqueSort(v),RA.test(a)&&v.reverse()),this.pushStack(v)}});var Pn=/[^\x20\t\r\n\f]+/g;function go(a){return a}function Zc(a){throw a}function fE(a,l,h,f){var v;try{a&&C(v=a.promise)?v.call(a).done(l).fail(h):a&&C(v=a.then)?v.call(a,l,h):l.apply(void 0,[a].slice(f))}catch(_){h.apply(void 0,[_])}}p.Callbacks=function(a){a=typeof a=="string"?function(L){var D={};return p.each(L.match(Pn)||[],function(N,U){D[U]=!0}),D}(a):p.extend({},a);var l,h,f,v,_=[],E=[],x=-1,T=function(){for(v=v||a.once,f=l=!0;E.length;x=-1)for(h=E.shift();++x<_.length;)_[x].apply(h[0],h[1])===!1&&a.stopOnFalse&&(x=_.length,h=!1);a.memory||(h=!1),l=!1,v&&(_=h?[]:"")},O={add:function(){return _&&(h&&!l&&(x=_.length-1,E.push(h)),function L(D){p.each(D,function(N,U){C(U)?a.unique&&O.has(U)||_.push(U):U&&U.length&&H(U)!=="string"&&L(U)})}(arguments),h&&!l&&T()),this},remove:function(){return p.each(arguments,function(L,D){for(var N;(N=p.inArray(D,_,N))>-1;)_.splice(N,1),N<=x&&x--}),this},has:function(L){return L?p.inArray(L,_)>-1:_.length>0},empty:function(){return _&&(_=[]),this},disable:function(){return v=E=[],_=h="",this},disabled:function(){return!_},lock:function(){return v=E=[],h||l||(_=h=""),this},locked:function(){return!!v},fireWith:function(L,D){return v||(D=[L,(D=D||[]).slice?D.slice():D],E.push(D),l||T()),this},fire:function(){return O.fireWith(this,arguments),this},fired:function(){return!!f}};return O},p.extend({Deferred:function(a){var l=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],h="pending",f={state:function(){return h},always:function(){return v.done(arguments).fail(arguments),this},catch:function(_){return f.then(null,_)},pipe:function(){var _=arguments;return p.Deferred(function(E){p.each(l,function(x,T){var O=C(_[T[4]])&&_[T[4]];v[T[1]](function(){var L=O&&O.apply(this,arguments);L&&C(L.promise)?L.promise().progress(E.notify).done(E.resolve).fail(E.reject):E[T[0]+"With"](this,O?[L]:arguments)})}),_=null}).promise()},then:function(_,E,x){var T=0;function O(L,D,N,U){return function(){var ee=this,fe=arguments,oe=function(){var ct,Dn;if(!(L<T)){if((ct=N.apply(ee,fe))===D.promise())throw new TypeError("Thenable self-resolution");Dn=ct&&(typeof ct=="object"||typeof ct=="function")&&ct.then,C(Dn)?U?Dn.call(ct,O(T,D,go,U),O(T,D,Zc,U)):(T++,Dn.call(ct,O(T,D,go,U),O(T,D,Zc,U),O(T,D,go,D.notifyWith))):(N!==go&&(ee=void 0,fe=[ct]),(U||D.resolveWith)(ee,fe))}},Ge=U?oe:function(){try{oe()}catch(ct){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(ct,Ge.error),L+1>=T&&(N!==Zc&&(ee=void 0,fe=[ct]),D.rejectWith(ee,fe))}};L?Ge():(p.Deferred.getErrorHook?Ge.error=p.Deferred.getErrorHook():p.Deferred.getStackHook&&(Ge.error=p.Deferred.getStackHook()),e.setTimeout(Ge))}}return p.Deferred(function(L){l[0][3].add(O(0,L,C(x)?x:go,L.notifyWith)),l[1][3].add(O(0,L,C(_)?_:go)),l[2][3].add(O(0,L,C(E)?E:Zc))}).promise()},promise:function(_){return _!=null?p.extend(_,f):f}},v={};return p.each(l,function(_,E){var x=E[2],T=E[5];f[E[1]]=x.add,T&&x.add(function(){h=T},l[3-_][2].disable,l[3-_][3].disable,l[0][2].lock,l[0][3].lock),x.add(E[3].fire),v[E[0]]=function(){return v[E[0]+"With"](this===v?void 0:this,arguments),this},v[E[0]+"With"]=x.fireWith}),f.promise(v),a&&a.call(v,v),v},when:function(a){var l=arguments.length,h=l,f=Array(h),v=o.call(arguments),_=p.Deferred(),E=function(x){return function(T){f[x]=this,v[x]=arguments.length>1?o.call(arguments):T,--l||_.resolveWith(f,v)}};if(l<=1&&(fE(a,_.done(E(h)).resolve,_.reject,!l),_.state()==="pending"||C(v[h]&&v[h].then)))return _.then();for(;h--;)fE(v[h],E(h),_.reject);return _.promise()}});var LA=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(a,l){e.console&&e.console.warn&&a&&LA.test(a.name)&&e.console.warn("jQuery.Deferred exception: "+a.message,a.stack,l)},p.readyException=function(a){e.setTimeout(function(){throw a})};var fp=p.Deferred();function el(){A.removeEventListener("DOMContentLoaded",el),e.removeEventListener("load",el),p.ready()}p.fn.ready=function(a){return fp.then(a).catch(function(l){p.readyException(l)}),this},p.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--p.readyWait:p.isReady)||(p.isReady=!0,a!==!0&&--p.readyWait>0||fp.resolveWith(A,[p]))}}),p.ready.then=fp.then,A.readyState==="complete"||A.readyState!=="loading"&&!A.documentElement.doScroll?e.setTimeout(p.ready):(A.addEventListener("DOMContentLoaded",el),e.addEventListener("load",el));var ni=function(a,l,h,f,v,_,E){var x=0,T=a.length,O=h==null;if(H(h)==="object")for(x in v=!0,h)ni(a,l,x,h[x],!0,_,E);else if(f!==void 0&&(v=!0,C(f)||(E=!0),O&&(E?(l.call(a,f),l=null):(O=l,l=function(L,D,N){return O.call(p(L),N)})),l))for(;x<T;x++)l(a[x],h,E?f:f.call(a[x],x,l(a[x],h)));return v?a:O?l.call(a):T?l(a[0],h):_},DA=/^-ms-/,MA=/-([a-z])/g;function FA(a,l){return l.toUpperCase()}function Ln(a){return a.replace(DA,"ms-").replace(MA,FA)}var Ws=function(a){return a.nodeType===1||a.nodeType===9||!+a.nodeType};function $s(){this.expando=p.expando+$s.uid++}$s.uid=1,$s.prototype={cache:function(a){var l=a[this.expando];return l||(l={},Ws(a)&&(a.nodeType?a[this.expando]=l:Object.defineProperty(a,this.expando,{value:l,configurable:!0}))),l},set:function(a,l,h){var f,v=this.cache(a);if(typeof l=="string")v[Ln(l)]=h;else for(f in l)v[Ln(f)]=l[f];return v},get:function(a,l){return l===void 0?this.cache(a):a[this.expando]&&a[this.expando][Ln(l)]},access:function(a,l,h){return l===void 0||l&&typeof l=="string"&&h===void 0?this.get(a,l):(this.set(a,l,h),h!==void 0?h:l)},remove:function(a,l){var h,f=a[this.expando];if(f!==void 0){if(l!==void 0)for(h=(l=Array.isArray(l)?l.map(Ln):(l=Ln(l))in f?[l]:l.match(Pn)||[]).length;h--;)delete f[l[h]];(l===void 0||p.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var l=a[this.expando];return l!==void 0&&!p.isEmptyObject(l)}};var J=new $s,Pt=new $s,jA=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,UA=/[A-Z]/g;function mE(a,l,h){var f;if(h===void 0&&a.nodeType===1)if(f="data-"+l.replace(UA,"-$&").toLowerCase(),typeof(h=a.getAttribute(f))=="string"){try{h=function(v){return v==="true"||v!=="false"&&(v==="null"?null:v===+v+""?+v:jA.test(v)?JSON.parse(v):v)}(h)}catch{}Pt.set(a,l,h)}else h=void 0;return h}p.extend({hasData:function(a){return Pt.hasData(a)||J.hasData(a)},data:function(a,l,h){return Pt.access(a,l,h)},removeData:function(a,l){Pt.remove(a,l)},_data:function(a,l,h){return J.access(a,l,h)},_removeData:function(a,l){J.remove(a,l)}}),p.fn.extend({data:function(a,l){var h,f,v,_=this[0],E=_&&_.attributes;if(a===void 0){if(this.length&&(v=Pt.get(_),_.nodeType===1&&!J.get(_,"hasDataAttrs"))){for(h=E.length;h--;)E[h]&&(f=E[h].name).indexOf("data-")===0&&(f=Ln(f.slice(5)),mE(_,f,v[f]));J.set(_,"hasDataAttrs",!0)}return v}return typeof a=="object"?this.each(function(){Pt.set(this,a)}):ni(this,function(x){var T;if(_&&x===void 0)return(T=Pt.get(_,a))!==void 0||(T=mE(_,a))!==void 0?T:void 0;this.each(function(){Pt.set(this,a,x)})},null,l,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Pt.remove(this,a)})}}),p.extend({queue:function(a,l,h){var f;if(a)return l=(l||"fx")+"queue",f=J.get(a,l),h&&(!f||Array.isArray(h)?f=J.access(a,l,p.makeArray(h)):f.push(h)),f||[]},dequeue:function(a,l){l=l||"fx";var h=p.queue(a,l),f=h.length,v=h.shift(),_=p._queueHooks(a,l);v==="inprogress"&&(v=h.shift(),f--),v&&(l==="fx"&&h.unshift("inprogress"),delete _.stop,v.call(a,function(){p.dequeue(a,l)},_)),!f&&_&&_.empty.fire()},_queueHooks:function(a,l){var h=l+"queueHooks";return J.get(a,h)||J.access(a,h,{empty:p.Callbacks("once memory").add(function(){J.remove(a,[l+"queue",h])})})}}),p.fn.extend({queue:function(a,l){var h=2;return typeof a!="string"&&(l=a,a="fx",h--),arguments.length<h?p.queue(this[0],a):l===void 0?this:this.each(function(){var f=p.queue(this,a,l);p._queueHooks(this,a),a==="fx"&&f[0]!=="inprogress"&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,l){var h,f=1,v=p.Deferred(),_=this,E=this.length,x=function(){--f||v.resolveWith(_,[_])};for(typeof a!="string"&&(l=a,a=void 0),a=a||"fx";E--;)(h=J.get(_[E],a+"queueHooks"))&&h.empty&&(f++,h.empty.add(x));return x(),v.promise(l)}});var gE=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,zs=new RegExp("^(?:([+-])=|)("+gE+")([a-z%]*)$","i"),ii=["Top","Right","Bottom","Left"],Cr=A.documentElement,yo=function(a){return p.contains(a.ownerDocument,a)},HA={composed:!0};Cr.getRootNode&&(yo=function(a){return p.contains(a.ownerDocument,a)||a.getRootNode(HA)===a.ownerDocument});var tl=function(a,l){return(a=l||a).style.display==="none"||a.style.display===""&&yo(a)&&p.css(a,"display")==="none"};function yE(a,l,h,f){var v,_,E=20,x=f?function(){return f.cur()}:function(){return p.css(a,l,"")},T=x(),O=h&&h[3]||(p.cssNumber[l]?"":"px"),L=a.nodeType&&(p.cssNumber[l]||O!=="px"&&+T)&&zs.exec(p.css(a,l));if(L&&L[3]!==O){for(T/=2,O=O||L[3],L=+T||1;E--;)p.style(a,l,L+O),(1-_)*(1-(_=x()/T||.5))<=0&&(E=0),L/=_;L*=2,p.style(a,l,L+O),h=h||[]}return h&&(L=+L||+T||0,v=h[1]?L+(h[1]+1)*h[2]:+h[2],f&&(f.unit=O,f.start=L,f.end=v)),v}var vE={};function BA(a){var l,h=a.ownerDocument,f=a.nodeName,v=vE[f];return v||(l=h.body.appendChild(h.createElement(f)),v=p.css(l,"display"),l.parentNode.removeChild(l),v==="none"&&(v="block"),vE[f]=v,v)}function vo(a,l){for(var h,f,v=[],_=0,E=a.length;_<E;_++)(f=a[_]).style&&(h=f.style.display,l?(h==="none"&&(v[_]=J.get(f,"display")||null,v[_]||(f.style.display="")),f.style.display===""&&tl(f)&&(v[_]=BA(f))):h!=="none"&&(v[_]="none",J.set(f,"display",h)));for(_=0;_<E;_++)v[_]!=null&&(a[_].style.display=v[_]);return a}p.fn.extend({show:function(){return vo(this,!0)},hide:function(){return vo(this)},toggle:function(a){return typeof a=="boolean"?a?this.show():this.hide():this.each(function(){tl(this)?p(this).show():p(this).hide()})}});var Tr,nl,Gs=/^(?:checkbox|radio)$/i,_E=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,bE=/^$|^module$|\/(?:java|ecma)script/i;Tr=A.createDocumentFragment().appendChild(A.createElement("div")),(nl=A.createElement("input")).setAttribute("type","radio"),nl.setAttribute("checked","checked"),nl.setAttribute("name","t"),Tr.appendChild(nl),w.checkClone=Tr.cloneNode(!0).cloneNode(!0).lastChild.checked,Tr.innerHTML="<textarea>x</textarea>",w.noCloneChecked=!!Tr.cloneNode(!0).lastChild.defaultValue,Tr.innerHTML="<option></option>",w.option=!!Tr.lastChild;var Jt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Lt(a,l){var h;return h=a.getElementsByTagName!==void 0?a.getElementsByTagName(l||"*"):a.querySelectorAll!==void 0?a.querySelectorAll(l||"*"):[],l===void 0||l&&Y(a,l)?p.merge([a],h):h}function mp(a,l){for(var h=0,f=a.length;h<f;h++)J.set(a[h],"globalEval",!l||J.get(l[h],"globalEval"))}Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td,w.option||(Jt.optgroup=Jt.option=[1,"<select multiple='multiple'>","</select>"]);var qA=/<|&#?\w+;/;function EE(a,l,h,f,v){for(var _,E,x,T,O,L,D=l.createDocumentFragment(),N=[],U=0,ee=a.length;U<ee;U++)if((_=a[U])||_===0)if(H(_)==="object")p.merge(N,_.nodeType?[_]:_);else if(qA.test(_)){for(E=E||D.appendChild(l.createElement("div")),x=(_E.exec(_)||["",""])[1].toLowerCase(),T=Jt[x]||Jt._default,E.innerHTML=T[1]+p.htmlPrefilter(_)+T[2],L=T[0];L--;)E=E.lastChild;p.merge(N,E.childNodes),(E=D.firstChild).textContent=""}else N.push(l.createTextNode(_));for(D.textContent="",U=0;_=N[U++];)if(f&&p.inArray(_,f)>-1)v&&v.push(_);else if(O=yo(_),E=Lt(D.appendChild(_),"script"),O&&mp(E),h)for(L=0;_=E[L++];)bE.test(_.type||"")&&h.push(_);return D}var wE=/^([^.]*)(?:\.(.+)|)/;function _o(){return!0}function bo(){return!1}function gp(a,l,h,f,v,_){var E,x;if(typeof l=="object"){for(x in typeof h!="string"&&(f=f||h,h=void 0),l)gp(a,x,h,f,l[x],_);return a}if(f==null&&v==null?(v=h,f=h=void 0):v==null&&(typeof h=="string"?(v=f,f=void 0):(v=f,f=h,h=void 0)),v===!1)v=bo;else if(!v)return a;return _===1&&(E=v,v=function(T){return p().off(T),E.apply(this,arguments)},v.guid=E.guid||(E.guid=p.guid++)),a.each(function(){p.event.add(this,l,v,f,h)})}function il(a,l,h){h?(J.set(a,l,!1),p.event.add(a,l,{namespace:!1,handler:function(f){var v,_=J.get(this,l);if(1&f.isTrigger&&this[l]){if(_)(p.event.special[l]||{}).delegateType&&f.stopPropagation();else if(_=o.call(arguments),J.set(this,l,_),this[l](),v=J.get(this,l),J.set(this,l,!1),_!==v)return f.stopImmediatePropagation(),f.preventDefault(),v}else _&&(J.set(this,l,p.event.trigger(_[0],_.slice(1),this)),f.stopPropagation(),f.isImmediatePropagationStopped=_o)}})):J.get(a,l)===void 0&&p.event.add(a,l,_o)}p.event={global:{},add:function(a,l,h,f,v){var _,E,x,T,O,L,D,N,U,ee,fe,oe=J.get(a);if(Ws(a))for(h.handler&&(h=(_=h).handler,v=_.selector),v&&p.find.matchesSelector(Cr,v),h.guid||(h.guid=p.guid++),(T=oe.events)||(T=oe.events=Object.create(null)),(E=oe.handle)||(E=oe.handle=function(Ge){return p!==void 0&&p.event.triggered!==Ge.type?p.event.dispatch.apply(a,arguments):void 0}),O=(l=(l||"").match(Pn)||[""]).length;O--;)U=fe=(x=wE.exec(l[O])||[])[1],ee=(x[2]||"").split(".").sort(),U&&(D=p.event.special[U]||{},U=(v?D.delegateType:D.bindType)||U,D=p.event.special[U]||{},L=p.extend({type:U,origType:fe,data:f,handler:h,guid:h.guid,selector:v,needsContext:v&&p.expr.match.needsContext.test(v),namespace:ee.join(".")},_),(N=T[U])||((N=T[U]=[]).delegateCount=0,D.setup&&D.setup.call(a,f,ee,E)!==!1||a.addEventListener&&a.addEventListener(U,E)),D.add&&(D.add.call(a,L),L.handler.guid||(L.handler.guid=h.guid)),v?N.splice(N.delegateCount++,0,L):N.push(L),p.event.global[U]=!0)},remove:function(a,l,h,f,v){var _,E,x,T,O,L,D,N,U,ee,fe,oe=J.hasData(a)&&J.get(a);if(oe&&(T=oe.events)){for(O=(l=(l||"").match(Pn)||[""]).length;O--;)if(U=fe=(x=wE.exec(l[O])||[])[1],ee=(x[2]||"").split(".").sort(),U){for(D=p.event.special[U]||{},N=T[U=(f?D.delegateType:D.bindType)||U]||[],x=x[2]&&new RegExp("(^|\\.)"+ee.join("\\.(?:.*\\.|)")+"(\\.|$)"),E=_=N.length;_--;)L=N[_],!v&&fe!==L.origType||h&&h.guid!==L.guid||x&&!x.test(L.namespace)||f&&f!==L.selector&&(f!=="**"||!L.selector)||(N.splice(_,1),L.selector&&N.delegateCount--,D.remove&&D.remove.call(a,L));E&&!N.length&&(D.teardown&&D.teardown.call(a,ee,oe.handle)!==!1||p.removeEvent(a,U,oe.handle),delete T[U])}else for(U in T)p.event.remove(a,U+l[O],h,f,!0);p.isEmptyObject(T)&&J.remove(a,"handle events")}},dispatch:function(a){var l,h,f,v,_,E,x=new Array(arguments.length),T=p.event.fix(a),O=(J.get(this,"events")||Object.create(null))[T.type]||[],L=p.event.special[T.type]||{};for(x[0]=T,l=1;l<arguments.length;l++)x[l]=arguments[l];if(T.delegateTarget=this,!L.preDispatch||L.preDispatch.call(this,T)!==!1){for(E=p.event.handlers.call(this,T,O),l=0;(v=E[l++])&&!T.isPropagationStopped();)for(T.currentTarget=v.elem,h=0;(_=v.handlers[h++])&&!T.isImmediatePropagationStopped();)T.rnamespace&&_.namespace!==!1&&!T.rnamespace.test(_.namespace)||(T.handleObj=_,T.data=_.data,(f=((p.event.special[_.origType]||{}).handle||_.handler).apply(v.elem,x))!==void 0&&(T.result=f)===!1&&(T.preventDefault(),T.stopPropagation()));return L.postDispatch&&L.postDispatch.call(this,T),T.result}},handlers:function(a,l){var h,f,v,_,E,x=[],T=l.delegateCount,O=a.target;if(T&&O.nodeType&&!(a.type==="click"&&a.button>=1)){for(;O!==this;O=O.parentNode||this)if(O.nodeType===1&&(a.type!=="click"||O.disabled!==!0)){for(_=[],E={},h=0;h<T;h++)E[v=(f=l[h]).selector+" "]===void 0&&(E[v]=f.needsContext?p(v,this).index(O)>-1:p.find(v,this,null,[O]).length),E[v]&&_.push(f);_.length&&x.push({elem:O,handlers:_})}}return O=this,T<l.length&&x.push({elem:O,handlers:l.slice(T)}),x},addProp:function(a,l){Object.defineProperty(p.Event.prototype,a,{enumerable:!0,configurable:!0,get:C(l)?function(){if(this.originalEvent)return l(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(h){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:h})}})},fix:function(a){return a[p.expando]?a:new p.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){var l=this||a;return Gs.test(l.type)&&l.click&&Y(l,"input")&&il(l,"click",!0),!1},trigger:function(a){var l=this||a;return Gs.test(l.type)&&l.click&&Y(l,"input")&&il(l,"click"),!0},_default:function(a){var l=a.target;return Gs.test(l.type)&&l.click&&Y(l,"input")&&J.get(l,"click")||Y(l,"a")}},beforeunload:{postDispatch:function(a){a.result!==void 0&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},p.removeEvent=function(a,l,h){a.removeEventListener&&a.removeEventListener(l,h)},p.Event=function(a,l){if(!(this instanceof p.Event))return new p.Event(a,l);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===void 0&&a.returnValue===!1?_o:bo,this.target=a.target&&a.target.nodeType===3?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,l&&p.extend(this,l),this.timeStamp=a&&a.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:bo,isPropagationStopped:bo,isImmediatePropagationStopped:bo,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=_o,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=_o,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=_o,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(a,l){function h(f){if(A.documentMode){var v=J.get(this,"handle"),_=p.event.fix(f);_.type=f.type==="focusin"?"focus":"blur",_.isSimulated=!0,v(f),_.target===_.currentTarget&&v(_)}else p.event.simulate(l,f.target,p.event.fix(f))}p.event.special[a]={setup:function(){var f;if(il(this,a,!0),!A.documentMode)return!1;(f=J.get(this,l))||this.addEventListener(l,h),J.set(this,l,(f||0)+1)},trigger:function(){return il(this,a),!0},teardown:function(){var f;if(!A.documentMode)return!1;(f=J.get(this,l)-1)?J.set(this,l,f):(this.removeEventListener(l,h),J.remove(this,l))},_default:function(f){return J.get(f.target,a)},delegateType:l},p.event.special[l]={setup:function(){var f=this.ownerDocument||this.document||this,v=A.documentMode?this:f,_=J.get(v,l);_||(A.documentMode?this.addEventListener(l,h):f.addEventListener(a,h,!0)),J.set(v,l,(_||0)+1)},teardown:function(){var f=this.ownerDocument||this.document||this,v=A.documentMode?this:f,_=J.get(v,l)-1;_?J.set(v,l,_):(A.documentMode?this.removeEventListener(l,h):f.removeEventListener(a,h,!0),J.remove(v,l))}}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,l){p.event.special[a]={delegateType:l,bindType:l,handle:function(h){var f,v=h.relatedTarget,_=h.handleObj;return v&&(v===this||p.contains(this,v))||(h.type=_.origType,f=_.handler.apply(this,arguments),h.type=l),f}}}),p.fn.extend({on:function(a,l,h,f){return gp(this,a,l,h,f)},one:function(a,l,h,f){return gp(this,a,l,h,f,1)},off:function(a,l,h){var f,v;if(a&&a.preventDefault&&a.handleObj)return f=a.handleObj,p(a.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if(typeof a=="object"){for(v in a)this.off(v,l,a[v]);return this}return l!==!1&&typeof l!="function"||(h=l,l=void 0),h===!1&&(h=bo),this.each(function(){p.event.remove(this,a,h,l)})}});var VA=/<script|<style|<link/i,WA=/checked\s*(?:[^=]|=\s*.checked.)/i,$A=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function IE(a,l){return Y(a,"table")&&Y(l.nodeType!==11?l:l.firstChild,"tr")&&p(a).children("tbody")[0]||a}function zA(a){return a.type=(a.getAttribute("type")!==null)+"/"+a.type,a}function GA(a){return(a.type||"").slice(0,5)==="true/"?a.type=a.type.slice(5):a.removeAttribute("type"),a}function CE(a,l){var h,f,v,_,E,x;if(l.nodeType===1){if(J.hasData(a)&&(x=J.get(a).events))for(v in J.remove(l,"handle events"),x)for(h=0,f=x[v].length;h<f;h++)p.event.add(l,v,x[v][h]);Pt.hasData(a)&&(_=Pt.access(a),E=p.extend({},_),Pt.set(l,E))}}function KA(a,l){var h=l.nodeName.toLowerCase();h==="input"&&Gs.test(a.type)?l.checked=a.checked:h!=="input"&&h!=="textarea"||(l.defaultValue=a.defaultValue)}function Eo(a,l,h,f){l=s(l);var v,_,E,x,T,O,L=0,D=a.length,N=D-1,U=l[0],ee=C(U);if(ee||D>1&&typeof U=="string"&&!w.checkClone&&WA.test(U))return a.each(function(fe){var oe=a.eq(fe);ee&&(l[0]=U.call(this,fe,oe.html())),Eo(oe,l,h,f)});if(D&&(_=(v=EE(l,a[0].ownerDocument,!1,a,f)).firstChild,v.childNodes.length===1&&(v=_),_||f)){for(x=(E=p.map(Lt(v,"script"),zA)).length;L<D;L++)T=v,L!==N&&(T=p.clone(T,!0,!0),x&&p.merge(E,Lt(T,"script"))),h.call(a[L],T,L);if(x)for(O=E[E.length-1].ownerDocument,p.map(E,GA),L=0;L<x;L++)T=E[L],bE.test(T.type||"")&&!J.access(T,"globalEval")&&p.contains(O,T)&&(T.src&&(T.type||"").toLowerCase()!=="module"?p._evalUrl&&!T.noModule&&p._evalUrl(T.src,{nonce:T.nonce||T.getAttribute("nonce")},O):V(T.textContent.replace($A,""),T,O))}return a}function TE(a,l,h){for(var f,v=l?p.filter(l,a):a,_=0;(f=v[_])!=null;_++)h||f.nodeType!==1||p.cleanData(Lt(f)),f.parentNode&&(h&&yo(f)&&mp(Lt(f,"script")),f.parentNode.removeChild(f));return a}p.extend({htmlPrefilter:function(a){return a},clone:function(a,l,h){var f,v,_,E,x=a.cloneNode(!0),T=yo(a);if(!(w.noCloneChecked||a.nodeType!==1&&a.nodeType!==11||p.isXMLDoc(a)))for(E=Lt(x),f=0,v=(_=Lt(a)).length;f<v;f++)KA(_[f],E[f]);if(l)if(h)for(_=_||Lt(a),E=E||Lt(x),f=0,v=_.length;f<v;f++)CE(_[f],E[f]);else CE(a,x);return(E=Lt(x,"script")).length>0&&mp(E,!T&&Lt(a,"script")),x},cleanData:function(a){for(var l,h,f,v=p.event.special,_=0;(h=a[_])!==void 0;_++)if(Ws(h)){if(l=h[J.expando]){if(l.events)for(f in l.events)v[f]?p.event.remove(h,f):p.removeEvent(h,f,l.handle);h[J.expando]=void 0}h[Pt.expando]&&(h[Pt.expando]=void 0)}}}),p.fn.extend({detach:function(a){return TE(this,a,!0)},remove:function(a){return TE(this,a)},text:function(a){return ni(this,function(l){return l===void 0?p.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=l)})},null,a,arguments.length)},append:function(){return Eo(this,arguments,function(a){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||IE(this,a).appendChild(a)})},prepend:function(){return Eo(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var l=IE(this,a);l.insertBefore(a,l.firstChild)}})},before:function(){return Eo(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Eo(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,l=0;(a=this[l])!=null;l++)a.nodeType===1&&(p.cleanData(Lt(a,!1)),a.textContent="");return this},clone:function(a,l){return a=a!=null&&a,l=l??a,this.map(function(){return p.clone(this,a,l)})},html:function(a){return ni(this,function(l){var h=this[0]||{},f=0,v=this.length;if(l===void 0&&h.nodeType===1)return h.innerHTML;if(typeof l=="string"&&!VA.test(l)&&!Jt[(_E.exec(l)||["",""])[1].toLowerCase()]){l=p.htmlPrefilter(l);try{for(;f<v;f++)(h=this[f]||{}).nodeType===1&&(p.cleanData(Lt(h,!1)),h.innerHTML=l);h=0}catch{}}h&&this.empty().append(l)},null,a,arguments.length)},replaceWith:function(){var a=[];return Eo(this,arguments,function(l){var h=this.parentNode;p.inArray(this,a)<0&&(p.cleanData(Lt(this)),h&&h.replaceChild(l,this))},a)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,l){p.fn[a]=function(h){for(var f,v=[],_=p(h),E=_.length-1,x=0;x<=E;x++)f=x===E?this:this.clone(!0),p(_[x])[l](f),c.apply(v,f.get());return this.pushStack(v)}});var yp=new RegExp("^("+gE+")(?!px)[a-z%]+$","i"),vp=/^--/,rl=function(a){var l=a.ownerDocument.defaultView;return l&&l.opener||(l=e),l.getComputedStyle(a)},xE=function(a,l,h){var f,v,_={};for(v in l)_[v]=a.style[v],a.style[v]=l[v];for(v in f=h.call(a),l)a.style[v]=_[v];return f},YA=new RegExp(ii.join("|"),"i");function Ks(a,l,h){var f,v,_,E,x=vp.test(l),T=a.style;return(h=h||rl(a))&&(E=h.getPropertyValue(l)||h[l],x&&E&&(E=E.replace(gt,"$1")||void 0),E!==""||yo(a)||(E=p.style(a,l)),!w.pixelBoxStyles()&&yp.test(E)&&YA.test(l)&&(f=T.width,v=T.minWidth,_=T.maxWidth,T.minWidth=T.maxWidth=T.width=E,E=h.width,T.width=f,T.minWidth=v,T.maxWidth=_)),E!==void 0?E+"":E}function SE(a,l){return{get:function(){if(!a())return(this.get=l).apply(this,arguments);delete this.get}}}(function(){function a(){if(O){T.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",O.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Cr.appendChild(T).appendChild(O);var L=e.getComputedStyle(O);h=L.top!=="1%",x=l(L.marginLeft)===12,O.style.right="60%",_=l(L.right)===36,f=l(L.width)===36,O.style.position="absolute",v=l(O.offsetWidth/3)===12,Cr.removeChild(T),O=null}}function l(L){return Math.round(parseFloat(L))}var h,f,v,_,E,x,T=A.createElement("div"),O=A.createElement("div");O.style&&(O.style.backgroundClip="content-box",O.cloneNode(!0).style.backgroundClip="",w.clearCloneStyle=O.style.backgroundClip==="content-box",p.extend(w,{boxSizingReliable:function(){return a(),f},pixelBoxStyles:function(){return a(),_},pixelPosition:function(){return a(),h},reliableMarginLeft:function(){return a(),x},scrollboxSize:function(){return a(),v},reliableTrDimensions:function(){var L,D,N,U;return E==null&&(L=A.createElement("table"),D=A.createElement("tr"),N=A.createElement("div"),L.style.cssText="position:absolute;left:-11111px;border-collapse:separate",D.style.cssText="border:1px solid",D.style.height="1px",N.style.height="9px",N.style.display="block",Cr.appendChild(L).appendChild(D).appendChild(N),U=e.getComputedStyle(D),E=parseInt(U.height,10)+parseInt(U.borderTopWidth,10)+parseInt(U.borderBottomWidth,10)===D.offsetHeight,Cr.removeChild(L)),E}}))})();var AE=["Webkit","Moz","ms"],kE=A.createElement("div").style,OE={};function _p(a){var l=p.cssProps[a]||OE[a];return l||(a in kE?a:OE[a]=function(h){for(var f=h[0].toUpperCase()+h.slice(1),v=AE.length;v--;)if((h=AE[v]+f)in kE)return h}(a)||a)}var XA=/^(none|table(?!-c[ea]).+)/,QA={position:"absolute",visibility:"hidden",display:"block"},NE={letterSpacing:"0",fontWeight:"400"};function RE(a,l,h){var f=zs.exec(l);return f?Math.max(0,f[2]-(h||0))+(f[3]||"px"):l}function bp(a,l,h,f,v,_){var E=l==="width"?1:0,x=0,T=0,O=0;if(h===(f?"border":"content"))return 0;for(;E<4;E+=2)h==="margin"&&(O+=p.css(a,h+ii[E],!0,v)),f?(h==="content"&&(T-=p.css(a,"padding"+ii[E],!0,v)),h!=="margin"&&(T-=p.css(a,"border"+ii[E]+"Width",!0,v))):(T+=p.css(a,"padding"+ii[E],!0,v),h!=="padding"?T+=p.css(a,"border"+ii[E]+"Width",!0,v):x+=p.css(a,"border"+ii[E]+"Width",!0,v));return!f&&_>=0&&(T+=Math.max(0,Math.ceil(a["offset"+l[0].toUpperCase()+l.slice(1)]-_-T-x-.5))||0),T+O}function PE(a,l,h){var f=rl(a),v=(!w.boxSizingReliable()||h)&&p.css(a,"boxSizing",!1,f)==="border-box",_=v,E=Ks(a,l,f),x="offset"+l[0].toUpperCase()+l.slice(1);if(yp.test(E)){if(!h)return E;E="auto"}return(!w.boxSizingReliable()&&v||!w.reliableTrDimensions()&&Y(a,"tr")||E==="auto"||!parseFloat(E)&&p.css(a,"display",!1,f)==="inline")&&a.getClientRects().length&&(v=p.css(a,"boxSizing",!1,f)==="border-box",(_=x in a)&&(E=a[x])),(E=parseFloat(E)||0)+bp(a,l,h||(v?"border":"content"),_,f,E)+"px"}function Dt(a,l,h,f,v){return new Dt.prototype.init(a,l,h,f,v)}p.extend({cssHooks:{opacity:{get:function(a,l){if(l){var h=Ks(a,"opacity");return h===""?"1":h}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(a,l,h,f){if(a&&a.nodeType!==3&&a.nodeType!==8&&a.style){var v,_,E,x=Ln(l),T=vp.test(l),O=a.style;if(T||(l=_p(x)),E=p.cssHooks[l]||p.cssHooks[x],h===void 0)return E&&"get"in E&&(v=E.get(a,!1,f))!==void 0?v:O[l];(_=typeof h)=="string"&&(v=zs.exec(h))&&v[1]&&(h=yE(a,l,v),_="number"),h!=null&&h==h&&(_!=="number"||T||(h+=v&&v[3]||(p.cssNumber[x]?"":"px")),w.clearCloneStyle||h!==""||l.indexOf("background")!==0||(O[l]="inherit"),E&&"set"in E&&(h=E.set(a,h,f))===void 0||(T?O.setProperty(l,h):O[l]=h))}},css:function(a,l,h,f){var v,_,E,x=Ln(l);return vp.test(l)||(l=_p(x)),(E=p.cssHooks[l]||p.cssHooks[x])&&"get"in E&&(v=E.get(a,!0,h)),v===void 0&&(v=Ks(a,l,f)),v==="normal"&&l in NE&&(v=NE[l]),h===""||h?(_=parseFloat(v),h===!0||isFinite(_)?_||0:v):v}}),p.each(["height","width"],function(a,l){p.cssHooks[l]={get:function(h,f,v){if(f)return!XA.test(p.css(h,"display"))||h.getClientRects().length&&h.getBoundingClientRect().width?PE(h,l,v):xE(h,QA,function(){return PE(h,l,v)})},set:function(h,f,v){var _,E=rl(h),x=!w.scrollboxSize()&&E.position==="absolute",T=(x||v)&&p.css(h,"boxSizing",!1,E)==="border-box",O=v?bp(h,l,v,T,E):0;return T&&x&&(O-=Math.ceil(h["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(E[l])-bp(h,l,"border",!1,E)-.5)),O&&(_=zs.exec(f))&&(_[3]||"px")!=="px"&&(h.style[l]=f,f=p.css(h,l)),RE(0,f,O)}}}),p.cssHooks.marginLeft=SE(w.reliableMarginLeft,function(a,l){if(l)return(parseFloat(Ks(a,"marginLeft"))||a.getBoundingClientRect().left-xE(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(a,l){p.cssHooks[a+l]={expand:function(h){for(var f=0,v={},_=typeof h=="string"?h.split(" "):[h];f<4;f++)v[a+ii[f]+l]=_[f]||_[f-2]||_[0];return v}},a!=="margin"&&(p.cssHooks[a+l].set=RE)}),p.fn.extend({css:function(a,l){return ni(this,function(h,f,v){var _,E,x={},T=0;if(Array.isArray(f)){for(_=rl(h),E=f.length;T<E;T++)x[f[T]]=p.css(h,f[T],!1,_);return x}return v!==void 0?p.style(h,f,v):p.css(h,f)},a,l,arguments.length>1)}}),p.Tween=Dt,Dt.prototype={constructor:Dt,init:function(a,l,h,f,v,_){this.elem=a,this.prop=h,this.easing=v||p.easing._default,this.options=l,this.start=this.now=this.cur(),this.end=f,this.unit=_||(p.cssNumber[h]?"":"px")},cur:function(){var a=Dt.propHooks[this.prop];return a&&a.get?a.get(this):Dt.propHooks._default.get(this)},run:function(a){var l,h=Dt.propHooks[this.prop];return this.options.duration?this.pos=l=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=l=a,this.now=(this.end-this.start)*l+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),h&&h.set?h.set(this):Dt.propHooks._default.set(this),this}},Dt.prototype.init.prototype=Dt.prototype,Dt.propHooks={_default:{get:function(a){var l;return a.elem.nodeType!==1||a.elem[a.prop]!=null&&a.elem.style[a.prop]==null?a.elem[a.prop]:(l=p.css(a.elem,a.prop,""))&&l!=="auto"?l:0},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.nodeType!==1||!p.cssHooks[a.prop]&&a.elem.style[_p(a.prop)]==null?a.elem[a.prop]=a.now:p.style(a.elem,a.prop,a.now+a.unit)}}},Dt.propHooks.scrollTop=Dt.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.easing={linear:function(a){return a},swing:function(a){return .5-Math.cos(a*Math.PI)/2},_default:"swing"},p.fx=Dt.prototype.init,p.fx.step={};var wo,ol,JA=/^(?:toggle|show|hide)$/,ZA=/queueHooks$/;function Ep(){ol&&(A.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Ep):e.setTimeout(Ep,p.fx.interval),p.fx.tick())}function LE(){return e.setTimeout(function(){wo=void 0}),wo=Date.now()}function sl(a,l){var h,f=0,v={height:a};for(l=l?1:0;f<4;f+=2-l)v["margin"+(h=ii[f])]=v["padding"+h]=a;return l&&(v.opacity=v.width=a),v}function DE(a,l,h){for(var f,v=(dn.tweeners[l]||[]).concat(dn.tweeners["*"]),_=0,E=v.length;_<E;_++)if(f=v[_].call(h,l,a))return f}function dn(a,l,h){var f,v,_=0,E=dn.prefilters.length,x=p.Deferred().always(function(){delete T.elem}),T=function(){if(v)return!1;for(var D=wo||LE(),N=Math.max(0,O.startTime+O.duration-D),U=1-(N/O.duration||0),ee=0,fe=O.tweens.length;ee<fe;ee++)O.tweens[ee].run(U);return x.notifyWith(a,[O,U,N]),U<1&&fe?N:(fe||x.notifyWith(a,[O,1,0]),x.resolveWith(a,[O]),!1)},O=x.promise({elem:a,props:p.extend({},l),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},h),originalProperties:l,originalOptions:h,startTime:wo||LE(),duration:h.duration,tweens:[],createTween:function(D,N){var U=p.Tween(a,O.opts,D,N,O.opts.specialEasing[D]||O.opts.easing);return O.tweens.push(U),U},stop:function(D){var N=0,U=D?O.tweens.length:0;if(v)return this;for(v=!0;N<U;N++)O.tweens[N].run(1);return D?(x.notifyWith(a,[O,1,0]),x.resolveWith(a,[O,D])):x.rejectWith(a,[O,D]),this}}),L=O.props;for(!function(D,N){var U,ee,fe,oe,Ge;for(U in D)if(fe=N[ee=Ln(U)],oe=D[U],Array.isArray(oe)&&(fe=oe[1],oe=D[U]=oe[0]),U!==ee&&(D[ee]=oe,delete D[U]),(Ge=p.cssHooks[ee])&&"expand"in Ge)for(U in oe=Ge.expand(oe),delete D[ee],oe)U in D||(D[U]=oe[U],N[U]=fe);else N[ee]=fe}(L,O.opts.specialEasing);_<E;_++)if(f=dn.prefilters[_].call(O,a,L,O.opts))return C(f.stop)&&(p._queueHooks(O.elem,O.opts.queue).stop=f.stop.bind(f)),f;return p.map(L,DE,O),C(O.opts.start)&&O.opts.start.call(a,O),O.progress(O.opts.progress).done(O.opts.done,O.opts.complete).fail(O.opts.fail).always(O.opts.always),p.fx.timer(p.extend(T,{elem:a,anim:O,queue:O.opts.queue})),O}p.Animation=p.extend(dn,{tweeners:{"*":[function(a,l){var h=this.createTween(a,l);return yE(h.elem,a,zs.exec(l),h),h}]},tweener:function(a,l){C(a)?(l=a,a=["*"]):a=a.match(Pn);for(var h,f=0,v=a.length;f<v;f++)h=a[f],dn.tweeners[h]=dn.tweeners[h]||[],dn.tweeners[h].unshift(l)},prefilters:[function(a,l,h){var f,v,_,E,x,T,O,L,D="width"in l||"height"in l,N=this,U={},ee=a.style,fe=a.nodeType&&tl(a),oe=J.get(a,"fxshow");for(f in h.queue||((E=p._queueHooks(a,"fx")).unqueued==null&&(E.unqueued=0,x=E.empty.fire,E.empty.fire=function(){E.unqueued||x()}),E.unqueued++,N.always(function(){N.always(function(){E.unqueued--,p.queue(a,"fx").length||E.empty.fire()})})),l)if(v=l[f],JA.test(v)){if(delete l[f],_=_||v==="toggle",v===(fe?"hide":"show")){if(v!=="show"||!oe||oe[f]===void 0)continue;fe=!0}U[f]=oe&&oe[f]||p.style(a,f)}if((T=!p.isEmptyObject(l))||!p.isEmptyObject(U))for(f in D&&a.nodeType===1&&(h.overflow=[ee.overflow,ee.overflowX,ee.overflowY],(O=oe&&oe.display)==null&&(O=J.get(a,"display")),(L=p.css(a,"display"))==="none"&&(O?L=O:(vo([a],!0),O=a.style.display||O,L=p.css(a,"display"),vo([a]))),(L==="inline"||L==="inline-block"&&O!=null)&&p.css(a,"float")==="none"&&(T||(N.done(function(){ee.display=O}),O==null&&(L=ee.display,O=L==="none"?"":L)),ee.display="inline-block")),h.overflow&&(ee.overflow="hidden",N.always(function(){ee.overflow=h.overflow[0],ee.overflowX=h.overflow[1],ee.overflowY=h.overflow[2]})),T=!1,U)T||(oe?"hidden"in oe&&(fe=oe.hidden):oe=J.access(a,"fxshow",{display:O}),_&&(oe.hidden=!fe),fe&&vo([a],!0),N.done(function(){for(f in fe||vo([a]),J.remove(a,"fxshow"),U)p.style(a,f,U[f])})),T=DE(fe?oe[f]:0,f,N),f in oe||(oe[f]=T.start,fe&&(T.end=T.start,T.start=0))}],prefilter:function(a,l){l?dn.prefilters.unshift(a):dn.prefilters.push(a)}}),p.speed=function(a,l,h){var f=a&&typeof a=="object"?p.extend({},a):{complete:h||!h&&l||C(a)&&a,duration:a,easing:h&&l||l&&!C(l)&&l};return p.fx.off?f.duration=0:typeof f.duration!="number"&&(f.duration in p.fx.speeds?f.duration=p.fx.speeds[f.duration]:f.duration=p.fx.speeds._default),f.queue!=null&&f.queue!==!0||(f.queue="fx"),f.old=f.complete,f.complete=function(){C(f.old)&&f.old.call(this),f.queue&&p.dequeue(this,f.queue)},f},p.fn.extend({fadeTo:function(a,l,h,f){return this.filter(tl).css("opacity",0).show().end().animate({opacity:l},a,h,f)},animate:function(a,l,h,f){var v=p.isEmptyObject(a),_=p.speed(l,h,f),E=function(){var x=dn(this,p.extend({},a),_);(v||J.get(this,"finish"))&&x.stop(!0)};return E.finish=E,v||_.queue===!1?this.each(E):this.queue(_.queue,E)},stop:function(a,l,h){var f=function(v){var _=v.stop;delete v.stop,_(h)};return typeof a!="string"&&(h=l,l=a,a=void 0),l&&this.queue(a||"fx",[]),this.each(function(){var v=!0,_=a!=null&&a+"queueHooks",E=p.timers,x=J.get(this);if(_)x[_]&&x[_].stop&&f(x[_]);else for(_ in x)x[_]&&x[_].stop&&ZA.test(_)&&f(x[_]);for(_=E.length;_--;)E[_].elem!==this||a!=null&&E[_].queue!==a||(E[_].anim.stop(h),v=!1,E.splice(_,1));!v&&h||p.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var l,h=J.get(this),f=h[a+"queue"],v=h[a+"queueHooks"],_=p.timers,E=f?f.length:0;for(h.finish=!0,p.queue(this,a,[]),v&&v.stop&&v.stop.call(this,!0),l=_.length;l--;)_[l].elem===this&&_[l].queue===a&&(_[l].anim.stop(!0),_.splice(l,1));for(l=0;l<E;l++)f[l]&&f[l].finish&&f[l].finish.call(this);delete h.finish})}}),p.each(["toggle","show","hide"],function(a,l){var h=p.fn[l];p.fn[l]=function(f,v,_){return f==null||typeof f=="boolean"?h.apply(this,arguments):this.animate(sl(l,!0),f,v,_)}}),p.each({slideDown:sl("show"),slideUp:sl("hide"),slideToggle:sl("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,l){p.fn[a]=function(h,f,v){return this.animate(l,h,f,v)}}),p.timers=[],p.fx.tick=function(){var a,l=0,h=p.timers;for(wo=Date.now();l<h.length;l++)(a=h[l])()||h[l]!==a||h.splice(l--,1);h.length||p.fx.stop(),wo=void 0},p.fx.timer=function(a){p.timers.push(a),p.fx.start()},p.fx.interval=13,p.fx.start=function(){ol||(ol=!0,Ep())},p.fx.stop=function(){ol=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(a,l){return a=p.fx&&p.fx.speeds[a]||a,l=l||"fx",this.queue(l,function(h,f){var v=e.setTimeout(h,a);f.stop=function(){e.clearTimeout(v)}})},function(){var a=A.createElement("input"),l=A.createElement("select").appendChild(A.createElement("option"));a.type="checkbox",w.checkOn=a.value!=="",w.optSelected=l.selected,(a=A.createElement("input")).value="t",a.type="radio",w.radioValue=a.value==="t"}();var ME,Ys=p.expr.attrHandle;p.fn.extend({attr:function(a,l){return ni(this,p.attr,a,l,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})}}),p.extend({attr:function(a,l,h){var f,v,_=a.nodeType;if(_!==3&&_!==8&&_!==2)return a.getAttribute===void 0?p.prop(a,l,h):(_===1&&p.isXMLDoc(a)||(v=p.attrHooks[l.toLowerCase()]||(p.expr.match.bool.test(l)?ME:void 0)),h!==void 0?h===null?void p.removeAttr(a,l):v&&"set"in v&&(f=v.set(a,h,l))!==void 0?f:(a.setAttribute(l,h+""),h):v&&"get"in v&&(f=v.get(a,l))!==null?f:(f=p.find.attr(a,l))==null?void 0:f)},attrHooks:{type:{set:function(a,l){if(!w.radioValue&&l==="radio"&&Y(a,"input")){var h=a.value;return a.setAttribute("type",l),h&&(a.value=h),l}}}},removeAttr:function(a,l){var h,f=0,v=l&&l.match(Pn);if(v&&a.nodeType===1)for(;h=v[f++];)a.removeAttribute(h)}}),ME={set:function(a,l,h){return l===!1?p.removeAttr(a,h):a.setAttribute(h,h),h}},p.each(p.expr.match.bool.source.match(/\w+/g),function(a,l){var h=Ys[l]||p.find.attr;Ys[l]=function(f,v,_){var E,x,T=v.toLowerCase();return _||(x=Ys[T],Ys[T]=E,E=h(f,v,_)!=null?T:null,Ys[T]=x),E}});var ek=/^(?:input|select|textarea|button)$/i,tk=/^(?:a|area)$/i;function xr(a){return(a.match(Pn)||[]).join(" ")}function Sr(a){return a.getAttribute&&a.getAttribute("class")||""}function wp(a){return Array.isArray(a)?a:typeof a=="string"&&a.match(Pn)||[]}p.fn.extend({prop:function(a,l){return ni(this,p.prop,a,l,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[p.propFix[a]||a]})}}),p.extend({prop:function(a,l,h){var f,v,_=a.nodeType;if(_!==3&&_!==8&&_!==2)return _===1&&p.isXMLDoc(a)||(l=p.propFix[l]||l,v=p.propHooks[l]),h!==void 0?v&&"set"in v&&(f=v.set(a,h,l))!==void 0?f:a[l]=h:v&&"get"in v&&(f=v.get(a,l))!==null?f:a[l]},propHooks:{tabIndex:{get:function(a){var l=p.find.attr(a,"tabindex");return l?parseInt(l,10):ek.test(a.nodeName)||tk.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),w.optSelected||(p.propHooks.selected={get:function(a){var l=a.parentNode;return l&&l.parentNode&&l.parentNode.selectedIndex,null},set:function(a){var l=a.parentNode;l&&(l.selectedIndex,l.parentNode&&l.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this}),p.fn.extend({addClass:function(a){var l,h,f,v,_,E;return C(a)?this.each(function(x){p(this).addClass(a.call(this,x,Sr(this)))}):(l=wp(a)).length?this.each(function(){if(f=Sr(this),h=this.nodeType===1&&" "+xr(f)+" "){for(_=0;_<l.length;_++)v=l[_],h.indexOf(" "+v+" ")<0&&(h+=v+" ");E=xr(h),f!==E&&this.setAttribute("class",E)}}):this},removeClass:function(a){var l,h,f,v,_,E;return C(a)?this.each(function(x){p(this).removeClass(a.call(this,x,Sr(this)))}):arguments.length?(l=wp(a)).length?this.each(function(){if(f=Sr(this),h=this.nodeType===1&&" "+xr(f)+" "){for(_=0;_<l.length;_++)for(v=l[_];h.indexOf(" "+v+" ")>-1;)h=h.replace(" "+v+" "," ");E=xr(h),f!==E&&this.setAttribute("class",E)}}):this:this.attr("class","")},toggleClass:function(a,l){var h,f,v,_,E=typeof a,x=E==="string"||Array.isArray(a);return C(a)?this.each(function(T){p(this).toggleClass(a.call(this,T,Sr(this),l),l)}):typeof l=="boolean"&&x?l?this.addClass(a):this.removeClass(a):(h=wp(a),this.each(function(){if(x)for(_=p(this),v=0;v<h.length;v++)f=h[v],_.hasClass(f)?_.removeClass(f):_.addClass(f);else a!==void 0&&E!=="boolean"||((f=Sr(this))&&J.set(this,"__className__",f),this.setAttribute&&this.setAttribute("class",f||a===!1?"":J.get(this,"__className__")||""))}))},hasClass:function(a){var l,h,f=0;for(l=" "+a+" ";h=this[f++];)if(h.nodeType===1&&(" "+xr(Sr(h))+" ").indexOf(l)>-1)return!0;return!1}});var nk=/\r/g;p.fn.extend({val:function(a){var l,h,f,v=this[0];return arguments.length?(f=C(a),this.each(function(_){var E;this.nodeType===1&&((E=f?a.call(this,_,p(this).val()):a)==null?E="":typeof E=="number"?E+="":Array.isArray(E)&&(E=p.map(E,function(x){return x==null?"":x+""})),(l=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in l&&l.set(this,E,"value")!==void 0||(this.value=E))})):v?(l=p.valHooks[v.type]||p.valHooks[v.nodeName.toLowerCase()])&&"get"in l&&(h=l.get(v,"value"))!==void 0?h:typeof(h=v.value)=="string"?h.replace(nk,""):h??"":void 0}}),p.extend({valHooks:{option:{get:function(a){var l=p.find.attr(a,"value");return l??xr(p.text(a))}},select:{get:function(a){var l,h,f,v=a.options,_=a.selectedIndex,E=a.type==="select-one",x=E?null:[],T=E?_+1:v.length;for(f=_<0?T:E?_:0;f<T;f++)if(((h=v[f]).selected||f===_)&&!h.disabled&&(!h.parentNode.disabled||!Y(h.parentNode,"optgroup"))){if(l=p(h).val(),E)return l;x.push(l)}return x},set:function(a,l){for(var h,f,v=a.options,_=p.makeArray(l),E=v.length;E--;)((f=v[E]).selected=p.inArray(p.valHooks.option.get(f),_)>-1)&&(h=!0);return h||(a.selectedIndex=-1),_}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(a,l){if(Array.isArray(l))return a.checked=p.inArray(p(a).val(),l)>-1}},w.checkOn||(p.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value})});var Xs=e.location,FE={guid:Date.now()},Ip=/\?/;p.parseXML=function(a){var l,h;if(!a||typeof a!="string")return null;try{l=new e.DOMParser().parseFromString(a,"text/xml")}catch{}return h=l&&l.getElementsByTagName("parsererror")[0],l&&!h||p.error("Invalid XML: "+(h?p.map(h.childNodes,function(f){return f.textContent}).join(`
`):a)),l};var jE=/^(?:focusinfocus|focusoutblur)$/,UE=function(a){a.stopPropagation()};p.extend(p.event,{trigger:function(a,l,h,f){var v,_,E,x,T,O,L,D,N=[h||A],U=y.call(a,"type")?a.type:a,ee=y.call(a,"namespace")?a.namespace.split("."):[];if(_=D=E=h=h||A,h.nodeType!==3&&h.nodeType!==8&&!jE.test(U+p.event.triggered)&&(U.indexOf(".")>-1&&(ee=U.split("."),U=ee.shift(),ee.sort()),T=U.indexOf(":")<0&&"on"+U,(a=a[p.expando]?a:new p.Event(U,typeof a=="object"&&a)).isTrigger=f?2:3,a.namespace=ee.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+ee.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=h),l=l==null?[a]:p.makeArray(l,[a]),L=p.event.special[U]||{},f||!L.trigger||L.trigger.apply(h,l)!==!1)){if(!f&&!L.noBubble&&!k(h)){for(x=L.delegateType||U,jE.test(x+U)||(_=_.parentNode);_;_=_.parentNode)N.push(_),E=_;E===(h.ownerDocument||A)&&N.push(E.defaultView||E.parentWindow||e)}for(v=0;(_=N[v++])&&!a.isPropagationStopped();)D=_,a.type=v>1?x:L.bindType||U,(O=(J.get(_,"events")||Object.create(null))[a.type]&&J.get(_,"handle"))&&O.apply(_,l),(O=T&&_[T])&&O.apply&&Ws(_)&&(a.result=O.apply(_,l),a.result===!1&&a.preventDefault());return a.type=U,f||a.isDefaultPrevented()||L._default&&L._default.apply(N.pop(),l)!==!1||!Ws(h)||T&&C(h[U])&&!k(h)&&((E=h[T])&&(h[T]=null),p.event.triggered=U,a.isPropagationStopped()&&D.addEventListener(U,UE),h[U](),a.isPropagationStopped()&&D.removeEventListener(U,UE),p.event.triggered=void 0,E&&(h[T]=E)),a.result}},simulate:function(a,l,h){var f=p.extend(new p.Event,h,{type:a,isSimulated:!0});p.event.trigger(f,null,l)}}),p.fn.extend({trigger:function(a,l){return this.each(function(){p.event.trigger(a,l,this)})},triggerHandler:function(a,l){var h=this[0];if(h)return p.event.trigger(a,l,h,!0)}});var ik=/\[\]$/,HE=/\r?\n/g,rk=/^(?:submit|button|image|reset|file)$/i,ok=/^(?:input|select|textarea|keygen)/i;function Cp(a,l,h,f){var v;if(Array.isArray(l))p.each(l,function(_,E){h||ik.test(a)?f(a,E):Cp(a+"["+(typeof E=="object"&&E!=null?_:"")+"]",E,h,f)});else if(h||H(l)!=="object")f(a,l);else for(v in l)Cp(a+"["+v+"]",l[v],h,f)}p.param=function(a,l){var h,f=[],v=function(_,E){var x=C(E)?E():E;f[f.length]=encodeURIComponent(_)+"="+encodeURIComponent(x??"")};if(a==null)return"";if(Array.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){v(this.name,this.value)});else for(h in a)Cp(h,a[h],l,v);return f.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=p.prop(this,"elements");return a?p.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!p(this).is(":disabled")&&ok.test(this.nodeName)&&!rk.test(a)&&(this.checked||!Gs.test(a))}).map(function(a,l){var h=p(this).val();return h==null?null:Array.isArray(h)?p.map(h,function(f){return{name:l.name,value:f.replace(HE,`\r
`)}}):{name:l.name,value:h.replace(HE,`\r
`)}}).get()}});var sk=/%20/g,ak=/#.*$/,ck=/([?&])_=[^&]*/,lk=/^(.*?):[ \t]*([^\r\n]*)$/gm,uk=/^(?:GET|HEAD)$/,dk=/^\/\//,BE={},Tp={},qE="*/".concat("*"),xp=A.createElement("a");function VE(a){return function(l,h){typeof l!="string"&&(h=l,l="*");var f,v=0,_=l.toLowerCase().match(Pn)||[];if(C(h))for(;f=_[v++];)f[0]==="+"?(f=f.slice(1)||"*",(a[f]=a[f]||[]).unshift(h)):(a[f]=a[f]||[]).push(h)}}function WE(a,l,h,f){var v={},_=a===Tp;function E(x){var T;return v[x]=!0,p.each(a[x]||[],function(O,L){var D=L(l,h,f);return typeof D!="string"||_||v[D]?_?!(T=D):void 0:(l.dataTypes.unshift(D),E(D),!1)}),T}return E(l.dataTypes[0])||!v["*"]&&E("*")}function Sp(a,l){var h,f,v=p.ajaxSettings.flatOptions||{};for(h in l)l[h]!==void 0&&((v[h]?a:f||(f={}))[h]=l[h]);return f&&p.extend(!0,a,f),a}xp.href=Xs.href,p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Xs.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Xs.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qE,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,l){return l?Sp(Sp(a,p.ajaxSettings),l):Sp(p.ajaxSettings,a)},ajaxPrefilter:VE(BE),ajaxTransport:VE(Tp),ajax:function(a,l){typeof a=="object"&&(l=a,a=void 0),l=l||{};var h,f,v,_,E,x,T,O,L,D,N=p.ajaxSetup({},l),U=N.context||N,ee=N.context&&(U.nodeType||U.jquery)?p(U):p.event,fe=p.Deferred(),oe=p.Callbacks("once memory"),Ge=N.statusCode||{},ct={},Dn={},Mn="canceled",_e={readyState:0,getResponseHeader:function(Ee){var $e;if(T){if(!_)for(_={};$e=lk.exec(v);)_[$e[1].toLowerCase()+" "]=(_[$e[1].toLowerCase()+" "]||[]).concat($e[2]);$e=_[Ee.toLowerCase()+" "]}return $e==null?null:$e.join(", ")},getAllResponseHeaders:function(){return T?v:null},setRequestHeader:function(Ee,$e){return T==null&&(Ee=Dn[Ee.toLowerCase()]=Dn[Ee.toLowerCase()]||Ee,ct[Ee]=$e),this},overrideMimeType:function(Ee){return T==null&&(N.mimeType=Ee),this},statusCode:function(Ee){var $e;if(Ee)if(T)_e.always(Ee[_e.status]);else for($e in Ee)Ge[$e]=[Ge[$e],Ee[$e]];return this},abort:function(Ee){var $e=Ee||Mn;return h&&h.abort($e),Ar(0,$e),this}};if(fe.promise(_e),N.url=((a||N.url||Xs.href)+"").replace(dk,Xs.protocol+"//"),N.type=l.method||l.type||N.method||N.type,N.dataTypes=(N.dataType||"*").toLowerCase().match(Pn)||[""],N.crossDomain==null){x=A.createElement("a");try{x.href=N.url,x.href=x.href,N.crossDomain=xp.protocol+"//"+xp.host!=x.protocol+"//"+x.host}catch{N.crossDomain=!0}}if(N.data&&N.processData&&typeof N.data!="string"&&(N.data=p.param(N.data,N.traditional)),WE(BE,N,l,_e),T)return _e;for(L in(O=p.event&&N.global)&&p.active++==0&&p.event.trigger("ajaxStart"),N.type=N.type.toUpperCase(),N.hasContent=!uk.test(N.type),f=N.url.replace(ak,""),N.hasContent?N.data&&N.processData&&(N.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(N.data=N.data.replace(sk,"+")):(D=N.url.slice(f.length),N.data&&(N.processData||typeof N.data=="string")&&(f+=(Ip.test(f)?"&":"?")+N.data,delete N.data),N.cache===!1&&(f=f.replace(ck,"$1"),D=(Ip.test(f)?"&":"?")+"_="+FE.guid+++D),N.url=f+D),N.ifModified&&(p.lastModified[f]&&_e.setRequestHeader("If-Modified-Since",p.lastModified[f]),p.etag[f]&&_e.setRequestHeader("If-None-Match",p.etag[f])),(N.data&&N.hasContent&&N.contentType!==!1||l.contentType)&&_e.setRequestHeader("Content-Type",N.contentType),_e.setRequestHeader("Accept",N.dataTypes[0]&&N.accepts[N.dataTypes[0]]?N.accepts[N.dataTypes[0]]+(N.dataTypes[0]!=="*"?", "+qE+"; q=0.01":""):N.accepts["*"]),N.headers)_e.setRequestHeader(L,N.headers[L]);if(N.beforeSend&&(N.beforeSend.call(U,_e,N)===!1||T))return _e.abort();if(Mn="abort",oe.add(N.complete),_e.done(N.success),_e.fail(N.error),h=WE(Tp,N,l,_e)){if(_e.readyState=1,O&&ee.trigger("ajaxSend",[_e,N]),T)return _e;N.async&&N.timeout>0&&(E=e.setTimeout(function(){_e.abort("timeout")},N.timeout));try{T=!1,h.send(ct,Ar)}catch(Ee){if(T)throw Ee;Ar(-1,Ee)}}else Ar(-1,"No Transport");function Ar(Ee,$e,Js,kp){var Fn,Zs,ri,Fi,Io,Zt=$e;T||(T=!0,E&&e.clearTimeout(E),h=void 0,v=kp||"",_e.readyState=Ee>0?4:0,Fn=Ee>=200&&Ee<300||Ee===304,Js&&(Fi=function(lt,Je,Tt){for(var ji,xt,te,Ke,Ye=lt.contents,Le=lt.dataTypes;Le[0]==="*";)Le.shift(),ji===void 0&&(ji=lt.mimeType||Je.getResponseHeader("Content-Type"));if(ji){for(xt in Ye)if(Ye[xt]&&Ye[xt].test(ji)){Le.unshift(xt);break}}if(Le[0]in Tt)te=Le[0];else{for(xt in Tt){if(!Le[0]||lt.converters[xt+" "+Le[0]]){te=xt;break}Ke||(Ke=xt)}te=te||Ke}if(te)return te!==Le[0]&&Le.unshift(te),Tt[te]}(N,_e,Js)),!Fn&&p.inArray("script",N.dataTypes)>-1&&p.inArray("json",N.dataTypes)<0&&(N.converters["text script"]=function(){}),Fi=function(lt,Je,Tt,ji){var xt,te,Ke,Ye,Le,jn={},Co=lt.dataTypes.slice();if(Co[1])for(Ke in lt.converters)jn[Ke.toLowerCase()]=lt.converters[Ke];for(te=Co.shift();te;)if(lt.responseFields[te]&&(Tt[lt.responseFields[te]]=Je),!Le&&ji&&lt.dataFilter&&(Je=lt.dataFilter(Je,lt.dataType)),Le=te,te=Co.shift()){if(te==="*")te=Le;else if(Le!=="*"&&Le!==te){if(!(Ke=jn[Le+" "+te]||jn["* "+te])){for(xt in jn)if((Ye=xt.split(" "))[1]===te&&(Ke=jn[Le+" "+Ye[0]]||jn["* "+Ye[0]])){Ke===!0?Ke=jn[xt]:jn[xt]!==!0&&(te=Ye[0],Co.unshift(Ye[1]));break}}if(Ke!==!0)if(Ke&&lt.throws)Je=Ke(Je);else try{Je=Ke(Je)}catch(al){return{state:"parsererror",error:Ke?al:"No conversion from "+Le+" to "+te}}}}return{state:"success",data:Je}}(N,Fi,_e,Fn),Fn?(N.ifModified&&((Io=_e.getResponseHeader("Last-Modified"))&&(p.lastModified[f]=Io),(Io=_e.getResponseHeader("etag"))&&(p.etag[f]=Io)),Ee===204||N.type==="HEAD"?Zt="nocontent":Ee===304?Zt="notmodified":(Zt=Fi.state,Zs=Fi.data,Fn=!(ri=Fi.error))):(ri=Zt,!Ee&&Zt||(Zt="error",Ee<0&&(Ee=0))),_e.status=Ee,_e.statusText=($e||Zt)+"",Fn?fe.resolveWith(U,[Zs,Zt,_e]):fe.rejectWith(U,[_e,Zt,ri]),_e.statusCode(Ge),Ge=void 0,O&&ee.trigger(Fn?"ajaxSuccess":"ajaxError",[_e,N,Fn?Zs:ri]),oe.fireWith(U,[_e,Zt]),O&&(ee.trigger("ajaxComplete",[_e,N]),--p.active||p.event.trigger("ajaxStop")))}return _e},getJSON:function(a,l,h){return p.get(a,l,h,"json")},getScript:function(a,l){return p.get(a,void 0,l,"script")}}),p.each(["get","post"],function(a,l){p[l]=function(h,f,v,_){return C(f)&&(_=_||v,v=f,f=void 0),p.ajax(p.extend({url:h,type:l,dataType:_,data:f,success:v},p.isPlainObject(h)&&h))}}),p.ajaxPrefilter(function(a){var l;for(l in a.headers)l.toLowerCase()==="content-type"&&(a.contentType=a.headers[l]||"")}),p._evalUrl=function(a,l,h){return p.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(f){p.globalEval(f,l,h)}})},p.fn.extend({wrapAll:function(a){var l;return this[0]&&(C(a)&&(a=a.call(this[0])),l=p(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&l.insertBefore(this[0]),l.map(function(){for(var h=this;h.firstElementChild;)h=h.firstElementChild;return h}).append(this)),this},wrapInner:function(a){return C(a)?this.each(function(l){p(this).wrapInner(a.call(this,l))}):this.each(function(){var l=p(this),h=l.contents();h.length?h.wrapAll(a):l.append(a)})},wrap:function(a){var l=C(a);return this.each(function(h){p(this).wrapAll(l?a.call(this,h):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(a){return!p.expr.pseudos.visible(a)},p.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var hk={0:200,1223:204},Qs=p.ajaxSettings.xhr();w.cors=!!Qs&&"withCredentials"in Qs,w.ajax=Qs=!!Qs,p.ajaxTransport(function(a){var l,h;if(w.cors||Qs&&!a.crossDomain)return{send:function(f,v){var _,E=a.xhr();if(E.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(_ in a.xhrFields)E[_]=a.xhrFields[_];for(_ in a.mimeType&&E.overrideMimeType&&E.overrideMimeType(a.mimeType),a.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest"),f)E.setRequestHeader(_,f[_]);l=function(x){return function(){l&&(l=h=E.onload=E.onerror=E.onabort=E.ontimeout=E.onreadystatechange=null,x==="abort"?E.abort():x==="error"?typeof E.status!="number"?v(0,"error"):v(E.status,E.statusText):v(hk[E.status]||E.status,E.statusText,(E.responseType||"text")!=="text"||typeof E.responseText!="string"?{binary:E.response}:{text:E.responseText},E.getAllResponseHeaders()))}},E.onload=l(),h=E.onerror=E.ontimeout=l("error"),E.onabort!==void 0?E.onabort=h:E.onreadystatechange=function(){E.readyState===4&&e.setTimeout(function(){l&&h()})},l=l("abort");try{E.send(a.hasContent&&a.data||null)}catch(x){if(l)throw x}},abort:function(){l&&l()}}}),p.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===void 0&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),p.ajaxTransport("script",function(a){var l,h;if(a.crossDomain||a.scriptAttrs)return{send:function(f,v){l=p("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",h=function(_){l.remove(),h=null,_&&v(_.type==="error"?404:200,_.type)}),A.head.appendChild(l[0])},abort:function(){h&&h()}}});var $E,zE=[],Ap=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=zE.pop()||p.expando+"_"+FE.guid++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(a,l,h){var f,v,_,E=a.jsonp!==!1&&(Ap.test(a.url)?"url":typeof a.data=="string"&&(a.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ap.test(a.data)&&"data");if(E||a.dataTypes[0]==="jsonp")return f=a.jsonpCallback=C(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,E?a[E]=a[E].replace(Ap,"$1"+f):a.jsonp!==!1&&(a.url+=(Ip.test(a.url)?"&":"?")+a.jsonp+"="+f),a.converters["script json"]=function(){return _||p.error(f+" was not called"),_[0]},a.dataTypes[0]="json",v=e[f],e[f]=function(){_=arguments},h.always(function(){v===void 0?p(e).removeProp(f):e[f]=v,a[f]&&(a.jsonpCallback=l.jsonpCallback,zE.push(f)),_&&C(v)&&v(_[0]),_=v=void 0}),"script"}),w.createHTMLDocument=(($E=A.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",$E.childNodes.length===2),p.parseHTML=function(a,l,h){return typeof a!="string"?[]:(typeof l=="boolean"&&(h=l,l=!1),l||(w.createHTMLDocument?((f=(l=A.implementation.createHTMLDocument("")).createElement("base")).href=A.location.href,l.head.appendChild(f)):l=A),_=!h&&[],(v=Vs.exec(a))?[l.createElement(v[1])]:(v=EE([a],l,_),_&&_.length&&p(_).remove(),p.merge([],v.childNodes)));var f,v,_},p.fn.load=function(a,l,h){var f,v,_,E=this,x=a.indexOf(" ");return x>-1&&(f=xr(a.slice(x)),a=a.slice(0,x)),C(l)?(h=l,l=void 0):l&&typeof l=="object"&&(v="POST"),E.length>0&&p.ajax({url:a,type:v||"GET",dataType:"html",data:l}).done(function(T){_=arguments,E.html(f?p("<div>").append(p.parseHTML(T)).find(f):T)}).always(h&&function(T,O){E.each(function(){h.apply(this,_||[T.responseText,O,T])})}),this},p.expr.pseudos.animated=function(a){return p.grep(p.timers,function(l){return a===l.elem}).length},p.offset={setOffset:function(a,l,h){var f,v,_,E,x,T,O=p.css(a,"position"),L=p(a),D={};O==="static"&&(a.style.position="relative"),x=L.offset(),_=p.css(a,"top"),T=p.css(a,"left"),(O==="absolute"||O==="fixed")&&(_+T).indexOf("auto")>-1?(E=(f=L.position()).top,v=f.left):(E=parseFloat(_)||0,v=parseFloat(T)||0),C(l)&&(l=l.call(a,h,p.extend({},x))),l.top!=null&&(D.top=l.top-x.top+E),l.left!=null&&(D.left=l.left-x.left+v),"using"in l?l.using.call(a,D):L.css(D)}},p.fn.extend({offset:function(a){if(arguments.length)return a===void 0?this:this.each(function(v){p.offset.setOffset(this,a,v)});var l,h,f=this[0];return f?f.getClientRects().length?(l=f.getBoundingClientRect(),h=f.ownerDocument.defaultView,{top:l.top+h.pageYOffset,left:l.left+h.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var a,l,h,f=this[0],v={top:0,left:0};if(p.css(f,"position")==="fixed")l=f.getBoundingClientRect();else{for(l=this.offset(),h=f.ownerDocument,a=f.offsetParent||h.documentElement;a&&(a===h.body||a===h.documentElement)&&p.css(a,"position")==="static";)a=a.parentNode;a&&a!==f&&a.nodeType===1&&((v=p(a).offset()).top+=p.css(a,"borderTopWidth",!0),v.left+=p.css(a,"borderLeftWidth",!0))}return{top:l.top-v.top-p.css(f,"marginTop",!0),left:l.left-v.left-p.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&p.css(a,"position")==="static";)a=a.offsetParent;return a||Cr})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,l){var h=l==="pageYOffset";p.fn[a]=function(f){return ni(this,function(v,_,E){var x;if(k(v)?x=v:v.nodeType===9&&(x=v.defaultView),E===void 0)return x?x[l]:v[_];x?x.scrollTo(h?x.pageXOffset:E,h?E:x.pageYOffset):v[_]=E},a,f,arguments.length)}}),p.each(["top","left"],function(a,l){p.cssHooks[l]=SE(w.pixelPosition,function(h,f){if(f)return f=Ks(h,l),yp.test(f)?p(h).position()[l]+"px":f})}),p.each({Height:"height",Width:"width"},function(a,l){p.each({padding:"inner"+a,content:l,"":"outer"+a},function(h,f){p.fn[f]=function(v,_){var E=arguments.length&&(h||typeof v!="boolean"),x=h||(v===!0||_===!0?"margin":"border");return ni(this,function(T,O,L){var D;return k(T)?f.indexOf("outer")===0?T["inner"+a]:T.document.documentElement["client"+a]:T.nodeType===9?(D=T.documentElement,Math.max(T.body["scroll"+a],D["scroll"+a],T.body["offset"+a],D["offset"+a],D["client"+a])):L===void 0?p.css(T,O,x):p.style(T,O,L,x)},l,E?v:void 0,E)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,l){p.fn[l]=function(h){return this.on(l,h)}}),p.fn.extend({bind:function(a,l,h){return this.on(a,null,l,h)},unbind:function(a,l){return this.off(a,null,l)},delegate:function(a,l,h,f){return this.on(l,a,h,f)},undelegate:function(a,l,h){return arguments.length===1?this.off(a,"**"):this.off(l,a||"**",h)},hover:function(a,l){return this.mouseenter(a).mouseleave(l||a)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,l){p.fn[l]=function(h,f){return arguments.length>0?this.on(l,null,h,f):this.trigger(l)}});var pk=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;p.proxy=function(a,l){var h,f,v;if(typeof l=="string"&&(h=a[l],l=a,a=h),C(a))return f=o.call(arguments,2),v=function(){return a.apply(l||this,f.concat(o.call(arguments)))},v.guid=a.guid=a.guid||p.guid++,v},p.holdReady=function(a){a?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=Y,p.isFunction=C,p.isWindow=k,p.camelCase=Ln,p.type=H,p.now=Date.now,p.isNumeric=function(a){var l=p.type(a);return(l==="number"||l==="string")&&!isNaN(a-parseFloat(a))},p.trim=function(a){return a==null?"":(a+"").replace(pk,"$1")};var fk=e.jQuery,mk=e.$;return p.noConflict=function(a){return e.$===p&&(e.$=mk),a&&e.jQuery===p&&(e.jQuery=fk),p},t===void 0&&(e.jQuery=e.$=p),p})})(dE);const kA=dh(dE.exports);var Qc,hE;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(Qc||(Qc={})),function(n){n.None="NONE",n.Slide="SLIDE",n.Fade="FADE"}(hE||(hE={}));const qs=ks("StatusBar");window.$=kA,window.Alpine=uE,uE.start(),window.addEventListener("message",n=>{switch(n.data.type){case"changeorientation":window.screen.orientation.lock(n.data.orientation);break;case"unlockorientation":window.screen.orientation.unlock();break;case"managestatusbar":switch(n.data.action){case"setoverlays":qs.setOverlaysWebView({overlay:n.data.data});break;case"settheme":n.data.data=="light"?qs.setStyle({style:Qc.Light}):n.data.data=="dark"&&qs.setStyle({style:Qc.Dark});break;case"show":qs.show();break;case"hide":qs.hide()}break;case"devwebview":{let e=new URLSearchParams;e.set("devmodeview",1),window.location.href=window.location.href+"?"+e.toString()}break;case"devwebviewremote":{let e=new URLSearchParams;e.set("devmodeviewremote",1),window.location.href=window.location.href+"?"+e.toString()}}})})();export{ea as W,yk as __tla};
